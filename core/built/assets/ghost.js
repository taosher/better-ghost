'use strict';



;define("ghost-admin/adapters/-json-api", ["exports", "@ember-data/adapter/json-api"], function (_exports, _jsonApi) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _jsonApi.default;
    }
  });
});
;define("ghost-admin/adapters/application", ["exports", "ghost-admin/adapters/embedded-relation-adapter"], function (_exports, _embeddedRelationAdapter) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _embeddedRelationAdapter.default.extend({
    shouldBackgroundReloadRecord() {
      return false;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/adapters/base", ["exports", "ember-ajax/mixins/ajax-support", "ember-simple-auth/mixins/data-adapter-mixin", "@ember-data/adapter/rest", "ghost-admin/utils/ghost-paths"], function (_exports, _ajaxSupport, _dataAdapterMixin, _rest, _ghostPaths) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _rest.default.extend(_dataAdapterMixin.default, _ajaxSupport.default, {
    host: window.location.origin,
    namespace: (0, _ghostPaths.default)().apiRoot.slice(1),
    session: Ember.inject.service(),

    shouldBackgroundReloadRecord() {
      return false;
    },

    query(store, type, query) {
      let id;

      if (query.id) {
        id = query.id;
        delete query.id;
      }

      return this.ajax(this.buildURL(type.modelName, id), 'GET', {
        data: query
      });
    },

    buildURL() {
      // Ensure trailing slashes
      let url = this._super(...arguments);

      if (url.slice(-1) !== '/') {
        url += '/';
      }

      return url;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/adapters/email", ["exports", "ghost-admin/adapters/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    retry(model) {
      let url = `${this.buildURL('email', model.get('id'))}retry/`;
      return this.ajax(url, 'PUT', {
        data: {}
      }).then(data => {
        this.store.pushPayload(data);
        return model;
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/adapters/embedded-relation-adapter", ["exports", "ghost-admin/adapters/base"], function (_exports, _base) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  // EmbeddedRelationAdapter will augment the query object in calls made to
  // DS.Store#findRecord, findAll, query, and queryRecord with the correct "includes"
  // (?include=relatedType) by introspecting on the provided subclass of the DS.Model.
  // In cases where there is no query object (DS.Model#save, or simple finds) the URL
  // that is built will be augmented with ?include=... where appropriate.
  //
  // Example:
  // If a model has an embedded hasMany relation, the related type will be included:
  // roles: DS.hasMany('role', { embedded: 'always' }) => ?include=roles
  var _default = _base.default.extend({
    find(store, type, id, snapshot) {
      return this.ajax(this.buildIncludeURL(store, type.modelName, id, snapshot, 'find'), 'GET');
    },

    findRecord(store, type, id, snapshot) {
      return this.ajax(this.buildIncludeURL(store, type.modelName, id, snapshot, 'findRecord'), 'GET');
    },

    findAll(store, type, sinceToken) {
      let query, url;

      if (sinceToken) {
        query = {
          since: sinceToken
        };
      }

      url = this.buildIncludeURL(store, type.modelName, null, null, 'findAll');
      return this.ajax(url, 'GET', {
        data: query
      });
    },

    query(store, type, query) {
      return this._super(store, type, this.buildQuery(store, type.modelName, query));
    },

    queryRecord(store, type, query) {
      return this._super(store, type, this.buildQuery(store, type.modelName, query));
    },

    createRecord(store, type, snapshot) {
      return this.saveRecord(store, type, snapshot, {
        method: 'POST'
      }, 'createRecord');
    },

    updateRecord(store, type, snapshot) {
      let options = {
        method: 'PUT',
        id: Ember.get(snapshot, 'id')
      };
      return this.saveRecord(store, type, snapshot, options, 'updateRecord');
    },

    saveRecord(store, type, snapshot, options, requestType) {
      let _options = options || {};

      let url = this.buildIncludeURL(store, type.modelName, _options.id, snapshot, requestType);
      let payload = this.preparePayload(store, type, snapshot);
      return this.ajax(url, _options.method, payload);
    },

    preparePayload(store, type, snapshot) {
      let serializer = store.serializerFor(type.modelName);
      let payload = {};
      serializer.serializeIntoHash(payload, type, snapshot);
      return {
        data: payload
      };
    },

    buildIncludeURL(store, modelName, id, snapshot, requestType, query) {
      let includes = this.getEmbeddedRelations(store, modelName);
      let url = this.buildURL(modelName, id, snapshot, requestType, query);
      let parsedUrl = new URL(url);

      if (includes.length) {
        parsedUrl.searchParams.append('include', includes.map(Ember.String.underscore).join(','));
      }

      return parsedUrl.toString();
    },

    buildQuery(store, modelName, options) {
      let deDupe = {};
      let toInclude = this.getEmbeddedRelations(store, modelName);
      let query = options || {};

      if (toInclude.length) {
        // If this is a find by id, build a query object and attach the includes
        if (typeof options === 'string' || typeof options === 'number') {
          query = {};
          query.id = options;
          query.include = toInclude.map(Ember.String.underscore).join(',');
        } else if (typeof options === 'object' || Ember.isNone(options)) {
          // If this is a find all (no existing query object) build one and attach
          // the includes.
          // If this is a find with an existing query object then merge the includes
          // into the existing object. Existing properties and includes are preserved.
          query = query || {};
          toInclude = toInclude.concat(query.include ? query.include.split(',') : []);
          toInclude.forEach(include => {
            deDupe[include] = true;
          });
          query.include = Object.keys(deDupe).join(',');
        }
      }

      return query;
    },

    getEmbeddedRelations(store, modelName) {
      let model = store.modelFor(modelName);
      let ret = [];
      let embedded = []; // Iterate through the model's relationships and build a list
      // of those that need to be pulled in via "include" from the API

      model.eachRelationship((name, meta) => {
        if (meta.kind === 'hasMany' && Object.prototype.hasOwnProperty.call(meta.options, 'embedded') && meta.options.embedded === 'always') {
          ret.push(name);
          embedded.push([name, meta.type]);
        }
      });
      embedded.forEach(([relName, modelName]) => {
        this.getEmbeddedRelations(store, modelName).forEach(name => {
          ret.push(`${relName}.${name}`);
        });
      });
      return ret;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/adapters/label", ["exports", "ghost-admin/adapters/application", "ghost-admin/mixins/slug-url"], function (_exports, _application, _slugUrl) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend(_slugUrl.default);

  _exports.default = _default;
});
;define("ghost-admin/adapters/page", ["exports", "ghost-admin/adapters/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    // posts and pages now include everything by default
    buildIncludeURL(store, modelName, id, snapshot, requestType, query) {
      return this.buildURL(modelName, id, snapshot, requestType, query);
    },

    buildQuery(store, modelName, options) {
      return options;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/adapters/post", ["exports", "ghost-admin/adapters/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    // posts and pages now include everything by default
    buildIncludeURL(store, modelName, id, snapshot, requestType, query) {
      let url = this.buildURL(modelName, id, snapshot, requestType, query);
      let parsedUrl = new URL(url);

      if (snapshot && snapshot.adapterOptions && snapshot.adapterOptions.sendEmailWhenPublished) {
        parsedUrl.searchParams.append('send_email_when_published', 'true');
      }

      return parsedUrl.toString();
    },

    buildQuery(store, modelName, options) {
      return options;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/adapters/setting", ["exports", "ghost-admin/adapters/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    updateRecord(store, type, record) {
      let data = {};
      let serializer = store.serializerFor(type.modelName); // remove the fake id that we added onto the model.

      delete record.id; // use the SettingSerializer to transform the model back into
      // an array of settings objects like the API expects

      serializer.serializeIntoHash(data, type, record); // use the ApplicationAdapter's buildURL method but do not
      // pass in an id.

      return this.ajax(this.buildURL(type.modelName), 'PUT', {
        data
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/adapters/tag", ["exports", "ghost-admin/adapters/application", "ghost-admin/mixins/slug-url"], function (_exports, _application, _slugUrl) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend(_slugUrl.default);

  _exports.default = _default;
});
;define("ghost-admin/adapters/theme", ["exports", "ghost-admin/adapters/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    activate(model) {
      let url = `${this.buildURL('theme', model.get('id'))}activate/`;
      return this.ajax(url, 'PUT', {
        data: {}
      }).then(data => {
        this.store.pushPayload(data);
        return model;
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/adapters/user", ["exports", "ghost-admin/adapters/application", "ghost-admin/mixins/slug-url"], function (_exports, _application, _slugUrl) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend(_slugUrl.default, {
    queryRecord(store, type, query) {
      if (!query || query.id !== 'me') {
        return this._super(...arguments);
      }

      let url = this.buildURL(type.modelName, 'me', null, 'findRecord');
      return this.ajax(url, 'GET', {
        data: {
          include: 'roles'
        }
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/app", ["exports", "ghost-admin/utils/link-component", "ghost-admin/utils/route", "ember-resolver", "ghost-admin/config/environment", "ember-load-initializers"], function (_exports, _linkComponent, _route, _emberResolver, _environment, _emberLoadInitializers) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  const App = Ember.Application.extend({
    Resolver: _emberResolver.default,
    modulePrefix: _environment.default.modulePrefix,
    podModulePrefix: _environment.default.podModulePrefix,
    // eslint-disable-next-line
    customEvents: {
      touchstart: null,
      touchmove: null,
      touchend: null,
      touchcancel: null
    }
  }); // TODO: remove once the validations refactor is complete
  // eslint-disable-next-line

  Ember.Debug.registerWarnHandler((message, options, next) => {
    let skip = ['ds.errors.add', 'ds.errors.remove', 'ds.errors.clear'];

    if (skip.includes(options.id)) {
      return;
    }

    next(message, options);
  });
  (0, _emberLoadInitializers.default)(App, _environment.default.modulePrefix);
  var _default = App;
  _exports.default = _default;
});
;define("ghost-admin/authenticators/cookie", ["exports", "ember-simple-auth/authenticators/base"], function (_exports, _base) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _base.default.extend({
    ajax: Ember.inject.service(),
    config: Ember.inject.service(),
    feature: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    settings: Ember.inject.service(),
    tour: Ember.inject.service(),
    whatsNew: Ember.inject.service(),
    sessionEndpoint: Ember.computed('ghostPaths.apiRoot', function () {
      return `${this.ghostPaths.apiRoot}/session`;
    }),
    restore: function () {
      return Ember.RSVP.resolve();
    },

    authenticate(identification, password) {
      const data = {
        username: identification,
        password
      };
      const options = {
        data,
        contentType: 'application/json;charset=utf-8',
        // ember-ajax will try and parse the response as JSON if not explicitly set
        dataType: 'text'
      };
      return this.ajax.post(this.sessionEndpoint, options).then(authResult => {
        // TODO: remove duplication with application.afterModel
        let preloadPromises = [this.config.fetchAuthenticated(), this.feature.fetch(), this.settings.fetch(), this.tour.fetchViewed()]; // kick off background update of "whats new"
        // - we don't want to block the router for this
        // - we need the user details to know what the user has seen

        this.whatsNew.fetchLatest.perform();
        return Ember.RSVP.all(preloadPromises).then(() => {
          return authResult;
        });
      });
    },

    invalidate() {
      // if we're invalidating because of a 401 we can end up in an infinite
      // loop if we then try to perform a DELETE /session/ request
      // TODO: find a more elegant way to handle this
      if (this.ajax.skipSessionDeletion) {
        this.ajax.skipSessionDeletion = false;
        return Ember.RSVP.resolve();
      }

      return this.ajax.del(this.sessionEndpoint);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/component-managers/glimmer", ["exports", "@glimmer/component/-private/ember-component-manager"], function (_exports, _emberComponentManager) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _emberComponentManager.default;
    }
  });
});
;define("ghost-admin/components/-dynamic-element-alt", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  // avoiding reexport directly here because in some circumstances (ember-engines
  // for example) a simple reexport is transformed to `define.alias`,
  // unfortunately at the moment (ember-source@3.13) there is no _actual_
  // `@ember/component` module to alias so this causes issues
  //
  // tldr; we can replace this with a simple reexport when we can rely on Ember
  // actually providing a `@ember/component` module
  var _default = Ember.Component.extend();

  _exports.default = _default;
});
;define("ghost-admin/components/-dynamic-element", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  // avoiding reexport directly here because in some circumstances (ember-engines
  // for example) a simple reexport is transformed to `define.alias`,
  // unfortunately at the moment (ember-source@3.13) there is no _actual_
  // `@ember/component` module to alias so this causes issues
  //
  // tldr; we can replace this with a simple reexport when we can rely on Ember
  // actually providing a `@ember/component` module
  var _default = Ember.Component.extend();

  _exports.default = _default;
});
;define("ghost-admin/components/-lf-get-outlet-state", ["exports", "liquid-fire/components/-lf-get-outlet-state"], function (_exports, _lfGetOutletState) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _lfGetOutletState.default;
    }
  });
});
;define("ghost-admin/components/aspect-ratio-box", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#unless this.isResizing}}
  {{yield}}
  {{/unless}}
  */
  {"id":"mX+z+JAH","block":"{\"symbols\":[\"&default\"],\"statements\":[[6,[37,0],[[32,0,[\"isResizing\"]]],null,[[\"default\"],[{\"statements\":[[18,1,null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"unless\"]}","meta":{"moduleName":"ghost-admin/components/aspect-ratio-box.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    ratio: '1/1',
    base: 'height',
    isResizing: true,
    _ratio: 1,

    init() {
      this._super(...arguments);

      this._onResizeHandler = () => {
        Ember.run.debounce(this, this._resize, 200);
      };
    },

    didReceiveAttrs() {
      (true && !(this.ratio.match(/\d+\/\d+/)) && Ember.assert('{{aspect-ratio-box}} requires a `ratio` property in the format `"16/9"`', this.ratio.match(/\d+\/\d+/)));
      this._ratio = this.ratio.split('/').reduce((prev, curr) => prev / curr);
    },

    didInsertElement() {
      this._resize();

      window.addEventListener('resize', this._onResizeHandler);
    },

    willDestroyElement() {
      this._super(...arguments);

      window.removeEventListener('resize', this._onResizeHandler);
    },

    _resize() {
      this.set('isResizing', true);
      Ember.run.schedule('afterRender', this, function () {
        if (this.base === 'height') {
          this.element.style.width = `${this.element.clientHeight * this._ratio}px`;
        } else {
          this.element.style.height = `${this.element.clientWidth * this._ratio}px`;
        }

        this.set('isResizing', false);
      });
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/basic-dropdown-content", ["exports", "ember-basic-dropdown/components/basic-dropdown-content"], function (_exports, _basicDropdownContent) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _basicDropdownContent.default;
    }
  });
});
;define("ghost-admin/components/basic-dropdown-trigger", ["exports", "ember-basic-dropdown/components/basic-dropdown-trigger"], function (_exports, _basicDropdownTrigger) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _basicDropdownTrigger.default;
    }
  });
});
;define("ghost-admin/components/basic-dropdown", ["exports", "ember-basic-dropdown/components/basic-dropdown"], function (_exports, _basicDropdown) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _basicDropdown.default;
    }
  });
});
;define("ghost-admin/components/draggable-object-target", ["exports", "ember-drag-drop/components/draggable-object-target"], function (_exports, _draggableObjectTarget) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = _draggableObjectTarget.default;
  _exports.default = _default;
});
;define("ghost-admin/components/draggable-object", ["exports", "ember-drag-drop/components/draggable-object"], function (_exports, _draggableObject) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = _draggableObject.default;
  _exports.default = _default;
});
;define("ghost-admin/components/ember-chart", ["exports", "ember-cli-chart/components/ember-chart"], function (_exports, _emberChart) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = _emberChart.default;
  _exports.default = _default;
});
;define("ghost-admin/components/ember-load-remover", ["exports", "ember-load/components/ember-load-remover"], function (_exports, _emberLoadRemover) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _emberLoadRemover.default;
    }
  });
});
;define("ghost-admin/components/gh-activating-list-item", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <LinkTo @route={{this.route}} @alternateActive={{action "setActive"}} @class={{@linkClasses}}>{{this.title}}{{yield}}</LinkTo>
  
  */
  {"id":"7EsGqkrr","block":"{\"symbols\":[\"@linkClasses\",\"&default\"],\"statements\":[[8,\"link-to\",[],[[\"@route\",\"@alternateActive\",\"@class\"],[[32,0,[\"route\"]],[30,[36,0],[[32,0],\"setActive\"],null],[32,1]]],[[\"default\"],[{\"statements\":[[1,[32,0,[\"title\"]]],[18,2,null]],\"parameters\":[]}]]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\"]}","meta":{"moduleName":"ghost-admin/components/gh-activating-list-item.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    active: false,
    classNameBindings: ['active'],
    linkClasses: null,
    tagName: 'li',
    actions: {
      setActive(value) {
        Ember.run.schedule('afterRender', this, function () {
          this.set('active', value);
        });
      }

    },

    click() {
      this.element.querySelector('a').blur();
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-alert", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="gh-alert-content">
      {{message.message}}
  </div>
  <button class="gh-alert-close" {{action "closeNotification"}} data-test-button="close-notification">
      {{svg-jar "close"}}<span class="hidden">Close</span>
  </button>
  
  */
  {"id":"pkl7Xu2T","block":"{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"gh-alert-content\"],[12],[2,\"\\n    \"],[1,[35,0,[\"message\"]]],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"button\"],[24,0,\"gh-alert-close\"],[24,\"data-test-button\",\"close-notification\"],[4,[38,1],[[32,0],\"closeNotification\"],null],[12],[2,\"\\n    \"],[1,[30,[36,2],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"message\",\"action\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/gh-alert.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    notifications: Ember.inject.service(),
    classNameBindings: ['typeClass'],
    classNames: ['gh-alert'],
    tagName: 'article',
    typeClass: Ember.computed('message.type', function () {
      let type = this.get('message.type');
      let classes = '';
      let typeMapping;
      typeMapping = {
        success: 'green',
        error: 'red',
        warn: 'blue',
        info: 'blue'
      };

      if (typeMapping[type] !== undefined) {
        classes += `gh-alert-${typeMapping[type]}`;
      }

      return classes;
    }),
    actions: {
      closeNotification() {
        this.notifications.closeNotification(this.message);
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-alerts", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#each this.messages as |message|}}
      <GhAlert @message={{message}} />
  {{/each}}
  */
  {"id":"iZftmWZ8","block":"{\"symbols\":[\"message\"],\"statements\":[[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,[\"messages\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-alert\",[],[[\"@message\"],[[32,1]]],null],[2,\"\\n\"]],\"parameters\":[1]}]]]],\"hasEval\":false,\"upvars\":[\"-track-array\",\"each\"]}","meta":{"moduleName":"ghost-admin/components/gh-alerts.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    notifications: Ember.inject.service(),
    classNames: 'gh-alerts',
    tagName: 'aside',
    messages: Ember.computed.alias('notifications.alerts')
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-app", ["exports", "jquery"], function (_exports, _jquery) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{yield}}
  
  */
  {"id":"Okjl77gO","block":"{\"symbols\":[\"&default\"],\"statements\":[[18,1,null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-app.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    classNames: ['gh-app'],
    showSettingsMenu: false,

    didReceiveAttrs() {
      this._super(...arguments);

      let showSettingsMenu = this.showSettingsMenu;
      (0, _jquery.default)('body').toggleClass('settings-menu-expanded', showSettingsMenu);
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-basic-dropdown", ["exports", "ember-basic-dropdown/components/basic-dropdown"], function (_exports, _basicDropdown) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _class, _descriptor, _temp;

  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{!-- no changes from upstream --}}
  {{#with
    (hash
      uniqueId=this.publicAPI.uniqueId
      isOpen=this.publicAPI.isOpen
      disabled=this.publicAPI.disabled
      actions=this.publicAPI.actions
      Trigger=(component
        (or @triggerComponent "basic-dropdown-trigger")
        dropdown=(readonly this.publicAPI)
        hPosition=(readonly this.hPosition)
        renderInPlace=(readonly this.renderInPlace)
        vPosition=(readonly this.vPosition)
      )
      Content=(component
        (or @contentComponent "basic-dropdown-content")
        dropdown=(readonly this.publicAPI)
        hPosition=(readonly this.hPosition)
        renderInPlace=(readonly this.renderInPlace)
        preventScroll=(readonly @preventScroll)
        rootEventType=(or @rootEventType "click")
        vPosition=(readonly this.vPosition)
        destination=(readonly this.destination)
        top=(readonly this.top)
        left=(readonly this.left)
        right=(readonly this.right)
        width=(readonly this.width)
        height=(readonly this.height)
        otherStyles=(readonly this.otherStyles)
      )
    )
  as |api|
  }}
    {{#if this.renderInPlace}}
      <div class="ember-basic-dropdown" ...attributes>{{yield api}}</div>
    {{else}}
      {{yield api}}
    {{/if}}
  {{/with}}
  */
  {"id":"Y879NZ4F","block":"{\"symbols\":[\"api\",\"&default\",\"&attrs\",\"@rootEventType\",\"@preventScroll\",\"@contentComponent\",\"@triggerComponent\"],\"statements\":[[6,[37,5],[[30,[36,4],null,[[\"uniqueId\",\"isOpen\",\"disabled\",\"actions\",\"Trigger\",\"Content\"],[[32,0,[\"publicAPI\",\"uniqueId\"]],[32,0,[\"publicAPI\",\"isOpen\"]],[32,0,[\"publicAPI\",\"disabled\"]],[32,0,[\"publicAPI\",\"actions\"]],[30,[36,3],[[30,[36,2],[[32,7],\"basic-dropdown-trigger\"],null]],[[\"dropdown\",\"hPosition\",\"renderInPlace\",\"vPosition\"],[[30,[36,1],[[32,0,[\"publicAPI\"]]],null],[30,[36,1],[[32,0,[\"hPosition\"]]],null],[30,[36,1],[[32,0,[\"renderInPlace\"]]],null],[30,[36,1],[[32,0,[\"vPosition\"]]],null]]]],[30,[36,3],[[30,[36,2],[[32,6],\"basic-dropdown-content\"],null]],[[\"dropdown\",\"hPosition\",\"renderInPlace\",\"preventScroll\",\"rootEventType\",\"vPosition\",\"destination\",\"top\",\"left\",\"right\",\"width\",\"height\",\"otherStyles\"],[[30,[36,1],[[32,0,[\"publicAPI\"]]],null],[30,[36,1],[[32,0,[\"hPosition\"]]],null],[30,[36,1],[[32,0,[\"renderInPlace\"]]],null],[30,[36,1],[[32,5]],null],[30,[36,2],[[32,4],\"click\"],null],[30,[36,1],[[32,0,[\"vPosition\"]]],null],[30,[36,1],[[32,0,[\"destination\"]]],null],[30,[36,1],[[32,0,[\"top\"]]],null],[30,[36,1],[[32,0,[\"left\"]]],null],[30,[36,1],[[32,0,[\"right\"]]],null],[30,[36,1],[[32,0,[\"width\"]]],null],[30,[36,1],[[32,0,[\"height\"]]],null],[30,[36,1],[[32,0,[\"otherStyles\"]]],null]]]]]]]],null,[[\"default\"],[{\"statements\":[[6,[37,0],[[32,0,[\"renderInPlace\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"    \"],[11,\"div\"],[24,0,\"ember-basic-dropdown\"],[17,3],[12],[18,2,[[32,1]]],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"    \"],[18,2,[[32,1]]],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[1]}]]]],\"hasEval\":false,\"upvars\":[\"if\",\"readonly\",\"or\",\"component\",\"hash\",\"with\"]}","meta":{"moduleName":"ghost-admin/components/gh-basic-dropdown.hbs"}});

  let GhBasicDropdown = (_class = (_temp = class GhBasicDropdown extends _basicDropdown.default {
    constructor() {
      super(...arguments);

      _initializerDefineProperty(this, "dropdown", _descriptor, this);

      this.dropdown.on('close', this, this.close);
    }

    willDestroy() {
      this.dropdown.off('close', this, this.close);
    }

  }, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, "dropdown", [Ember.inject.service], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  })), _class);

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, GhBasicDropdown);

  _exports.default = _default;
});
;define("ghost-admin/components/gh-billing-iframe", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <iframe id="billing-frame" class="billing-frame" src={{this.billing.endpoint}} frameborder="0" allowtransparency="true"></iframe>
  */
  {"id":"cK9BZ7p1","block":"{\"symbols\":[],\"statements\":[[10,\"iframe\"],[14,1,\"billing-frame\"],[14,0,\"billing-frame\"],[15,\"src\",[32,0,[\"billing\",\"endpoint\"]]],[14,\"frameborder\",\"0\"],[14,\"allowtransparency\",\"true\"],[12],[13]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-billing-iframe.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    billing: Ember.inject.service(),
    config: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    ajax: Ember.inject.service(),

    didRender() {
      let iframe = this.element.querySelector('#billing-frame');
      window.addEventListener('message', event => {
        if (event && event.data && event.data.request === 'token') {
          const ghostIdentityUrl = this.get('ghostPaths.url').api('identities');
          this.ajax.request(ghostIdentityUrl).then(response => {
            const token = response && response.identities && response.identities[0] && response.identities[0].token;
            iframe.contentWindow.postMessage({
              request: 'token',
              response: token
            }, '*');
          });
        }
      });
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-billing-update-button", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <iframe id="billing-frame-global" src={{this.billing.endpoint}}></iframe>
  
  {{#if this.showUpgradeButton}}
      <button class="gh-btn gh-btn-green" {{action "openBilling"}}><span>Upgrade</span></button>
  {{/if}}
  
  */
  {"id":"oQArKuXR","block":"{\"symbols\":[],\"statements\":[[10,\"iframe\"],[14,1,\"billing-frame-global\"],[15,\"src\",[32,0,[\"billing\",\"endpoint\"]]],[12],[13],[2,\"\\n\\n\"],[6,[37,1],[[32,0,[\"showUpgradeButton\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-green\"],[4,[38,0],[[32,0],\"openBilling\"],null],[12],[10,\"span\"],[12],[2,\"Upgrade\"],[13],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"action\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-billing-update-button.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    config: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    ajax: Ember.inject.service(),
    billing: Ember.inject.service(),
    subscription: null,
    showUpgradeButton: Ember.computed.equal('subscription.status', 'trialing'),

    didRender() {
      let iframe = this.element.querySelector('#billing-frame-global');
      let fetchingSubscription = false;
      window.addEventListener('message', event => {
        if (event && event.data && event.data.request === 'token') {
          const ghostIdentityUrl = this.get('ghostPaths.url').api('identities');
          this.ajax.request(ghostIdentityUrl).then(response => {
            const token = response && response.identities && response.identities[0] && response.identities[0].token;
            iframe.contentWindow.postMessage({
              request: 'token',
              response: token
            }, '*');
          }); // NOTE: the handler is placed here to avoid additional logic to check if iframe has loaded
          //       receiving a 'token' request is an indication that page is ready

          if (!fetchingSubscription && !this.get('subscription')) {
            fetchingSubscription = true;
            iframe.contentWindow.postMessage({
              query: 'getSubscription',
              response: 'subscription'
            }, '*');
          }
        }

        if (event && event.data && event.data.subscription) {
          this.set('subscription', event.data.subscription);
        }
      });
    },

    actions: {
      openBilling() {
        this.billing.set('upgrade', true);
        this.billing.toggleProperty('billingWindowOpen');
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-blog-url", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{{this.config.blogUrl}}}
  */
  {"id":"VAFqYKJu","block":"{\"symbols\":[],\"statements\":[[2,[32,0,[\"config\",\"blogUrl\"]]]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-blog-url.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    config: Ember.inject.service(),
    tagName: ''
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-canvas-header", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header
      {{did-insert (action "initScrollWatch")}}
      {{will-destroy (action "clearScrollWatch")}}
      ...attributes
  >
      {{yield}}
  </header>
  */
  {"id":"Z+6+jKW1","block":"{\"symbols\":[\"&attrs\",\"&default\"],\"statements\":[[11,\"header\"],[17,1],[4,[38,1],[[30,[36,0],[[32,0],\"initScrollWatch\"],null]],null],[4,[38,2],[[30,[36,0],[[32,0],\"clearScrollWatch\"],null]],null],[12],[2,\"\\n    \"],[18,2,null],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"action\",\"did-insert\",\"will-destroy\"]}","meta":{"moduleName":"ghost-admin/components/gh-canvas-header.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    tagName: '',
    actions: {
      initScrollWatch(element) {
        this._onScroll = Ember.run.bind(this, this.onScroll, element);
        this._scrollContainer = element.closest('.gh-main');

        if (this._scrollContainer) {
          this._scrollContainer.addEventListener('scroll', this._onScroll, {
            passive: true
          });
        }
      },

      clearScrollWatch() {
        if (this._scrollContainer) {
          this._scrollContainer.removeEventListener('scroll', this._onScroll);
        }
      }

    },

    onScroll(element) {
      if (this._isSticky && this._scrollContainer.scrollTop < 10) {
        element.classList.remove('gh-canvas-header--sticky');
        this._isSticky = false;
      } else if (!this._isSticky && this._scrollContainer.scrollTop > 10) {
        element.classList.add('gh-canvas-header--sticky');
        this._isSticky = true;
      }
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-cm-editor", ["exports", "ghost-admin/utils/bound-one-way", "ember-concurrency"], function (_exports, _boundOneWay, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{!-- display a standard textarea whilst waiting for CodeMirror to load/initialize --}}
  <GhTextarea
      @class={{concat "gh-cm-editor-textarea " this.textareaClass}}
      @value={{readonly this._value}}
      @input={{action "updateFromTextarea" value="target.value"}}
  />
  
  */
  {"id":"Cfg93+KO","block":"{\"symbols\":[],\"statements\":[[8,\"gh-textarea\",[],[[\"@class\",\"@value\",\"@input\"],[[30,[36,0],[\"gh-cm-editor-textarea \",[32,0,[\"textareaClass\"]]],null],[30,[36,1],[[32,0,[\"_value\"]]],null],[30,[36,2],[[32,0],\"updateFromTextarea\"],[[\"value\"],[\"target.value\"]]]]],null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"concat\",\"readonly\",\"action\"]}","meta":{"moduleName":"ghost-admin/components/gh-cm-editor.hbs"}});
  /* global CodeMirror */


  const CmEditorComponent = Ember.Component.extend({
    lazyLoader: Ember.inject.service(),
    classNameBindings: ['isFocused:focus'],
    textareaClass: '',
    isFocused: false,
    // options for the editor
    autofocus: false,
    indentUnit: 4,
    lineNumbers: true,
    lineWrapping: false,
    mode: 'htmlmixed',
    theme: 'xq-light',
    _editor: null,
    // reference to CodeMirror editor
    // Allowed actions
    'focus-in': () => {},
    update: () => {},
    _value: (0, _boundOneWay.default)('value'),

    // make sure a value exists
    didReceiveAttrs() {
      if (this._value === null || undefined) {
        this.set('_value', '');
      }

      if (this.mode !== this._lastMode && this._editor) {
        this._editor.setOption('mode', this.mode);
      }

      this._lastMode = this.mode;
    },

    didInsertElement() {
      this._super(...arguments);

      this.initCodeMirror.perform();
    },

    willDestroyElement() {
      this._super(...arguments); // Ensure the editor exists before trying to destroy it. This fixes
      // an error that occurs if codemirror hasn't finished loading before
      // the component is destroyed.


      if (this._editor) {
        let editor = this._editor.getWrapperElement();

        editor.parentNode.removeChild(editor);
        this._editor = null;
      }
    },

    actions: {
      updateFromTextarea(value) {
        this.update(value);
      }

    },
    initCodeMirror: (0, _emberConcurrency.task)(function* () {
      let loader = this.lazyLoader;
      yield loader.loadScript('codemirror', 'assets/codemirror/codemirror.js');
      Ember.run.scheduleOnce('afterRender', this, this._initCodeMirror);
    }),

    _initCodeMirror() {
      let options = this.getProperties('lineNumbers', 'lineWrapping', 'indentUnit', 'mode', 'theme', 'autofocus');
      Ember.assign(options, {
        value: this._value
      });
      let textarea = this.element.querySelector('textarea');

      if (textarea && textarea === document.activeElement) {
        options.autofocus = true;
      }

      this._editor = new CodeMirror.fromTextArea(textarea, options); // by default CodeMirror will place the cursor at the beginning of the
      // content, it makes more sense for the cursor to be at the end

      if (options.autofocus) {
        this._editor.setCursor(this._editor.lineCount(), 0);
      } // events


      this._setupCodeMirrorEventHandler('focus', this, this._focus);

      this._setupCodeMirrorEventHandler('blur', this, this._blur);

      this._setupCodeMirrorEventHandler('change', this, this._update);
    },

    _setupCodeMirrorEventHandler(event, target, method) {
      let callback = Ember.run.bind(target, method);

      this._editor.on(event, callback);

      this.one('willDestroyElement', this, function () {
        this._editor.off(event, callback);
      });
    },

    _update(codeMirror, changeObj) {
      Ember.run.once(this, this.update, codeMirror.getValue(), codeMirror, changeObj);
    },

    _focus(codeMirror, event) {
      this.set('isFocused', true);
      Ember.run.once(this, this['focus-in'], codeMirror.getValue(), codeMirror, event);
    },

    _blur()
    /* codeMirror, event */
    {
      this.set('isFocused', false);
    }

  });

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, CmEditorComponent);

  _exports.default = _default;
});
;define("ghost-admin/components/gh-content-cover", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Component.extend({
    ui: Ember.inject.service(),
    classNames: ['content-cover'],

    click() {
      this.ui.closeMenus();
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/components/gh-contentfilter", ["exports", "@glimmer/component"], function (_exports, _component) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _class, _descriptor, _descriptor2, _descriptor3, _temp;

  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="gh-contentfilter" ...attributes>
      {{#unless this.session.user.isContributor}}
          <div data-test-type-select="true">
              <PowerSelect
                  @selected={{@selectedType}}
                  @options={{@availableTypes}}
                  @searchEnabled={{false}}
                  @onChange={{@onTypeChange}}
                  @tagName="div"
                  @classNames={{concat "gh-contentfilter-menu gh-contentfilter-type " (if @selectedType.value "gh-contentfilter-selected")}}
                  @triggerComponent="gh-power-select/trigger"
                  @triggerClass="gh-contentfilter-menu-trigger"
                  @dropdownClass="gh-contentfilter-menu-dropdown"
                  @matchTriggerWidth={{false}}
                  as |type|
              >
                  {{#if type.name}}{{type.name}}{{else}}<span class="red">Unknown type</span>{{/if}}
              </PowerSelect>
          </div>
      {{/unless}}
  
      {{#unless this.session.user.isAuthorOrContributor}}
          <div data-test-author-select="true">
              <PowerSelect
                  @selected={{@selectedAuthor}}
                  @options={{@availableAuthors}}
                  @searchField="name"
                  @onChange={{@onAuthorChange}}
                  @tagName="div"
                  @classNames={{concat "gh-contentfilter-menu gh-contentfilter-author " (if @selectedAuthor.slug "gh-contentfilter-selected")}}
                  @triggerComponent="gh-power-select/trigger"
                  @triggerClass="gh-contentfilter-menu-trigger"
                  @dropdownClass="gh-contentfilter-menu-dropdown"
                  @searchPlaceholder="Search authors"
                  @matchTriggerWidth={{false}}
                  as |author|
              >
                  {{#if author.name}}{{author.name}}{{else}}<span class="red">Unknown author</span>{{/if}}
              </PowerSelect>
          </div>
      {{/unless}}
  
      {{#unless this.session.user.isContributor}}
          <div data-test-tag-select="true">
              <PowerSelect
                  @selected={{@selectedTag}}
                  @options={{@availableTags}}
                  @searchField="name"
                  @onChange={{@onTagChange}}
                  @tagName="div"
                  @classNames={{concat "gh-contentfilter-menu gh-contentfilter-tag " (if @selectedTag.slug "gh-contentfilter-selected")}}
                  @triggerComponent="gh-power-select/trigger"
                  @triggerClass="gh-contentfilter-menu-trigger"
                  @dropdownClass="gh-contentfilter-menu-dropdown"
                  @searchPlaceholder="Search tags"
                  @matchTriggerWidth={{false}}
                  @optionsComponent="power-select-vertical-collection-options"
                  as |tag|
              >
                  {{#if tag.name}}{{tag.name}}{{else}}<span class="red">Unknown tag</span>{{/if}}
              </PowerSelect>
          </div>
      {{/unless}}
  
      <div data-test-order-select="true">
          <PowerSelect
              @selected={{@selectedOrder}}
              @options={{@availableOrders}}
              @searchEnabled={{false}}
              @onChange={{@onOrderChange}}
              @tagName="div"
              @classNames="gh-contentfilter-menu gh-contentfilter-sort"
              @triggerComponent="gh-power-select/trigger"
              @triggerClass="gh-contentfilter-menu-trigger"
              @dropdownClass="gh-contentfilter-menu-dropdown"
              @matchTriggerWidth={{false}}
              as |order|
          >
              {{#if order.name}}{{order.name}}{{else}}<span class="red">Unknown</span>{{/if}}
          </PowerSelect>
      </div>
  
      {{#if (and (eq this.router.currentRouteName "posts") (or @selectedType.value @selectedAuthor.slug @selectedTag.slug @selectedOrder.value) (not this.customViews.activeView.isDefault))}}
          <div class="dropdown gh-contentfilter-menu gh-contentfilter-actions">
              {{#if this.customViews.activeView}}
                  <button
                      type="button"
                      class="gh-contentfilter-menu-trigger gh-contentfilter-button"
                      title="Edit current view..."
                      data-test-button="edit-view"
                      {{on "click" this.customViews.toggleFormModal}}
                  >
                      {{svg-jar "edit-view"}}
                  </button>
              {{else}}
                  <button
                      type="button"
                      class="gh-contentfilter-menu-trigger gh-contentfilter-button"
                      title="Save as view..."
                      data-test-button="add-view"
                      {{on "click" this.customViews.toggleFormModal}}
                  >
                      {{svg-jar "add-view"}}
                  </button>
              {{/if}}
          </div>
      {{/if}}
  </div>
  */
  {"id":"CZe+4PP/","block":"{\"symbols\":[\"order\",\"tag\",\"author\",\"type\",\"@selectedTag\",\"@availableTags\",\"@onTagChange\",\"@selectedAuthor\",\"@availableAuthors\",\"@onAuthorChange\",\"@selectedType\",\"@availableTypes\",\"@onTypeChange\",\"&attrs\",\"@selectedOrder\",\"@availableOrders\",\"@onOrderChange\"],\"statements\":[[11,\"div\"],[24,0,\"gh-contentfilter\"],[17,14],[12],[2,\"\\n\"],[6,[37,4],[[32,0,[\"session\",\"user\",\"isContributor\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,\"data-test-type-select\",\"true\"],[12],[2,\"\\n            \"],[8,\"power-select\",[],[[\"@selected\",\"@options\",\"@searchEnabled\",\"@onChange\",\"@tagName\",\"@classNames\",\"@triggerComponent\",\"@triggerClass\",\"@dropdownClass\",\"@matchTriggerWidth\"],[[32,11],[32,12],false,[32,13],\"div\",[30,[36,3],[\"gh-contentfilter-menu gh-contentfilter-type \",[30,[36,2],[[32,11,[\"value\"]],\"gh-contentfilter-selected\"],null]],null],\"gh-power-select/trigger\",\"gh-contentfilter-menu-trigger\",\"gh-contentfilter-menu-dropdown\",false]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[6,[37,2],[[32,4,[\"name\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[1,[32,4,[\"name\"]]]],\"parameters\":[]},{\"statements\":[[10,\"span\"],[14,0,\"red\"],[12],[2,\"Unknown type\"],[13]],\"parameters\":[]}]]],[2,\"\\n            \"]],\"parameters\":[4]}]]],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,4],[[32,0,[\"session\",\"user\",\"isAuthorOrContributor\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,\"data-test-author-select\",\"true\"],[12],[2,\"\\n            \"],[8,\"power-select\",[],[[\"@selected\",\"@options\",\"@searchField\",\"@onChange\",\"@tagName\",\"@classNames\",\"@triggerComponent\",\"@triggerClass\",\"@dropdownClass\",\"@searchPlaceholder\",\"@matchTriggerWidth\"],[[32,8],[32,9],\"name\",[32,10],\"div\",[30,[36,3],[\"gh-contentfilter-menu gh-contentfilter-author \",[30,[36,2],[[32,8,[\"slug\"]],\"gh-contentfilter-selected\"],null]],null],\"gh-power-select/trigger\",\"gh-contentfilter-menu-trigger\",\"gh-contentfilter-menu-dropdown\",\"Search authors\",false]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[6,[37,2],[[32,3,[\"name\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[1,[32,3,[\"name\"]]]],\"parameters\":[]},{\"statements\":[[10,\"span\"],[14,0,\"red\"],[12],[2,\"Unknown author\"],[13]],\"parameters\":[]}]]],[2,\"\\n            \"]],\"parameters\":[3]}]]],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,4],[[32,0,[\"session\",\"user\",\"isContributor\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,\"data-test-tag-select\",\"true\"],[12],[2,\"\\n            \"],[8,\"power-select\",[],[[\"@selected\",\"@options\",\"@searchField\",\"@onChange\",\"@tagName\",\"@classNames\",\"@triggerComponent\",\"@triggerClass\",\"@dropdownClass\",\"@searchPlaceholder\",\"@matchTriggerWidth\",\"@optionsComponent\"],[[32,5],[32,6],\"name\",[32,7],\"div\",[30,[36,3],[\"gh-contentfilter-menu gh-contentfilter-tag \",[30,[36,2],[[32,5,[\"slug\"]],\"gh-contentfilter-selected\"],null]],null],\"gh-power-select/trigger\",\"gh-contentfilter-menu-trigger\",\"gh-contentfilter-menu-dropdown\",\"Search tags\",false,\"power-select-vertical-collection-options\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[6,[37,2],[[32,2,[\"name\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[1,[32,2,[\"name\"]]]],\"parameters\":[]},{\"statements\":[[10,\"span\"],[14,0,\"red\"],[12],[2,\"Unknown tag\"],[13]],\"parameters\":[]}]]],[2,\"\\n            \"]],\"parameters\":[2]}]]],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n    \"],[10,\"div\"],[14,\"data-test-order-select\",\"true\"],[12],[2,\"\\n        \"],[8,\"power-select\",[],[[\"@selected\",\"@options\",\"@searchEnabled\",\"@onChange\",\"@tagName\",\"@classNames\",\"@triggerComponent\",\"@triggerClass\",\"@dropdownClass\",\"@matchTriggerWidth\"],[[32,15],[32,16],false,[32,17],\"div\",\"gh-contentfilter-menu gh-contentfilter-sort\",\"gh-power-select/trigger\",\"gh-contentfilter-menu-trigger\",\"gh-contentfilter-menu-dropdown\",false]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[6,[37,2],[[32,1,[\"name\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[1,[32,1,[\"name\"]]]],\"parameters\":[]},{\"statements\":[[10,\"span\"],[14,0,\"red\"],[12],[2,\"Unknown\"],[13]],\"parameters\":[]}]]],[2,\"\\n        \"]],\"parameters\":[1]}]]],[2,\"\\n    \"],[13],[2,\"\\n\\n\"],[6,[37,2],[[30,[36,8],[[30,[36,7],[[32,0,[\"router\",\"currentRouteName\"]],\"posts\"],null],[30,[36,6],[[32,11,[\"value\"]],[32,8,[\"slug\"]],[32,5,[\"slug\"]],[32,15,[\"value\"]]],null],[30,[36,5],[[32,0,[\"customViews\",\"activeView\",\"isDefault\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,0,\"dropdown gh-contentfilter-menu gh-contentfilter-actions\"],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"customViews\",\"activeView\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[11,\"button\"],[24,0,\"gh-contentfilter-menu-trigger gh-contentfilter-button\"],[24,\"title\",\"Edit current view...\"],[24,\"data-test-button\",\"edit-view\"],[24,4,\"button\"],[4,[38,0],[\"click\",[32,0,[\"customViews\",\"toggleFormModal\"]]],null],[12],[2,\"\\n                    \"],[1,[30,[36,1],[\"edit-view\"],null]],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                \"],[11,\"button\"],[24,0,\"gh-contentfilter-menu-trigger gh-contentfilter-button\"],[24,\"title\",\"Save as view...\"],[24,\"data-test-button\",\"add-view\"],[24,4,\"button\"],[4,[38,0],[\"click\",[32,0,[\"customViews\",\"toggleFormModal\"]]],null],[12],[2,\"\\n                    \"],[1,[30,[36,1],[\"add-view\"],null]],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[13]],\"hasEval\":false,\"upvars\":[\"on\",\"svg-jar\",\"if\",\"concat\",\"unless\",\"not\",\"or\",\"eq\",\"and\"]}","meta":{"moduleName":"ghost-admin/components/gh-contentfilter.hbs"}});

  let GhContentfilterComponent = (_class = (_temp = class GhContentfilterComponent extends _component.default {
    constructor(...args) {
      super(...args);

      _initializerDefineProperty(this, "customViews", _descriptor, this);

      _initializerDefineProperty(this, "router", _descriptor2, this);

      _initializerDefineProperty(this, "session", _descriptor3, this);
    }

    calculateActionsDropdownPosition(trigger, content) {
      let {
        top,
        left,
        width,
        height
      } = trigger.getBoundingClientRect(); // content.firstElementChild is required because we use .dropdown-menu which is absolute positioned

      let {
        width: contentWidth
      } = content.firstElementChild.getBoundingClientRect();
      let style = {
        left: left + width - contentWidth,
        top: top + height + 5
      };
      return {
        style
      };
    }

  }, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, "customViews", [Ember.inject.service], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, "router", [Ember.inject.service], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, "session", [Ember.inject.service], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  })), _class);
  _exports.default = GhContentfilterComponent;

  Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, GhContentfilterComponent);
});
;define("ghost-admin/components/gh-custom-view-title", ["exports", "@glimmer/component"], function (_exports, _component) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _class, _descriptor, _descriptor2, _temp;

  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <h2 class="gh-canvas-title" data-test-screen-title>
      <LinkTo @route={{this.router.currentRouteName}} @query={{@query}}>{{or @title "No @title provided"}}</LinkTo>
      {{#if this.customViews.activeView}}
          <span>{{svg-jar "arrow-right"}}</span>
          <span class="truncate">{{this.customViews.activeView.name}}</span>
      {{/if}}
  </h2>
  */
  {"id":"Rfp55p3l","block":"{\"symbols\":[\"@query\",\"@title\"],\"statements\":[[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n    \"],[8,\"link-to\",[],[[\"@route\",\"@query\"],[[32,0,[\"router\",\"currentRouteName\"]],[32,1]]],[[\"default\"],[{\"statements\":[[1,[30,[36,1],[[32,2],\"No @title provided\"],null]]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,2],[[32,0,[\"customViews\",\"activeView\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"span\"],[12],[1,[30,[36,0],[\"arrow-right\"],null]],[13],[2,\"\\n        \"],[10,\"span\"],[14,0,\"truncate\"],[12],[1,[32,0,[\"customViews\",\"activeView\",\"name\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[13]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"or\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-custom-view-title.hbs"}});

  let GhCustomViewTitleComponent = (_class = (_temp = class GhCustomViewTitleComponent extends _component.default {
    constructor(...args) {
      super(...args);

      _initializerDefineProperty(this, "customViews", _descriptor, this);

      _initializerDefineProperty(this, "router", _descriptor2, this);
    }

  }, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, "customViews", [Ember.inject.service], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, "router", [Ember.inject.service], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  })), _class);
  _exports.default = GhCustomViewTitleComponent;

  Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, GhCustomViewTitleComponent);
});
;define("ghost-admin/components/gh-date-time-picker", ["exports", "moment"], function (_exports, _moment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="gh-date-time-picker">
      <PowerDatepicker
          @selected={{this._date}}
          @center={{this._date}}
          @onSelect={{action "setDate" value="date"}}
          @renderInPlace={{true}}
          @disabled={{this.disabled}} as |dp|
      >
          <dp.Trigger @tabindex="-1" data-test-date-time-picker-datepicker=true>
              <div class="gh-date-time-picker-date {{if this.dateError "error"}}">
                  <input type="text"
                      placeholder={{this.dateFormat}}
                      value={{readonly this.dateValue}}
                      disabled={{this.disabled}}
                      {{on "input" (fn this.onDateInput dp)}}
                      {{on "blur" this.onDateBlur}}
                      {{on "keydown" (fn this.onDateKeydown dp)}}
                      data-test-date-time-picker-date-input>
                  {{svg-jar "calendar"}}
              </div>
          </dp.Trigger>
          <dp.Content class="dropdown-menu">
              <dp.Nav />
              <dp.Days @minDate={{this._minDate}} @maxDate={{this._maxDate}} @weekdayFormat="min" />
          </dp.Content>
      </PowerDatepicker>
  
      <div class="gh-date-time-picker-time {{if this.hasError "error"}}">
          <input
              type="text"
              value={{this._time}}
              disabled={{this.disabled}}
              oninput={{action (mut this._time) value="target.value"}}
              onblur={{action "setTime" this._time}}
              {{did-insert this.registerTimeInput}}
              data-test-date-time-picker-time-input
          >
          <small class="gh-date-time-picker-timezone">({{this.timezone}})</small>
      </div>
  </div>
  {{#if this.hasError}}
      <div class="gh-date-time-picker-error" data-test-date-time-picker-error>{{this.dateError}}{{this.timeError}}</div>
  {{/if}}
  
  */
  {"id":"FDT9/2xL","block":"{\"symbols\":[\"dp\"],\"statements\":[[10,\"div\"],[14,0,\"gh-date-time-picker\"],[12],[2,\"\\n    \"],[8,\"power-datepicker\",[],[[\"@selected\",\"@center\",\"@onSelect\",\"@renderInPlace\",\"@disabled\"],[[32,0,[\"_date\"]],[32,0,[\"_date\"]],[30,[36,0],[[32,0],\"setDate\"],[[\"value\"],[\"date\"]]],true,[32,0,[\"disabled\"]]]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[8,[32,1,[\"Trigger\"]],[[24,\"data-test-date-time-picker-datepicker\",\"true\"]],[[\"@tabindex\"],[\"-1\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"div\"],[15,0,[31,[\"gh-date-time-picker-date \",[30,[36,1],[[32,0,[\"dateError\"]],\"error\"],null]]]],[12],[2,\"\\n                \"],[11,\"input\"],[16,\"placeholder\",[32,0,[\"dateFormat\"]]],[16,2,[30,[36,2],[[32,0,[\"dateValue\"]]],null]],[16,\"disabled\",[32,0,[\"disabled\"]]],[24,\"data-test-date-time-picker-date-input\",\"\"],[24,4,\"text\"],[4,[38,4],[\"input\",[30,[36,3],[[32,0,[\"onDateInput\"]],[32,1]],null]],null],[4,[38,4],[\"blur\",[32,0,[\"onDateBlur\"]]],null],[4,[38,4],[\"keydown\",[30,[36,3],[[32,0,[\"onDateKeydown\"]],[32,1]],null]],null],[12],[13],[2,\"\\n                \"],[1,[30,[36,5],[\"calendar\"],null]],[2,\"\\n            \"],[13],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n        \"],[8,[32,1,[\"Content\"]],[[24,0,\"dropdown-menu\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[8,[32,1,[\"Nav\"]],[],[[],[]],null],[2,\"\\n            \"],[8,[32,1,[\"Days\"]],[],[[\"@minDate\",\"@maxDate\",\"@weekdayFormat\"],[[32,0,[\"_minDate\"]],[32,0,[\"_maxDate\"]],\"min\"]],null],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n    \"]],\"parameters\":[1]}]]],[2,\"\\n\\n    \"],[10,\"div\"],[15,0,[31,[\"gh-date-time-picker-time \",[30,[36,1],[[32,0,[\"hasError\"]],\"error\"],null]]]],[12],[2,\"\\n        \"],[11,\"input\"],[16,2,[32,0,[\"_time\"]]],[16,\"disabled\",[32,0,[\"disabled\"]]],[16,\"oninput\",[30,[36,0],[[32,0],[30,[36,6],[[32,0,[\"_time\"]]],null]],[[\"value\"],[\"target.value\"]]]],[16,\"onblur\",[30,[36,0],[[32,0],\"setTime\",[32,0,[\"_time\"]]],null]],[24,\"data-test-date-time-picker-time-input\",\"\"],[24,4,\"text\"],[4,[38,7],[[32,0,[\"registerTimeInput\"]]],null],[12],[13],[2,\"\\n        \"],[10,\"small\"],[14,0,\"gh-date-time-picker-timezone\"],[12],[2,\"(\"],[1,[32,0,[\"timezone\"]]],[2,\")\"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[6,[37,1],[[32,0,[\"hasError\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[10,\"div\"],[14,0,\"gh-date-time-picker-error\"],[14,\"data-test-date-time-picker-error\",\"\"],[12],[1,[32,0,[\"dateError\"]]],[1,[32,0,[\"timeError\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"action\",\"if\",\"readonly\",\"fn\",\"on\",\"svg-jar\",\"mut\",\"did-insert\"]}","meta":{"moduleName":"ghost-admin/components/gh-date-time-picker.hbs"}});

  const DATE_FORMAT = 'YYYY-MM-DD';

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    settings: Ember.inject.service(),
    tagName: '',
    date: '',
    dateFormat: DATE_FORMAT,
    time: '',
    errors: null,
    dateErrorProperty: null,
    timeErrorProperty: null,
    isActive: true,
    _time: '',
    _previousTime: '',
    _minDate: null,
    _maxDate: null,
    _scratchDate: null,
    _scratchDateError: null,

    // actions
    setTypedDateError() {},

    blogTimezone: Ember.computed.reads('settings.activeTimezone'),
    hasError: Ember.computed.or('dateError', 'timeError'),
    dateValue: Ember.computed('_date', '_scratchDate', function () {
      if (this._scratchDate !== null) {
        return this._scratchDate;
      } else {
        return (0, _moment.default)(this._date).format(DATE_FORMAT);
      }
    }),
    timezone: Ember.computed('blogTimezone', function () {
      let blogTimezone = this.blogTimezone;
      return _moment.default.utc().tz(blogTimezone).format('z');
    }),
    dateError: Ember.computed('errors.[]', 'dateErrorProperty', '_scratchDateError', function () {
      if (this._scratchDateError) {
        return this._scratchDateError;
      }

      let errors = this.errors;
      let property = this.dateErrorProperty;

      if (errors && !Ember.isEmpty(errors.errorsFor(property))) {
        return errors.errorsFor(property).get('firstObject').message;
      }

      return '';
    }),
    timeError: Ember.computed('errors.[]', 'timeErrorProperty', function () {
      let errors = this.errors;
      let property = this.timeErrorProperty;

      if (errors && !Ember.isEmpty(errors.errorsFor(property))) {
        return errors.errorsFor(property).get('firstObject').message;
      }

      return '';
    }),

    didReceiveAttrs() {
      let date = this.date;
      let time = this.time;
      let minDate = this.minDate;
      let maxDate = this.maxDate;
      let blogTimezone = this.blogTimezone;

      if (!Ember.isBlank(date)) {
        this.set('_date', (0, _moment.default)(date));
      } else {
        this.set('_date', (0, _moment.default)().tz(blogTimezone));
      } // reset scratch date if the component becomes inactive
      // (eg, PSM is closed, or save type is changed away from scheduled)


      if (!this.isActive && this._lastIsActive) {
        this._resetScratchDate();
      }

      this._lastIsActive = this.isActive; // reset scratch date if date is changed externally

      if ((date && date.valueOf()) !== (this._lastDate && this._lastDate.valueOf())) {
        this._resetScratchDate();
      }

      this._lastDate = this.date;

      if (Ember.isBlank(time)) {
        this.set('_time', (0, _moment.default)(this._date).format('HH:mm'));
      } else {
        this.set('_time', this.time);
      }

      this.set('_previousTime', this._time); // unless min/max date is at midnight moment will diable that day

      if (minDate === 'now') {
        this.set('_minDate', (0, _moment.default)((0, _moment.default)().format(DATE_FORMAT)));
      } else if (!Ember.isBlank(minDate)) {
        this.set('_minDate', (0, _moment.default)((0, _moment.default)(minDate).format(DATE_FORMAT)));
      } else {
        this.set('_minDate', null);
      }

      if (maxDate === 'now') {
        this.set('_maxDate', (0, _moment.default)((0, _moment.default)().format(DATE_FORMAT)));
      } else if (!Ember.isBlank(maxDate)) {
        this.set('_maxDate', (0, _moment.default)((0, _moment.default)(maxDate).format(DATE_FORMAT)));
      } else {
        this.set('_maxDate', null);
      }
    },

    willDestroyElement() {
      this.setTypedDateError(null);
    },

    actions: {
      // if date or time is set and the other property is blank set that too
      // so that we don't get "can't be blank" errors
      setDate(date) {
        if (date !== this._date) {
          this.setDate(date);

          if (Ember.isBlank(this.time)) {
            this.setTime(this._time);
          }
        }
      },

      setTime(time) {
        if (time.match(/^\d:\d\d$/)) {
          time = `0${time}`;
        }

        if (time !== this._previousTime) {
          this.setTime(time);
          this.set('_previousTime', time);

          if (Ember.isBlank(this.date)) {
            this.setDate(this._date);
          }
        }
      }

    },
    registerTimeInput: Ember._action(function (elem) {
      this._timeInputElem = elem;
    }),
    onDateInput: Ember._action(function (datepicker, event) {
      let skipFocus = true;
      datepicker.actions.close(event, skipFocus);
      this.set('_scratchDate', event.target.value);
    }),
    onDateBlur: Ember._action(function (event) {
      // make sure we're not doing anything just because the calendar dropdown
      // is opened and clicked
      if (event.target.value === (0, _moment.default)(this._date).format('YYYY-MM-DD')) {
        this._resetScratchDate();

        return;
      }

      if (!event.target.value) {
        this._resetScratchDate();
      } else {
        this._setDate(event.target.value);
      }
    }),
    onDateKeydown: Ember._action(function (datepicker, event) {
      if (event.key === 'Escape') {
        this._resetScratchDate();
      }

      if (event.key === 'Enter') {
        this._setDate(event.target.value);

        event.preventDefault();
        event.stopImmediatePropagation();
        datepicker.actions.close();
      } // close the dropdown and manually focus the time input if necessary
      // so that keyboard focus behaves as expected


      if (event.key === 'Tab' && datepicker.isOpen) {
        datepicker.actions.close(); // manual focus is required because the dropdown is rendered in place
        // and the default browser behaviour will move focus to the dropdown
        // which is then removed from the DOM making it look like focus has
        // disappeared. Shift+Tab is fine because the DOM is not changing in
        // that direction

        if (!event.shiftKey && this._timeInputElem) {
          event.preventDefault();

          this._timeInputElem.focus();

          this._timeInputElem.select();
        }
      } // capture a Ctrl/Cmd+S combo to make sure that the model value is updated
      // before the save occurs or we abort the save if the value is invalid


      if (event.key === 's' && (event.ctrlKey || event.metaKey)) {
        let wasValid = this._setDate(event.target.value);

        if (!wasValid) {
          event.stopImmediatePropagation();
          event.preventDefault();
        }
      }
    }),

    // internal methods
    _resetScratchDate() {
      this.set('_scratchDate', null);

      this._setScratchDateError(null);
    },

    _setDate(dateStr) {
      if (!dateStr.match(/^\d\d\d\d-\d\d-\d\d$/)) {
        this._setScratchDateError('Invalid date format, must be YYYY-MM-DD');

        return false;
      }

      let date = (0, _moment.default)(dateStr, DATE_FORMAT);

      if (!date.isValid()) {
        this._setScratchDateError('Invalid date');

        return false;
      }

      this.send('setDate', date.toDate());

      this._resetScratchDate();

      return true;
    },

    _setScratchDateError(error) {
      this.set('_scratchDateError', error);
      this.setTypedDateError(error);
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-dropdown-button", ["exports", "ghost-admin/mixins/dropdown-mixin"], function (_exports, _dropdownMixin) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Component.extend(_dropdownMixin.default, {
    dropdown: Ember.inject.service(),
    tagName: 'button',
    attributeBindings: ['href', 'role'],
    role: 'button',
    // matches with the dropdown this button toggles
    dropdownName: null,

    // Notify dropdown service this dropdown should be toggled
    click(event) {
      this._super(event);

      this.dropdown.toggleDropdown(this.dropdownName, this);

      if (this.tagName === 'a') {
        return false;
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/components/gh-dropdown", ["exports", "ghost-admin/mixins/dropdown-mixin"], function (_exports, _dropdownMixin) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Component.extend(_dropdownMixin.default, {
    dropdown: Ember.inject.service(),
    classNames: 'dropdown',
    classNameBindings: ['fadeIn:fade-in-scale:fade-out', 'isOpen:open:closed'],
    name: null,
    closeOnClick: false,
    // Helps track the user re-opening the menu while it's fading out.
    closing: false,
    // Helps track whether the dropdown is open or closes, or in a transition to either
    isOpen: false,
    // Managed the toggle between the fade-in and fade-out classes
    fadeIn: Ember.computed('isOpen', 'closing', function () {
      return this.isOpen && !this.closing;
    }),

    didInsertElement() {
      this._super(...arguments);

      let dropdownService = this.dropdown;
      dropdownService.on('close', this, this.close);
      dropdownService.on('toggle', this, this.toggle);
      this._animationEndHandler = Ember.run.bind(this, function (event) {
        if (event.animationName === 'fade-out' && this.closing) {
          this.set('isOpen', false);
          this.set('closing', false);
        }
      });
      this.element.addEventListener('animationend', this._animationEndHandler);
    },

    willDestroyElement() {
      this._super(...arguments);

      let dropdownService = this.dropdown;
      dropdownService.off('close', this, this.close);
      dropdownService.off('toggle', this, this.toggle);
      this.element.removeEventListener('animationend', this._animationEndHandler);
    },

    open() {
      this.set('isOpen', true);
      this.set('closing', false);
      this.set('button.isOpen', true);
    },

    close() {
      this.set('closing', true);

      if (this.button) {
        this.set('button.isOpen', false);
      }
    },

    // Called by the dropdown service when any dropdown button is clicked.
    toggle(options) {
      let isClosing = this.closing;
      let isOpen = this.isOpen;
      let name = this.name;
      let targetDropdownName = options.target;
      let button = this.button;

      if (name === targetDropdownName && (!isOpen || isClosing)) {
        if (!button) {
          button = options.button;
          this.set('button', button);
        }

        this.open();
      } else if (isOpen) {
        this.close();
      }
    },

    click(event) {
      this._super(event);

      if (this.closeOnClick) {
        return this.close();
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/components/gh-editor-post-status", ["exports", "ghost-admin/config/environment", "moment", "ember-concurrency"], function (_exports, _environment, _moment, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#if this._isSaving}}
      Saving...
  {{else if (or this.post.isPublished this.post.pastScheduledTime)}}
      Published
      {{#if (or (eq this.post.email.status "submitting") (eq this.post.email.status "submitting"))}}
          and sending to {{pluralize this.post.email.emailCount "member"}}
      {{else if (eq this.post.email.status "submitted")}}
          and sent to {{pluralize this.post.email.emailCount "member"}}
      {{/if}}
  {{else if this.post.isScheduled}}
      {{#if this.countdown}}
          <time datetime="{{this.post.publishedAtUTC}}" class="ml1 green f8" data-test-schedule-countdown>
              Scheduled to be published {{if this.post.sendEmailWhenPublished "and sent"}} {{this.countdown}}.
          </time>
      {{else}}
          Scheduled
      {{/if}}
  {{else if this.post.isNew}}
      New
  {{else}}
      Draft
  {{/if}}
  
  */
  {"id":"XXkwiq4O","block":"{\"symbols\":[],\"statements\":[[6,[37,0],[[32,0,[\"_isSaving\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"    Saving...\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,0],[[30,[36,3],[[32,0,[\"post\",\"isPublished\"]],[32,0,[\"post\",\"pastScheduledTime\"]]],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"    Published\\n\"],[6,[37,0],[[30,[36,3],[[30,[36,2],[[32,0,[\"post\",\"email\",\"status\"]],\"submitting\"],null],[30,[36,2],[[32,0,[\"post\",\"email\",\"status\"]],\"submitting\"],null]],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"        and sending to \"],[1,[30,[36,1],[[32,0,[\"post\",\"email\",\"emailCount\"]],\"member\"],null]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,0],[[30,[36,2],[[32,0,[\"post\",\"email\",\"status\"]],\"submitted\"],null]],null,[[\"default\"],[{\"statements\":[[2,\"        and sent to \"],[1,[30,[36,1],[[32,0,[\"post\",\"email\",\"emailCount\"]],\"member\"],null]],[2,\"\\n    \"]],\"parameters\":[]}]]]],\"parameters\":[]}]]]],\"parameters\":[]},{\"statements\":[[6,[37,0],[[32,0,[\"post\",\"isScheduled\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[6,[37,0],[[32,0,[\"countdown\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"        \"],[10,\"time\"],[15,\"datetime\",[31,[[32,0,[\"post\",\"publishedAtUTC\"]]]]],[14,0,\"ml1 green f8\"],[14,\"data-test-schedule-countdown\",\"\"],[12],[2,\"\\n            Scheduled to be published \"],[1,[30,[36,0],[[32,0,[\"post\",\"sendEmailWhenPublished\"]],\"and sent\"],null]],[2,\" \"],[1,[32,0,[\"countdown\"]]],[2,\".\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"        Scheduled\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]},{\"statements\":[[6,[37,0],[[32,0,[\"post\",\"isNew\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"    New\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"    Draft\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]]],\"parameters\":[]}]]]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"if\",\"pluralize\",\"eq\",\"or\"]}","meta":{"moduleName":"ghost-admin/components/gh-editor-post-status.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    clock: Ember.inject.service(),
    post: null,
    isSaving: false,
    'data-test-editor-post-status': true,
    _isSaving: false,
    countdown: Ember.computed('post.{publishedAtUTC,isScheduled}', 'clock.second', function () {
      let isScheduled = this.get('post.isScheduled');

      let publishTime = this.get('post.publishedAtUTC') || _moment.default.utc();

      let timeUntilPublished = publishTime.diff(_moment.default.utc(), 'minutes', true);
      let isPublishedSoon = timeUntilPublished > 0 && timeUntilPublished < 15; // force a recompute

      this.get('clock.second');

      if (isScheduled && isPublishedSoon) {
        return (0, _moment.default)(publishTime).fromNow();
      } else {
        return false;
      }
    }),

    // isSaving will only be true briefly whilst the post is saving,
    // we want to ensure that the "Saving..." message is shown for at least
    // a few seconds so that it's noticeable
    didReceiveAttrs() {
      if (this.isSaving) {
        this.showSavingMessage.perform();
      }
    },

    showSavingMessage: (0, _emberConcurrency.task)(function* () {
      this.set('_isSaving', true);
      yield (0, _emberConcurrency.timeout)(_environment.default.environment === 'test' ? 0 : 3000);

      if (!this.isDestroyed && !this.isDestroying) {
        this.set('_isSaving', false);
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-editor", ["exports", "ghost-admin/components/gh-image-uploader"], function (_exports, _ghImageUploader) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{yield (hash
      headerClass=this.headerClass
      headerHeight=this.headerHeight
      isDraggedOver=this.isDraggedOver
      isFullScreen=this.isFullScreen
      droppedFiles=this.droppedFiles
      uploadedImageUrls=this.uploadedImageUrls
      imageMimeTypes=this.imageMimeTypes
      imageExtensions=this.imageExtensions
      toggleFullScreen=(action "toggleFullScreen")
      togglePreview=(action "togglePreview")
      toggleSplitScreen=(action "toggleSplitScreen")
      uploadComplete=(action "uploadComplete")
      uploadCancelled=(action "uploadCancelled")
      uploadImages=(action "uploadImages")
  )}}
  
  */
  {"id":"LdFIfMM2","block":"{\"symbols\":[\"&default\"],\"statements\":[[18,1,[[30,[36,1],null,[[\"headerClass\",\"headerHeight\",\"isDraggedOver\",\"isFullScreen\",\"droppedFiles\",\"uploadedImageUrls\",\"imageMimeTypes\",\"imageExtensions\",\"toggleFullScreen\",\"togglePreview\",\"toggleSplitScreen\",\"uploadComplete\",\"uploadCancelled\",\"uploadImages\"],[[32,0,[\"headerClass\"]],[32,0,[\"headerHeight\"]],[32,0,[\"isDraggedOver\"]],[32,0,[\"isFullScreen\"]],[32,0,[\"droppedFiles\"]],[32,0,[\"uploadedImageUrls\"]],[32,0,[\"imageMimeTypes\"]],[32,0,[\"imageExtensions\"]],[30,[36,0],[[32,0],\"toggleFullScreen\"],null],[30,[36,0],[[32,0],\"togglePreview\"],null],[30,[36,0],[[32,0],\"toggleSplitScreen\"],null],[30,[36,0],[[32,0],\"uploadComplete\"],null],[30,[36,0],[[32,0],\"uploadCancelled\"],null],[30,[36,0],[[32,0],\"uploadImages\"],null]]]]]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"hash\"]}","meta":{"moduleName":"ghost-admin/components/gh-editor.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    ui: Ember.inject.service(),
    classNameBindings: ['isDraggedOver:-drag-over', 'isFullScreen:gh-editor-fullscreen', 'isPreview:gh-editor-preview'],
    // Internal attributes
    droppedFiles: null,
    headerClass: '',
    headerHeight: 0,
    imageExtensions: _ghImageUploader.IMAGE_EXTENSIONS,
    imageMimeTypes: _ghImageUploader.IMAGE_MIME_TYPES,
    isDraggedOver: false,
    isFullScreen: false,
    isSplitScreen: false,
    uploadedImageUrls: null,
    // Private
    _dragCounter: 0,
    _onResizeHandler: null,
    _viewActionsWidth: 190,

    init() {
      this._super(...arguments);

      this._onResizeHandler = evt => {
        Ember.run.debounce(this, this._setHeaderClass, evt, 100);
      };
    },

    didInsertElement() {
      this._super(...arguments);

      window.addEventListener('resize', this._onResizeHandler);

      this._setHeaderClass();
    },

    willDestroyElement() {
      this._super(...arguments);

      window.removeEventListener('resize', this._onResizeHandler);
    },

    actions: {
      toggleFullScreen(isFullScreen) {
        this.set('isFullScreen', isFullScreen);
        this.ui.set('isFullScreen', isFullScreen);
        Ember.run.scheduleOnce('afterRender', this, this._setHeaderClass);
      },

      togglePreview(isPreview) {
        this.set('isPreview', isPreview);
      },

      toggleSplitScreen(isSplitScreen) {
        this.set('isSplitScreen', isSplitScreen);
        Ember.run.scheduleOnce('afterRender', this, this._setHeaderClass);
      },

      uploadImages(fileList, resetInput) {
        // convert FileList to an array so that resetting the input doesn't
        // clear the file references before upload actions can be triggered
        let files = Array.from(fileList);
        this.set('droppedFiles', files);
        resetInput();
      },

      uploadComplete(uploads) {
        this.set('uploadedImageUrls', uploads.mapBy('url'));
        this.set('droppedFiles', null);
      },

      uploadCancelled() {
        this.set('droppedFiles', null);
      }

    },

    _setHeaderClass() {
      let editorTitle = this.element.querySelector('.gh-editor-title, .kg-title-input');
      let smallHeaderClass = 'gh-editor-header-small';
      let newHeaderClass = '';
      this._editorTitleElement = editorTitle;

      if (this.isSplitScreen) {
        this.set('headerClass', smallHeaderClass);
        return;
      }

      if (editorTitle) {
        let boundingRect = editorTitle.getBoundingClientRect();
        let maxRight = window.innerWidth - this._viewActionsWidth;

        if (boundingRect.right >= maxRight) {
          newHeaderClass = smallHeaderClass;
        }
      }

      if (newHeaderClass !== this.headerClass) {
        // grab height of header so that we can pass it as an offset to other
        // editor components
        Ember.run.scheduleOnce('afterRender', this, this._setHeaderHeight);
      }

      this.set('headerClass', newHeaderClass);
    },

    _setHeaderHeight() {
      if (this.headerClass && this._editorTitleElement) {
        let height = this._editorTitleElement.offsetHeight;
        return this.set('headerHeight', height);
      }

      this.set('headerHeight', 0);
    },

    // dragOver is needed so that drop works
    dragOver(event) {
      if (!event.dataTransfer) {
        return;
      } // this is needed to work around inconsistencies with dropping files
      // from Chrome's downloads bar


      if (navigator.userAgent.indexOf('Chrome') > -1) {
        let eA = event.dataTransfer.effectAllowed;
        event.dataTransfer.dropEffect = eA === 'move' || eA === 'linkMove' ? 'move' : 'copy';
      }

      event.preventDefault();
      event.stopPropagation();
    },

    // dragEnter is needed so that the drag class is correctly removed
    dragEnter(event) {
      if (!event.dataTransfer) {
        return;
      }

      event.preventDefault();
      event.stopPropagation(); // the counter technique prevents flickering of the drag class when
      // dragging across child elements

      this._dragCounter += 1;
      this.set('isDraggedOver', true);
    },

    dragLeave(event) {
      event.preventDefault();
      event.stopPropagation();
      this._dragCounter -= 1;

      if (this._dragCounter === 0) {
        this.set('isDraggedOver', false);
      }
    },

    drop(event) {
      event.preventDefault();
      event.stopPropagation();
      this._dragCounter = 0;
      this.set('isDraggedOver', false);

      if (event.dataTransfer.files) {
        this.set('droppedFiles', event.dataTransfer.files);
      }
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-error-message", ["exports", "@glimmer/component"], function (_exports, _component) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <p class="response" hidden={{if this.message false true}} ...attributes>
      {{this.message}}
  </p>
  
  */
  {"id":"zE1te/ry","block":"{\"symbols\":[\"&attrs\"],\"statements\":[[11,\"p\"],[24,0,\"response\"],[16,\"hidden\",[30,[36,0],[[32,0,[\"message\"]],false,true],null]],[17,1],[12],[2,\"\\n    \"],[1,[32,0,[\"message\"]]],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-error-message.hbs"}});

  /**
   * Renders one random error message when passed a DS.Errors object
   * and a property name. The message will be one of the ones associated with
   * that specific property. If there are no errors associated with the property,
   * nothing will be rendered.
   * @param  {DS.Errors} errors   The DS.Errors object
   * @param  {string} property    The property name
   */
  class GhErrorMessage extends _component.default {
    get message() {
      let {
        property,
        errors
      } = this.args;
      let messages = [];
      let index;

      if (!Ember.isEmpty(errors) && errors.get(property)) {
        errors.get(property).forEach(error => {
          messages.push(error);
        });
        index = Math.floor(Math.random() * messages.length);
        return messages[index].message;
      }

      return '';
    }

  }

  _exports.default = GhErrorMessage;

  Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, GhErrorMessage);
});
;define("ghost-admin/components/gh-feature-flag", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <input type="checkbox" checked={{this.value}} disabled={{this.disabled}} id={{this.for}} name={{this.name}} onclick={{action (mut this.value) value="target.checked"}}>
  <span class="input-toggle-component"></span>
  {{{yield}}}
  
  */
  {"id":"kU9AgUMC","block":"{\"symbols\":[\"&default\"],\"statements\":[[10,\"input\"],[15,\"checked\",[32,0,[\"value\"]]],[15,\"disabled\",[32,0,[\"disabled\"]]],[15,1,[32,0,[\"for\"]]],[15,3,[32,0,[\"name\"]]],[15,\"onclick\",[30,[36,1],[[32,0],[30,[36,0],[[32,0,[\"value\"]]],null]],[[\"value\"],[\"target.checked\"]]]],[14,4,\"checkbox\"],[12],[13],[2,\"\\n\"],[10,\"span\"],[14,0,\"input-toggle-component\"],[12],[13],[2,\"\\n\"],[18,1,null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"mut\",\"action\"]}","meta":{"moduleName":"ghost-admin/components/gh-feature-flag.hbs"}});

  const FeatureFlagComponent = Ember.Component.extend({
    feature: Ember.inject.service(),
    tagName: 'label',
    classNames: 'checkbox',
    attributeBindings: ['for', 'disabled'],
    disabled: Ember.computed('_disabled', function () {
      if (this._disabled) {
        return true;
      }

      return false;
    }),
    value: Ember.computed('_flagValue', {
      get() {
        return this._flagValue;
      },

      set(key, value) {
        return this.set(`feature.${this.flag}`, value);
      }

    }),
    for: Ember.computed('flag', function () {
      return `labs-${this.flag}`;
    }),
    name: Ember.computed('flag', function () {
      return `labs[${this.flag}]`;
    }),

    init() {
      this._super(...arguments);

      Ember.defineProperty(this, '_flagValue', Ember.computed.readOnly(`feature.${this.flag}`), function () {
        return this.get(`feature.${this.flag}`);
      });
    }

  });

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, FeatureFlagComponent);

  _exports.default = _default;
});
;define("ghost-admin/components/gh-file-input", ["exports", "emberx-file-input/components/x-file-input"], function (_exports, _xFileInput) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  // TODO: remove this override and use {{x-file-input}} directly once we've
  // upgraded to emberx-file-input@1.2.0
  var _default = _xFileInput.default.extend({
    change(e) {
      let action = this.action;
      let files = this.files(e);

      if (files.length && action) {
        action(files, this.resetInput.bind(this));
      }
    },

    /**
    * Gets files from event object.
    *
    * @method
    * @private
    * @param {$.Event || Event}
    */
    files(e) {
      return (e.originalEvent || e).testingFiles || e.target.files;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/components/gh-file-upload", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <input class="gh-input gh-input-file q" data-url="upload" type="file" name="importfile" accept="{{this.acceptEncoding}}">
  <button id="startupload" class="gh-btn gh-btn-hover-blue" type="submit" disabled={{this.uploadButtonDisabled}} {{action "upload"}}>
      <span>{{this.uploadButtonText}}</span>
  </button>
  
  */
  {"id":"Yf71Wuln","block":"{\"symbols\":[],\"statements\":[[10,\"input\"],[14,0,\"gh-input gh-input-file q\"],[14,\"data-url\",\"upload\"],[14,3,\"importfile\"],[15,\"accept\",[31,[[32,0,[\"acceptEncoding\"]]]]],[14,4,\"file\"],[12],[13],[2,\"\\n\"],[11,\"button\"],[24,1,\"startupload\"],[24,0,\"gh-btn gh-btn-hover-blue\"],[16,\"disabled\",[32,0,[\"uploadButtonDisabled\"]]],[24,4,\"submit\"],[4,[38,0],[[32,0],\"upload\"],null],[12],[2,\"\\n    \"],[10,\"span\"],[12],[1,[32,0,[\"uploadButtonText\"]]],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\"]}","meta":{"moduleName":"ghost-admin/components/gh-file-upload.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    _file: null,
    acceptEncoding: null,
    uploadButtonText: 'Text',
    uploadButtonDisabled: true,
    shouldResetForm: true,

    // closure actions
    onUpload() {},

    onAdd() {},

    actions: {
      upload() {
        if (!this.uploadButtonDisabled && this._file) {
          this.onUpload(this._file);
        } // Prevent double post by disabling the button.


        this.set('uploadButtonDisabled', true); // Reset form

        if (this.shouldResetForm) {
          this.element.closest('form').reset();
        }
      }

    },

    change(event) {
      this.set('uploadButtonDisabled', false);
      this.onAdd();
      this._file = event.target.files[0];
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-file-uploader", ["exports", "ghost-admin/services/ajax"], function (_exports, _ajax) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#if this.file}}
      {{!-- Upload in progress! --}}
      {{#if this.failureMessage}}
          <div class="failed">{{this.failureMessage}}</div>
      {{/if}}
      <div class="progress-container">
          <div class="progress">
              <div class="bar {{if this.failureMessage "fail"}}" style={{this.progressStyle}}></div>
          </div>
      </div>
      {{#if this.failureMessage}}
          <button class="gh-btn gh-btn-green" {{action "reset"}} data-test-upload-try-again-button><span>Try Again</span></button>
      {{/if}}
  {{else}}
      <div class="upload-form">
          <GhFileInput @multiple={{false}} @alt={{this.labelText}} @action={{action "fileSelected"}} @accept={{this.accept}}>
              <div class="description">{{this.labelText}}</div>
          </GhFileInput>
      </div>
  {{/if}}
  
  */
  {"id":"gKynkCn4","block":"{\"symbols\":[],\"statements\":[[6,[37,1],[[32,0,[\"file\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[6,[37,1],[[32,0,[\"failureMessage\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,0,\"failed\"],[12],[1,[32,0,[\"failureMessage\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    \"],[10,\"div\"],[14,0,\"progress-container\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"progress\"],[12],[2,\"\\n            \"],[10,\"div\"],[15,0,[31,[\"bar \",[30,[36,1],[[32,0,[\"failureMessage\"]],\"fail\"],null]]]],[15,5,[32,0,[\"progressStyle\"]]],[12],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[6,[37,1],[[32,0,[\"failureMessage\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-green\"],[24,\"data-test-upload-try-again-button\",\"\"],[4,[38,0],[[32,0],\"reset\"],null],[12],[10,\"span\"],[12],[2,\"Try Again\"],[13],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]},{\"statements\":[[2,\"    \"],[10,\"div\"],[14,0,\"upload-form\"],[12],[2,\"\\n        \"],[8,\"gh-file-input\",[],[[\"@multiple\",\"@alt\",\"@action\",\"@accept\"],[false,[32,0,[\"labelText\"]],[30,[36,0],[[32,0],\"fileSelected\"],null],[32,0,[\"accept\"]]]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"div\"],[14,0,\"description\"],[12],[1,[32,0,[\"labelText\"]]],[13],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"action\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-file-uploader.hbs"}});

  const DEFAULTS = {
    accept: ['text/csv'],
    extensions: ['csv']
  };

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    ajax: Ember.inject.service(),
    eventBus: Ember.inject.service(),
    notifications: Ember.inject.service(),
    tagName: 'section',
    classNames: ['gh-image-uploader'],
    classNameBindings: ['dragClass'],
    labelText: 'Select or drag-and-drop a file',
    url: null,
    paramName: 'file',
    accept: null,
    extensions: null,
    validate: null,
    file: null,
    response: null,
    dragClass: null,
    failureMessage: null,
    uploadPercentage: 0,
    // Allowed actions
    fileSelected: () => {},
    uploadStarted: () => {},
    uploadFinished: () => {},
    uploadSuccess: () => {},
    uploadFailed: () => {},
    formData: Ember.computed('file', function () {
      let paramName = this.paramName;
      let file = this.file;
      let formData = new FormData();
      formData.append(paramName, file);
      return formData;
    }),
    progressStyle: Ember.computed('uploadPercentage', function () {
      let percentage = this.uploadPercentage;
      let width = '';

      if (percentage > 0) {
        width = `${percentage}%`;
      } else {
        width = '0';
      }

      return Ember.String.htmlSafe(`width: ${width}`);
    }),

    // we can optionally listen to a named event bus channel so that the upload
    // process can be triggered externally
    init() {
      this._super(...arguments);

      let listenTo = this.listenTo;
      this.accept = this.accept || DEFAULTS.accept;
      this.extensions = this.extensions || DEFAULTS.extensions;

      this._uploadEventHandler = function (file) {
        if (file) {
          this.set('file', file);
        }

        this.send('upload');
      };

      if (listenTo) {
        this.eventBus.subscribe(`${listenTo}:upload`, this, this._uploadEventHandler);
      }
    },

    didReceiveAttrs() {
      this._super(...arguments);

      let accept = this.accept;
      let extensions = this.extensions;
      this._accept = !Ember.isBlank(accept) && !Ember.isArray(accept) ? accept.split(',') : accept;
      this._extensions = !Ember.isBlank(extensions) && !Ember.isArray(extensions) ? extensions.split(',') : extensions;
    },

    willDestroyElement() {
      let listenTo = this.listenTo;

      this._super(...arguments);

      if (listenTo) {
        this.eventBus.unsubscribe(`${listenTo}:upload`, this, this._uploadEventHandler);
      }
    },

    actions: {
      fileSelected(fileList, resetInput) {
        let [file] = Array.from(fileList);

        let validationResult = this._validate(file);

        this.set('file', file);
        this.fileSelected(file);

        if (validationResult === true) {
          Ember.run.schedule('actions', this, function () {
            this.generateRequest();

            if (resetInput) {
              resetInput();
            }
          });
        } else {
          this._uploadFailed(validationResult);

          if (resetInput) {
            resetInput();
          }
        }
      },

      upload() {
        if (this.file) {
          this.generateRequest();
        }
      },

      reset() {
        this.set('file', null);
        this.set('uploadPercentage', 0);
        this.set('failureMessage', null);
      }

    },

    dragOver(event) {
      if (!event.dataTransfer) {
        return;
      } // this is needed to work around inconsistencies with dropping files
      // from Chrome's downloads bar


      if (navigator.userAgent.indexOf('Chrome') > -1) {
        let eA = event.dataTransfer.effectAllowed;
        event.dataTransfer.dropEffect = eA === 'move' || eA === 'linkMove' ? 'move' : 'copy';
      }

      event.stopPropagation();
      event.preventDefault();
      this.set('dragClass', '-drag-over');
    },

    dragLeave(event) {
      event.preventDefault();
      this.set('dragClass', null);
    },

    drop(event) {
      event.preventDefault();
      this.set('dragClass', null);

      if (event.dataTransfer.files) {
        this.send('fileSelected', event.dataTransfer.files);
      }
    },

    generateRequest() {
      let ajax = this.ajax;
      let formData = this.formData;
      let url = this.url;
      this.uploadStarted();
      ajax.post(url, {
        data: formData,
        processData: false,
        contentType: false,
        dataType: 'text',
        xhr: () => {
          let xhr = new window.XMLHttpRequest();
          xhr.upload.addEventListener('progress', event => {
            this._uploadProgress(event);
          }, false);
          return xhr;
        }
      }).then(response => {
        this._uploadSuccess(JSON.parse(response));
      }).catch(error => {
        this._uploadFailed(error);
      }).finally(() => {
        this.uploadFinished();
      });
    },

    _uploadProgress(event) {
      if (event.lengthComputable) {
        Ember.run(() => {
          let percentage = Math.round(event.loaded / event.total * 100);
          this.set('uploadPercentage', percentage);
        });
      }
    },

    _uploadSuccess(response) {
      this.uploadSuccess(response);
      this.send('reset');
    },

    _uploadFailed(error) {
      let message;

      if ((0, _ajax.isVersionMismatchError)(error)) {
        this.notifications.showAPIError(error);
      }

      if ((0, _ajax.isUnsupportedMediaTypeError)(error)) {
        message = 'The file type you uploaded is not supported.';
      } else if ((0, _ajax.isRequestEntityTooLargeError)(error)) {
        message = 'The file you uploaded was larger than the maximum file size your server allows.';
      } else if (error.payload && error.payload.errors && !Ember.isBlank(error.payload.errors[0].message)) {
        message = Ember.String.htmlSafe(error.payload.errors[0].message);
      } else {
        message = 'Something went wrong :(';
      }

      this.set('failureMessage', message);
      this.uploadFailed(error);
    },

    _validate(file) {
      if (this.validate) {
        return this.validate(file);
      } else {
        return this._defaultValidator(file);
      }
    },

    _defaultValidator(file) {
      let [, extension] = /(?:\.([^.]+))?$/.exec(file.name);
      let extensions = this._extensions;

      if (!extension || extensions.indexOf(extension.toLowerCase()) === -1) {
        return new _ajax.UnsupportedMediaTypeError();
      }

      return true;
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-form-group", ["exports", "ghost-admin/components/gh-validation-status-container"], function (_exports, _ghValidationStatusContainer) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _ghValidationStatusContainer.default.extend({
    classNames: 'form-group'
  });

  _exports.default = _default;
});
;define("ghost-admin/components/gh-fullscreen-modal", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <LiquidWormhole @class="fullscreen-modal-container">
      <div class="fullscreen-modal-background" {{action "clickOverlay"}}></div>
      <div class={{this.modalClasses}}>
          {{#if hasBlock}}
            {{yield}}
          {{else}}
            {{component this.modalPath
                        model=this.model
                        confirm=(action 'confirm')
                        closeModal=(action 'close')}}
          {{/if}}
      </div>
  </LiquidWormhole>
  
  */
  {"id":"0WFyzkLq","block":"{\"symbols\":[\"&default\"],\"statements\":[[8,\"liquid-wormhole\",[],[[\"@class\"],[\"fullscreen-modal-container\"]],[[\"default\"],[{\"statements\":[[2,\"\\n    \"],[11,\"div\"],[24,0,\"fullscreen-modal-background\"],[4,[38,0],[[32,0],\"clickOverlay\"],null],[12],[13],[2,\"\\n    \"],[10,\"div\"],[15,0,[32,0,[\"modalClasses\"]]],[12],[2,\"\\n\"],[6,[37,2],[[27,[32,1]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"          \"],[18,1,null],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"          \"],[1,[30,[36,1],[[32,0,[\"modalPath\"]]],[[\"model\",\"confirm\",\"closeModal\"],[[32,0,[\"model\"]],[30,[36,0],[[32,0],\"confirm\"],null],[30,[36,0],[[32,0],\"close\"],null]]]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"component\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-fullscreen-modal.hbs"}});

  const FullScreenModalComponent = Ember.Component.extend({
    dropdown: Ember.inject.service(),
    model: null,
    modifier: null,
    modalPath: Ember.computed('modal', function () {
      return `modal-${this.modal || 'unknown'}`;
    }),
    modalClasses: Ember.computed('modifiers', function () {
      let modalClass = 'fullscreen-modal';
      let modifiers = (this.modifier || '').split(' ');
      let modalClasses = Ember.A([modalClass]);
      modifiers.forEach(modifier => {
        if (!Ember.isBlank(modifier)) {
          let className = `${modalClass}-${modifier}`;
          modalClasses.push(className);
        }
      });
      return modalClasses.join(' ');
    }),

    didInsertElement() {
      Ember.run.schedule('afterRender', this, function () {
        this.dropdown.closeDropdowns();
      });
    },

    actions: {
      close() {
        return this.close();
      },

      confirm() {
        return this.confirm();
      },

      clickOverlay() {
        this.send('close');
      }

    },
    // Allowed actions
    close: () => Ember.RSVP.resolve(),
    confirm: () => Ember.RSVP.resolve()
  });

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, FullScreenModalComponent);

  _exports.default = _default;
});
;define("ghost-admin/components/gh-image-uploader-with-preview", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#if this.image}}
      <div class="gh-image-uploader -with-image">
          <div><img src={{this.image}}></div>
          <a class="image-cancel" title="Delete" {{action "remove"}}>
              {{svg-jar "trash"}}
              <span class="hidden">Delete</span>
          </a>
      </div>
  {{else}}
      <GhImageUploader
          @text={{this.text}}
          @altText={{this.altText}}
          @allowUnsplash={{this.allowUnsplash}}
          @update={{action "update"}}
          @uploadStarted={{action "uploadStarted"}}
          @uploadFinished={{action "uploadFinished"}}
      />
  {{/if}}
  
  */
  {"id":"nupr6oNn","block":"{\"symbols\":[],\"statements\":[[6,[37,2],[[32,0,[\"image\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"    \"],[10,\"div\"],[14,0,\"gh-image-uploader -with-image\"],[12],[2,\"\\n        \"],[10,\"div\"],[12],[10,\"img\"],[15,\"src\",[32,0,[\"image\"]]],[12],[13],[13],[2,\"\\n        \"],[11,\"a\"],[24,0,\"image-cancel\"],[24,\"title\",\"Delete\"],[4,[38,0],[[32,0],\"remove\"],null],[12],[2,\"\\n            \"],[1,[30,[36,1],[\"trash\"],null]],[2,\"\\n            \"],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Delete\"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"    \"],[8,\"gh-image-uploader\",[],[[\"@text\",\"@altText\",\"@allowUnsplash\",\"@update\",\"@uploadStarted\",\"@uploadFinished\"],[[32,0,[\"text\"]],[32,0,[\"altText\"]],[32,0,[\"allowUnsplash\"]],[30,[36,0],[[32,0],\"update\"],null],[30,[36,0],[[32,0],\"uploadStarted\"],null],[30,[36,0],[[32,0],\"uploadFinished\"],null]]],null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-image-uploader-with-preview.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    allowUnsplash: false,
    actions: {
      update() {
        let action = this.update;

        if (action) {
          action(...arguments);
        }
      },

      uploadStarted() {
        let action = this.uploadStarted;

        if (action) {
          action(...arguments);
        }
      },

      uploadFinished() {
        let action = this.uploadFinished;

        if (action) {
          action(...arguments);
        }
      },

      remove() {
        let action = this.remove;

        if (action) {
          action();
        }
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-image-uploader", ["exports", "ghost-admin/utils/ghost-paths", "ghost-admin/services/ajax"], function (_exports, _ghostPaths, _ajax) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = _exports.IMAGE_PARAMS = _exports.IMAGE_EXTENSIONS = _exports.IMAGE_MIME_TYPES = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#if this.file}}
      {{!-- Upload in progress! --}}
      {{#if this.failureMessage}}
          <div class="failed">{{this.failureMessage}}</div>
      {{/if}}
      <div class="progress-container">
          <div class="progress">
              <div class="bar {{if this.failureMessage "fail"}}" style={{this.progressStyle}}></div>
          </div>
      </div>
      {{#if this.failureMessage}}
          <button class="gh-btn gh-btn-green" {{action "reset"}}><span>Try Again</span></button>
      {{/if}}
  {{else}}
      {{!-- file selection/drag-n-drop  --}}
      <div class="upload-form">
          <GhFileInput @multiple={{false}} @alt={{this.description}} @action={{action "fileSelected"}} @accept={{this.accept}}>
              <div class="gh-btn gh-btn-outline" data-test-file-input-description><span>{{this.description}}</span></div>
          </GhFileInput>
  
          {{#if (and this.allowUnsplash this.settings.unsplash.isActive)}}
              <div class="gh-image-uploader-unsplash" {{action (toggle "_showUnsplash" this)}}>
                  {{svg-jar "unsplash"}}
              </div>
          {{/if}}
      </div>
  {{/if}}
  
  {{#if this._showUnsplash}}
      <GhUnsplash
          @select={{action "addUnsplashPhoto"}}
          @close={{action (toggle "_showUnsplash" this)}}
      />
  {{/if}}
  
  */
  {"id":"ZQYNV7pr","block":"{\"symbols\":[],\"statements\":[[6,[37,4],[[32,0,[\"file\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[6,[37,4],[[32,0,[\"failureMessage\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,0,\"failed\"],[12],[1,[32,0,[\"failureMessage\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    \"],[10,\"div\"],[14,0,\"progress-container\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"progress\"],[12],[2,\"\\n            \"],[10,\"div\"],[15,0,[31,[\"bar \",[30,[36,4],[[32,0,[\"failureMessage\"]],\"fail\"],null]]]],[15,5,[32,0,[\"progressStyle\"]]],[12],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[6,[37,4],[[32,0,[\"failureMessage\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-green\"],[4,[38,0],[[32,0],\"reset\"],null],[12],[10,\"span\"],[12],[2,\"Try Again\"],[13],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]},{\"statements\":[[2,\"    \"],[10,\"div\"],[14,0,\"upload-form\"],[12],[2,\"\\n        \"],[8,\"gh-file-input\",[],[[\"@multiple\",\"@alt\",\"@action\",\"@accept\"],[false,[32,0,[\"description\"]],[30,[36,0],[[32,0],\"fileSelected\"],null],[32,0,[\"accept\"]]]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-btn gh-btn-outline\"],[14,\"data-test-file-input-description\",\"\"],[12],[10,\"span\"],[12],[1,[32,0,[\"description\"]]],[13],[13],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[6,[37,4],[[30,[36,3],[[32,0,[\"allowUnsplash\"]],[32,0,[\"settings\",\"unsplash\",\"isActive\"]]],null]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[11,\"div\"],[24,0,\"gh-image-uploader-unsplash\"],[4,[38,0],[[32,0],[30,[36,1],[\"_showUnsplash\",[32,0]],null]],null],[12],[2,\"\\n                \"],[1,[30,[36,2],[\"unsplash\"],null]],[2,\"\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,4],[[32,0,[\"_showUnsplash\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-unsplash\",[],[[\"@select\",\"@close\"],[[30,[36,0],[[32,0],\"addUnsplashPhoto\"],null],[30,[36,0],[[32,0],[30,[36,1],[\"_showUnsplash\",[32,0]],null]],null]]],null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"action\",\"toggle\",\"svg-jar\",\"and\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-image-uploader.hbs"}});

  const IMAGE_MIME_TYPES = 'image/gif,image/jpg,image/jpeg,image/png,image/svg+xml';
  _exports.IMAGE_MIME_TYPES = IMAGE_MIME_TYPES;
  const IMAGE_EXTENSIONS = ['gif', 'jpg', 'jpeg', 'png', 'svg'];
  _exports.IMAGE_EXTENSIONS = IMAGE_EXTENSIONS;
  const IMAGE_PARAMS = {
    purpose: 'image'
  };
  _exports.IMAGE_PARAMS = IMAGE_PARAMS;

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    ajax: Ember.inject.service(),
    config: Ember.inject.service(),
    notifications: Ember.inject.service(),
    settings: Ember.inject.service(),
    tagName: 'section',
    classNames: ['gh-image-uploader'],
    classNameBindings: ['dragClass'],
    image: null,
    text: '',
    altText: '',
    saveButton: true,
    accept: '',
    extensions: null,
    uploadUrl: null,
    paramName: 'file',
    paramsHash: null,
    resourceName: 'images',
    validate: null,
    allowUnsplash: false,
    dragClass: null,
    failureMessage: null,
    file: null,
    url: null,
    uploadPercentage: 0,
    _defaultAccept: IMAGE_MIME_TYPES,
    _defaultExtensions: IMAGE_EXTENSIONS,
    _defaultUploadUrl: '/images/upload/',
    _defaultParamsHash: IMAGE_PARAMS,
    _showUnsplash: false,
    // Allowed actions
    fileSelected: () => {},
    update: () => {},
    uploadStarted: () => {},
    uploadFinished: () => {},
    uploadSuccess: () => {},
    uploadFailed: () => {},
    // TODO: this wouldn't be necessary if the server could accept direct
    // file uploads
    formData: Ember.computed('file', function () {
      let file = this.file;
      let formData = new FormData();
      formData.append(this.paramName, file);
      Object.keys(this.paramsHash || {}).forEach(key => {
        formData.append(key, this.paramsHash[key]);
      });
      return formData;
    }),
    description: Ember.computed('text', 'altText', function () {
      let altText = this.altText;
      return this.text || (altText ? `Upload image of "${altText}"` : 'Upload an image');
    }),
    progressStyle: Ember.computed('uploadPercentage', function () {
      let percentage = this.uploadPercentage;
      let width = '';

      if (percentage > 0) {
        width = `${percentage}%`;
      } else {
        width = '0';
      }

      return Ember.String.htmlSafe(`width: ${width}`);
    }),

    init() {
      this._super(...arguments);

      if (!this.accept) {
        this.set('accept', this._defaultAccept);
      }

      if (!this.extensions) {
        this.set('extensions', this._defaultExtensions);
      }

      if (!this.uploadUrl) {
        this.set('uploadUrl', this._defaultUploadUrl);
      }

      if (!this.paramsHash) {
        this.set('paramsHash', this._defaultParamsHash);
      }
    },

    didReceiveAttrs() {
      let image = this.image;
      this.set('url', image);
    },

    actions: {
      fileSelected(fileList, resetInput) {
        // can't use array destructuring here as FileList is not a strict
        // array and fails in Safari
        let file = fileList[0];

        let validationResult = this._validate(file);

        this.set('file', file);
        this.fileSelected(file);

        if (validationResult === true) {
          Ember.run.schedule('actions', this, function () {
            this.generateRequest();

            if (resetInput) {
              resetInput();
            }
          });
        } else {
          this._uploadFailed(validationResult);

          if (resetInput) {
            resetInput();
          }
        }
      },

      addUnsplashPhoto({
        src
      }) {
        this.set('url', src);
        this.send('saveUrl');
      },

      reset() {
        this.set('file', null);
        this.set('uploadPercentage', 0);
      },

      saveUrl() {
        let url = this.url;
        this.update(url);
      }

    },

    dragOver(event) {
      if (!event.dataTransfer) {
        return;
      } // this is needed to work around inconsistencies with dropping files
      // from Chrome's downloads bar


      if (navigator.userAgent.indexOf('Chrome') > -1) {
        let eA = event.dataTransfer.effectAllowed;
        event.dataTransfer.dropEffect = eA === 'move' || eA === 'linkMove' ? 'move' : 'copy';
      }

      event.stopPropagation();
      event.preventDefault();
      this.set('dragClass', '-drag-over');
    },

    dragLeave(event) {
      event.preventDefault();
      this.set('dragClass', null);
    },

    drop(event) {
      event.preventDefault();
      this.set('dragClass', null);

      if (event.dataTransfer.files) {
        this.send('fileSelected', event.dataTransfer.files);
      }
    },

    _uploadProgress(event) {
      if (event.lengthComputable) {
        Ember.run(() => {
          let percentage = Math.round(event.loaded / event.total * 100);
          this.set('uploadPercentage', percentage);
        });
      }
    },

    _uploadSuccess(response) {
      let uploadResponse;
      let responseUrl;

      try {
        uploadResponse = JSON.parse(response);
      } catch (e) {
        if (!(e instanceof SyntaxError)) {
          throw e;
        }
      }

      if (uploadResponse) {
        let resource = Ember.get(uploadResponse, this.resourceName);

        if (resource && Ember.isArray(resource) && resource[0]) {
          responseUrl = Ember.get(resource[0], 'url');
        }
      }

      this.set('url', responseUrl);
      this.send('saveUrl');
      this.send('reset');
      this.uploadSuccess(responseUrl);
    },

    _uploadFailed(error) {
      let message;

      if ((0, _ajax.isVersionMismatchError)(error)) {
        this.notifications.showAPIError(error);
      }

      if ((0, _ajax.isUnsupportedMediaTypeError)(error)) {
        let validExtensions = this.extensions.join(', .').toUpperCase();
        validExtensions = `.${validExtensions}`;
        message = `The image type you uploaded is not supported. Please use ${validExtensions}`;
      } else if ((0, _ajax.isRequestEntityTooLargeError)(error)) {
        message = 'The image you uploaded was larger than the maximum file size your server allows.';
      } else if (error.payload.errors && !Ember.isBlank(error.payload.errors[0].message)) {
        message = error.payload.errors[0].message;
      } else {
        message = 'Something went wrong :(';
      }

      this.set('failureMessage', message);
      this.uploadFailed(error);
    },

    generateRequest() {
      let ajax = this.ajax;
      let formData = this.formData;
      let uploadUrl = this.uploadUrl; // CASE: we want to upload an icon and we have to POST it to a different endpoint, expecially for icons

      let url = `${(0, _ghostPaths.default)().apiRoot}${uploadUrl}`;
      this.uploadStarted();
      ajax.post(url, {
        data: formData,
        processData: false,
        contentType: false,
        dataType: 'text',
        xhr: () => {
          let xhr = new window.XMLHttpRequest();
          xhr.upload.addEventListener('progress', event => {
            this._uploadProgress(event);
          }, false);
          return xhr;
        }
      }).then(response => {
        this._uploadSuccess(response);
      }).catch(error => {
        this._uploadFailed(error);
      }).finally(() => {
        this.uploadFinished();
      });
    },

    _validate(file) {
      if (this.validate) {
        return this.validate(file);
      } else {
        return this._defaultValidator(file);
      }
    },

    _defaultValidator(file) {
      let extensions = this.extensions;
      let [, extension] = /(?:\.([^.]+))?$/.exec(file.name);

      if (!Ember.isArray(extensions)) {
        extensions = extensions.split(',');
      }

      if (!extension || extensions.indexOf(extension.toLowerCase()) === -1) {
        return new _ajax.UnsupportedMediaTypeError();
      }

      return true;
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-infinity-loader", ["exports", "ember-infinity/components/infinity-loader"], function (_exports, _infinityLoader) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#if this.isVisible}}
      <div
          {{did-insert this.didInsertLoader this}}
          class="{{this.loaderClassNames}}{{if this.viewportEntered " in-viewport"}}{{if this.isDoneLoading " reached-infinity"}}"
          data-test-infinity-loader>
  
          {{#if hasBlock}}
              {{yield this.infinityModelContent}}
          {{else}}
              {{#if this.isDoneLoading}}
              {{else}}
                  <div class="gh-loading-spinner"></div>
              {{/if}}
          {{/if}}
      </div>
  {{/if}}
  */
  {"id":"2iZS7H5q","block":"{\"symbols\":[\"&default\"],\"statements\":[[6,[37,0],[[32,0,[\"isVisible\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[11,\"div\"],[16,0,[31,[[32,0,[\"loaderClassNames\"]],[30,[36,0],[[32,0,[\"viewportEntered\"]],\" in-viewport\"],null],[30,[36,0],[[32,0,[\"isDoneLoading\"]],\" reached-infinity\"],null]]]],[24,\"data-test-infinity-loader\",\"\"],[4,[38,1],[[32,0,[\"didInsertLoader\"]],[32,0]],null],[12],[2,\"\\n\\n\"],[6,[37,0],[[27,[32,1]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"            \"],[18,1,[[32,0,[\"infinityModelContent\"]]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,0],[[32,0,[\"isDoneLoading\"]]],null,[[\"default\",\"else\"],[{\"statements\":[],\"parameters\":[]},{\"statements\":[[2,\"                \"],[10,\"div\"],[14,0,\"gh-loading-spinner\"],[12],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"if\",\"did-insert\"]}","meta":{"moduleName":"ghost-admin/components/gh-infinity-loader.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _infinityLoader.default.extend());

  _exports.default = _default;
});
;define("ghost-admin/components/gh-koenig-editor", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{!-- full height content pane --}}
  <div
      class="gh-koenig-editor-pane flex flex-column mih-100"
      onmousedown={{action "trackMousedown"}}
      onmouseup={{action "focusEditor"}}
  >
      <GhTextarea
          @class="gh-editor-title"
          @placeholder={{this.titlePlaceholder}}
          @tabindex="1"
          @autoExpand=".gh-koenig-editor"
          @value={{readonly this.title}}
          @input={{action "onTitleChange" value="target.value"}}
          @focus-out={{action "onTitleFocusOut"}}
          @keyDown={{action "onTitleKeydown"}}
          @didCreateTextarea={{action "onTitleCreated"}} data-test-editor-title-input={{true}}
      />
  
      <KoenigEditor
          @mobiledoc={{this.body}}
          @placeholder={{this.bodyPlaceholder}}
          @autofocus={{this.bodyAutofocus}}
          @spellcheck={{true}}
          @onChange={{action "onBodyChange"}}
          @didCreateEditor={{action "onEditorCreated"}}
          @cursorDidExitAtTop={{action "focusTitle"}}
          @headerOffset={{this.headerOffset}}
          @dropTargetSelector=".gh-koenig-editor-pane"
          @scrollContainerSelector={{this.scrollContainerSelector}}
          @scrollOffsetTopSelector={{this.scrollOffsetTopSelector}}
          @scrollOffsetBottomSelector={{this.scrollOffsetBottomSelector}}
          @wordCountDidChange={{action this.onWordCountChange}}
      />
  </div>
  */
  {"id":"u/BWFlCw","block":"{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"gh-koenig-editor-pane flex flex-column mih-100\"],[15,\"onmousedown\",[30,[36,0],[[32,0],\"trackMousedown\"],null]],[15,\"onmouseup\",[30,[36,0],[[32,0],\"focusEditor\"],null]],[12],[2,\"\\n    \"],[8,\"gh-textarea\",[[16,\"data-test-editor-title-input\",true]],[[\"@class\",\"@placeholder\",\"@tabindex\",\"@autoExpand\",\"@value\",\"@input\",\"@focus-out\",\"@keyDown\",\"@didCreateTextarea\"],[\"gh-editor-title\",[32,0,[\"titlePlaceholder\"]],\"1\",\".gh-koenig-editor\",[30,[36,1],[[32,0,[\"title\"]]],null],[30,[36,0],[[32,0],\"onTitleChange\"],[[\"value\"],[\"target.value\"]]],[30,[36,0],[[32,0],\"onTitleFocusOut\"],null],[30,[36,0],[[32,0],\"onTitleKeydown\"],null],[30,[36,0],[[32,0],\"onTitleCreated\"],null]]],null],[2,\"\\n\\n    \"],[8,\"koenig-editor\",[],[[\"@mobiledoc\",\"@placeholder\",\"@autofocus\",\"@spellcheck\",\"@onChange\",\"@didCreateEditor\",\"@cursorDidExitAtTop\",\"@headerOffset\",\"@dropTargetSelector\",\"@scrollContainerSelector\",\"@scrollOffsetTopSelector\",\"@scrollOffsetBottomSelector\",\"@wordCountDidChange\"],[[32,0,[\"body\"]],[32,0,[\"bodyPlaceholder\"]],[32,0,[\"bodyAutofocus\"]],true,[30,[36,0],[[32,0],\"onBodyChange\"],null],[30,[36,0],[[32,0],\"onEditorCreated\"],null],[30,[36,0],[[32,0],\"focusTitle\"],null],[32,0,[\"headerOffset\"]],\".gh-koenig-editor-pane\",[32,0,[\"scrollContainerSelector\"]],[32,0,[\"scrollOffsetTopSelector\"]],[32,0,[\"scrollOffsetBottomSelector\"]],[30,[36,0],[[32,0],[32,0,[\"onWordCountChange\"]]],null]]],null],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"action\",\"readonly\"]}","meta":{"moduleName":"ghost-admin/components/gh-koenig-editor.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    // public attrs
    classNames: ['gh-koenig-editor', 'relative', 'w-100', 'vh-100', 'overflow-x-hidden', 'overflow-y-auto', 'z-0'],
    title: '',
    titlePlaceholder: '',
    body: null,
    bodyPlaceholder: '',
    bodyAutofocus: false,
    // internal properties
    _title: null,
    _editor: null,
    _mousedownY: 0,

    // closure actions
    onTitleChange() {},

    onTitleBlur() {},

    onBodyChange() {},

    onEditorCreated() {},

    onWordCountChange() {},

    actions: {
      focusTitle() {
        this._title.focus();
      },

      // triggered when a mousedown is registered on .gh-koenig-editor-pane
      trackMousedown(event) {
        this._mousedownY = event.clientY;
      },

      // triggered when a mouseup is registered on .gh-koenig-editor-pane
      focusEditor(event) {
        if (event.target.classList.contains('gh-koenig-editor-pane')) {
          let editorCanvas = this._editor.element;
          let {
            bottom
          } = editorCanvas.getBoundingClientRect(); // if a mousedown and subsequent mouseup occurs below the editor
          // canvas, focus the editor and put the cursor at the end of the
          // document

          if (this._mousedownY > bottom && event.clientY > bottom) {
            let {
              post
            } = this._editor;
            let range = post.toRange();
            let {
              tailSection
            } = range;
            event.preventDefault();

            this._editor.focus(); // we should always have a visible cursor when focusing
            // at the bottom so create an empty paragraph if last
            // section is a card


            if (tailSection.isCardSection) {
              this._editor.run(postEditor => {
                let newSection = postEditor.builder.createMarkupSection('p');
                postEditor.insertSectionAtEnd(newSection);
                tailSection = newSection;
              });
            }

            this._editor.selectRange(tailSection.tailPosition()); // ensure we're scrolled to the bottom


            this.element.scrollTop = this.element.scrollHeight;
          }
        }
      },

      /* title related actions -------------------------------------------- */
      onTitleCreated(titleElement) {
        this._title = titleElement;
      },

      onTitleChange(newTitle) {
        this.onTitleChange(newTitle);
      },

      onTitleFocusOut() {
        this.onTitleBlur();
      },

      onTitleKeydown(event) {
        let value = event.target.value;
        let selectionStart = event.target.selectionStart; // enter will always focus the editor
        // down arrow will only focus the editor when the cursor is at the
        // end of the input to preserve the default OS behaviour

        if (event.key === 'Enter' || event.key === 'Tab' || (event.key === 'ArrowDown' || event.key === 'ArrowRight') && (!value || selectionStart === value.length)) {
          event.preventDefault(); // on Enter we also want to create a blank para if necessary

          if (event.key === 'Enter') {
            this._addParaAtTop();
          }

          this._editor.focus();
        }
      },

      /* body related actions --------------------------------------------- */
      onEditorCreated(koenig) {
        this._setupEditor(koenig);

        this.onEditorCreated(koenig);
      },

      onBodyChange(newMobiledoc) {
        this.onBodyChange(newMobiledoc);
      }

    },

    /* public methods ------------------------------------------------------- */

    /* internal methods ----------------------------------------------------- */
    _setupEditor(koenig) {
      let component = this;
      this._koenig = koenig;
      this._editor = koenig.editor; // focus the title when pressing SHIFT+TAB

      this._editor.registerKeyCommand({
        str: 'SHIFT+TAB',

        run() {
          component.send('focusTitle');
          return true;
        }

      });
    },

    _addParaAtTop() {
      if (!this._editor) {
        return;
      }

      let editor = this._editor;
      let section = editor.post.toRange().head.section; // create a blank paragraph at the top of the editor unless it's already
      // a blank paragraph

      if (section.isListItem || !section.isBlank || section.text !== '') {
        editor.run(postEditor => {
          let {
            builder
          } = postEditor;
          let newPara = builder.createMarkupSection('p');
          let sections = section.isListItem ? section.parent.parent.sections : section.parent.sections;
          postEditor.insertSectionBefore(sections, newPara, section);
        });
      }
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-link-to-custom-views-index", ["exports", "@glimmer/component"], function (_exports, _component) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _class, _descriptor, _descriptor2, _temp;

  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <LinkTo
      @route={{@route}}
      @query={{this.resetQuery}}
      @current-when={{this.isActive}}
      {{did-insert this.watchRouterEvents}}
      {{will-destroy this.unwatchRouterEvents}}
      ...attributes
  >
      {{yield}}
  </LinkTo>
  */
  {"id":"j4SPF9zu","block":"{\"symbols\":[\"@route\",\"&attrs\",\"&default\"],\"statements\":[[8,\"link-to\",[[17,2],[4,[38,0],[[32,0,[\"watchRouterEvents\"]]],null],[4,[38,1],[[32,0,[\"unwatchRouterEvents\"]]],null]],[[\"@route\",\"@query\",\"@current-when\"],[[32,1],[32,0,[\"resetQuery\"]],[32,0,[\"isActive\"]]]],[[\"default\"],[{\"statements\":[[2,\"\\n    \"],[18,3,null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"did-insert\",\"will-destroy\"]}","meta":{"moduleName":"ghost-admin/components/gh-link-to-custom-views-index.hbs"}});

  let GhCustomViewsIndexLinkComponent = (_class = (_temp = class GhCustomViewsIndexLinkComponent extends _component.default {
    constructor(...args) {
      super(...args);

      _initializerDefineProperty(this, "customViews", _descriptor, this);

      _initializerDefineProperty(this, "router", _descriptor2, this);

      _defineProperty(this, "_forceReset", false);

      _defineProperty(this, "_lastIsActive", false);
    }

    watchRouterEvents() {
      this.router.on('routeWillChange', this.handleRouteWillChange);
    }

    unwatchRouterEvents() {
      this.router.off('routeWillChange', this.handleRouteWillChange);
    } // the top-level custom nav link will reset the filter if you're currently
    // viewing the associated screen. However, the filter will be remembered by
    // Ember automatically if you leave the screen and come back. This causes
    // odd behaviour in the nav if you were on a custom view, go to another
    // screen, then click back on the top-level nav link as you'll jump from
    // the top-level nav to the custom view.
    //
    // to get around this we keep track of the transitions so that we can force
    // the link to be a "reset" link any time navigation occurs from a custom
    // view to an unassociated screen


    handleRouteWillChange({
      from,
      to
    }) {
      let normalizedToRoute = to && to.name.replace(/_loading$/, '');

      if (from && from.name === this.args.route && normalizedToRoute !== this.args.route) {
        if (this.customViews.activeView && this.customViews.activeView.route === this.args.route) {
          this._forceReset = true;
        }
      }

      if (normalizedToRoute === this.args.route) {
        this._forceReset = false;
      }
    }

    get isActive() {
      if (this.router.currentRouteName.match(/_loading$/)) {
        return this._lastIsActive;
      }

      let currentRouteName = this.router.currentRouteName.replace(/_loading$/, '');
      this._lastIsActive = currentRouteName === this.args.route && !this.customViews.activeView;
      return this._lastIsActive;
    }

    get resetQuery() {
      if (this._forceReset || this.router.currentRouteName === this.args.route) {
        return this.args.query;
      }

      return undefined;
    }

  }, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, "customViews", [Ember.inject.service], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, "router", [Ember.inject.service], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _applyDecoratedDescriptor(_class.prototype, "watchRouterEvents", [Ember._action], Object.getOwnPropertyDescriptor(_class.prototype, "watchRouterEvents"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, "unwatchRouterEvents", [Ember._action], Object.getOwnPropertyDescriptor(_class.prototype, "unwatchRouterEvents"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, "handleRouteWillChange", [Ember._action], Object.getOwnPropertyDescriptor(_class.prototype, "handleRouteWillChange"), _class.prototype)), _class);
  _exports.default = GhCustomViewsIndexLinkComponent;

  Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, GhCustomViewsIndexLinkComponent);
});
;define("ghost-admin/components/gh-loading-list", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <ol class="gh-list loading">
      <li class="gh-list-row header">
          <div class="gh-list-header">
              <div class="bg-lightgrey w20 h3"></div>
          </div>
      </li>
  
      <li class="gh-list-row loading">
          <div class="gh-list-data gh-list-loadingcell">
              <div class="gh-list-loading-title"></div>
              <div class="gh-list-loading-detail"></div>
          </div>
      </li>
  
      <li class="gh-list-row loading">
          <div class="gh-list-data gh-list-loadingcell">
              <div class="gh-list-loading-title"></div>
              <div class="gh-list-loading-detail"></div>
          </div>
      </li>
  
      <li class="gh-list-row loading">
          <div class="gh-list-data gh-list-loadingcell">
              <div class="gh-list-loading-title"></div>
              <div class="gh-list-loading-detail"></div>
          </div>
      </li>
  </ol>
  */
  {"id":"QJRDGDrE","block":"{\"symbols\":[],\"statements\":[[10,\"ol\"],[14,0,\"gh-list loading\"],[12],[2,\"\\n    \"],[10,\"li\"],[14,0,\"gh-list-row header\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-list-header\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"bg-lightgrey w20 h3\"],[12],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"li\"],[14,0,\"gh-list-row loading\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-list-data gh-list-loadingcell\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-list-loading-title\"],[12],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-list-loading-detail\"],[12],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"li\"],[14,0,\"gh-list-row loading\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-list-data gh-list-loadingcell\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-list-loading-title\"],[12],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-list-loading-detail\"],[12],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"li\"],[14,0,\"gh-list-row loading\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-list-data gh-list-loadingcell\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-list-loading-title\"],[12],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-list-loading-detail\"],[12],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-loading-list.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember._templateOnlyComponent());

  _exports.default = _default;
});
;define("ghost-admin/components/gh-loading-spinner", ["exports", "ember-concurrency"], function (_exports, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#if this.showSpinner}}
      <div class="gh-loading-content">
          <div class="gh-loading-spinner"></div>
      </div>
  {{/if}}
  */
  {"id":"AjE5euby","block":"{\"symbols\":[],\"statements\":[[6,[37,0],[[32,0,[\"showSpinner\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[10,\"div\"],[14,0,\"gh-loading-content\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-loading-spinner\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-loading-spinner.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    tagName: '',
    showSpinner: false,
    // ms until the loader is displayed,
    // prevents unnecessary flash of spinner
    slowLoadTimeout: 200,

    didInsertElement() {
      this.startSpinnerTimeout.perform();
    },

    startSpinnerTimeout: (0, _emberConcurrency.task)(function* () {
      yield (0, _emberConcurrency.timeout)(this.slowLoadTimeout);
      this.set('showSpinner', true);
    })
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-markdown-editor", ["exports", "ghost-admin/mixins/shortcuts", "ghost-admin/utils/ctrl-or-cmd", "ghost-admin/utils/format-markdown"], function (_exports, _shortcuts, _ctrlOrCmd, _formatMarkdown) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{yield (hash
      editor=(component "gh-simplemde"
          value=this.markdown
          placeholder=this.placeholder
          autofocus=this.autofocus
          onChange=(action "updateMarkdown")
          onFocus=(action "updateFocusState" true)
          onBlur=(action "updateFocusState" false)
          onEditorInit=(action "setEditor")
          options=this.simpleMDEOptions)
      isFullScreen=this._isFullScreen
      isSplitScreen=this._isSplitScreen
      focus=(action "focusEditor")
  )}}
  
  <div style="display:none">
      <GhFileInput
          @multiple={{true}}
          @action={{action this.onImageFilesSelected}}
          @accept={{this.imageMimeTypes}} />
  </div>
  
  {{#if this._showUnsplash}}
      <GhUnsplash
          @select={{action "insertUnsplashPhoto"}}
          @close={{action "toggleUnsplash"}} />
  {{/if}}
  
  {{#if this.showMarkdownHelp}}
      <GhFullscreenModal @modal="markdown-help"
          @close={{action "toggleMarkdownHelp"}}
          @modifier="wide" />
  {{/if}}
  
  */
  {"id":"IourFveJ","block":"{\"symbols\":[\"&default\"],\"statements\":[[18,1,[[30,[36,2],null,[[\"editor\",\"isFullScreen\",\"isSplitScreen\",\"focus\"],[[30,[36,1],[\"gh-simplemde\"],[[\"value\",\"placeholder\",\"autofocus\",\"onChange\",\"onFocus\",\"onBlur\",\"onEditorInit\",\"options\"],[[32,0,[\"markdown\"]],[32,0,[\"placeholder\"]],[32,0,[\"autofocus\"]],[30,[36,0],[[32,0],\"updateMarkdown\"],null],[30,[36,0],[[32,0],\"updateFocusState\",true],null],[30,[36,0],[[32,0],\"updateFocusState\",false],null],[30,[36,0],[[32,0],\"setEditor\"],null],[32,0,[\"simpleMDEOptions\"]]]]],[32,0,[\"_isFullScreen\"]],[32,0,[\"_isSplitScreen\"]],[30,[36,0],[[32,0],\"focusEditor\"],null]]]]]],[2,\"\\n\\n\"],[10,\"div\"],[14,5,\"display:none\"],[12],[2,\"\\n    \"],[8,\"gh-file-input\",[],[[\"@multiple\",\"@action\",\"@accept\"],[true,[30,[36,0],[[32,0],[32,0,[\"onImageFilesSelected\"]]],null],[32,0,[\"imageMimeTypes\"]]]],null],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[6,[37,3],[[32,0,[\"_showUnsplash\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-unsplash\",[],[[\"@select\",\"@close\"],[[30,[36,0],[[32,0],\"insertUnsplashPhoto\"],null],[30,[36,0],[[32,0],\"toggleUnsplash\"],null]]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,3],[[32,0,[\"showMarkdownHelp\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@close\",\"@modifier\"],[\"markdown-help\",[30,[36,0],[[32,0],\"toggleMarkdownHelp\"],null],\"wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"action\",\"component\",\"hash\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-markdown-editor.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend(_shortcuts.default, {
    config: Ember.inject.service(),
    notifications: Ember.inject.service(),
    settings: Ember.inject.service(),
    classNames: ['gh-markdown-editor'],
    classNameBindings: ['_isFullScreen:gh-markdown-editor-full-screen', '_isSplitScreen:gh-markdown-editor-side-by-side'],
    // Public attributes
    autofocus: false,
    imageMimeTypes: null,
    isFullScreen: false,
    markdown: null,
    options: null,
    placeholder: '',
    showMarkdownHelp: false,
    uploadedImageUrls: null,
    enableSideBySide: true,
    enablePreview: true,
    enableHemingway: true,
    shortcuts: null,
    // Private
    _editor: null,
    _editorFocused: false,
    _isFullScreen: false,
    _isSplitScreen: false,
    _isHemingwayMode: false,
    _isUploading: false,
    _showUnsplash: false,
    _uploadedImageUrls: null,

    // Closure actions
    onChange() {},

    onFullScreenToggle() {},

    onImageFilesSelected() {},

    onPreviewToggle() {},

    onSplitScreenToggle() {},

    simpleMDEOptions: Ember.computed('options', function () {
      let options = this.options || {};
      let defaultOptions = {
        // use our Showdown config with sanitization for previews
        previewRender(markdown) {
          return (0, _formatMarkdown.default)(markdown);
        },

        // Ghost-specific SimpleMDE toolbar config - allows us to create a
        // bridge between SimpleMDE buttons and Ember actions
        toolbar: ['bold', 'italic', 'heading', '|', 'quote', 'unordered-list', 'ordered-list', '|', 'link', {
          name: 'image',
          action: () => {
            this._openImageFileDialog();
          },
          className: 'fa fa-picture-o',
          title: 'Upload Image(s)'
        }, '|', {
          name: 'preview',
          action: () => {
            this._togglePreview();
          },
          className: 'fa fa-eye no-disable',
          title: 'Render Preview (Ctrl-Alt-R)',
          useCtrlOnMac: true
        }, {
          name: 'side-by-side',
          action: () => {
            this.send('toggleSplitScreen');
          },
          className: 'fa fa-columns no-disable no-mobile',
          title: 'Side-by-side Preview (Ctrl-Alt-P)',
          useCtrlOnMac: true
        }, '|', {
          name: 'spellcheck',
          action: () => {
            this._toggleSpellcheck();
          },
          className: 'fa fa-check',
          title: 'Spellcheck (Ctrl-Alt-S)',
          useCtrlOnMac: true
        }, {
          name: 'hemingway',
          action: () => {
            this._toggleHemingway();
          },
          className: 'fa fa-h-square',
          title: 'Hemingway Mode (Ctrl-Alt-H)',
          useCtrlOnMac: true
        }, {
          name: 'guide',
          action: () => {
            this.send('toggleMarkdownHelp');
          },
          className: 'fa fa-question-circle',
          title: 'Markdown Guide'
        }],
        // disable shortcuts for side-by-side and fullscreen because they
        // trigger interal SimpleMDE methods that will result in broken
        // layouts
        shortcuts: {
          toggleFullScreen: null,
          togglePreview: null,
          toggleSideBySide: null,
          drawImage: null
        },
        // only include the number of words in the status bar
        status: ['words']
      };
      let toolbar = defaultOptions.toolbar;

      if (!this.enableSideBySide) {
        let sideBySide = toolbar.findBy('name', 'side-by-side');
        let index = toolbar.indexOf(sideBySide);
        toolbar.splice(index, 1);
      }

      if (!this.enablePreview) {
        let preview = toolbar.findBy('name', 'preview');
        let index = toolbar.indexOf(preview);
        toolbar.splice(index, 1);
      }

      if (!this.enableHemingway) {
        let hemingway = toolbar.findBy('name', 'hemingway');
        let index = toolbar.indexOf(hemingway);
        toolbar.splice(index, 1);
      }

      if (this.get('settings.unsplash.isActive')) {
        let image = toolbar.findBy('name', 'image');
        let index = toolbar.indexOf(image) + 1;
        toolbar.splice(index, 0, {
          name: 'unsplash',
          action: () => {
            this.send('toggleUnsplash');
          },
          className: 'fa fa-camera',
          title: 'Add Image from Unsplash'
        });
      }

      let lastItem = null;
      toolbar.forEach((item, index) => {
        if (item === '|' && item === lastItem) {
          toolbar[index] = null;
        }

        lastItem = item;
      });
      defaultOptions.toolbar = toolbar.filter(Boolean);
      return Ember.assign(defaultOptions, options);
    }),

    init() {
      this._super(...arguments);

      let shortcuts = {};
      shortcuts[`${_ctrlOrCmd.default}+shift+i`] = {
        action: 'openImageFileDialog'
      };
      shortcuts['ctrl+alt+s'] = {
        action: 'toggleSpellcheck'
      };

      if (this.enablePreview) {
        shortcuts['ctrl+alt+r'] = {
          action: 'togglePreview'
        };
      }

      if (this.enableSideBySide) {
        shortcuts['ctrl+alt+p'] = {
          action: 'toggleSplitScreen'
        };
      }

      if (this.enableHemingway) {
        shortcuts['ctrl+alt+h'] = {
          action: 'toggleHemingway'
        };
      }

      this.shortcuts = shortcuts;
    },

    // extract markdown content from single markdown card
    didReceiveAttrs() {
      this._super(...arguments);

      let uploadedImageUrls = this.uploadedImageUrls;

      if (!Ember.isEmpty(uploadedImageUrls) && uploadedImageUrls !== this._uploadedImageUrls) {
        this._uploadedImageUrls = uploadedImageUrls; // must be done afterRender to avoid double modify of mobiledoc in a single render

        Ember.run.scheduleOnce('afterRender', this, this._insertImages, uploadedImageUrls);
      } // focus the editor when the markdown value changes, this is necessary
      // because both the autofocus and markdown values can change without a
      // re-render, eg. navigating from edit->new


      if (this.autofocus && this._editor && this.markdown !== this._editor.value()) {
        this.send('focusEditor');
      } // use internal values to avoid updating bound values


      if (!Ember.isEmpty(this.isFullScreen)) {
        this.set('_isFullScreen', this.isFullScreen);
      }

      if (!Ember.isEmpty(this.isSplitScreen)) {
        this.set('_isSplitScreen', this.isSplitScreen);
      }

      this._updateButtonState();
    },

    didInsertElement() {
      this._super(...arguments);

      this.registerShortcuts(); // HACK: iOS will scroll the body up when activating the keyboard, this
      // causes problems in the CodeMirror based editor because iOS doesn't
      // scroll the cursor and other measurement elements which results in
      // rather unfriendly behaviour with text appearing in seemingly random
      // places and an inability to select things properly
      //
      // To get around this we use a raf loop that constantly makes sure the
      // body scrollTop is 0 when the editor is on screen

      let iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);

      if (iOS) {
        this._preventBodyScroll();
      }
    },

    willDestroyElement() {
      if (this._isSplitScreen) {
        this._disconnectSplitPreview();
      }

      this.removeShortcuts();

      this._super(...arguments);

      if (this._preventBodyScrollId) {
        window.cancelAnimationFrame(this._preventBodyScrollId);
      }
    },

    actions: {
      // trigger external update, any mobiledoc updates are handled there
      updateMarkdown(markdown) {
        this.onChange(markdown);
      },

      // store a reference to the simplemde editor so that we can handle
      // focusing and image uploads
      setEditor(editor) {
        this._editor = editor; // disable CodeMirror's drag/drop handling as we want to handle that
        // in the parent gh-editor component

        this._editor.codemirror.setOption('dragDrop', false); // default to spellchecker being off


        this._editor.codemirror.setOption('mode', 'gfm'); // add non-breaking space as a special char
        // eslint-disable-next-line no-control-regex


        this._editor.codemirror.setOption('specialChars', /[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\xa0]/g);

        this._updateButtonState();
      },

      // used by the title input when the TAB or ENTER keys are pressed
      focusEditor(position = 'bottom') {
        this._editor.codemirror.focus();

        if (position === 'bottom') {
          this._editor.codemirror.execCommand('goDocEnd');
        } else if (position === 'top') {
          this._editor.codemirror.execCommand('goDocStart');
        }

        return false;
      },

      // HACK FIXME (PLEASE):
      // - clicking toolbar buttons will cause the editor to lose focus
      // - this is painful because we often want to know if the editor has focus
      //   so that we can insert images and so on in the correct place
      // - the blur event will always fire before the button action is triggered 😞
      // - to work around this we track focus state manually and set it to false
      //   after an arbitrary period that's long enough to allow the button action
      //   to trigger first
      // - this _may_ well have unknown issues due to browser differences,
      //   variations in performance, moon cycles, sun spots, or cosmic rays
      // - here be 🐲
      // - (please let it work 🙏)
      updateFocusState(focused) {
        if (focused) {
          this._editorFocused = true;
        } else {
          Ember.run.later(this, function () {
            this._editorFocused = false;
          }, 100);
        }
      },

      openImageFileDialog() {
        let captureSelection = this._editor.codemirror.hasFocus();

        this._openImageFileDialog({
          captureSelection
        });
      },

      toggleUnsplash() {
        if (this._showUnsplash) {
          return this.toggleProperty('_showUnsplash');
        } // capture current selection before it's lost by clicking toolbar btn


        if (this._editorFocused) {
          this._imageInsertSelection = {
            anchor: this._editor.codemirror.getCursor('anchor'),
            head: this._editor.codemirror.getCursor('head')
          };
        }

        this.toggleProperty('_showUnsplash');
      },

      insertUnsplashPhoto({
        src,
        alt,
        caption
      }) {
        let image = {
          alt,
          url: src,
          credit: `<small>${caption}</small>`
        };

        this._insertImages([image]);
      },

      togglePreview() {
        this._togglePreview();
      },

      toggleFullScreen() {
        let isFullScreen = !this._isFullScreen;
        this.set('_isFullScreen', isFullScreen);

        this._updateButtonState();

        this.onFullScreenToggle(isFullScreen); // leave split screen when exiting full screen mode

        if (!isFullScreen && this._isSplitScreen) {
          this.send('toggleSplitScreen');
        }
      },

      toggleSplitScreen() {
        let isSplitScreen = !this._isSplitScreen;
        let previewButton = this._editor.toolbarElements.preview;
        this.set('_isSplitScreen', isSplitScreen);

        this._updateButtonState(); // set up the preview rendering and scroll sync
        // afterRender is needed so that necessary components have been
        // added/removed and editor pane length has settled


        if (isSplitScreen) {
          // disable the normal SimpleMDE preview if it's active
          if (this._editor.isPreviewActive()) {
            let preview = this._editor.toolbar.find(button => button.name === 'preview');

            preview.action(this._editor);
          }

          if (previewButton) {
            previewButton.classList.add('disabled');
          }

          Ember.run.scheduleOnce('afterRender', this, this._connectSplitPreview);
        } else {
          if (previewButton) {
            previewButton.classList.remove('disabled');
          }

          Ember.run.scheduleOnce('afterRender', this, this._disconnectSplitPreview);
        }

        this.onSplitScreenToggle(isSplitScreen); // go fullscreen when entering split screen mode

        this.send('toggleFullScreen');
      },

      toggleSpellcheck() {
        this._toggleSpellcheck();
      },

      toggleHemingway() {
        this._toggleHemingway();
      },

      toggleMarkdownHelp() {
        this.toggleProperty('showMarkdownHelp');
      }

    },

    _preventBodyScroll() {
      this._preventBodyScrollId = window.requestAnimationFrame(() => {
        let body = document.querySelector('body'); // only scroll the editor if the editor is active so that we don't
        // clobber scroll-to-input behaviour in the PSM

        if (document.activeElement.closest('.CodeMirror')) {
          if (body.scrollTop !== 0) {
            let editor = document.querySelector('.gh-markdown-editor'); // scroll the editor by the same amount the body has been scrolled,
            // this should keep the cursor on screen when opening the keyboard

            editor.scrollTop += body.scrollTop;
            body.scrollTop = 0;
          }
        }

        this._preventBodyScroll();
      });
    },

    _insertImages(urls) {
      let cm = this._editor.codemirror; // loop through urls and generate image markdown

      let images = urls.map(url => {
        // plain url string, so extract filename from path
        if (Ember.typeOf(url) === 'string') {
          let filename = url.split('/').pop();
          let alt = filename; // if we have a normal filename.ext, set alt to filename -ext

          if (filename.lastIndexOf('.') > 0) {
            alt = filename.slice(0, filename.lastIndexOf('.'));
          }

          return `![${alt}](${url})`; // full url object, use attrs we're given
        } else {
          let image = `![${url.alt}](${url.url})`;

          if (url.credit) {
            image += `\n${url.credit}`;
          }

          return image;
        }
      });
      let text = images.join('\n\n'); // clicking the image toolbar button will lose the selection so we use
      // the captured selection to re-select here

      if (this._imageInsertSelection) {
        // we want to focus but not re-position
        this.send('focusEditor', null); // re-select and clear the captured selection so drag/drop still
        // inserts at the correct place

        cm.setSelection(this._imageInsertSelection.anchor, this._imageInsertSelection.head);
        this._imageInsertSelection = null;
      } // focus editor and place cursor at end if not already focused


      if (!cm.hasFocus()) {
        this.send('focusEditor');
        text = `\n\n${text}\n\n`;
      } // insert at cursor or replace selection then position cursor at end
      // of inserted text


      cm.replaceSelection(text, 'end');
    },

    // mark the split-pane/full-screen/spellcheck buttons active when they're active
    _updateButtonState() {
      if (this._editor) {
        let sideBySideButton = this._editor.toolbarElements['side-by-side'];
        let spellcheckButton = this._editor.toolbarElements.spellcheck;
        let hemingwayButton = this._editor.toolbarElements.hemingway;

        if (sideBySideButton) {
          if (this._isSplitScreen) {
            sideBySideButton.classList.add('active');
          } else {
            sideBySideButton.classList.remove('active');
          }
        }

        if (spellcheckButton) {
          if (this._editor.codemirror.getOption('mode') === 'spell-checker') {
            spellcheckButton.classList.add('active');
          } else {
            spellcheckButton.classList.remove('active');
          }
        }

        if (hemingwayButton) {
          if (this._isHemingwayMode) {
            hemingwayButton.classList.add('active');
          } else {
            hemingwayButton.classList.remove('active');
          }
        }
      }
    },

    // set up the preview auto-update and scroll sync
    _connectSplitPreview() {
      let cm = this._editor.codemirror;
      let editor = this._editor;
      let editorPane = this.element.querySelector('.gh-markdown-editor-pane');
      let previewPane = this.element.querySelector('.gh-markdown-editor-preview');
      let previewContent = this.element.querySelector('.gh-markdown-editor-preview-content');
      this._editorPane = editorPane;
      this._previewPane = previewPane;
      this._previewContent = previewContent; // from SimpleMDE -------

      let sideBySideRenderingFunction = function () {
        previewContent.innerHTML = editor.options.previewRender(editor.value(), previewContent);
      };

      cm.sideBySideRenderingFunction = sideBySideRenderingFunction;
      sideBySideRenderingFunction();
      cm.on('update', cm.sideBySideRenderingFunction); // Refresh to fix selection being off (#309)

      cm.refresh(); // ----------------------

      this._onEditorPaneScroll = this._scrollHandler.bind(this);
      editorPane.addEventListener('scroll', this._onEditorPaneScroll, false);

      this._scrollSync();
    },

    _scrollHandler() {
      if (!this._scrollSyncTicking) {
        requestAnimationFrame(this._scrollSync.bind(this));
      }

      this._scrollSyncTicking = true;
    },

    _scrollSync() {
      let editorPane = this._editorPane;
      let previewPane = this._previewPane;
      let height = editorPane.scrollHeight - editorPane.clientHeight;
      let ratio = parseFloat(editorPane.scrollTop) / height;
      let move = (previewPane.scrollHeight - previewPane.clientHeight) * ratio;
      previewPane.scrollTop = move;
      this._scrollSyncTicking = false;
    },

    _disconnectSplitPreview() {
      let cm = this._editor.codemirror;
      cm.off('update', cm.sideBySideRenderingFunction);
      cm.refresh();

      this._editorPane.removeEventListener('scroll', this._onEditorPaneScroll, false);

      delete this._previewPane;
      delete this._previewPaneContent;
      delete this._onEditorPaneScroll;
    },

    _openImageFileDialog({
      captureSelection = true
    } = {}) {
      if (captureSelection) {
        // capture the current selection before it's lost by clicking the
        // file input button
        this._imageInsertSelection = {
          anchor: this._editor.codemirror.getCursor('anchor'),
          head: this._editor.codemirror.getCursor('head')
        };
      } // trigger the dialog via gh-file-input, when a file is selected it will
      // trigger the onImageFilesSelected closure action


      this.element.querySelector('input[type="file"]').click();
    },

    // wrap SimpleMDE's built-in preview toggle so that we can trigger a closure
    // action that can apply our own classes higher up in the DOM
    _togglePreview() {
      this.onPreviewToggle(!this._editor.isPreviewActive());

      this._editor.togglePreview();
    },

    _toggleSpellcheck() {
      let cm = this._editor.codemirror;

      if (cm.getOption('mode') === 'spell-checker') {
        cm.setOption('mode', 'gfm');
      } else {
        cm.setOption('mode', 'spell-checker');
      }

      this._updateButtonState();
    },

    _toggleHemingway() {
      let cm = this._editor.codemirror;
      let extraKeys = cm.getOption('extraKeys');
      let notificationText = '';
      this._isHemingwayMode = !this._isHemingwayMode;

      if (this._isHemingwayMode) {
        notificationText = '<span class="gh-notification-title">Hemingway Mode On:</span> Write now; edit later. Backspace disabled.';

        extraKeys.Backspace = function () {};
      } else {
        notificationText = '<span class="gh-notification-title">Hemingway Mode Off:</span> Normal editing restored.';
        delete extraKeys.Backspace;
      }

      cm.setOption('extraKeys', extraKeys);

      this._updateButtonState();

      cm.focus();
      this.notifications.showNotification(Ember.String.htmlSafe(notificationText), {
        key: 'editor.hemingwaymode'
      });
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-member-avatar", ["exports", "@glimmer/component"], function (_exports, _component) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <figure class="gh-member-gravatar {{@containerClass}}">
      <div class="gh-member-initials flex items-center justify-center br-100 {{@containerClass}}" style={{this.backgroundStyle}}>
          <span class="gh-member-avatar-label {{or @sizeClass "gh-member-list-avatar"}}">{{this.initials}}</span>
      </div>
      <img class="gh-member-avatar-image" src={{gravatar @member.email size=180}} />
  </figure>
  */
  {"id":"pqqY7yjd","block":"{\"symbols\":[\"@containerClass\",\"@sizeClass\",\"@member\"],\"statements\":[[10,\"figure\"],[15,0,[31,[\"gh-member-gravatar \",[32,1]]]],[12],[2,\"\\n    \"],[10,\"div\"],[15,0,[31,[\"gh-member-initials flex items-center justify-center br-100 \",[32,1]]]],[15,5,[32,0,[\"backgroundStyle\"]]],[12],[2,\"\\n        \"],[10,\"span\"],[15,0,[31,[\"gh-member-avatar-label \",[30,[36,0],[[32,2],\"gh-member-list-avatar\"],null]]]],[12],[1,[32,0,[\"initials\"]]],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[10,\"img\"],[14,0,\"gh-member-avatar-image\"],[15,\"src\",[30,[36,1],[[32,3,[\"email\"]]],[[\"size\"],[180]]]],[12],[13],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"or\",\"gravatar\"]}","meta":{"moduleName":"ghost-admin/components/gh-member-avatar.hbs"}});

  const stringToHslColor = function (str, saturation, lightness) {
    var hash = 0;

    for (var i = 0; i < str.length; i++) {
      hash = str.charCodeAt(i) + ((hash << 5) - hash);
    }

    var h = hash % 360;
    return 'hsl(' + h + ', ' + saturation + '%, ' + lightness + '%)';
  };

  class GhMemberAvatarComponent extends _component.default {
    get memberName() {
      let {
        member
      } = this.args;
      return member.name || member.email || 'NM';
    }

    get backgroundStyle() {
      let color = stringToHslColor(this.memberName, 55, 55);
      return Ember.String.htmlSafe(`background-color: ${color}`);
    }

    get initials() {
      if (this.memberName === 'NM') {
        return 'NM';
      }

      let names = this.memberName.split(' ');
      let intials = names.length > 1 ? [names[0][0], names[names.length - 1][0]] : [names[0][0]];
      return intials.join('').toUpperCase();
    }

  }

  _exports.default = GhMemberAvatarComponent;

  Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, GhMemberAvatarComponent);
});
;define("ghost-admin/components/gh-member-label-input", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <GhTokenInput
      @extra={{hash
          tokenComponent="gh-token-input/label-token"
      }}
      @onChange={{action "updateLabels"}}
      @onCreate={{action "createLabel"}}
      @options={{this.availableLabels}}
      @renderInPlace={{true}}
      @selected={{selectedLabels}}
      @showCreateWhen={{action "hideCreateOptionOnMatchingLabel"}}
      @triggerId={{this.triggerId}}
  />
  
  */
  {"id":"LuprNcP5","block":"{\"symbols\":[],\"statements\":[[8,\"gh-token-input\",[],[[\"@extra\",\"@onChange\",\"@onCreate\",\"@options\",\"@renderInPlace\",\"@selected\",\"@showCreateWhen\",\"@triggerId\"],[[30,[36,0],null,[[\"tokenComponent\"],[\"gh-token-input/label-token\"]]],[30,[36,1],[[32,0],\"updateLabels\"],null],[30,[36,1],[[32,0],\"createLabel\"],null],[32,0,[\"availableLabels\"]],true,[34,2],[30,[36,1],[[32,0],\"hideCreateOptionOnMatchingLabel\"],null],[32,0,[\"triggerId\"]]]],null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"hash\",\"action\",\"selectedLabels\"]}","meta":{"moduleName":"ghost-admin/components/gh-member-label-input.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    store: Ember.inject.service(),
    // public attrs
    member: null,
    labelName: '',
    // internal attrs
    _availableLabels: null,
    selectedLabels: Ember.computed.reads('member.labels'),
    availableLabels: Ember.computed.sort('_availableLabels.[]', function (labelA, labelB) {
      // ignorePunctuation means the # in label names is ignored
      return labelA.name.localeCompare(labelB.name, undefined, {
        ignorePunctuation: true
      });
    }),
    availableLabelNames: Ember.computed('availableLabels.@each.name', function () {
      return this.availableLabels.map(label => label.name.toLowerCase());
    }),

    init() {
      this._super(...arguments); // perform a background query to fetch all users and set `availableLabels`
      // to a live-query that will be immediately populated with what's in the
      // store and be updated when the above query returns


      this.store.query('label', {
        limit: 'all'
      });
      this.set('_availableLabels', this.store.peekAll('label'));
    },

    actions: {
      matchLabels(labelName, term) {
        return labelName.toLowerCase() === term.trim().toLowerCase();
      },

      hideCreateOptionOnMatchingLabel(term) {
        return !this.availableLabelNames.includes(term.toLowerCase());
      },

      updateLabels(newLabels) {
        let currentLabels = this.get('member.labels'); // destroy new+unsaved labels that are no longer selected

        currentLabels.forEach(function (label) {
          if (!newLabels.includes(label) && label.get('isNew')) {
            label.destroyRecord();
          }
        }); // update labels

        return this.set('member.labels', newLabels);
      },

      createLabel(labelName) {
        let currentLabels = this.get('member.labels');
        let currentLabelNames = currentLabels.map(label => label.get('name').toLowerCase());
        let labelToAdd;
        labelName = labelName.trim(); // abort if label is already selected

        if (currentLabelNames.includes(labelName.toLowerCase())) {
          return;
        } // find existing label if there is one


        labelToAdd = this._findLabelByName(labelName); // create new label if no match

        if (!labelToAdd) {
          labelToAdd = this.store.createRecord('label', {
            name: labelName
          });
        } // push label onto member relationship


        return currentLabels.pushObject(labelToAdd);
      }

    },

    // methods
    _findLabelByName(name) {
      let withMatchingName = function (label) {
        return label.name.toLowerCase() === name.toLowerCase();
      };

      return this.availableLabels.find(withMatchingName);
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-member-settings-form", ["exports", "moment"], function (_exports, _moment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="flex items-stretch mt2">
      <div class="flex-auto br4 shadow-1 bg-grouped-table mt2 flex flex-column justify-between items-stretch gh-member-settings-primary mr6">
          <div class="pa5 pb0 pt4">
              <GhFormGroup @errors={{this.member.errors}} @hasValidated={{this.member.hasValidated}} @property="name" @classNames="max-width">
                  <label for="member-name">Name</label>
                  <GhTextInput @id="member-name" @name="name" @value={{this.scratchMember.name}} @tabindex="1"
                      @focus-out={{action "setProperty" "name" this.scratchMember.name}} />
                  <GhErrorMessage @errors={{member.errors}} @property="name" />
              </GhFormGroup>
  
              <GhFormGroup @errors={{this.member.errors}} @hasValidated={{this.member.hasValidated}} @property="email" @classNames="max-width">
                  <label for="member-email">Email</label>
                  <GhTextInput @value={{this.scratchMember.email}} @id="member-email" @name="email" @tabindex="2"
                      @autocapitalize="off" @autocorrect="off" @autocomplete="off"
                      @focus-out={{action "setProperty" "email" this.scratchMember.email}} />
                  <GhErrorMessage @errors={{this.member.errors}} @property="email" />
              </GhFormGroup>
          </div>
          <div class="pa5 pt5 pb6 bt b--whitegrey">
              <GhFormGroup @classNames="gh-members-subscribed-checkbox mb0">
                  <div class="flex justify-between items-center">
                      <div>
                          <h4 class="gh-setting-title">Subscribed to newsletter</h4>
                          <p class="gh-setting-desc">If disabled, member will <em>not</em> receive newsletter emails</p>
                      </div>
                      <div class="for-switch">
                          <label class="switch" for="subscribed-checkbox">
                              <Input @checked={{this.member.subscribed}} @type="checkbox" @id="subscribed-checkbox"
                                  @name="subscribed" />
                              <span class="input-toggle-component"></span>
                          </label>
                      </div>
                  </div>
              </GhFormGroup>
          </div>
      </div>
      <div class="flex-auto br4 shadow-1 bg-grouped-table mt2 flex flex-column items-stretch gh-member-settings-secondary">
          <div class="pa5 pt4">
              <GhFormGroup>
                  <label for="label-input">Labels</label>
                  <GhMemberLabelInput @member={{this.member}} @triggerId="label-input" />
              </GhFormGroup>
              <GhFormGroup @errors={{this.member.errors}} @hasValidated={{this.member.hasValidated}} @property="note" @classNames="mb0">
                  <label for="member-note">Note <span class="midgrey-l2 fw4">(not visible to member)</span></label>
                  <GhTextarea @id="member-note" @name="note" @class="gh-member-details-textarea" @tabindex="3"
                      @value={{this.scratchMember.note}} @focus-out={{action "setProperty" "note" this.scratchMember.note}} />
                  <GhErrorMessage @errors={{this.member.errors}} @property="note" />
                  <p> Maximum: <b>500</b> characters. You’ve used
                      {{gh-count-down-characters this.scratchMember.note 500}}</p>
              </GhFormGroup>
          </div>
      </div>
  </div>
  
  {{#if canShowStripeInfo}}
  <h4 class="midlightgrey f-small fw5 ttu mt12">Stripe info</h4>
  
  {{#if this.isLoading}}
      <div class="pa20 br4 shadow-1 bg-grouped-table mt2">
          <div class="flex justify-center flex-auto">
              <div class="gh-loading-spinner"> </div>
          </div>
      </div>
  {{else}}
      <div class="br4 shadow-1 bg-grouped-table mt2">
          {{#if this.subscriptions}}
              {{#if this.hasMultipleSubscriptions}}
                  <div class="pa2 flex flex-column flex-row-ns items-center justify-center f7 fw5 bg-whitegrey-l2 bb b--whitegrey br4 br--top">
                      {{svg-jar "info" class="gh-member-info-icon mr2 fill-darkgrey"}} Member has multiple Stripe subscriptions
                  </div>
              {{/if}}
              {{#each this.subscriptions as |subscription|}}
                  <section class="gh-member-stripe-info pa5 pb0 pt4 flex flex-column flex-row-ns items-start justify-between">
                      <div class="flex items-start w-100">
                          <div class="w-50 flex-auto mr8">
                              <h4 class="f8 fw6">Customer</h4>
                              <table class="gh-member-stripe-table">
                                  <tr>
                                      <td class="gh-member-stripe-label">Stripe customer ID</td>
                                      <td class="gh-member-stripe-data">
                                          <a href="https://dashboard.stripe.com/customers/{{subscription.customer.id}}" target="_blank" rel="noopener" data-tooltip="View on Stripe">
                                              {{subscription.customer.id}}
                                          </a>
                                      </td>
                                  </tr>
                                  <tr>
                                      <td class="gh-member-stripe-label">Name</td>
                                      <td class="gh-member-stripe-data">
                                          {{#if subscription.customer.name}}
                                              {{subscription.customer.name}}
                                          {{else}}
                                              <span class="midlightgrey-l2">No name</span>
                                          {{/if}}
                                      </td>
                                  </tr>
                                  <tr>
                                      <td class="gh-member-stripe-label">Email</td>
                                      <td class="gh-member-stripe-data">
                                          {{#if subscription.customer.email}}
                                              {{subscription.customer.email}}
                                          {{else}}
                                              <span class="midlightgrey-l2">No email</span>
                                          {{/if}}
                                      </td>
                                  </tr>
                                  <tr>
                                      <td class="gh-member-stripe-label">Customer since</td>
                                      <td class="gh-member-stripe-data">
                                          {{#if subscription.startDate}}
                                              {{subscription.startDate}}
                                          {{else}}
                                              <span class="midlightgrey-l2">No data</span>
                                          {{/if}}
                                      </td>
                                  </tr>
                              </table>
                          </div>
  
                          <div class="w-50 flex-auto">
                              <h4 class="f8 fw6">Subscription</h4>
                              <table class="gh-member-stripe-table">
                                  <tr>
                                      <td class="gh-member-stripe-label">Stripe subscription ID</td>
                                      <td class="gh-member-stripe-data">
                                          <a href="https://dashboard.stripe.com/subscriptions/{{subscription.id}}" target="_blank" rel="noopener"
                                              data-tooltip="View on Stripe">
                                              {{subscription.id}}
                                          </a>
                                      </td>
                                  </tr>
                                  <tr>
                                      <td class="gh-member-stripe-label">Plan</td>
                                      <td class="gh-member-stripe-data">
                                          {{subscription.plan.nickname}}
                                          <span class="midgrey">({{subscription.amount}}
                                              <span class="ttu">{{subscription.plan.currency}}</span>/{{subscription.plan.interval}})
                                          </span>
                                      </td>
                                  </tr>
                                  <tr>
                                      <td class="gh-member-stripe-label">Status</td>
                                      <td class="gh-member-stripe-data">
                                          {{#if subscription.cancelAtPeriodEnd}}
                                              <span class="gh-member-cancels-on-label">Cancels on {{subscription.validUntil}}</span>
                                          {{else}}
                                              <span class="gh-member-stripe-status">{{subscription.status}}</span>
                                          {{/if}}
                                      </td>
                                  </tr>
                                  <tr>
                                      <td class="gh-member-stripe-label">Next renewal date</td>
                                      <td class="gh-member-stripe-data">
                                          {{#if subscription.cancelAtPeriodEnd}}
                                              No further renewal
                                          {{else}}
                                              {{subscription.validUntil}}
                                          {{/if}}
                                      </td>
                                  </tr>
                              </table>
                          </div>
                      </div>
                  </section>
              {{/each}}
          {{else}}
              <div class="pa20">
                  <p class="ma0 pa0 tc midgrey">Member doesn't have an active Stripe subscription</p>
              </div>
          {{/if}}
          <div class="pa5 pb0 pt4 flex flex-column justify-between bt b--whitegrey">
              <GhFormGroup @classNames="gh-members-comped-checkbox">
                  <div class="flex justify-between items-center">
                      <div>
                          <h4 class="gh-setting-title">Complimentary premium plan</h4>
                          <p class="gh-setting-desc">If enabled, member will be placed onto a free of charge premium subscription</p>
                      </div>
                      <div class="for-switch">
                          <label class="switch" for="comped-checkbox">
                              <Input @checked={{this.member.comped}} @type="checkbox" @id="comped-checkbox" @name="comped" />
                              <span class="input-toggle-component"></span>
                          </label>
                      </div>
                  </div>
              </GhFormGroup>
          </div>
      </div>
  {{/if}}
  {{/if}}
  
  */
  {"id":"apCAlQUA","block":"{\"symbols\":[\"subscription\"],\"statements\":[[10,\"div\"],[14,0,\"flex items-stretch mt2\"],[12],[2,\"\\n    \"],[10,\"div\"],[14,0,\"flex-auto br4 shadow-1 bg-grouped-table mt2 flex flex-column justify-between items-stretch gh-member-settings-primary mr6\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"pa5 pb0 pt4\"],[12],[2,\"\\n            \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\",\"@classNames\"],[[32,0,[\"member\",\"errors\"]],[32,0,[\"member\",\"hasValidated\"]],\"name\",\"max-width\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"label\"],[14,\"for\",\"member-name\"],[12],[2,\"Name\"],[13],[2,\"\\n                \"],[8,\"gh-text-input\",[],[[\"@id\",\"@name\",\"@value\",\"@tabindex\",\"@focus-out\"],[\"member-name\",\"name\",[32,0,[\"scratchMember\",\"name\"]],\"1\",[30,[36,4],[[32,0],\"setProperty\",\"name\",[32,0,[\"scratchMember\",\"name\"]]],null]]],null],[2,\"\\n                \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[34,5,[\"errors\"]],\"name\"]],null],[2,\"\\n            \"]],\"parameters\":[]}]]],[2,\"\\n\\n            \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\",\"@classNames\"],[[32,0,[\"member\",\"errors\"]],[32,0,[\"member\",\"hasValidated\"]],\"email\",\"max-width\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"label\"],[14,\"for\",\"member-email\"],[12],[2,\"Email\"],[13],[2,\"\\n                \"],[8,\"gh-text-input\",[],[[\"@value\",\"@id\",\"@name\",\"@tabindex\",\"@autocapitalize\",\"@autocorrect\",\"@autocomplete\",\"@focus-out\"],[[32,0,[\"scratchMember\",\"email\"]],\"member-email\",\"email\",\"2\",\"off\",\"off\",\"off\",[30,[36,4],[[32,0],\"setProperty\",\"email\",[32,0,[\"scratchMember\",\"email\"]]],null]]],null],[2,\"\\n                \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"member\",\"errors\"]],\"email\"]],null],[2,\"\\n            \"]],\"parameters\":[]}]]],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"pa5 pt5 pb6 bt b--whitegrey\"],[12],[2,\"\\n            \"],[8,\"gh-form-group\",[],[[\"@classNames\"],[\"gh-members-subscribed-checkbox mb0\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"div\"],[14,0,\"flex justify-between items-center\"],[12],[2,\"\\n                    \"],[10,\"div\"],[12],[2,\"\\n                        \"],[10,\"h4\"],[14,0,\"gh-setting-title\"],[12],[2,\"Subscribed to newsletter\"],[13],[2,\"\\n                        \"],[10,\"p\"],[14,0,\"gh-setting-desc\"],[12],[2,\"If disabled, member will \"],[10,\"em\"],[12],[2,\"not\"],[13],[2,\" receive newsletter emails\"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"for-switch\"],[12],[2,\"\\n                        \"],[10,\"label\"],[14,0,\"switch\"],[14,\"for\",\"subscribed-checkbox\"],[12],[2,\"\\n                            \"],[8,\"input\",[],[[\"@checked\",\"@type\",\"@id\",\"@name\"],[[32,0,[\"member\",\"subscribed\"]],\"checkbox\",\"subscribed-checkbox\",\"subscribed\"]],null],[2,\"\\n                            \"],[10,\"span\"],[14,0,\"input-toggle-component\"],[12],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"]],\"parameters\":[]}]]],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[10,\"div\"],[14,0,\"flex-auto br4 shadow-1 bg-grouped-table mt2 flex flex-column items-stretch gh-member-settings-secondary\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"pa5 pt4\"],[12],[2,\"\\n            \"],[8,\"gh-form-group\",[],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"label\"],[14,\"for\",\"label-input\"],[12],[2,\"Labels\"],[13],[2,\"\\n                \"],[8,\"gh-member-label-input\",[],[[\"@member\",\"@triggerId\"],[[32,0,[\"member\"]],\"label-input\"]],null],[2,\"\\n            \"]],\"parameters\":[]}]]],[2,\"\\n            \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\",\"@classNames\"],[[32,0,[\"member\",\"errors\"]],[32,0,[\"member\",\"hasValidated\"]],\"note\",\"mb0\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"label\"],[14,\"for\",\"member-note\"],[12],[2,\"Note \"],[10,\"span\"],[14,0,\"midgrey-l2 fw4\"],[12],[2,\"(not visible to member)\"],[13],[13],[2,\"\\n                \"],[8,\"gh-textarea\",[],[[\"@id\",\"@name\",\"@class\",\"@tabindex\",\"@value\",\"@focus-out\"],[\"member-note\",\"note\",\"gh-member-details-textarea\",\"3\",[32,0,[\"scratchMember\",\"note\"]],[30,[36,4],[[32,0],\"setProperty\",\"note\",[32,0,[\"scratchMember\",\"note\"]]],null]]],null],[2,\"\\n                \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"member\",\"errors\"]],\"note\"]],null],[2,\"\\n                \"],[10,\"p\"],[12],[2,\" Maximum: \"],[10,\"b\"],[12],[2,\"500\"],[13],[2,\" characters. You’ve used\\n                    \"],[1,[30,[36,6],[[32,0,[\"scratchMember\",\"note\"]],500],null]],[13],[2,\"\\n            \"]],\"parameters\":[]}]]],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[6,[37,0],[[35,7]],null,[[\"default\"],[{\"statements\":[[10,\"h4\"],[14,0,\"midlightgrey f-small fw5 ttu mt12\"],[12],[2,\"Stripe info\"],[13],[2,\"\\n\\n\"],[6,[37,0],[[32,0,[\"isLoading\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"    \"],[10,\"div\"],[14,0,\"pa20 br4 shadow-1 bg-grouped-table mt2\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex justify-center flex-auto\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-loading-spinner\"],[12],[2,\" \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"    \"],[10,\"div\"],[14,0,\"br4 shadow-1 bg-grouped-table mt2\"],[12],[2,\"\\n\"],[6,[37,0],[[32,0,[\"subscriptions\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[6,[37,0],[[32,0,[\"hasMultipleSubscriptions\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"div\"],[14,0,\"pa2 flex flex-column flex-row-ns items-center justify-center f7 fw5 bg-whitegrey-l2 bb b--whitegrey br4 br--top\"],[12],[2,\"\\n                    \"],[1,[30,[36,1],[\"info\"],[[\"class\"],[\"gh-member-info-icon mr2 fill-darkgrey\"]]]],[2,\" Member has multiple Stripe subscriptions\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,[\"subscriptions\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"section\"],[14,0,\"gh-member-stripe-info pa5 pb0 pt4 flex flex-column flex-row-ns items-start justify-between\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"flex items-start w-100\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"w-50 flex-auto mr8\"],[12],[2,\"\\n                            \"],[10,\"h4\"],[14,0,\"f8 fw6\"],[12],[2,\"Customer\"],[13],[2,\"\\n                            \"],[10,\"table\"],[14,0,\"gh-member-stripe-table\"],[12],[2,\"\\n                                \"],[10,\"tr\"],[12],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-label\"],[12],[2,\"Stripe customer ID\"],[13],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-data\"],[12],[2,\"\\n                                        \"],[10,\"a\"],[15,6,[31,[\"https://dashboard.stripe.com/customers/\",[32,1,[\"customer\",\"id\"]]]]],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener\"],[14,\"data-tooltip\",\"View on Stripe\"],[12],[2,\"\\n                                            \"],[1,[32,1,[\"customer\",\"id\"]]],[2,\"\\n                                        \"],[13],[2,\"\\n                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                                \"],[10,\"tr\"],[12],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-label\"],[12],[2,\"Name\"],[13],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-data\"],[12],[2,\"\\n\"],[6,[37,0],[[32,1,[\"customer\",\"name\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                            \"],[1,[32,1,[\"customer\",\"name\"]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                            \"],[10,\"span\"],[14,0,\"midlightgrey-l2\"],[12],[2,\"No name\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                                \"],[10,\"tr\"],[12],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-label\"],[12],[2,\"Email\"],[13],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-data\"],[12],[2,\"\\n\"],[6,[37,0],[[32,1,[\"customer\",\"email\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                            \"],[1,[32,1,[\"customer\",\"email\"]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                            \"],[10,\"span\"],[14,0,\"midlightgrey-l2\"],[12],[2,\"No email\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                                \"],[10,\"tr\"],[12],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-label\"],[12],[2,\"Customer since\"],[13],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-data\"],[12],[2,\"\\n\"],[6,[37,0],[[32,1,[\"startDate\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                            \"],[1,[32,1,[\"startDate\"]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                            \"],[10,\"span\"],[14,0,\"midlightgrey-l2\"],[12],[2,\"No data\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n\\n                        \"],[10,\"div\"],[14,0,\"w-50 flex-auto\"],[12],[2,\"\\n                            \"],[10,\"h4\"],[14,0,\"f8 fw6\"],[12],[2,\"Subscription\"],[13],[2,\"\\n                            \"],[10,\"table\"],[14,0,\"gh-member-stripe-table\"],[12],[2,\"\\n                                \"],[10,\"tr\"],[12],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-label\"],[12],[2,\"Stripe subscription ID\"],[13],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-data\"],[12],[2,\"\\n                                        \"],[10,\"a\"],[15,6,[31,[\"https://dashboard.stripe.com/subscriptions/\",[32,1,[\"id\"]]]]],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener\"],[14,\"data-tooltip\",\"View on Stripe\"],[12],[2,\"\\n                                            \"],[1,[32,1,[\"id\"]]],[2,\"\\n                                        \"],[13],[2,\"\\n                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                                \"],[10,\"tr\"],[12],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-label\"],[12],[2,\"Plan\"],[13],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-data\"],[12],[2,\"\\n                                        \"],[1,[32,1,[\"plan\",\"nickname\"]]],[2,\"\\n                                        \"],[10,\"span\"],[14,0,\"midgrey\"],[12],[2,\"(\"],[1,[32,1,[\"amount\"]]],[2,\"\\n                                            \"],[10,\"span\"],[14,0,\"ttu\"],[12],[1,[32,1,[\"plan\",\"currency\"]]],[13],[2,\"/\"],[1,[32,1,[\"plan\",\"interval\"]]],[2,\")\\n                                        \"],[13],[2,\"\\n                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                                \"],[10,\"tr\"],[12],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-label\"],[12],[2,\"Status\"],[13],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-data\"],[12],[2,\"\\n\"],[6,[37,0],[[32,1,[\"cancelAtPeriodEnd\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                            \"],[10,\"span\"],[14,0,\"gh-member-cancels-on-label\"],[12],[2,\"Cancels on \"],[1,[32,1,[\"validUntil\"]]],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                            \"],[10,\"span\"],[14,0,\"gh-member-stripe-status\"],[12],[1,[32,1,[\"status\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                                \"],[10,\"tr\"],[12],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-label\"],[12],[2,\"Next renewal date\"],[13],[2,\"\\n                                    \"],[10,\"td\"],[14,0,\"gh-member-stripe-data\"],[12],[2,\"\\n\"],[6,[37,0],[[32,1,[\"cancelAtPeriodEnd\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                            No further renewal\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                            \"],[1,[32,1,[\"validUntil\"]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[1]}]]]],\"parameters\":[]},{\"statements\":[[2,\"            \"],[10,\"div\"],[14,0,\"pa20\"],[12],[2,\"\\n                \"],[10,\"p\"],[14,0,\"ma0 pa0 tc midgrey\"],[12],[2,\"Member doesn't have an active Stripe subscription\"],[13],[2,\"\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[10,\"div\"],[14,0,\"pa5 pb0 pt4 flex flex-column justify-between bt b--whitegrey\"],[12],[2,\"\\n            \"],[8,\"gh-form-group\",[],[[\"@classNames\"],[\"gh-members-comped-checkbox\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"div\"],[14,0,\"flex justify-between items-center\"],[12],[2,\"\\n                    \"],[10,\"div\"],[12],[2,\"\\n                        \"],[10,\"h4\"],[14,0,\"gh-setting-title\"],[12],[2,\"Complimentary premium plan\"],[13],[2,\"\\n                        \"],[10,\"p\"],[14,0,\"gh-setting-desc\"],[12],[2,\"If enabled, member will be placed onto a free of charge premium subscription\"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"for-switch\"],[12],[2,\"\\n                        \"],[10,\"label\"],[14,0,\"switch\"],[14,\"for\",\"comped-checkbox\"],[12],[2,\"\\n                            \"],[8,\"input\",[],[[\"@checked\",\"@type\",\"@id\",\"@name\"],[[32,0,[\"member\",\"comped\"]],\"checkbox\",\"comped-checkbox\",\"comped\"]],null],[2,\"\\n                            \"],[10,\"span\"],[14,0,\"input-toggle-component\"],[12],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"]],\"parameters\":[]}]]],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"if\",\"svg-jar\",\"-track-array\",\"each\",\"action\",\"member\",\"gh-count-down-characters\",\"canShowStripeInfo\"]}","meta":{"moduleName":"ghost-admin/components/gh-member-settings-form.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    settings: Ember.inject.service(),
    feature: Ember.inject.service(),
    config: Ember.inject.service(),
    mediaQueries: Ember.inject.service(),
    // Allowed actions
    setProperty: () => {},
    hasMultipleSubscriptions: Ember.computed.gt('member.stripe', 1),
    canShowStripeInfo: Ember.computed('member.isNew', 'settings.membersSubscriptionSettings', function () {
      let membersSubscriptionSettings = this.settings.parseSubscriptionSettings(this.get('settings.membersSubscriptionSettings'));
      let stripeEnabled = membersSubscriptionSettings && !!membersSubscriptionSettings.paymentProcessors[0].config.secret_token && !!membersSubscriptionSettings.paymentProcessors[0].config.public_token;

      if (this.member.isNew || !stripeEnabled) {
        return false;
      } else {
        return true;
      }
    }),
    subscriptions: Ember.computed('member.stripe', function () {
      let subscriptions = this.member.get('stripe');

      if (subscriptions && subscriptions.length > 0) {
        return subscriptions.map(subscription => {
          return {
            id: subscription.id,
            customer: subscription.customer,
            name: subscription.name || '',
            email: subscription.email || '',
            status: subscription.status,
            startDate: subscription.start_date ? (0, _moment.default)(subscription.start_date).format('MMM DD YYYY') : '-',
            plan: subscription.plan,
            amount: parseInt(subscription.plan.amount) ? subscription.plan.amount / 100 : 0,
            cancelAtPeriodEnd: subscription.cancel_at_period_end,
            validUntil: subscription.current_period_end ? (0, _moment.default)(subscription.current_period_end).format('MMM DD YYYY') : '-'
          };
        }).reverse();
      }

      return null;
    }),
    actions: {
      setProperty(property, value) {
        this.setProperty(property, value);
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-members-chart", ["exports", "moment"], function (_exports, _moment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="flex justify-between mb6 items-stretch gh-members-chart-wrapper">
  
      {{!-- Chart title/filter graph --}}
      <div class="flex-auto bg-white br3 shadow-1 bg-grouped-table mr6 gh-members-chart-box">
          <div class="flex justify-between items-center gh-members-chart-header">
              <h2 class="f-small ttu midgrey fw5 mb0">Total members</h2>
              <div class="view-actions">
                  <div class="gh-contentfilter">
                      <PowerSelect
                          @selected={{this.selectedRange}}
                          @options={{this.availableRange}}
                          @searchEnabled={{false}}
                          @onChange={{action "changeDateRange"}}
                          @tagName="div"
                          @classNames="gh-contentfilter-menu gh-contentfilter-type"
                          @triggerComponent="gh-power-select/trigger"
                          @triggerClass="gh-contentfilter-menu-trigger"
                          @dropdownClass="gh-contentfilter-menu-dropdown gh-members-chart-dropdown"
                          @matchTriggerWidth={{false}}
                          data-test-type-select="true"
                          as |range|
                      >
                          {{range.name}}
                      </PowerSelect>
                  </div>
              </div>
          </div>
          <div class="gh-members-chart-container">
              <EmberChart @type="LineWithLine" @options={{this.subData.chartData.options}} @data={{this.subData.chartData.data}} @height={{300}} />
          </div>
          <div class="flex justify-between pa4 pt0 pb2 nt1">
              <span class="f8 midlightgrey">{{this.subData.startDateLabel}}</span>
              <span class="f8 midlightgrey">Today</span>
          </div>
      </div>
  
      {{!-- Summary --}}
      <div class="flex flex-column justify-between gh-members-chart-summary bg-white br3 shadow-1 bg-grouped-table">
          <div class="flex-auto flex flex-column justify-center items-start pa4 bb b--whitegrey">
              <h3 class="f-small ttu midgrey fw5">Total Members</h3>
              <div class="gh-members-chart-summary-data">{{this.subData.totalSubs}}</div>
          </div>
          <div class="flex-auto flex flex-column justify-center items-start pa4 bb b--whitegrey">
              {{#if (eq this.range "all-time")}}
                  <h3 class="f-small ttu midgrey fw5">All time signups</h3>
              {{else}}
                  <h3 class="f-small ttu midgrey fw5">Signed up in the last {{this.range}} days</h3>
              {{/if}}
              <div class="gh-members-chart-summary-data">{{this.subData.totalSubsInRange}}</div>
          </div>
          <div class="flex-auto flex flex-column justify-center items-start pa4">
              <h3 class="f-small ttu midgrey fw5">Signed up today</h3>
              <div class="gh-members-chart-summary-data">{{this.subData.totalSubsToday}}</div>
          </div>
      </div>
  </div>
  */
  {"id":"2+mLyqao","block":"{\"symbols\":[\"range\"],\"statements\":[[10,\"div\"],[14,0,\"flex justify-between mb6 items-stretch gh-members-chart-wrapper\"],[12],[2,\"\\n\\n\"],[2,\"    \"],[10,\"div\"],[14,0,\"flex-auto bg-white br3 shadow-1 bg-grouped-table mr6 gh-members-chart-box\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex justify-between items-center gh-members-chart-header\"],[12],[2,\"\\n            \"],[10,\"h2\"],[14,0,\"f-small ttu midgrey fw5 mb0\"],[12],[2,\"Total members\"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"view-actions\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-contentfilter\"],[12],[2,\"\\n                    \"],[8,\"power-select\",[[24,\"data-test-type-select\",\"true\"]],[[\"@selected\",\"@options\",\"@searchEnabled\",\"@onChange\",\"@tagName\",\"@classNames\",\"@triggerComponent\",\"@triggerClass\",\"@dropdownClass\",\"@matchTriggerWidth\"],[[32,0,[\"selectedRange\"]],[32,0,[\"availableRange\"]],false,[30,[36,0],[[32,0],\"changeDateRange\"],null],\"div\",\"gh-contentfilter-menu gh-contentfilter-type\",\"gh-power-select/trigger\",\"gh-contentfilter-menu-trigger\",\"gh-contentfilter-menu-dropdown gh-members-chart-dropdown\",false]],[[\"default\"],[{\"statements\":[[2,\"\\n                        \"],[1,[32,1,[\"name\"]]],[2,\"\\n                    \"]],\"parameters\":[1]}]]],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-members-chart-container\"],[12],[2,\"\\n            \"],[8,\"ember-chart\",[],[[\"@type\",\"@options\",\"@data\",\"@height\"],[\"LineWithLine\",[32,0,[\"subData\",\"chartData\",\"options\"]],[32,0,[\"subData\",\"chartData\",\"data\"]],300]],null],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex justify-between pa4 pt0 pb2 nt1\"],[12],[2,\"\\n            \"],[10,\"span\"],[14,0,\"f8 midlightgrey\"],[12],[1,[32,0,[\"subData\",\"startDateLabel\"]]],[13],[2,\"\\n            \"],[10,\"span\"],[14,0,\"f8 midlightgrey\"],[12],[2,\"Today\"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n\"],[2,\"    \"],[10,\"div\"],[14,0,\"flex flex-column justify-between gh-members-chart-summary bg-white br3 shadow-1 bg-grouped-table\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex-auto flex flex-column justify-center items-start pa4 bb b--whitegrey\"],[12],[2,\"\\n            \"],[10,\"h3\"],[14,0,\"f-small ttu midgrey fw5\"],[12],[2,\"Total Members\"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-members-chart-summary-data\"],[12],[1,[32,0,[\"subData\",\"totalSubs\"]]],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex-auto flex flex-column justify-center items-start pa4 bb b--whitegrey\"],[12],[2,\"\\n\"],[6,[37,2],[[30,[36,1],[[32,0,[\"range\"]],\"all-time\"],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[10,\"h3\"],[14,0,\"f-small ttu midgrey fw5\"],[12],[2,\"All time signups\"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                \"],[10,\"h3\"],[14,0,\"f-small ttu midgrey fw5\"],[12],[2,\"Signed up in the last \"],[1,[32,0,[\"range\"]]],[2,\" days\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"],[10,\"div\"],[14,0,\"gh-members-chart-summary-data\"],[12],[1,[32,0,[\"subData\",\"totalSubsInRange\"]]],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex-auto flex flex-column justify-center items-start pa4\"],[12],[2,\"\\n            \"],[10,\"h3\"],[14,0,\"f-small ttu midgrey fw5\"],[12],[2,\"Signed up today\"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-members-chart-summary-data\"],[12],[1,[32,0,[\"subData\",\"totalSubsToday\"]]],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"action\",\"eq\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-members-chart.hbs"}});
  /* global Chart */


  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    feature: Ember.inject.service(),
    members: null,
    range: '30',
    selectedRange: Ember.computed('range', function () {
      const availableRange = this.get('availableRange');
      return availableRange.findBy('days', this.get('range'));
    }),
    availableRange: Ember.computed(function () {
      return [{
        name: '30 days',
        days: '30'
      }, {
        name: '90 days',
        days: '90'
      }, {
        name: '365 days',
        days: '365'
      }, {
        name: 'All time',
        days: 'all-time'
      }];
    }),
    subData: Ember.computed('members.[]', 'range', 'feature.nightShift', function () {
      let isNightShiftEnabled = this.feature.nightShift;
      let {
        members,
        range
      } = this;
      let rangeInDays, rangeStartDate, rangeEndDate;

      if (range === 'last-year') {
        rangeStartDate = (0, _moment.default)().startOf('year').subtract(1, 'year');
        rangeEndDate = (0, _moment.default)().endOf('year').subtract(1, 'year').subtract(1, 'day');
        rangeInDays = rangeEndDate.diff(rangeStartDate, 'days');
      } else if (range === 'all-time') {
        let firstMemberCreatedDate = members.length ? members.lastObject.get('createdAtUTC') : (0, _moment.default)().subtract(365, 'days');
        rangeStartDate = (0, _moment.default)(firstMemberCreatedDate);
        rangeEndDate = (0, _moment.default)();
        rangeInDays = rangeEndDate.diff(rangeStartDate, 'days');

        if (rangeInDays < 5) {
          rangeStartDate = (0, _moment.default)().subtract(6, 'days');
          rangeInDays = rangeEndDate.diff(rangeStartDate, 'days');
        }

        let step = this.getTicksForRange(rangeInDays);
        rangeInDays = Math.ceil(rangeInDays / step) * step;
        rangeStartDate = (0, _moment.default)().subtract(rangeInDays, 'days');
      } else {
        rangeInDays = parseInt(range);
        rangeStartDate = (0, _moment.default)().subtract(rangeInDays, 'days');
        rangeEndDate = (0, _moment.default)();
      }

      let totalSubs = members.length || 0;
      let totalSubsLastMonth = members.filter(member => {
        let isValid = (0, _moment.default)(member.createdAtUTC).isSameOrAfter(rangeStartDate, 'day');
        return isValid;
      }).length;
      let totalSubsToday = members.filter(member => {
        let isValid = (0, _moment.default)(member.createdAtUTC).isSame((0, _moment.default)(), 'day');
        return isValid;
      }).length;
      return {
        startDateLabel: (0, _moment.default)(rangeStartDate).format('MMM DD, YYYY'),
        chartData: this.getChartData(members, (0, _moment.default)(rangeStartDate), (0, _moment.default)(rangeEndDate), isNightShiftEnabled),
        totalSubs: totalSubs,
        totalSubsToday: totalSubsToday,
        totalSubsInRange: totalSubsLastMonth
      };
    }),

    init() {
      this._super(...arguments);

      this.setChartJSDefaults();
    },

    actions: {
      changeDateRange(range) {
        this.set('range', Ember.get(range, 'days'));
      }

    },

    setChartJSDefaults() {
      let isNightShiftEnabled = this.feature.nightShift;
      Chart.defaults.LineWithLine = Chart.defaults.line;
      Chart.controllers.LineWithLine = Chart.controllers.line.extend({
        draw: function (ease) {
          Chart.controllers.line.prototype.draw.call(this, ease);

          if (this.chart.tooltip._active && this.chart.tooltip._active.length) {
            var activePoint = this.chart.tooltip._active[0],
                ctx = this.chart.ctx,
                x = activePoint.tooltipPosition().x,
                topY = this.chart.scales['y-axis-0'].top,
                bottomY = this.chart.scales['y-axis-0'].bottom; // draw line

            ctx.save();
            ctx.beginPath();
            ctx.moveTo(x, topY);
            ctx.lineTo(x, bottomY);
            ctx.lineWidth = 1;
            ctx.strokeStyle = isNightShiftEnabled ? 'rgba(62, 176, 239, 0.65)' : 'rgba(62, 176, 239, 0.8)';
            ctx.stroke();
            ctx.restore();
          }
        }
      });
    },

    getTicksForRange(rangeInDays) {
      if (rangeInDays <= 30) {
        return 6;
      } else if (rangeInDays <= 90) {
        return 18;
      } else {
        return 24;
      }
    },

    getChartData(members, startDate, endDate, isNightShiftEnabled) {
      this.setChartJSDefaults();
      let dateFormat = 'MMM DD, YYYY';
      let monthData = [];
      let dateLabel = [];
      let rangeInDays = endDate.diff(startDate, 'days');

      for (var m = (0, _moment.default)(startDate); m.isSameOrBefore(endDate, 'day'); m.add(1, 'days')) {
        dateLabel.push(m.format(dateFormat));
        let membersTillDate = members.filter(member => {
          let isValid = (0, _moment.default)(member.createdAtUTC).isSameOrBefore(m, 'day');
          return isValid;
        }).length;
        monthData.push(membersTillDate);
      }

      let maxTicksAllowed = this.getTicksForRange(rangeInDays);
      return {
        data: {
          labels: dateLabel,
          datasets: [{
            label: 'Total members',
            cubicInterpolationMode: 'monotone',
            data: monthData,
            fill: false,
            backgroundColor: 'rgba(62,176,239,.9)',
            pointRadius: 0,
            pointHitRadius: 10,
            borderColor: 'rgba(62,176,239,.9)',
            borderJoinStyle: 'round'
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          layout: {
            padding: {
              top: 5,
              // Needed otherwise the top dot is cut
              right: 10,
              bottom: 5,
              left: 10
            }
          },
          title: {
            display: false
          },
          tooltips: {
            intersect: false,
            mode: 'index',
            displayColors: false,
            backgroundColor: '#343f44',
            xPadding: 7,
            yPadding: 7,
            cornerRadius: 5,
            caretSize: 7,
            caretPadding: 5,
            bodyFontSize: 13,
            titleFontStyle: 'normal',
            titleFontColor: 'rgba(255, 255, 255, 0.7)',
            titleMarginBottom: 4
          },
          hover: {
            mode: 'index',
            intersect: false,
            animationDuration: 120
          },
          legend: {
            display: false
          },
          scales: {
            xAxes: [{
              labelString: 'Date',
              gridLines: {
                drawTicks: false,
                color: isNightShiftEnabled ? '#333F44' : '#E5EFF5',
                zeroLineColor: isNightShiftEnabled ? '#333F44' : '#E5EFF5'
              },
              ticks: {
                display: false,
                maxRotation: 0,
                minRotation: 0,
                padding: 6,
                autoSkip: false,
                maxTicksLimit: 10,
                callback: function (value, index, values) {
                  let step = (values.length - 1) / maxTicksAllowed;
                  let steps = [];

                  for (let i = 0; i < maxTicksAllowed; i++) {
                    steps.push(Math.round(i * step));
                  }

                  if (index === 0) {
                    return value;
                  }

                  if (index === values.length - 1) {
                    return 'Today';
                  }

                  if (steps.includes(index)) {
                    return '';
                  }
                }
              }
            }],
            yAxes: [{
              gridLines: {
                drawTicks: false,
                display: false,
                drawBorder: false
              },
              ticks: {
                maxTicksLimit: 5,
                fontColor: '#9baeb8',
                padding: 8,
                precision: 0
              }
            }]
          }
        }
      };
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-members-contentfilter", ["exports", "@glimmer/component"], function (_exports, _component) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _class, _descriptor, _temp;

  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <span class="dropdown dropdown-topmenu">
      <GhDropdownButton @dropdownName="members-label-menu"
          @classNames="gh-btn gh-btn-white gh-btn-filter first" @title="Member Labels"
          @data-test-user-actions="true">
          <span class="nudge-bottom--1 {{if @selectedLabel.slug "blue fw6"}} gh-btn-filter-maxwidth" title="{{@selectedLabel.name}}">
              <span>{{@selectedLabel.name}}</span>
              {{svg-jar "arrow-down-stroke" class="w2 h2 stroke-midgrey ml1"}}
          </span>
      </GhDropdownButton>
      <GhDropdown @name="members-label-menu" @tagName="div"
          @classNames="dropdown-menu dropdown-triangle-top-right dropdown-action">
          <ul class="dropdown-content">
              {{#each @availableLabels as |label|}}
                  <li class="{{if (eq @selectedLabel.name label.name) "selected"}}">
                      <a>
                          <span class="dropdown-label" title="{{label.name}}" {{on "click" (fn @onLabelChange label)}}>{{label.name}} </span>
                          {{#if label.slug}}
                              <span class="dropdown-action-icon" {{on "click" (fn @onLabelEdit label.slug)}}> {{svg-jar "pen"}} </span>
                          {{/if}}
                      </a>
                  </li>
              {{/each}}
          </ul>
          <ul class="dropdown-footer">
              <li>
                  <a {{on "click" (fn @onLabelAdd)}}>
                      <span>
                          {{svg-jar "add"}}
                          Add Label
                      </span>
                  </a>
              </li>
          </ul>
      </GhDropdown>
  </span>
  */
  {"id":"iYC9tHI2","block":"{\"symbols\":[\"label\",\"@onLabelEdit\",\"@selectedLabel\",\"@onLabelChange\",\"@availableLabels\",\"@onLabelAdd\"],\"statements\":[[10,\"span\"],[14,0,\"dropdown dropdown-topmenu\"],[12],[2,\"\\n    \"],[8,\"gh-dropdown-button\",[],[[\"@dropdownName\",\"@classNames\",\"@title\",\"@data-test-user-actions\"],[\"members-label-menu\",\"gh-btn gh-btn-white gh-btn-filter first\",\"Member Labels\",\"true\"]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"span\"],[15,0,[31,[\"nudge-bottom--1 \",[30,[36,4],[[32,3,[\"slug\"]],\"blue fw6\"],null],\" gh-btn-filter-maxwidth\"]]],[15,\"title\",[31,[[32,3,[\"name\"]]]]],[12],[2,\"\\n            \"],[10,\"span\"],[12],[1,[32,3,[\"name\"]]],[13],[2,\"\\n            \"],[1,[30,[36,2],[\"arrow-down-stroke\"],[[\"class\"],[\"w2 h2 stroke-midgrey ml1\"]]]],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n    \"],[8,\"gh-dropdown\",[],[[\"@name\",\"@tagName\",\"@classNames\"],[\"members-label-menu\",\"div\",\"dropdown-menu dropdown-triangle-top-right dropdown-action\"]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"ul\"],[14,0,\"dropdown-content\"],[12],[2,\"\\n\"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,5]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"li\"],[15,0,[31,[[30,[36,4],[[30,[36,3],[[32,3,[\"name\"]],[32,1,[\"name\"]]],null],\"selected\"],null]]]],[12],[2,\"\\n                    \"],[10,\"a\"],[12],[2,\"\\n                        \"],[11,\"span\"],[24,0,\"dropdown-label\"],[16,\"title\",[31,[[32,1,[\"name\"]]]]],[4,[38,1],[\"click\",[30,[36,0],[[32,4],[32,1]],null]],null],[12],[1,[32,1,[\"name\"]]],[2,\" \"],[13],[2,\"\\n\"],[6,[37,4],[[32,1,[\"slug\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                            \"],[11,\"span\"],[24,0,\"dropdown-action-icon\"],[4,[38,1],[\"click\",[30,[36,0],[[32,2],[32,1,[\"slug\"]]],null]],null],[12],[2,\" \"],[1,[30,[36,2],[\"pen\"],null]],[2,\" \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[1]}]]],[2,\"        \"],[13],[2,\"\\n        \"],[10,\"ul\"],[14,0,\"dropdown-footer\"],[12],[2,\"\\n            \"],[10,\"li\"],[12],[2,\"\\n                \"],[11,\"a\"],[4,[38,1],[\"click\",[30,[36,0],[[32,6]],null]],null],[12],[2,\"\\n                    \"],[10,\"span\"],[12],[2,\"\\n                        \"],[1,[30,[36,2],[\"add\"],null]],[2,\"\\n                        Add Label\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"fn\",\"on\",\"svg-jar\",\"eq\",\"if\",\"-track-array\",\"each\"]}","meta":{"moduleName":"ghost-admin/components/gh-members-contentfilter.hbs"}});

  let GhMembersContentfilterComponent = (_class = (_temp = class GhMembersContentfilterComponent extends _component.default {
    constructor(...args) {
      super(...args);

      _initializerDefineProperty(this, "session", _descriptor, this);
    }

  }, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, "session", [Ember.inject.service], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  })), _class);
  _exports.default = GhMembersContentfilterComponent;

  Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, GhMembersContentfilterComponent);
});
;define("ghost-admin/components/gh-members-lab-setting", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="flex flex-column b--whitegrey bt">
  
      <section class="bb b--whitegrey pa5">
          <div class="flex justify-between">
              <div>
                  <h4 class="gh-setting-title">Connect to Stripe</h4>
                  <p class="gh-setting-desc pa0 ma0">Configure API keys to create subscriptions and take payments</p>
              </div>
              <div>
                  <button type="button" class="gh-btn" {{action (toggle "membersStripeOpen" this)}} data-test-toggle-membersstripe><span>{{if this.membersStripeOpen "Close" "Expand"}}</span></button>
              </div>
          </div>
  
          {{#liquid-if this.membersStripeOpen}}
              <div class="flex flex-column flex-row-l items-start justify-between mb4 mt6">
                  <div class="w-100 w-50-l">
                      <div class="mb4">
                          <label class="fw6 f8">Stripe Publishable key</label>
                          <GhTextInput
                              @type="password"
                              @value={{readonly this.subscriptionSettings.stripeConfig.public_token}}
                              @input={{action "setSubscriptionSettings" "public_token"}}
                              @class="mt1 password"
                          />
                      </div>
                      <div class="nudge-top--3">
                          <label class="fw6 f8 mt4">Stripe Secret key</label>
                          <GhTextInput
                              @type="password"
                              @value={{readonly this.subscriptionSettings.stripeConfig.secret_token}}
                              @input={{action "setSubscriptionSettings" "secret_token"}}
                              @class="mt1 password"
                          />
                          <a href="https://dashboard.stripe.com/account/apikeys" target="_blank" class="mt1 fw4 f8">
                              Find your Stripe API keys here &raquo;
                          </a>
                      </div>
                  </div>
                  <div class="ml0 ml5-l mt6">
                      <div class="gh-members-stripe-info">
                          <div class="gh-members-stripe-info-header">
                              <h4>How you get paid</h4>
                              {{svg-jar "stripe-verified-partner-badge" class="gh-members-stripe-badge"}}
                          </div>
                          <p class="f8 mt2 mb0">
                              Stripe is our exclusive direct payments partner.<br />
                              Ghost collects <strong>no fees</strong> on any payments! If you don’t have a Stripe account yet, you can <a href="https://stripe.com" target="_blank"  rel="noopener" class="gh-members-stripe-link">sign up here</a>.
                          </p>
                      </div>
                  </div>
              </div>
          {{/liquid-if}}
      </section>
  
      <section class="bb b--whitegrey pa5">
          <div class="flex justify-between">
              <div>
                  <h4 class="gh-setting-title">Subscription pricing</h4>
                  <p class="gh-setting-desc pa0 ma0">Set monthly and yearly recurring subscription prices</p>
              </div>
              <div>
                  <button type="button" class="gh-btn" {{action (toggle "membersPricingOpen" this)}} data-test-toggle-memberspricing><span>{{if this.membersPricingOpen "Close" "Expand"}}</span></button>
              </div>
          </div>
  
          {{#liquid-if this.membersPricingOpen}}
              <div class="w-100 w-50-l flex flex-column flex-row-ns mt8">
                  <div class="w-100">
                      <GhFormGroup @class="for-select">
                          <label class="fw6 f8"for="currency">Plan currency</label>
                          <span class="gh-select mt1">
                              {{one-way-select this.selectedCurrency
                                  id="currency"
                                  name="currency"
                                  options=(readonly this.currencies)
                                  optionValuePath="value"
                                  optionLabelPath="label"
                                  update=(action "setSubscriptionSettings" "currency")
                              }}
                              {{svg-jar "arrow-down-small"}}
                          </span>
                      </GhFormGroup>
                  </div>
              </div>
              <div class="w-100 w-50-l flex flex-column flex-row-ns">
                  <div class="w-100 w-50-ns mr3-ns">
                      <GhFormGroup>
                      <label class="fw6 f8">Monthly price</label>
  
                      <div class="flex items-center justify-center mt1 gh-input-group gh-labs-price-label">
                          <GhTextInput
                              @value={{readonly this.subscriptionSettings.stripeConfig.plans.monthly.amount}}
                              @type="number"
                              @input={{action "setSubscriptionSettings" "month"}}
                          />
                          <span class="gh-input-append"><span class="ttu">{{this.subscriptionSettings.stripeConfig.plans.monthly.currency}}</span>/month</span>
                      </div>
                      </GhFormGroup>
                  </div>
                  <div class="w-100 w-50-ns ml2-ns">
                      <GhFormGroup @class="description-container">
                      <label class="fw6 f8">Yearly price</label>
                      <div class="flex items-center justify-center mt1 gh-input-group gh-labs-price-label">
                          <GhTextInput
                              @value={{readonly this.subscriptionSettings.stripeConfig.plans.yearly.amount}}
                              @type="number"
                              @input={{action "setSubscriptionSettings" "year"}}
                          />
                          <span class="gh-input-append"><span class="ttu">{{this.subscriptionSettings.stripeConfig.plans.yearly.currency}}</span>/year</span>
                      </div>
                      </GhFormGroup>
                  </div>
              </div>
          {{/liquid-if}}
      </section>
  
      <section class="bb b--whitegrey pa5">
          <div class="flex justify-between">
              <div>
                  <h4 class="gh-setting-title">Allow free member signup</h4>
                  <p class="gh-setting-desc pa0 ma0">If disabled, members can only be signed up via payment checkout or API integration</p>
              </div>
              <div>
                  <div class="for-switch">
                      <label class="switch" for="members-allow-self-signup" {{action "setSubscriptionSettings" "allowSelfSignup" bubbles="false"}}>
                          <input type="checkbox" checked={{this.subscriptionSettings.allowSelfSignup}} class="gh-input" onclick={{action "setSubscriptionSettings" "allowSelfSignup"}} data-test-checkbox="members-allow-self-signup">
                          <span class="input-toggle-component mt1"></span>
                      </label>
                  </div>
              </div>
          </div>
      </section>
  
      <section class="bb b--whitegrey pa5">
          <div class="flex justify-between">
              <div>
                  <h4 class="gh-setting-title">Default post access</h4>
                  <p class="gh-setting-desc pa0 ma0">When a new post is created, who should have access to it?</p>
              </div>
              <div>
                  <button type="button" class="gh-btn" {{action (toggle "membersPostAccessOpen" this)}} data-test-toggle-memberspostaccess><span>{{if this.membersPostAccessOpen "Close" "Expand"}}</span></button>
              </div>
          </div>
  
          {{#liquid-if this.membersPostAccessOpen}}
          <div class="flex flex-column w-50 flex mt8">
              <div class="gh-radio {{if (eq settings.defaultContentVisibility "public") "active"}}"
                  {{action "setDefaultContentVisibility" "public" on="click"}}>
                  <div class="gh-radio-button" data-test-publishmenu-unpublished-option></div>
                  <div class="gh-radio-content">
                      <div class="gh-radio-label">Public<br>
                      <small class="midgrey">All site visitors to your site, no login required</small></div>
                  </div>
              </div>
  
              <div class="gh-radio {{if (eq settings.defaultContentVisibility "members") "active"}}"
                  {{action "setDefaultContentVisibility" "members" on="click"}}>
                  <div class="gh-radio-button" data-test-publishmenu-published-option></div>
                  <div class="gh-radio-content">
                      <div class="gh-radio-label">Members only<br>
                      <small class="midgrey">All logged-in members</small></div>
                  </div>
              </div>
  
              <div class="gh-radio {{if (eq settings.defaultContentVisibility "paid") "active"}}"
                  {{action "setDefaultContentVisibility" "paid" on="click"}}>
                  <div class="gh-radio-button" data-test-publishmenu-published-option></div>
                  <div class="gh-radio-content">
                      <div class="gh-radio-label">Paid-members only<br>
                      <small class="midgrey">Only logged-in members with an active Stripe subscription</small></div>
                  </div>
              </div>
          </div>
          {{/liquid-if}}
      </section>
  
      <section class="bb b--whitegrey pa5">
          <div class="flex justify-between">
              <div>
                  <h4 class="gh-setting-title">Email settings</h4>
                  <p class="gh-setting-desc pa0 ma0">Customise signup, signin and subscription emails</p>
              </div>
              <div>
                  <button type="button" class="gh-btn" {{action (toggle "membersEmailOpen" this)}} data-test-toggle-membersemail><span>{{if this.membersEmailOpen "Close" "Expand"}}</span></button>
              </div>
          </div>
  
          {{#liquid-if this.membersEmailOpen}}
          <div class="flex flex-column w-100 w-50-l flex mt8">
              <GhFormGroup>
                  <label class="fw6 f8">From Address</label>
                  <div class="flex items-center justify-center mt1 gh-input-group">
                      <GhTextInput
                          @value={{readonly this.subscriptionSettings.fromAddress}}
                          @input={{action "setSubscriptionSettings" "fromAddress"}}
                          @class="w20"
                      />
                      <span class="gh-input-append"> @{{this.blogDomain}}</span>
                  </div>
                  <div class="f8 fw4 midgrey mt1">Your members will receive system emails from this address</div>
              </GhFormGroup>
  
              {{#unless this.hasBulkEmailConfig}}
                  <div class="flex items-center">
                      <GhFormGroup @class="gh-labs-mailgun-region">
                          <label class="fw6 f8">Mailgun region</label>
                          <div class="mt1">
                              <PowerSelect
                                  @options={{this.mailgunRegions}}
                                  @selected={{this.mailgunRegion}}
                                  @onChange={{action "setBulkEmailRegion"}}
                                  @searchEnabled={{false}}
                                  @triggerComponent="gh-power-select/trigger"
                                  as |region|
                              >
                                  {{region.flag}} {{region.name}}
                              </PowerSelect>
                          </div>
                      </GhFormGroup>
                      <GhFormGroup>
                          <label class="fw6 f8">Mailgun domain</label>
                          <GhTextInput
                              @value={{readonly this.bulkEmailSettings.domain}}
                              @input={{action "setBulkEmailSettings" "domain"}}
                              @class="mt1"
                          />
                      </GhFormGroup>
                  </div>
                  <div class="nt5 mb5">
                      <a href="https://app.mailgun.com/app/sending/domains" target="_blank" class="mt1 fw4 f8">
                          Find your Mailgun region and domain here &raquo;
                      </a>
                  </div>
                  <GhFormGroup>
                      <label class="fw6 f8">Mailgun API key</label>
                      <GhTextInput
                          @type="password"
                          @value={{readonly this.bulkEmailSettings.apiKey}}
                          @input={{action "setBulkEmailSettings" "apiKey"}}
                          @class="mt1 password" @autocomplete="new-password"
                      />
                      <a href="https://app.mailgun.com/app/account/security/api_keys" target="_blank" class="mt1 fw4 f8">
                          Find your Mailgun API keys here &raquo;
                      </a>
                  </GhFormGroup>
              {{/unless}}
          </div>
          {{/liquid-if}}
      </section>
  </div>
  */
  {"id":"QFzPX/1M","block":"{\"symbols\":[\"region\"],\"statements\":[[10,\"div\"],[14,0,\"flex flex-column b--whitegrey bt\"],[12],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"bb b--whitegrey pa5\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex justify-between\"],[12],[2,\"\\n            \"],[10,\"div\"],[12],[2,\"\\n                \"],[10,\"h4\"],[14,0,\"gh-setting-title\"],[12],[2,\"Connect to Stripe\"],[13],[2,\"\\n                \"],[10,\"p\"],[14,0,\"gh-setting-desc pa0 ma0\"],[12],[2,\"Configure API keys to create subscriptions and take payments\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[12],[2,\"\\n                \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-toggle-membersstripe\",\"\"],[24,4,\"button\"],[4,[38,0],[[32,0],[30,[36,8],[\"membersStripeOpen\",[32,0]],null]],null],[12],[10,\"span\"],[12],[1,[30,[36,5],[[32,0,[\"membersStripeOpen\"]],\"Close\",\"Expand\"],null]],[13],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n\"],[6,[37,9],[[32,0,[\"membersStripeOpen\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"div\"],[14,0,\"flex flex-column flex-row-l items-start justify-between mb4 mt6\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"w-100 w-50-l\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"mb4\"],[12],[2,\"\\n                        \"],[10,\"label\"],[14,0,\"fw6 f8\"],[12],[2,\"Stripe Publishable key\"],[13],[2,\"\\n                        \"],[8,\"gh-text-input\",[],[[\"@type\",\"@value\",\"@input\",\"@class\"],[\"password\",[30,[36,1],[[32,0,[\"subscriptionSettings\",\"stripeConfig\",\"public_token\"]]],null],[30,[36,0],[[32,0],\"setSubscriptionSettings\",\"public_token\"],null],\"mt1 password\"]],null],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"nudge-top--3\"],[12],[2,\"\\n                        \"],[10,\"label\"],[14,0,\"fw6 f8 mt4\"],[12],[2,\"Stripe Secret key\"],[13],[2,\"\\n                        \"],[8,\"gh-text-input\",[],[[\"@type\",\"@value\",\"@input\",\"@class\"],[\"password\",[30,[36,1],[[32,0,[\"subscriptionSettings\",\"stripeConfig\",\"secret_token\"]]],null],[30,[36,0],[[32,0],\"setSubscriptionSettings\",\"secret_token\"],null],\"mt1 password\"]],null],[2,\"\\n                        \"],[10,\"a\"],[14,6,\"https://dashboard.stripe.com/account/apikeys\"],[14,\"target\",\"_blank\"],[14,0,\"mt1 fw4 f8\"],[12],[2,\"\\n                            Find your Stripe API keys here »\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"ml0 ml5-l mt6\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-members-stripe-info\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-members-stripe-info-header\"],[12],[2,\"\\n                            \"],[10,\"h4\"],[12],[2,\"How you get paid\"],[13],[2,\"\\n                            \"],[1,[30,[36,7],[\"stripe-verified-partner-badge\"],[[\"class\"],[\"gh-members-stripe-badge\"]]]],[2,\"\\n                        \"],[13],[2,\"\\n                        \"],[10,\"p\"],[14,0,\"f8 mt2 mb0\"],[12],[2,\"\\n                            Stripe is our exclusive direct payments partner.\"],[10,\"br\"],[12],[13],[2,\"\\n                            Ghost collects \"],[10,\"strong\"],[12],[2,\"no fees\"],[13],[2,\" on any payments! If you don’t have a Stripe account yet, you can \"],[10,\"a\"],[14,6,\"https://stripe.com\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener\"],[14,0,\"gh-members-stripe-link\"],[12],[2,\"sign up here\"],[13],[2,\".\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    \"],[13],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"bb b--whitegrey pa5\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex justify-between\"],[12],[2,\"\\n            \"],[10,\"div\"],[12],[2,\"\\n                \"],[10,\"h4\"],[14,0,\"gh-setting-title\"],[12],[2,\"Subscription pricing\"],[13],[2,\"\\n                \"],[10,\"p\"],[14,0,\"gh-setting-desc pa0 ma0\"],[12],[2,\"Set monthly and yearly recurring subscription prices\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[12],[2,\"\\n                \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-toggle-memberspricing\",\"\"],[24,4,\"button\"],[4,[38,0],[[32,0],[30,[36,8],[\"membersPricingOpen\",[32,0]],null]],null],[12],[10,\"span\"],[12],[1,[30,[36,5],[[32,0,[\"membersPricingOpen\"]],\"Close\",\"Expand\"],null]],[13],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n\"],[6,[37,9],[[32,0,[\"membersPricingOpen\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"div\"],[14,0,\"w-100 w-50-l flex flex-column flex-row-ns mt8\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"w-100\"],[12],[2,\"\\n                    \"],[8,\"gh-form-group\",[],[[\"@class\"],[\"for-select\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                        \"],[10,\"label\"],[14,0,\"fw6 f8\"],[14,\"for\",\"currency\"],[12],[2,\"Plan currency\"],[13],[2,\"\\n                        \"],[10,\"span\"],[14,0,\"gh-select mt1\"],[12],[2,\"\\n                            \"],[1,[30,[36,6],[[32,0,[\"selectedCurrency\"]]],[[\"id\",\"name\",\"options\",\"optionValuePath\",\"optionLabelPath\",\"update\"],[\"currency\",\"currency\",[30,[36,1],[[32,0,[\"currencies\"]]],null],\"value\",\"label\",[30,[36,0],[[32,0],\"setSubscriptionSettings\",\"currency\"],null]]]]],[2,\"\\n                            \"],[1,[30,[36,7],[\"arrow-down-small\"],null]],[2,\"\\n                        \"],[13],[2,\"\\n                    \"]],\"parameters\":[]}]]],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"w-100 w-50-l flex flex-column flex-row-ns\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"w-100 w-50-ns mr3-ns\"],[12],[2,\"\\n                    \"],[8,\"gh-form-group\",[],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[10,\"label\"],[14,0,\"fw6 f8\"],[12],[2,\"Monthly price\"],[13],[2,\"\\n\\n                    \"],[10,\"div\"],[14,0,\"flex items-center justify-center mt1 gh-input-group gh-labs-price-label\"],[12],[2,\"\\n                        \"],[8,\"gh-text-input\",[],[[\"@value\",\"@type\",\"@input\"],[[30,[36,1],[[32,0,[\"subscriptionSettings\",\"stripeConfig\",\"plans\",\"monthly\",\"amount\"]]],null],\"number\",[30,[36,0],[[32,0],\"setSubscriptionSettings\",\"month\"],null]]],null],[2,\"\\n                        \"],[10,\"span\"],[14,0,\"gh-input-append\"],[12],[10,\"span\"],[14,0,\"ttu\"],[12],[1,[32,0,[\"subscriptionSettings\",\"stripeConfig\",\"plans\",\"monthly\",\"currency\"]]],[13],[2,\"/month\"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"]],\"parameters\":[]}]]],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"w-100 w-50-ns ml2-ns\"],[12],[2,\"\\n                    \"],[8,\"gh-form-group\",[],[[\"@class\"],[\"description-container\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[10,\"label\"],[14,0,\"fw6 f8\"],[12],[2,\"Yearly price\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"flex items-center justify-center mt1 gh-input-group gh-labs-price-label\"],[12],[2,\"\\n                        \"],[8,\"gh-text-input\",[],[[\"@value\",\"@type\",\"@input\"],[[30,[36,1],[[32,0,[\"subscriptionSettings\",\"stripeConfig\",\"plans\",\"yearly\",\"amount\"]]],null],\"number\",[30,[36,0],[[32,0],\"setSubscriptionSettings\",\"year\"],null]]],null],[2,\"\\n                        \"],[10,\"span\"],[14,0,\"gh-input-append\"],[12],[10,\"span\"],[14,0,\"ttu\"],[12],[1,[32,0,[\"subscriptionSettings\",\"stripeConfig\",\"plans\",\"yearly\",\"currency\"]]],[13],[2,\"/year\"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"]],\"parameters\":[]}]]],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    \"],[13],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"bb b--whitegrey pa5\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex justify-between\"],[12],[2,\"\\n            \"],[10,\"div\"],[12],[2,\"\\n                \"],[10,\"h4\"],[14,0,\"gh-setting-title\"],[12],[2,\"Allow free member signup\"],[13],[2,\"\\n                \"],[10,\"p\"],[14,0,\"gh-setting-desc pa0 ma0\"],[12],[2,\"If disabled, members can only be signed up via payment checkout or API integration\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"for-switch\"],[12],[2,\"\\n                    \"],[11,\"label\"],[24,0,\"switch\"],[24,\"for\",\"members-allow-self-signup\"],[4,[38,0],[[32,0],\"setSubscriptionSettings\",\"allowSelfSignup\"],[[\"bubbles\"],[\"false\"]]],[12],[2,\"\\n                        \"],[10,\"input\"],[15,\"checked\",[32,0,[\"subscriptionSettings\",\"allowSelfSignup\"]]],[14,0,\"gh-input\"],[15,\"onclick\",[30,[36,0],[[32,0],\"setSubscriptionSettings\",\"allowSelfSignup\"],null]],[14,\"data-test-checkbox\",\"members-allow-self-signup\"],[14,4,\"checkbox\"],[12],[13],[2,\"\\n                        \"],[10,\"span\"],[14,0,\"input-toggle-component mt1\"],[12],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"bb b--whitegrey pa5\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex justify-between\"],[12],[2,\"\\n            \"],[10,\"div\"],[12],[2,\"\\n                \"],[10,\"h4\"],[14,0,\"gh-setting-title\"],[12],[2,\"Default post access\"],[13],[2,\"\\n                \"],[10,\"p\"],[14,0,\"gh-setting-desc pa0 ma0\"],[12],[2,\"When a new post is created, who should have access to it?\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[12],[2,\"\\n                \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-toggle-memberspostaccess\",\"\"],[24,4,\"button\"],[4,[38,0],[[32,0],[30,[36,8],[\"membersPostAccessOpen\",[32,0]],null]],null],[12],[10,\"span\"],[12],[1,[30,[36,5],[[32,0,[\"membersPostAccessOpen\"]],\"Close\",\"Expand\"],null]],[13],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n\"],[6,[37,9],[[32,0,[\"membersPostAccessOpen\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,0,\"flex flex-column w-50 flex mt8\"],[12],[2,\"\\n            \"],[11,\"div\"],[16,0,[31,[\"gh-radio \",[30,[36,5],[[30,[36,4],[[35,3,[\"defaultContentVisibility\"]],\"public\"],null],\"active\"],null]]]],[4,[38,0],[[32,0],\"setDefaultContentVisibility\",\"public\"],[[\"on\"],[\"click\"]]],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-radio-button\"],[14,\"data-test-publishmenu-unpublished-option\",\"\"],[12],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-radio-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-radio-label\"],[12],[2,\"Public\"],[10,\"br\"],[12],[13],[2,\"\\n                    \"],[10,\"small\"],[14,0,\"midgrey\"],[12],[2,\"All site visitors to your site, no login required\"],[13],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n\\n            \"],[11,\"div\"],[16,0,[31,[\"gh-radio \",[30,[36,5],[[30,[36,4],[[35,3,[\"defaultContentVisibility\"]],\"members\"],null],\"active\"],null]]]],[4,[38,0],[[32,0],\"setDefaultContentVisibility\",\"members\"],[[\"on\"],[\"click\"]]],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-radio-button\"],[14,\"data-test-publishmenu-published-option\",\"\"],[12],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-radio-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-radio-label\"],[12],[2,\"Members only\"],[10,\"br\"],[12],[13],[2,\"\\n                    \"],[10,\"small\"],[14,0,\"midgrey\"],[12],[2,\"All logged-in members\"],[13],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n\\n            \"],[11,\"div\"],[16,0,[31,[\"gh-radio \",[30,[36,5],[[30,[36,4],[[35,3,[\"defaultContentVisibility\"]],\"paid\"],null],\"active\"],null]]]],[4,[38,0],[[32,0],\"setDefaultContentVisibility\",\"paid\"],[[\"on\"],[\"click\"]]],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-radio-button\"],[14,\"data-test-publishmenu-published-option\",\"\"],[12],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-radio-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-radio-label\"],[12],[2,\"Paid-members only\"],[10,\"br\"],[12],[13],[2,\"\\n                    \"],[10,\"small\"],[14,0,\"midgrey\"],[12],[2,\"Only logged-in members with an active Stripe subscription\"],[13],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    \"],[13],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"bb b--whitegrey pa5\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex justify-between\"],[12],[2,\"\\n            \"],[10,\"div\"],[12],[2,\"\\n                \"],[10,\"h4\"],[14,0,\"gh-setting-title\"],[12],[2,\"Email settings\"],[13],[2,\"\\n                \"],[10,\"p\"],[14,0,\"gh-setting-desc pa0 ma0\"],[12],[2,\"Customise signup, signin and subscription emails\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[12],[2,\"\\n                \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-toggle-membersemail\",\"\"],[24,4,\"button\"],[4,[38,0],[[32,0],[30,[36,8],[\"membersEmailOpen\",[32,0]],null]],null],[12],[10,\"span\"],[12],[1,[30,[36,5],[[32,0,[\"membersEmailOpen\"]],\"Close\",\"Expand\"],null]],[13],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n\"],[6,[37,9],[[32,0,[\"membersEmailOpen\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,0,\"flex flex-column w-100 w-50-l flex mt8\"],[12],[2,\"\\n            \"],[8,\"gh-form-group\",[],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"label\"],[14,0,\"fw6 f8\"],[12],[2,\"From Address\"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"flex items-center justify-center mt1 gh-input-group\"],[12],[2,\"\\n                    \"],[8,\"gh-text-input\",[],[[\"@value\",\"@input\",\"@class\"],[[30,[36,1],[[32,0,[\"subscriptionSettings\",\"fromAddress\"]]],null],[30,[36,0],[[32,0],\"setSubscriptionSettings\",\"fromAddress\"],null],\"w20\"]],null],[2,\"\\n                    \"],[10,\"span\"],[14,0,\"gh-input-append\"],[12],[2,\" @\"],[1,[32,0,[\"blogDomain\"]]],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"f8 fw4 midgrey mt1\"],[12],[2,\"Your members will receive system emails from this address\"],[13],[2,\"\\n            \"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[6,[37,2],[[32,0,[\"hasBulkEmailConfig\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"div\"],[14,0,\"flex items-center\"],[12],[2,\"\\n                    \"],[8,\"gh-form-group\",[],[[\"@class\"],[\"gh-labs-mailgun-region\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                        \"],[10,\"label\"],[14,0,\"fw6 f8\"],[12],[2,\"Mailgun region\"],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"mt1\"],[12],[2,\"\\n                            \"],[8,\"power-select\",[],[[\"@options\",\"@selected\",\"@onChange\",\"@searchEnabled\",\"@triggerComponent\"],[[32,0,[\"mailgunRegions\"]],[32,0,[\"mailgunRegion\"]],[30,[36,0],[[32,0],\"setBulkEmailRegion\"],null],false,\"gh-power-select/trigger\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                \"],[1,[32,1,[\"flag\"]]],[2,\" \"],[1,[32,1,[\"name\"]]],[2,\"\\n                            \"]],\"parameters\":[1]}]]],[2,\"\\n                        \"],[13],[2,\"\\n                    \"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[8,\"gh-form-group\",[],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n                        \"],[10,\"label\"],[14,0,\"fw6 f8\"],[12],[2,\"Mailgun domain\"],[13],[2,\"\\n                        \"],[8,\"gh-text-input\",[],[[\"@value\",\"@input\",\"@class\"],[[30,[36,1],[[32,0,[\"bulkEmailSettings\",\"domain\"]]],null],[30,[36,0],[[32,0],\"setBulkEmailSettings\",\"domain\"],null],\"mt1\"]],null],[2,\"\\n                    \"]],\"parameters\":[]}]]],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"nt5 mb5\"],[12],[2,\"\\n                    \"],[10,\"a\"],[14,6,\"https://app.mailgun.com/app/sending/domains\"],[14,\"target\",\"_blank\"],[14,0,\"mt1 fw4 f8\"],[12],[2,\"\\n                        Find your Mailgun region and domain here »\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[8,\"gh-form-group\",[],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[10,\"label\"],[14,0,\"fw6 f8\"],[12],[2,\"Mailgun API key\"],[13],[2,\"\\n                    \"],[8,\"gh-text-input\",[],[[\"@type\",\"@value\",\"@input\",\"@class\",\"@autocomplete\"],[\"password\",[30,[36,1],[[32,0,[\"bulkEmailSettings\",\"apiKey\"]]],null],[30,[36,0],[[32,0],\"setBulkEmailSettings\",\"apiKey\"],null],\"mt1 password\",\"new-password\"]],null],[2,\"\\n                    \"],[10,\"a\"],[14,6,\"https://app.mailgun.com/app/account/security/api_keys\"],[14,\"target\",\"_blank\"],[14,0,\"mt1 fw4 f8\"],[12],[2,\"\\n                        Find your Mailgun API keys here »\\n                    \"],[13],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    \"],[13],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"action\",\"readonly\",\"unless\",\"settings\",\"eq\",\"if\",\"one-way-select\",\"svg-jar\",\"toggle\",\"liquid-if\"]}","meta":{"moduleName":"ghost-admin/components/gh-members-lab-setting.hbs"}});

  const US = {
    flag: '🇺🇸',
    name: 'US',
    baseUrl: 'https://api.mailgun.net/v3'
  };
  const EU = {
    flag: '🇪🇺',
    name: 'EU',
    baseUrl: 'https://api.eu.mailgun.net/v3'
  };
  const CURRENCIES = [{
    label: 'USD - US Dollar',
    value: 'usd'
  }, {
    label: 'AUD - Australian Dollar',
    value: 'aud'
  }, {
    label: 'CAD - Canadian Dollar',
    value: 'cad'
  }, {
    label: 'EUR - Euro',
    value: 'eur'
  }, {
    label: 'GBP - British Pound',
    value: 'gbp'
  }];

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    feature: Ember.inject.service(),
    config: Ember.inject.service(),
    mediaQueries: Ember.inject.service(),
    currencies: null,

    // passed in actions
    setMembersSubscriptionSettings() {},

    defaultContentVisibility: Ember.computed.reads('settings.defaultContentVisibility'),
    selectedCurrency: Ember.computed('subscriptionSettings.stripeConfig.plans.monthly.currency', function () {
      return CURRENCIES.findBy('value', this.get('subscriptionSettings.stripeConfig.plans.monthly.currency'));
    }),
    mailgunRegion: Ember.computed('settings.bulkEmailSettings.baseUrl', function () {
      if (!this.settings.get('bulkEmailSettings.baseUrl')) {
        return US;
      }

      return [US, EU].find(region => {
        return region.baseUrl === this.settings.get('bulkEmailSettings.baseUrl');
      });
    }),
    blogDomain: Ember.computed('config.blogDomain', function () {
      let domain = this.config.blogDomain || '';
      const host = domain.replace('https://', '').replace('http://', '').split('/');
      return host && host[0] || '';
    }),
    subscriptionSettings: Ember.computed('settings.membersSubscriptionSettings', function () {
      let subscriptionSettings = this.settings.parseSubscriptionSettings(this.get('settings.membersSubscriptionSettings'));
      let stripeProcessor = subscriptionSettings.paymentProcessors.find(proc => {
        return proc.adapter === 'stripe';
      });
      let monthlyPlan = stripeProcessor.config.plans.find(plan => plan.interval === 'month');
      let yearlyPlan = stripeProcessor.config.plans.find(plan => plan.interval === 'year' && plan.name !== 'Complimentary'); // NOTE: need to be careful about division by zero if we introduce zero decimal currencies
      //       ref.: https://stripe.com/docs/currencies#zero-decimal

      monthlyPlan.amount = parseInt(monthlyPlan.amount) ? monthlyPlan.amount / 100 : 0;
      yearlyPlan.amount = parseInt(yearlyPlan.amount) ? yearlyPlan.amount / 100 : 0;
      stripeProcessor.config.plans = {
        monthly: monthlyPlan,
        yearly: yearlyPlan
      };
      subscriptionSettings.stripeConfig = stripeProcessor.config;
      subscriptionSettings.allowSelfSignup = !!subscriptionSettings.allowSelfSignup;
      subscriptionSettings.fromAddress = subscriptionSettings.fromAddress || '';
      return subscriptionSettings;
    }),
    bulkEmailSettings: Ember.computed('settings.bulkEmailSettings', function () {
      let bulkEmailSettings = this.get('settings.bulkEmailSettings') || {};
      const {
        apiKey = '',
        baseUrl = US.baseUrl,
        domain = ''
      } = bulkEmailSettings;
      return {
        apiKey,
        baseUrl,
        domain
      };
    }),
    hasBulkEmailConfig: Ember.computed('settings.bulkEmailSettings', function () {
      let bulkEmailSettings = this.get('settings.bulkEmailSettings');
      return !!bulkEmailSettings.isConfig;
    }),

    init() {
      this._super(...arguments);

      this.set('mailgunRegions', [US, EU]);
      this.set('currencies', CURRENCIES);
    },

    actions: {
      setDefaultContentVisibility(value) {
        this.setDefaultContentVisibility(value);
      },

      setBulkEmailSettings(key, event) {
        let bulkEmailSettings = this.get('settings.bulkEmailSettings') || {};
        bulkEmailSettings[key] = event.target.value;

        if (!bulkEmailSettings.baseUrl) {
          Ember.set(bulkEmailSettings, 'baseUrl', US.baseUrl);
        }

        this.setBulkEmailSettings(bulkEmailSettings);
      },

      setBulkEmailRegion(region) {
        let bulkEmailSettings = this.get('settings.bulkEmailSettings') || {};
        Ember.set(bulkEmailSettings, 'baseUrl', region.baseUrl);
        this.setBulkEmailSettings(bulkEmailSettings);
      },

      setSubscriptionSettings(key, event) {
        let subscriptionSettings = this.settings.parseSubscriptionSettings(this.get('settings.membersSubscriptionSettings'));
        let stripeProcessor = subscriptionSettings.paymentProcessors.find(proc => {
          return proc.adapter === 'stripe';
        });
        let stripeConfig = stripeProcessor.config;
        stripeConfig.product = {
          name: this.settings.get('title')
        };

        if (key === 'secret_token' || key === 'public_token') {
          stripeConfig[key] = event.target.value;
        }

        if (key === 'month' || key === 'year') {
          stripeConfig.plans = stripeConfig.plans.map(plan => {
            if (key === plan.interval && plan.name !== 'Complimentary') {
              plan.amount = parseInt(event.target.value) ? event.target.value * 100 : 0;
            }

            return plan;
          });
        }

        if (key === 'allowSelfSignup') {
          subscriptionSettings.allowSelfSignup = !subscriptionSettings.allowSelfSignup;
        }

        if (key === 'fromAddress') {
          subscriptionSettings.fromAddress = event.target.value;
        }

        if (key === 'currency') {
          stripeProcessor.config.plans.forEach(plan => {
            if (plan.name !== 'Complimentary') {
              plan.currency = event.value;
            }
          }); // NOTE: need to keep Complimentary plans with all available currencies so they don't conflict
          //       when applied to members with existing subscriptions in different currencies (ref. https://stripe.com/docs/billing/customer#currency)

          let currentCurrencyComplimentary = stripeProcessor.config.plans.filter(plan => plan.currency === event.value && plan.name === 'Complimentary');

          if (!currentCurrencyComplimentary.length) {
            let complimentary = {
              name: 'Complimentary',
              currency: event.value,
              interval: 'year',
              amount: '0'
            };
            stripeProcessor.config.plans.push(complimentary);
          }

          stripeProcessor.config.currency = event.value;
        }

        this.setMembersSubscriptionSettings(subscriptionSettings);
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-members-list-item", ["exports", "@glimmer/component", "moment"], function (_exports, _component, _moment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <li class="gh-list-row gh-members-list-item" ...attributes>
      <LinkTo @route="member" @model={{@member}} title="Member details" class="gh-list-data gh-members-list-basic">
          <div class="flex items-center">
              <GhMemberAvatar @member={{@member}} @containerClass="w9 h9 mr3" />
              <div>
                  <h3 class="ma0 pa0 gh-members-list-name {{if (not @member.name) "gh-members-name-noname"}}">{{or @member.name @member.email}}</h3>
                  {{#if @member.name}}
                      <p class="ma0 pa0 middarkgrey f8 gh-members-list-email">{{@member.email}}</p>
                  {{/if}}
              </div>
          </div>
      </LinkTo>
  
      <LinkTo @route="member" @model={{@member}} title="Member details" class="gh-list-data gh-members-list-geolocation gh-list-cellwidth-20 nowrap middarkgrey f8 {{if (not @member.name) "gh-members-geolocation-noname"}}">
          {{#if @member.geolocation}}
              {{#if (eq @member.geolocation.country_code "US")}}
                  {{@member.geolocation.region}}, US
              {{else}}
                  {{@member.geolocation.country}}
              {{/if}}
          {{else}}
              <span class="midlightgrey">Unknown</span>
          {{/if}}
      </LinkTo>
  
      <LinkTo @route="member" @model={{@member}} title="Member details" class="gh-list-data gh-members-list-subscribed-at gh-list-cellwidth-20 nowrap middarkgrey f8 {{if (not @member.name) "gh-members-subscribed-noname"}}">
          {{moment-format @member.createdAtUTC "MMM DD, YYYY"}} <span class="midlightgrey">({{this.memberSince}})</span>
      </LinkTo>
  
      <LinkTo @route="member" @model={{@member}} title="Member details" class="gh-list-data gh-list-cellwidth-chevron gh-members-list-chevron">
          <div class="flex items-center justify-end w-100 h-100">
              <span class="nr2">{{svg-jar "arrow-right" class="w6 h6 fill-midgrey pa1"}}</span>
          </div>
      </LinkTo>
  </li>
  */
  {"id":"d1GFO6Uy","block":"{\"symbols\":[\"@member\",\"&attrs\"],\"statements\":[[11,\"li\"],[24,0,\"gh-list-row gh-members-list-item\"],[17,2],[12],[2,\"\\n    \"],[8,\"link-to\",[[24,\"title\",\"Member details\"],[24,0,\"gh-list-data gh-members-list-basic\"]],[[\"@route\",\"@model\"],[\"member\",[32,1]]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex items-center\"],[12],[2,\"\\n            \"],[8,\"gh-member-avatar\",[],[[\"@member\",\"@containerClass\"],[[32,1],\"w9 h9 mr3\"]],null],[2,\"\\n            \"],[10,\"div\"],[12],[2,\"\\n                \"],[10,\"h3\"],[15,0,[31,[\"ma0 pa0 gh-members-list-name \",[30,[36,1],[[30,[36,2],[[32,1,[\"name\"]]],null],\"gh-members-name-noname\"],null]]]],[12],[1,[30,[36,3],[[32,1,[\"name\"]],[32,1,[\"email\"]]],null]],[13],[2,\"\\n\"],[6,[37,1],[[32,1,[\"name\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"p\"],[14,0,\"ma0 pa0 middarkgrey f8 gh-members-list-email\"],[12],[1,[32,1,[\"email\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[8,\"link-to\",[[24,\"title\",\"Member details\"],[16,0,[31,[\"gh-list-data gh-members-list-geolocation gh-list-cellwidth-20 nowrap middarkgrey f8 \",[30,[36,1],[[30,[36,2],[[32,1,[\"name\"]]],null],\"gh-members-geolocation-noname\"],null]]]]],[[\"@route\",\"@model\"],[\"member\",[32,1]]],[[\"default\"],[{\"statements\":[[2,\"\\n\"],[6,[37,1],[[32,1,[\"geolocation\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[6,[37,1],[[30,[36,0],[[32,1,[\"geolocation\",\"country_code\"]],\"US\"],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[1,[32,1,[\"geolocation\",\"region\"]]],[2,\", US\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                \"],[1,[32,1,[\"geolocation\",\"country\"]]],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]},{\"statements\":[[2,\"            \"],[10,\"span\"],[14,0,\"midlightgrey\"],[12],[2,\"Unknown\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[8,\"link-to\",[[24,\"title\",\"Member details\"],[16,0,[31,[\"gh-list-data gh-members-list-subscribed-at gh-list-cellwidth-20 nowrap middarkgrey f8 \",[30,[36,1],[[30,[36,2],[[32,1,[\"name\"]]],null],\"gh-members-subscribed-noname\"],null]]]]],[[\"@route\",\"@model\"],[\"member\",[32,1]]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[1,[30,[36,4],[[32,1,[\"createdAtUTC\"]],\"MMM DD, YYYY\"],null]],[2,\" \"],[10,\"span\"],[14,0,\"midlightgrey\"],[12],[2,\"(\"],[1,[32,0,[\"memberSince\"]]],[2,\")\"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[8,\"link-to\",[[24,\"title\",\"Member details\"],[24,0,\"gh-list-data gh-list-cellwidth-chevron gh-members-list-chevron\"]],[[\"@route\",\"@model\"],[\"member\",[32,1]]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex items-center justify-end w-100 h-100\"],[12],[2,\"\\n            \"],[10,\"span\"],[14,0,\"nr2\"],[12],[1,[30,[36,5],[\"arrow-right\"],[[\"class\"],[\"w6 h6 fill-midgrey pa1\"]]]],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"eq\",\"if\",\"not\",\"or\",\"moment-format\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/gh-members-list-item.hbs"}});

  class GhMembersListItemComponent extends _component.default {
    get memberSince() {
      return (0, _moment.default)(this.args.member.createdAtUTC).from((0, _moment.default)());
    }

  }

  _exports.default = GhMembersListItemComponent;

  Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, GhMembersListItemComponent);
});
;define("ghost-admin/components/gh-members-no-members", ["exports", "ember-concurrency"], function (_exports, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="flex flex-column items-stretch">
      {{!-- <p class="">Get started with one of the following options</p> --}}
      <button class="gh-btn gh-btn-green" onclick={{action "addYourself"}}>
          <span>Add yourself as a member to test</span>
      </button>
      
      <div class="flex flex-column items-stretch mt8 pt8 pb10 bt b--lightgrey-d1">
          <LinkTo @route="member.new" class="gh-btn gh-btn-outline mb3">
              <span>Manually add a member</span>
          </LinkTo>
          
          <LinkTo @route="members.import" class="gh-btn gh-btn-outline">
              <span>Import members from CSV</span>
          </LinkTo>
      </div>
  </div>
  */
  {"id":"+cA+TqVu","block":"{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"flex flex-column items-stretch\"],[12],[2,\"\\n\"],[2,\"    \"],[10,\"button\"],[14,0,\"gh-btn gh-btn-green\"],[15,\"onclick\",[30,[36,0],[[32,0],\"addYourself\"],null]],[12],[2,\"\\n        \"],[10,\"span\"],[12],[2,\"Add yourself as a member to test\"],[13],[2,\"\\n    \"],[13],[2,\"\\n    \\n    \"],[10,\"div\"],[14,0,\"flex flex-column items-stretch mt8 pt8 pb10 bt b--lightgrey-d1\"],[12],[2,\"\\n        \"],[8,\"link-to\",[[24,0,\"gh-btn gh-btn-outline mb3\"]],[[\"@route\"],[\"member.new\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"span\"],[12],[2,\"Manually add a member\"],[13],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n        \\n        \"],[8,\"link-to\",[[24,0,\"gh-btn gh-btn-outline\"]],[[\"@route\"],[\"members.import\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"span\"],[12],[2,\"Import members from CSV\"],[13],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n    \"],[13],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"action\"]}","meta":{"moduleName":"ghost-admin/components/gh-members-no-members.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    session: Ember.inject.service(),
    store: Ember.inject.service(),
    notifications: Ember.inject.service(),
    actions: {
      addYourself() {
        return this.add.perform();
      }

    },
    add: (0, _emberConcurrency.task)(function* () {
      const member = this.store.createRecord('member', {
        email: this.get('session.user.email'),
        name: this.get('session.user.name')
      });

      try {
        // NOTE: has to be before member.save() is performed otherwise component is
        //       destroyed before notification is shown
        this.notifications.showNotification('Member added'.htmlSafe(), {
          description: 'You\'ve successfully added yourself as a member.'
        });
        return yield member.save();
      } catch (error) {
        if (error) {
          this.notifications.showAPIError(error, {
            key: 'member.save'
          });
        }
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-mobile-nav-bar", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <LinkTo @route="editor.new" @model="post" data-test-mobile-nav="new-post">{{svg-jar "pen"}}New post</LinkTo>
  {{#if (eq this.router.currentRouteName "posts")}}
      <LinkTo @route="posts" @query={{hash type=null}} @classNames="active" data-test-mobile-nav="posts">{{svg-jar "content"}}Posts</LinkTo>
  {{else}}
      <LinkTo @route="posts">{{svg-jar "content" data-test-mobile-nav="posts"}}Posts</LinkTo>
  {{/if}}
  <LinkTo @route="staff" @classNames="gh-nav-main-users" data-test-mobile-nav="staff">{{svg-jar "account-group"}}Staff</LinkTo>
  <div class="gh-mobile-nav-bar-more" {{action "openMobileMenu" target=this.ui data-test-mobile-nav="more"}}>{{svg-jar "icon" class="icon-gh"}}More</div>
  {{yield}}
  
  */
  {"id":"5NIxTTTx","block":"{\"symbols\":[\"&default\"],\"statements\":[[8,\"link-to\",[[24,\"data-test-mobile-nav\",\"new-post\"]],[[\"@route\",\"@model\"],[\"editor.new\",\"post\"]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"pen\"],null]],[2,\"New post\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,3],[[30,[36,2],[[32,0,[\"router\",\"currentRouteName\"]],\"posts\"],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"    \"],[8,\"link-to\",[[24,\"data-test-mobile-nav\",\"posts\"]],[[\"@route\",\"@query\",\"@classNames\"],[\"posts\",[30,[36,1],null,[[\"type\"],[null]]],\"active\"]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"content\"],null]],[2,\"Posts\"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"    \"],[8,\"link-to\",[],[[\"@route\"],[\"posts\"]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"content\"],[[\"data-test-mobile-nav\"],[\"posts\"]]]],[2,\"Posts\"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]}]]],[8,\"link-to\",[[24,\"data-test-mobile-nav\",\"staff\"]],[[\"@route\",\"@classNames\"],[\"staff\",\"gh-nav-main-users\"]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"account-group\"],null]],[2,\"Staff\"]],\"parameters\":[]}]]],[2,\"\\n\"],[11,\"div\"],[24,0,\"gh-mobile-nav-bar-more\"],[4,[38,4],[[32,0],\"openMobileMenu\"],[[\"target\",\"data-test-mobile-nav\"],[[32,0,[\"ui\"]],\"more\"]]],[12],[1,[30,[36,0],[\"icon\"],[[\"class\"],[\"icon-gh\"]]]],[2,\"More\"],[13],[2,\"\\n\"],[18,1,null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"hash\",\"eq\",\"if\",\"action\"]}","meta":{"moduleName":"ghost-admin/components/gh-mobile-nav-bar.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    ui: Ember.inject.service(),
    tagName: 'nav',
    classNames: ['gh-mobile-nav-bar']
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-mobiledoc", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{yield}}
  
  */
  {"id":"BkJPVk+X","block":"{\"symbols\":[\"&default\"],\"statements\":[[18,1,null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-mobiledoc.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember._templateOnlyComponent());

  _exports.default = _default;
});
;define("ghost-admin/components/gh-modal-dialog", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="modal-container js-modal-container" {{action "closeModal"}}>
      <article class="{{klass}} js-modal">
          <section class="modal-content" {{action "noBubble" bubbles=false preventDefault=false}}>
              {{#if title}}<header class="modal-header"><h1>{{title}}</h1></header>{{/if}}
              {{#if showClose}}<a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>{{/if}}
              <section class="modal-body">
                  {{yield}}
              </section>
              {{#if confirm}}
              <footer class="modal-footer">
                  {{! Buttons must be on one line to prevent white-space errors }}
                  <button type="button" class="{{rejectButtonClass}} btn-minor" {{action "confirm" "reject"}} data-test-modal-reject-button>{{confirm.reject.text}}</button><button type="button" class="{{acceptButtonClass}}" {{action "confirm" "accept"}} data-test-modal-accept-button>{{confirm.accept.text}}</button>
              </footer>
              {{/if}}
          </section>
      </article>
  </div>
  <div class="modal-background js-modal-background"></div>
  
  */
  {"id":"1D8ecP+t","block":"{\"symbols\":[\"&default\"],\"statements\":[[11,\"div\"],[24,0,\"modal-container js-modal-container\"],[4,[38,1],[[32,0],\"closeModal\"],null],[12],[2,\"\\n    \"],[10,\"article\"],[15,0,[31,[[34,6],\" js-modal\"]]],[12],[2,\"\\n        \"],[11,\"section\"],[24,0,\"modal-content\"],[4,[38,1],[[32,0],\"noBubble\"],[[\"bubbles\",\"preventDefault\"],[false,false]]],[12],[2,\"\\n            \"],[6,[37,7],[[35,5]],null,[[\"default\"],[{\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[12],[10,\"h1\"],[12],[1,[34,5]],[13],[13]],\"parameters\":[]}]]],[2,\"\\n            \"],[6,[37,7],[[35,8]],null,[[\"default\"],[{\"statements\":[[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,1],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,4],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13]],\"parameters\":[]}]]],[2,\"\\n            \"],[10,\"section\"],[14,0,\"modal-body\"],[12],[2,\"\\n                \"],[18,1,null],[2,\"\\n            \"],[13],[2,\"\\n\"],[6,[37,7],[[35,2]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"footer\"],[14,0,\"modal-footer\"],[12],[2,\"\\n\"],[2,\"                \"],[11,\"button\"],[16,0,[31,[[34,0],\" btn-minor\"]]],[24,\"data-test-modal-reject-button\",\"\"],[24,4,\"button\"],[4,[38,1],[[32,0],\"confirm\",\"reject\"],null],[12],[1,[35,2,[\"reject\",\"text\"]]],[13],[11,\"button\"],[16,0,[31,[[34,3]]]],[24,\"data-test-modal-accept-button\",\"\"],[24,4,\"button\"],[4,[38,1],[[32,0],\"confirm\",\"accept\"],null],[12],[1,[35,2,[\"accept\",\"text\"]]],[13],[2,\"\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"div\"],[14,0,\"modal-background js-modal-background\"],[12],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"rejectButtonClass\",\"action\",\"confirm\",\"acceptButtonClass\",\"svg-jar\",\"title\",\"klass\",\"if\",\"showClose\"]}","meta":{"moduleName":"ghost-admin/components/gh-modal-dialog.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember._templateOnlyComponent());

  _exports.default = _default;
});
;define("ghost-admin/components/gh-nav-menu", ["exports", "ghost-admin/mixins/shortcuts", "ember-basic-dropdown/utils/calculate-position", "ghost-admin/utils/ctrl-or-cmd"], function (_exports, _shortcuts, _calculatePosition, _ctrlOrCmd) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="gh-nav-menu">
      <div class="gh-nav-menu-details">
          <div class="gh-nav-menu-icon" style={{this.iconStyle}}></div>
          <div class="gh-nav-menu-details-blog">{{this.config.blogTitle}}</div>
      </div>
      <div class="gh-nav-menu-search">
          <button class="gh-nav-btn-search" {{action "toggleSearchModal"}} title="Search site (Ctrl/⌘ + K)"><span>{{svg-jar "search" class="w4 h4 fill-midgrey"}}</span></button>
      </div>
  </header>
  
  {{#if this.showSearchModal}}
      <GhFullscreenModal @modal="search"
          @close={{action "toggleSearchModal"}}
          @modifier="action wide" />
  {{/if}}
  
  {{#if this.showBillingModal}}
      <GhFullscreenModal @modal="billing"
          @close={{action "toggleBillingModal"}}
          @modifier="full-overlay billing" />
  {{/if}}
  
  <section class="gh-nav-body">
      <div class="gh-nav-top">
          <ul class="gh-nav-list gh-nav-main">
              <li class="relative">
                  <span {{action "transitionToOrRefreshSite" on="click"}}>
                      <LinkTo @route="site" data-test-nav="site" @current-when={{this.isOnSite}} @preventDefault={{false}}>
                          {{svg-jar "house"}} View site
                      </LinkTo>
                  </span>
                  <a href="{{this.config.blogUrl}}/" class="gh-secondary-action" title="Open site in new tab" target="_blank">
                      <span>{{svg-jar "expand"}}</span>
                  </a>
              </li>
          </ul>
          <ul class="gh-nav-list gh-nav-manage">
              <li class="gh-nav-list-h">Manage</li>
              <li class="gh-nav-list-new relative">
                  <GhLinkToCustomViewsIndex @route="posts" @query={{reset-query-params "posts"}} data-test-nav="posts">{{svg-jar "posts"}}Posts</GhLinkToCustomViewsIndex>
                  <LinkTo @route="editor.new" @model="post" @classNames="gh-secondary-action gh-nav-new-post" @alt="New post" @title="New post" data-test-nav="new-story"><span>{{svg-jar "add-stroke"}}</span></LinkTo>
                  {{#if this.customViews.forPosts}}
                      <button type="button" class="absolute left-3 top-2 z-9999 flex items-center pl2 h4 gh-nav-button-expand {{if this.navigation.settings.expanded.posts "expanded"}}" {{on "click" (fn this.navigation.toggleExpansion "posts")}}>
                          {{svg-jar (if this.navigation.settings.expanded.posts "arrow-down-stroke" "arrow-right-stroke")}}
                      </button>
                      {{#liquid-if this.navigation.settings.expanded.posts}}
                          <ul class="gh-nav-view-list">
                              {{#each this.customViews.forPosts as |view|}}
                                  <li>
                                      <LinkTo @route="posts" @query={{reset-query-params "posts" view.filter}} data-test-nav-custom="{{view.route}}-{{view.name}}" title="{{view.name}}">
                                          {{!-- <div class="dib w4 h4 mr2 bg-{{view.color}} br-100"></div> --}}
                                          <span class="flex items-center svg-{{view.color}}">
                                              {{#if view.icon}}
                                                  {{svg-jar (or view.icon "post")}}
                                              {{else}}
                                                  <span class="circle"></span>
                                              {{/if}}
                                          </span>
                                          <span class="gh-nav-viewname">{{view.name}}</span>
                                      </LinkTo>
                                  </li>
                              {{/each}}
                          </ul>
                      {{/liquid-if}}
                  {{/if}}
              </li>
              <li>
                  {{!-- clicking the Content link whilst on the content screen should reset the filter --}}
                  {{#if (eq this.router.currentRouteName "pages")}}
                      <LinkTo @route="pages" @query={{hash type=null author=null tag=null order=null}} @classNames="active" data-test-nav="pages">{{svg-jar "page"}}Pages</LinkTo>
                  {{else}}
                      <LinkTo @route="pages" data-test-nav="pages">{{svg-jar "page"}}Pages</LinkTo>
                  {{/if}}
              </li>
              {{#if (gh-user-can-admin this.session.user)}}
                  <li><LinkTo @route="tags" data-test-nav="tags">{{svg-jar "tag"}}Tags</LinkTo></li>
              {{/if}}
              {{#if (and this.feature.members (gh-user-can-admin this.session.user))}}
                  <li>
                      <LinkTo @route="members" @current-when="members member" @query={{hash label=null}} data-test-nav="members">{{svg-jar "members"}}Members</LinkTo>
                  </li>
              {{/if}}
              <li><LinkTo @route="staff" data-test-nav="staff">{{svg-jar "staff"}}Staff</LinkTo></li>
          </ul>
          {{#if (gh-user-can-admin this.session.user)}}
              <ul class="gh-nav-list gh-nav-settings">
                  <li class="gh-nav-list-h">Settings</li>
                  <li><LinkTo @route="settings.general" data-test-nav="settings">{{svg-jar "settings"}}General</LinkTo></li>
                  <li><LinkTo @route="settings.design" data-test-nav="design">{{svg-jar "paintbrush"}}Design</LinkTo></li>
                  <li><LinkTo @route="settings.code-injection" data-test-nav="code-injection">{{svg-jar "brackets"}}Code injection</LinkTo></li>
                  <li><LinkTo @route="settings.integrations" @current-when={{this.isIntegrationRoute}} data-test-nav="integrations">{{svg-jar "modules"}}Integrations</LinkTo></li>
                  <li class="relative">
                      <button class="gh-secondary-action" title="Toggle Night shift" {{action (toggle "nightShift" this.feature)}}>
                          <span>{{svg-jar "nightshift"}}</span>
                      </button>
                      <LinkTo @route="settings.labs" data-test-nav="labs">{{svg-jar "labs"}}Labs</LinkTo>
                  </li>
                  {{#if this.showBilling}}
                      <li class="relative">
                          <a href="javascript:void(0)" {{action "toggleBillingModal"}} data-test-nav="billing">
                              {{svg-jar "house"}} View billing
                          </a>
                      </li>
                      <li class="relative gh-nav-pro">
                          <GhBillingUpdateButton />
                      </li>
                  {{/if}}
              </ul>
          {{/if}}
  
          {{#if this.showMenuExtension}}
              <ul class="gh-nav-list gh-nav-settings">
                  {{#if this.config.clientExtensions.menu.title}}
                      <li class="gh-nav-list-h">{{this.config.clientExtensions.menu.title}}</li>
                  {{/if}}
                  {{#each this.config.clientExtensions.menu.items as |menuItem| }}
                      <li>
                          <a href="{{menuItem.href}}" target="_blank">{{svg-jar menuItem.icon}}{{menuItem.text}}</a>
                      </li>
                  {{/each}}
              </ul>
          {{/if}}
  
          {{#if this.showScriptExtension}}
              {{{this.config.clientExtensions.script.container}}}
              <script src="{{this.config.clientExtensions.script.src}}"></script>
          {{/if}}
      </div>
      <div class="gh-nav-bottom">
          <GhBasicDropdown @horizontalPosition="left" @verticalPosition="top" @calculatePosition={{this.userDropdownPosition}} as |dropdown|>
              <dropdown.Trigger class="flex items-center outline-0 pointer space-between pa2 pl4 pr3">
                  <div class="flex-auto flex items-center">
                      <div class="gh-user-avatar relative" style={{background-image-style this.session.user.profileImageUrl}}>
                          {{#if this.whatsNew.hasNew}}<span class="absolute dib bg-blue ba b--white br-100 gh-whats-new-badge-account"></span>{{/if}}
                      </div>
                      <div class="flex flex-column items-start justify-center">
                          <span class="gh-user-name {{if this.session.user.name "mb1"}}" title="{{this.session.user.name}}">{{this.session.user.name}}</span>
                          <span class="gh-user-email" title="{{this.session.user.email}}">{{this.session.user.email}}</span>
                      </div>
                  </div>
                  {{svg-jar "arrow-down" class="w3 mr1 fill-darkgrey"}}
              </dropdown.Trigger>
  
              <dropdown.Content class="gh-nav-menu-dropdown">
                  <ul class="dropdown-menu dropdown-triangle-top" role="menu" {{action dropdown.actions.close on="click" preventDefault=false}}>
                      <li role="presentation">
                          <LinkTo @route="about" @classNames="dropdown-item" @role="menuitem" @tabindex="-1" data-test-nav="about">
                              {{svg-jar "store"}} About Ghost
                          </LinkTo>
                      </li>
                      <li role="presentation">
                          <button class="dropdown-item" role="menuitem" tabindex="-1" {{on "click" this.whatsNew.showModal}}>
                              {{svg-jar "gift"}} What's new?
                              {{#if this.whatsNew.hasNew}}
                                  <div class="flex-grow-1 flex justify-end"><span class="dib w2 h2 top-0 right-0 bg-blue br-100"></span></div>
                              {{/if}}
                          </button>
                      </li>
                      <li class="divider"></li>
                      <li role="presentation">
                          <LinkTo @route="staff.user" @model={{this.session.user.slug}} @classNames="dropdown-item" @role="menuitem" @tabindex="-1" data-test-nav="user-profile">
                              {{svg-jar "user-circle"}} Your Profile
                          </LinkTo>
                      </li>
                      <li role="presentation">
                          <a class="dropdown-item" role="menuitem" tabindex="-1" href="https://ghost.org/docs/" target="_blank">
                              {{svg-jar "ambulance"}} Support Center
                          </a>
                      </li>
                      <li role="presentation">
                          <a class="dropdown-item" role="menuitem" tabindex="-1" target="_blank"
                              href="https://twitter.com/intent/tweet?text=%40Ghost+Hi%21+Can+you+help+me+with+&related=Ghost"
                              onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;"
                          >
                              {{svg-jar "twitter"}} Tweet @Ghost!
                          </a>
                      </li>
                      <li role="presentation">
                          <a class="dropdown-item" role="menuitem" tabindex="-1" href="https://ghost.org/faq/using-ghost/" target="_blank">
                              {{svg-jar "book-open"}} How to Use Ghost
                          </a>
                      </li>
                      <li class="divider"></li>
  
                      {{#if this.showDropdownExtension}}
                          {{#each this.config.clientExtensions.dropdown.items as |menuItem| }}
                              {{#if menuItem.divider}}
                                  <li class="divider"></li>
                              {{else}}
                                  <li role="presentation">
                                      <a href="{{menuItem.href}}" target="_blank" class="dropdown-item {{menuItem.classes}}" role="menuitem" tabindex="-1">
                                          {{svg-jar menuItem.icon}} {{menuItem.text}}
                                      </a>
                                  </li>
                              {{/if}}
                          {{/each}}
                      {{/if}}
  
                      <li role="presentation">
                          <LinkTo @route="signout" @classNames="dropdown-item user-menu-signout" @role="menuitem" @tabindex="-1">
                              {{svg-jar "signout"}} Sign Out
                          </LinkTo>
                      </li>
                  </ul>
              </dropdown.Content>
          </GhBasicDropdown>
      </div>
  </section>
  
  <GhTourItem @throbberId="getting-started"
      @target=".gh-nav-main"
      @throbberAttachment="middle right"
      @popoverTriangleClass="left-top"
      @throbberOffset="0px 0px"
  />
  */
  {"id":"FDfGM7IA","block":"{\"symbols\":[\"dropdown\",\"menuItem\",\"menuItem\",\"view\"],\"statements\":[[10,\"header\"],[14,0,\"gh-nav-menu\"],[12],[2,\"\\n    \"],[10,\"div\"],[14,0,\"gh-nav-menu-details\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-nav-menu-icon\"],[15,5,[32,0,[\"iconStyle\"]]],[12],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-nav-menu-details-blog\"],[12],[1,[32,0,[\"config\",\"blogTitle\"]]],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[10,\"div\"],[14,0,\"gh-nav-menu-search\"],[12],[2,\"\\n        \"],[11,\"button\"],[24,0,\"gh-nav-btn-search\"],[24,\"title\",\"Search site (Ctrl/⌘ + K)\"],[4,[38,4],[[32,0],\"toggleSearchModal\"],null],[12],[10,\"span\"],[12],[1,[30,[36,0],[\"search\"],[[\"class\"],[\"w4 h4 fill-midgrey\"]]]],[13],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[6,[37,1],[[32,0,[\"showSearchModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@close\",\"@modifier\"],[\"search\",[30,[36,4],[[32,0],\"toggleSearchModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,1],[[32,0,[\"showBillingModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@close\",\"@modifier\"],[\"billing\",[30,[36,4],[[32,0],\"toggleBillingModal\"],null],\"full-overlay billing\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[10,\"section\"],[14,0,\"gh-nav-body\"],[12],[2,\"\\n    \"],[10,\"div\"],[14,0,\"gh-nav-top\"],[12],[2,\"\\n        \"],[10,\"ul\"],[14,0,\"gh-nav-list gh-nav-main\"],[12],[2,\"\\n            \"],[10,\"li\"],[14,0,\"relative\"],[12],[2,\"\\n                \"],[11,\"span\"],[4,[38,4],[[32,0],\"transitionToOrRefreshSite\"],[[\"on\"],[\"click\"]]],[12],[2,\"\\n                    \"],[8,\"link-to\",[[24,\"data-test-nav\",\"site\"]],[[\"@route\",\"@current-when\",\"@preventDefault\"],[\"site\",[32,0,[\"isOnSite\"]],false]],[[\"default\"],[{\"statements\":[[2,\"\\n                        \"],[1,[30,[36,0],[\"house\"],null]],[2,\" View site\\n                    \"]],\"parameters\":[]}]]],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"a\"],[15,6,[31,[[32,0,[\"config\",\"blogUrl\"]],\"/\"]]],[14,0,\"gh-secondary-action\"],[14,\"title\",\"Open site in new tab\"],[14,\"target\",\"_blank\"],[12],[2,\"\\n                    \"],[10,\"span\"],[12],[1,[30,[36,0],[\"expand\"],null]],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"ul\"],[14,0,\"gh-nav-list gh-nav-manage\"],[12],[2,\"\\n            \"],[10,\"li\"],[14,0,\"gh-nav-list-h\"],[12],[2,\"Manage\"],[13],[2,\"\\n            \"],[10,\"li\"],[14,0,\"gh-nav-list-new relative\"],[12],[2,\"\\n                \"],[8,\"gh-link-to-custom-views-index\",[[24,\"data-test-nav\",\"posts\"]],[[\"@route\",\"@query\"],[\"posts\",[30,[36,8],[\"posts\"],null]]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"posts\"],null]],[2,\"Posts\"]],\"parameters\":[]}]]],[2,\"\\n                \"],[8,\"link-to\",[[24,\"data-test-nav\",\"new-story\"]],[[\"@route\",\"@model\",\"@classNames\",\"@alt\",\"@title\"],[\"editor.new\",\"post\",\"gh-secondary-action gh-nav-new-post\",\"New post\",\"New post\"]],[[\"default\"],[{\"statements\":[[10,\"span\"],[12],[1,[30,[36,0],[\"add-stroke\"],null]],[13]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,1],[[32,0,[\"customViews\",\"forPosts\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[11,\"button\"],[16,0,[31,[\"absolute left-3 top-2 z-9999 flex items-center pl2 h4 gh-nav-button-expand \",[30,[36,1],[[32,0,[\"navigation\",\"settings\",\"expanded\",\"posts\"]],\"expanded\"],null]]]],[24,4,\"button\"],[4,[38,10],[\"click\",[30,[36,9],[[32,0,[\"navigation\",\"toggleExpansion\"]],\"posts\"],null]],null],[12],[2,\"\\n                        \"],[1,[30,[36,0],[[30,[36,1],[[32,0,[\"navigation\",\"settings\",\"expanded\",\"posts\"]],\"arrow-down-stroke\",\"arrow-right-stroke\"],null]],null]],[2,\"\\n                    \"],[13],[2,\"\\n\"],[6,[37,11],[[32,0,[\"navigation\",\"settings\",\"expanded\",\"posts\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"ul\"],[14,0,\"gh-nav-view-list\"],[12],[2,\"\\n\"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,[\"customViews\",\"forPosts\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                                \"],[10,\"li\"],[12],[2,\"\\n                                    \"],[8,\"link-to\",[[16,\"data-test-nav-custom\",[31,[[32,4,[\"route\"]],\"-\",[32,4,[\"name\"]]]]],[16,\"title\",[31,[[32,4,[\"name\"]]]]]],[[\"@route\",\"@query\"],[\"posts\",[30,[36,8],[\"posts\",[32,4,[\"filter\"]]],null]]],[[\"default\"],[{\"statements\":[[2,\"\\n\"],[2,\"                                        \"],[10,\"span\"],[15,0,[31,[\"flex items-center svg-\",[32,4,[\"color\"]]]]],[12],[2,\"\\n\"],[6,[37,1],[[32,4,[\"icon\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                                \"],[1,[30,[36,0],[[30,[36,7],[[32,4,[\"icon\"]],\"post\"],null]],null]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                                \"],[10,\"span\"],[14,0,\"circle\"],[12],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                                        \"],[13],[2,\"\\n                                        \"],[10,\"span\"],[14,0,\"gh-nav-viewname\"],[12],[1,[32,4,[\"name\"]]],[13],[2,\"\\n                                    \"]],\"parameters\":[]}]]],[2,\"\\n                                \"],[13],[2,\"\\n\"]],\"parameters\":[4]}]]],[2,\"                        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"            \"],[13],[2,\"\\n            \"],[10,\"li\"],[12],[2,\"\\n\"],[6,[37,1],[[30,[36,12],[[32,0,[\"router\",\"currentRouteName\"]],\"pages\"],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                    \"],[8,\"link-to\",[[24,\"data-test-nav\",\"pages\"]],[[\"@route\",\"@query\",\"@classNames\"],[\"pages\",[30,[36,6],null,[[\"type\",\"author\",\"tag\",\"order\"],[null,null,null,null]]],\"active\"]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"page\"],null]],[2,\"Pages\"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                    \"],[8,\"link-to\",[[24,\"data-test-nav\",\"pages\"]],[[\"@route\"],[\"pages\"]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"page\"],null]],[2,\"Pages\"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"],[13],[2,\"\\n\"],[6,[37,1],[[30,[36,13],[[32,0,[\"session\",\"user\"]]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"li\"],[12],[8,\"link-to\",[[24,\"data-test-nav\",\"tags\"]],[[\"@route\"],[\"tags\"]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"tag\"],null]],[2,\"Tags\"]],\"parameters\":[]}]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[6,[37,1],[[30,[36,14],[[32,0,[\"feature\",\"members\"]],[30,[36,13],[[32,0,[\"session\",\"user\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"li\"],[12],[2,\"\\n                    \"],[8,\"link-to\",[[24,\"data-test-nav\",\"members\"]],[[\"@route\",\"@current-when\",\"@query\"],[\"members\",\"members member\",[30,[36,6],null,[[\"label\"],[null]]]]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"members\"],null]],[2,\"Members\"]],\"parameters\":[]}]]],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"],[10,\"li\"],[12],[8,\"link-to\",[[24,\"data-test-nav\",\"staff\"]],[[\"@route\"],[\"staff\"]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"staff\"],null]],[2,\"Staff\"]],\"parameters\":[]}]]],[13],[2,\"\\n        \"],[13],[2,\"\\n\"],[6,[37,1],[[30,[36,13],[[32,0,[\"session\",\"user\"]]],null]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"ul\"],[14,0,\"gh-nav-list gh-nav-settings\"],[12],[2,\"\\n                \"],[10,\"li\"],[14,0,\"gh-nav-list-h\"],[12],[2,\"Settings\"],[13],[2,\"\\n                \"],[10,\"li\"],[12],[8,\"link-to\",[[24,\"data-test-nav\",\"settings\"]],[[\"@route\"],[\"settings.general\"]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"settings\"],null]],[2,\"General\"]],\"parameters\":[]}]]],[13],[2,\"\\n                \"],[10,\"li\"],[12],[8,\"link-to\",[[24,\"data-test-nav\",\"design\"]],[[\"@route\"],[\"settings.design\"]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"paintbrush\"],null]],[2,\"Design\"]],\"parameters\":[]}]]],[13],[2,\"\\n                \"],[10,\"li\"],[12],[8,\"link-to\",[[24,\"data-test-nav\",\"code-injection\"]],[[\"@route\"],[\"settings.code-injection\"]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"brackets\"],null]],[2,\"Code injection\"]],\"parameters\":[]}]]],[13],[2,\"\\n                \"],[10,\"li\"],[12],[8,\"link-to\",[[24,\"data-test-nav\",\"integrations\"]],[[\"@route\",\"@current-when\"],[\"settings.integrations\",[32,0,[\"isIntegrationRoute\"]]]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"modules\"],null]],[2,\"Integrations\"]],\"parameters\":[]}]]],[13],[2,\"\\n                \"],[10,\"li\"],[14,0,\"relative\"],[12],[2,\"\\n                    \"],[11,\"button\"],[24,0,\"gh-secondary-action\"],[24,\"title\",\"Toggle Night shift\"],[4,[38,4],[[32,0],[30,[36,5],[\"nightShift\",[32,0,[\"feature\"]]],null]],null],[12],[2,\"\\n                        \"],[10,\"span\"],[12],[1,[30,[36,0],[\"nightshift\"],null]],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[8,\"link-to\",[[24,\"data-test-nav\",\"labs\"]],[[\"@route\"],[\"settings.labs\"]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"labs\"],null]],[2,\"Labs\"]],\"parameters\":[]}]]],[2,\"\\n                \"],[13],[2,\"\\n\"],[6,[37,1],[[32,0,[\"showBilling\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"li\"],[14,0,\"relative\"],[12],[2,\"\\n                        \"],[11,\"a\"],[24,6,\"javascript:void(0)\"],[24,\"data-test-nav\",\"billing\"],[4,[38,4],[[32,0],\"toggleBillingModal\"],null],[12],[2,\"\\n                            \"],[1,[30,[36,0],[\"house\"],null]],[2,\" View billing\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"li\"],[14,0,\"relative gh-nav-pro\"],[12],[2,\"\\n                        \"],[8,\"gh-billing-update-button\",[],[[],[]],null],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,1],[[32,0,[\"showMenuExtension\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"ul\"],[14,0,\"gh-nav-list gh-nav-settings\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"config\",\"clientExtensions\",\"menu\",\"title\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"li\"],[14,0,\"gh-nav-list-h\"],[12],[1,[32,0,[\"config\",\"clientExtensions\",\"menu\",\"title\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,[\"config\",\"clientExtensions\",\"menu\",\"items\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"li\"],[12],[2,\"\\n                        \"],[10,\"a\"],[15,6,[31,[[32,3,[\"href\"]]]]],[14,\"target\",\"_blank\"],[12],[1,[30,[36,0],[[32,3,[\"icon\"]]],null]],[1,[32,3,[\"text\"]]],[13],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[3]}]]],[2,\"            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,1],[[32,0,[\"showScriptExtension\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[2,[32,0,[\"config\",\"clientExtensions\",\"script\",\"container\"]]],[2,\"\\n            \"],[10,\"script\"],[15,\"src\",[31,[[32,0,[\"config\",\"clientExtensions\",\"script\",\"src\"]]]]],[12],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    \"],[13],[2,\"\\n    \"],[10,\"div\"],[14,0,\"gh-nav-bottom\"],[12],[2,\"\\n        \"],[8,\"gh-basic-dropdown\",[],[[\"@horizontalPosition\",\"@verticalPosition\",\"@calculatePosition\"],[\"left\",\"top\",[32,0,[\"userDropdownPosition\"]]]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[8,[32,1,[\"Trigger\"]],[[24,0,\"flex items-center outline-0 pointer space-between pa2 pl4 pr3\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"div\"],[14,0,\"flex-auto flex items-center\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-user-avatar relative\"],[15,5,[30,[36,15],[[32,0,[\"session\",\"user\",\"profileImageUrl\"]]],null]],[12],[2,\"\\n                        \"],[6,[37,1],[[32,0,[\"whatsNew\",\"hasNew\"]]],null,[[\"default\"],[{\"statements\":[[10,\"span\"],[14,0,\"absolute dib bg-blue ba b--white br-100 gh-whats-new-badge-account\"],[12],[13]],\"parameters\":[]}]]],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"flex flex-column items-start justify-center\"],[12],[2,\"\\n                        \"],[10,\"span\"],[15,0,[31,[\"gh-user-name \",[30,[36,1],[[32,0,[\"session\",\"user\",\"name\"]],\"mb1\"],null]]]],[15,\"title\",[31,[[32,0,[\"session\",\"user\",\"name\"]]]]],[12],[1,[32,0,[\"session\",\"user\",\"name\"]]],[13],[2,\"\\n                        \"],[10,\"span\"],[14,0,\"gh-user-email\"],[15,\"title\",[31,[[32,0,[\"session\",\"user\",\"email\"]]]]],[12],[1,[32,0,[\"session\",\"user\",\"email\"]]],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[1,[30,[36,0],[\"arrow-down\"],[[\"class\"],[\"w3 mr1 fill-darkgrey\"]]]],[2,\"\\n            \"]],\"parameters\":[]}]]],[2,\"\\n\\n            \"],[8,[32,1,[\"Content\"]],[[24,0,\"gh-nav-menu-dropdown\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[11,\"ul\"],[24,0,\"dropdown-menu dropdown-triangle-top\"],[24,\"role\",\"menu\"],[4,[38,4],[[32,0],[32,1,[\"actions\",\"close\"]]],[[\"on\",\"preventDefault\"],[\"click\",false]]],[12],[2,\"\\n                    \"],[10,\"li\"],[14,\"role\",\"presentation\"],[12],[2,\"\\n                        \"],[8,\"link-to\",[[24,\"data-test-nav\",\"about\"]],[[\"@route\",\"@classNames\",\"@role\",\"@tabindex\"],[\"about\",\"dropdown-item\",\"menuitem\",\"-1\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[1,[30,[36,0],[\"store\"],null]],[2,\" About Ghost\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"li\"],[14,\"role\",\"presentation\"],[12],[2,\"\\n                        \"],[11,\"button\"],[24,0,\"dropdown-item\"],[24,\"role\",\"menuitem\"],[24,\"tabindex\",\"-1\"],[4,[38,10],[\"click\",[32,0,[\"whatsNew\",\"showModal\"]]],null],[12],[2,\"\\n                            \"],[1,[30,[36,0],[\"gift\"],null]],[2,\" What's new?\\n\"],[6,[37,1],[[32,0,[\"whatsNew\",\"hasNew\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                                \"],[10,\"div\"],[14,0,\"flex-grow-1 flex justify-end\"],[12],[10,\"span\"],[14,0,\"dib w2 h2 top-0 right-0 bg-blue br-100\"],[12],[13],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"li\"],[14,0,\"divider\"],[12],[13],[2,\"\\n                    \"],[10,\"li\"],[14,\"role\",\"presentation\"],[12],[2,\"\\n                        \"],[8,\"link-to\",[[24,\"data-test-nav\",\"user-profile\"]],[[\"@route\",\"@model\",\"@classNames\",\"@role\",\"@tabindex\"],[\"staff.user\",[32,0,[\"session\",\"user\",\"slug\"]],\"dropdown-item\",\"menuitem\",\"-1\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[1,[30,[36,0],[\"user-circle\"],null]],[2,\" Your Profile\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"li\"],[14,\"role\",\"presentation\"],[12],[2,\"\\n                        \"],[10,\"a\"],[14,0,\"dropdown-item\"],[14,\"role\",\"menuitem\"],[14,\"tabindex\",\"-1\"],[14,6,\"https://ghost.org/docs/\"],[14,\"target\",\"_blank\"],[12],[2,\"\\n                            \"],[1,[30,[36,0],[\"ambulance\"],null]],[2,\" Support Center\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"li\"],[14,\"role\",\"presentation\"],[12],[2,\"\\n                        \"],[10,\"a\"],[14,0,\"dropdown-item\"],[14,\"role\",\"menuitem\"],[14,\"tabindex\",\"-1\"],[14,\"target\",\"_blank\"],[14,6,\"https://twitter.com/intent/tweet?text=%40Ghost+Hi%21+Can+you+help+me+with+&related=Ghost\"],[14,\"onclick\",\"window.open(this.href, 'twitter-share', 'width=550,height=235');return false;\"],[12],[2,\"\\n                            \"],[1,[30,[36,0],[\"twitter\"],null]],[2,\" Tweet @Ghost!\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"li\"],[14,\"role\",\"presentation\"],[12],[2,\"\\n                        \"],[10,\"a\"],[14,0,\"dropdown-item\"],[14,\"role\",\"menuitem\"],[14,\"tabindex\",\"-1\"],[14,6,\"https://ghost.org/faq/using-ghost/\"],[14,\"target\",\"_blank\"],[12],[2,\"\\n                            \"],[1,[30,[36,0],[\"book-open\"],null]],[2,\" How to Use Ghost\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"li\"],[14,0,\"divider\"],[12],[13],[2,\"\\n\\n\"],[6,[37,1],[[32,0,[\"showDropdownExtension\"]]],null,[[\"default\"],[{\"statements\":[[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,[\"config\",\"clientExtensions\",\"dropdown\",\"items\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[6,[37,1],[[32,2,[\"divider\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                \"],[10,\"li\"],[14,0,\"divider\"],[12],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                \"],[10,\"li\"],[14,\"role\",\"presentation\"],[12],[2,\"\\n                                    \"],[10,\"a\"],[15,6,[31,[[32,2,[\"href\"]]]]],[14,\"target\",\"_blank\"],[15,0,[31,[\"dropdown-item \",[32,2,[\"classes\"]]]]],[14,\"role\",\"menuitem\"],[14,\"tabindex\",\"-1\"],[12],[2,\"\\n                                        \"],[1,[30,[36,0],[[32,2,[\"icon\"]]],null]],[2,\" \"],[1,[32,2,[\"text\"]]],[2,\"\\n                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[2]}]]]],\"parameters\":[]}]]],[2,\"\\n                    \"],[10,\"li\"],[14,\"role\",\"presentation\"],[12],[2,\"\\n                        \"],[8,\"link-to\",[],[[\"@route\",\"@classNames\",\"@role\",\"@tabindex\"],[\"signout\",\"dropdown-item user-menu-signout\",\"menuitem\",\"-1\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[1,[30,[36,0],[\"signout\"],null]],[2,\" Sign Out\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"]],\"parameters\":[]}]]],[2,\"\\n        \"]],\"parameters\":[1]}]]],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[8,\"gh-tour-item\",[],[[\"@throbberId\",\"@target\",\"@throbberAttachment\",\"@popoverTriangleClass\",\"@throbberOffset\"],[\"getting-started\",\".gh-nav-main\",\"middle right\",\"left-top\",\"0px 0px\"]],null]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"if\",\"-track-array\",\"each\",\"action\",\"toggle\",\"hash\",\"or\",\"reset-query-params\",\"fn\",\"on\",\"liquid-if\",\"eq\",\"gh-user-can-admin\",\"and\",\"background-image-style\"]}","meta":{"moduleName":"ghost-admin/components/gh-nav-menu.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend(_shortcuts.default, {
    billing: Ember.inject.service(),
    config: Ember.inject.service(),
    customViews: Ember.inject.service(),
    feature: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    navigation: Ember.inject.service(),
    router: Ember.inject.service(),
    session: Ember.inject.service(),
    ui: Ember.inject.service(),
    whatsNew: Ember.inject.service(),
    tagName: 'nav',
    classNames: ['gh-nav'],
    iconStyle: '',
    showSearchModal: false,
    shortcuts: null,
    isIntegrationRoute: Ember.computed.match('router.currentRouteName', /^settings\.integration/),
    isSettingsRoute: Ember.computed.match('router.currentRouteName', /^settings/),
    // HACK: {{link-to}} should be doing this automatically but there appears to
    // be a bug in Ember that's preventing it from working immediately after login
    isOnSite: Ember.computed.equal('router.currentRouteName', 'site'),
    showMenuExtension: Ember.computed.and('config.clientExtensions.menu', 'session.user.isOwner'),
    showDropdownExtension: Ember.computed.and('config.clientExtensions.dropdown', 'session.user.isOwner'),
    showScriptExtension: Ember.computed.and('config.clientExtensions.script', 'session.user.isOwner'),
    showBillingModal: Ember.computed.reads('billing.billingWindowOpen'),
    showBilling: Ember.computed.reads('config.billingUrl'),

    init() {
      this._super(...arguments);

      let shortcuts = {};
      shortcuts[`${_ctrlOrCmd.default}+k`] = {
        action: 'toggleSearchModal'
      };
      this.shortcuts = shortcuts;
    },

    // the menu has a rendering issue (#8307) when the the world is reloaded
    // during an import which we have worked around by not binding the icon
    // style directly. However we still need to keep track of changing icons
    // so that we can refresh when a new icon is uploaded
    didReceiveAttrs() {
      this._setIconStyle();
    },

    didInsertElement() {
      this._super(...arguments);

      this.registerShortcuts();
    },

    willDestroyElement() {
      this.removeShortcuts();

      this._super(...arguments);
    },

    actions: {
      transitionToOrRefreshSite() {
        let {
          currentRouteName
        } = this.router;

        if (currentRouteName === 'site') {
          Ember.getOwner(this).lookup(`route:${currentRouteName}`).refresh();
        } else {
          this.router.transitionTo('site');
        }
      },

      toggleSearchModal() {
        this.toggleProperty('showSearchModal');
      },

      toggleBillingModal() {
        this.billing.set('upgrade', false);
        this.billing.toggleProperty('billingWindowOpen');
      }

    },

    // equivalent to "left: auto; right: -20px"
    userDropdownPosition(trigger, dropdown) {
      let {
        horizontalPosition,
        verticalPosition,
        style
      } = (0, _calculatePosition.default)(...arguments);
      let {
        width: dropdownWidth
      } = dropdown.firstElementChild.getBoundingClientRect();
      style.right += dropdownWidth - 20;
      style['z-index'] = 1100;
      return {
        horizontalPosition,
        verticalPosition,
        style
      };
    },

    _setIconStyle() {
      let icon = this.icon;

      if (icon === this._icon) {
        return;
      }

      this._icon = icon;

      if (icon && icon.match(/^https?:\/\//i)) {
        this.set('iconStyle', Ember.String.htmlSafe(`background-image: url(${icon})`));
        return;
      }

      let subdirRegExp = new RegExp(`^${this.get('ghostPaths.subdir')}`);
      let blogIcon = icon ? icon : 'favicon.ico';
      let iconUrl;
      blogIcon = blogIcon.replace(subdirRegExp, '');
      iconUrl = this.get('ghostPaths.url').join(this.get('config.blogUrl'), blogIcon).replace(/\/$/, '');
      iconUrl += `?t=${new Date().valueOf()}`;
      this.set('iconStyle', Ember.String.htmlSafe(`background-image: url(${iconUrl})`));
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-navitem-url-input", ["exports", "validator"], function (_exports, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  // URI is attached to the window global as part of the
  // google-caja html-css-sanitizer-bundle
  const {
    URI
  } = window;

  let joinUrlParts = function (url, path) {
    if (path[0] !== '/' && url.slice(-1) !== '/') {
      path = `/${path}`;
    } else if (path[0] === '/' && url.slice(-1) === '/') {
      path = path.slice(1);
    }

    return url + path;
  };

  let isRelative = function (url) {
    // "protocol://", "//example.com", "scheme:", "#anchor", & invalid paths
    // should all be treated as absolute
    return !url.match(/\s/) && !_validator.default.isURL(url) && !url.match(/^(\/\/|#|[a-zA-Z0-9-]+:)/);
  };

  var _default = Ember.TextField.extend({
    classNames: 'gh-input',

    // Allowed actions
    update() {},

    clearErrors() {},

    isBaseUrl: Ember.computed('baseUrl', 'value', function () {
      return this.baseUrl === this.value;
    }),

    didReceiveAttrs() {
      this._super(...arguments); // value coming is likely to be relative but we always want to show
      // absolute urls in the input fields


      this.set('value', this._makeAbsoluteUrl(this.url));
    },

    focusIn(event) {
      this.set('hasFocus', true);

      if (this.isBaseUrl) {
        // position the cursor at the end of the input
        Ember.run.next(function (el) {
          let {
            length
          } = el.value;
          el.setSelectionRange(length, length);
        }, event.target);
      }
    },

    keyDown(event) {
      // delete the "placeholder" value all at once
      if (this.isBaseUrl && (event.keyCode === 8 || event.keyCode === 46)) {
        this.set('value', '');
        event.preventDefault();
      } // CMD-S


      if (event.keyCode === 83 && event.metaKey) {
        this.notifyUrlChanged();
      }
    },

    keyPress(event) {
      this.clearErrors(); // enter key

      if (event.keyCode === 13) {
        this.notifyUrlChanged();
      }

      return true;
    },

    focusOut() {
      this.set('hasFocus', false);
      this.notifyUrlChanged();
    },

    notifyUrlChanged() {
      let url = this.value.trim();
      let urlURI = URI.parse(url);
      let baseUrl = this.baseUrl;
      let baseURI = URI.parse(baseUrl);

      function getHost(uri) {
        let host = uri.getDomain();

        if (uri.getPort()) {
          host = `${host}:${uri.getPort()}`;
        }

        return host;
      }

      let urlHost = getHost(urlURI);
      let baseHost = getHost(baseURI); // ensure value property is trimmed

      this.set('value', url); // if we have an email address, add the mailto:

      if (_validator.default.isEmail(url)) {
        url = this.update(`mailto:${url}`);
        this.set('value', url);
        return;
      } // get our baseUrl relativity checks in order


      let isAnchorLink = url.match(/^#/);
      let isRelativeToBasePath = urlURI.getPath() && urlURI.getPath().indexOf(baseURI.getPath()) === 0; // if our path is only missing a trailing / mark it as relative

      if (`${urlURI.getPath()}/` === baseURI.getPath()) {
        isRelativeToBasePath = true;
      }

      let isOnSameHost = urlHost === baseHost || !urlHost && isRelativeToBasePath; // if relative to baseUrl, remove the base url before sending to action

      if (!isAnchorLink && isOnSameHost && isRelativeToBasePath) {
        url = url.replace(/^[a-zA-Z0-9-]+:/, '');
        url = url.replace(/^\/\//, '');
        url = url.replace(baseHost, '');
        url = url.replace(baseURI.getPath(), ''); // handle case where url path is same as baseUrl path but missing trailing slash

        if (urlURI.getPath().slice(-1) !== '/') {
          url = url.replace(baseURI.getPath().slice(0, -1), '');
        }

        if (url !== '' || !this.isNew) {
          if (!url.match(/^\//)) {
            url = `/${url}`;
          }

          if (!url.match(/\/$/) && !url.match(/[.#?]/)) {
            url = `${url}/`;
          }
        }
      } // we update with the relative URL but then transform it back to absolute
      // for the input value. This avoids problems where the underlying relative
      // value hasn't changed even though the input value has


      if (url.match(/^(\/\/|#|[a-zA-Z0-9-]+:)/) || _validator.default.isURL(url) || _validator.default.isURL(`${baseHost}${url}`)) {
        url = this.update(url);
        this.set('value', this._makeAbsoluteUrl(url));
      }
    },

    _makeAbsoluteUrl(url) {
      if (isRelative(url)) {
        url = joinUrlParts(this.baseUrl, url);
      }

      return url;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/components/gh-navitem", ["exports", "ghost-admin/mixins/validation-state"], function (_exports, _validationState) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#unless this.navItem.isNew}}
      <span class="gh-blognav-grab">
          {{svg-jar "grab"}}
          <span class="sr-only">Reorder</span>
      </span>
  {{/unless}}
  
  <div class="gh-blognav-line">
      <GhValidationStatusContainer
          @tagName="span"
          @class="gh-blognav-label"
          @errors={{this.navItem.errors}}
          @property="label"
          @hasValidated={{this.navItem.hasValidated}}
      >
          <GhTrimFocusInput
              @shouldFocus={{this.navItem.last}}
              @placeholder="Label"
              @value={{readonly this.navItem.label}}
              @input={{action (mut this.navItem.label) value="target.value"}}
              @keyPress={{action "clearLabelErrors"}}
              @focus-out={{action "updateLabel" this.navItem.label}} data-test-input="label" />
          <GhErrorMessage
              @errors={{this.navItem.errors}}
              @property="label" data-test-error="label" />
      </GhValidationStatusContainer>
      <GhValidationStatusContainer
          @tagName="span"
          @class="gh-blognav-url"
          @errors={{this.navItem.errors}}
          @property="url"
          @hasValidated={{this.navItem.hasValidated}}
      >
          <GhNavitemUrlInput
              @baseUrl={{this.baseUrl}}
              @isNew={{this.navItem.isNew}}
              @url={{readonly this.navItem.url}}
              @update={{action "updateUrl"}}
              @clearErrors={{action "clearUrlErrors"}} data-test-input="url" />
          <GhErrorMessage
              @errors={{this.navItem.errors}}
              @property="url" data-test-error="url" />
      </GhValidationStatusContainer>
  </div>
  
  {{#if this.navItem.isNew}}
      <button type="button" class="gh-blognav-add" {{action "addItem" this.navItem}}>
          {{svg-jar "add"}}<span class="sr-only">Add</span>
      </button>
  {{else}}
      <button type="button" class="gh-blognav-delete" {{action "deleteItem" this.navItem}}>
          {{svg-jar "trash"}}<span class="sr-only">Delete</span>
      </button>
  {{/if}}
  
  */
  {"id":"JVmk2kno","block":"{\"symbols\":[],\"statements\":[[6,[37,2],[[32,0,[\"navItem\",\"isNew\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[10,\"span\"],[14,0,\"gh-blognav-grab\"],[12],[2,\"\\n        \"],[1,[30,[36,1],[\"grab\"],null]],[2,\"\\n        \"],[10,\"span\"],[14,0,\"sr-only\"],[12],[2,\"Reorder\"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[10,\"div\"],[14,0,\"gh-blognav-line\"],[12],[2,\"\\n    \"],[8,\"gh-validation-status-container\",[],[[\"@tagName\",\"@class\",\"@errors\",\"@property\",\"@hasValidated\"],[\"span\",\"gh-blognav-label\",[32,0,[\"navItem\",\"errors\"]],\"label\",[32,0,[\"navItem\",\"hasValidated\"]]]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[8,\"gh-trim-focus-input\",[[24,\"data-test-input\",\"label\"]],[[\"@shouldFocus\",\"@placeholder\",\"@value\",\"@input\",\"@keyPress\",\"@focus-out\"],[[32,0,[\"navItem\",\"last\"]],\"Label\",[30,[36,3],[[32,0,[\"navItem\",\"label\"]]],null],[30,[36,0],[[32,0],[30,[36,4],[[32,0,[\"navItem\",\"label\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,0],[[32,0],\"clearLabelErrors\"],null],[30,[36,0],[[32,0],\"updateLabel\",[32,0,[\"navItem\",\"label\"]]],null]]],null],[2,\"\\n        \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"label\"]],[[\"@errors\",\"@property\"],[[32,0,[\"navItem\",\"errors\"]],\"label\"]],null],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n    \"],[8,\"gh-validation-status-container\",[],[[\"@tagName\",\"@class\",\"@errors\",\"@property\",\"@hasValidated\"],[\"span\",\"gh-blognav-url\",[32,0,[\"navItem\",\"errors\"]],\"url\",[32,0,[\"navItem\",\"hasValidated\"]]]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[8,\"gh-navitem-url-input\",[[24,\"data-test-input\",\"url\"]],[[\"@baseUrl\",\"@isNew\",\"@url\",\"@update\",\"@clearErrors\"],[[32,0,[\"baseUrl\"]],[32,0,[\"navItem\",\"isNew\"]],[30,[36,3],[[32,0,[\"navItem\",\"url\"]]],null],[30,[36,0],[[32,0],\"updateUrl\"],null],[30,[36,0],[[32,0],\"clearUrlErrors\"],null]]],null],[2,\"\\n        \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"url\"]],[[\"@errors\",\"@property\"],[[32,0,[\"navItem\",\"errors\"]],\"url\"]],null],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[6,[37,5],[[32,0,[\"navItem\",\"isNew\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"    \"],[11,\"button\"],[24,0,\"gh-blognav-add\"],[24,4,\"button\"],[4,[38,0],[[32,0],\"addItem\",[32,0,[\"navItem\"]]],null],[12],[2,\"\\n        \"],[1,[30,[36,1],[\"add\"],null]],[10,\"span\"],[14,0,\"sr-only\"],[12],[2,\"Add\"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"    \"],[11,\"button\"],[24,0,\"gh-blognav-delete\"],[24,4,\"button\"],[4,[38,0],[[32,0],\"deleteItem\",[32,0,[\"navItem\"]]],null],[12],[2,\"\\n        \"],[1,[30,[36,1],[\"trash\"],null]],[10,\"span\"],[14,0,\"sr-only\"],[12],[2,\"Delete\"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\",\"unless\",\"readonly\",\"mut\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-navitem.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend(_validationState.default, {
    classNames: 'gh-blognav-item',
    classNameBindings: ['errorClass', 'navItem.isNew::gh-blognav-item--sortable'],
    new: false,

    // closure actions
    addItem() {},

    deleteItem() {},

    updateUrl() {},

    updateLabel() {},

    errors: Ember.computed.readOnly('navItem.errors'),
    errorClass: Ember.computed('hasError', function () {
      return this.hasError ? 'gh-blognav-item--error' : '';
    }),
    actions: {
      addItem(item) {
        this.addItem(item);
      },

      deleteItem(item) {
        this.deleteItem(item);
      },

      updateUrl(value) {
        return this.updateUrl(value, this.navItem);
      },

      updateLabel(value) {
        return this.updateLabel(value, this.navItem);
      },

      clearLabelErrors() {
        this.get('navItem.errors').remove('label');
      },

      clearUrlErrors() {
        this.get('navItem.errors').remove('url');
      }

    },

    keyPress(event) {
      // enter key
      if (event.keyCode === 13 && this.get('navItem.isNew')) {
        event.preventDefault();
        Ember.run.scheduleOnce('actions', this, this.send, 'addItem', this.navItem);
      }
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-notification", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="gh-notification-icon">
      {{#if this.message.icon}}
          {{svg-jar this.message.icon}}
      {{else}}
          {{#if (eq this.message.type "success")}}
              {{svg-jar "check-circle"}}
          {{else if (eq this.message.type "error")}}
              {{svg-jar "warning-stroke"}}
          {{else if (eq this.message.type "warn")}}
              {{svg-jar "warning-stroke"}}
          {{else}}
              {{svg-jar "check-circle"}}
          {{/if}}
      {{/if}}
  </div>
  <div class="gh-notification-content" data-test-text="notification-content">
      <span class="gh-notification-title">{{this.message.message}}</span>
      
      {{#if this.message.description}}
          <p>{{this.message.description}}</p>
      {{/if}}
  
      {{#if this.message.actions}}
          <span class="gh-notification-actions">{{this.message.actions}}</span>
      {{/if}}
  </div>
  <button class="gh-notification-close" {{action "closeNotification"}} data-test-button="close-notification">
      {{svg-jar "close"}}<span class="hidden">Close</span>
  </button>
  
  */
  {"id":"2v5pL5G2","block":"{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"gh-notification-icon\"],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"message\",\"icon\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"        \"],[1,[30,[36,0],[[32,0,[\"message\",\"icon\"]]],null]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,2],[[30,[36,1],[[32,0,[\"message\",\"type\"]],\"success\"],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"            \"],[1,[30,[36,0],[\"check-circle\"],null]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,2],[[30,[36,1],[[32,0,[\"message\",\"type\"]],\"error\"],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"            \"],[1,[30,[36,0],[\"warning-stroke\"],null]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,2],[[30,[36,1],[[32,0,[\"message\",\"type\"]],\"warn\"],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"            \"],[1,[30,[36,0],[\"warning-stroke\"],null]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"            \"],[1,[30,[36,0],[\"check-circle\"],null]],[2,\"\\n        \"]],\"parameters\":[]}]]]],\"parameters\":[]}]]]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[13],[2,\"\\n\"],[10,\"div\"],[14,0,\"gh-notification-content\"],[14,\"data-test-text\",\"notification-content\"],[12],[2,\"\\n    \"],[10,\"span\"],[14,0,\"gh-notification-title\"],[12],[1,[32,0,[\"message\",\"message\"]]],[13],[2,\"\\n    \\n\"],[6,[37,2],[[32,0,[\"message\",\"description\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"p\"],[12],[1,[32,0,[\"message\",\"description\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,2],[[32,0,[\"message\",\"actions\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"span\"],[14,0,\"gh-notification-actions\"],[12],[1,[32,0,[\"message\",\"actions\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[13],[2,\"\\n\"],[11,\"button\"],[24,0,\"gh-notification-close\"],[24,\"data-test-button\",\"close-notification\"],[4,[38,3],[[32,0],\"closeNotification\"],null],[12],[2,\"\\n    \"],[1,[30,[36,0],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"eq\",\"if\",\"action\"]}","meta":{"moduleName":"ghost-admin/components/gh-notification.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    notifications: Ember.inject.service(),
    tagName: 'article',
    classNames: ['gh-notification', 'gh-notification-passive'],
    classNameBindings: ['typeClass'],
    message: null,
    typeClass: Ember.computed('message.type', function () {
      let type = this.get('message.type');
      let classes = '';
      let typeMapping;
      typeMapping = {
        error: 'red',
        warn: 'yellow'
      };

      if (typeMapping[type] !== undefined) {
        classes += `gh-notification-${typeMapping[type]}`;
      }

      return classes;
    }),

    didInsertElement() {
      this._super(...arguments);

      this._animationEndHandler = Ember.run.bind(this, function () {
        if (event.animationName === 'fade-out') {
          this.notifications.closeNotification(this.message);
        }
      });
      this.element.addEventListener('animationend', this._animationEndHandler);
    },

    willDestroyElement() {
      this._super(...arguments);

      this.element.removeEventListener('animationend', this._animationEndHandler);
    },

    actions: {
      closeNotification() {
        this.notifications.closeNotification(this.message);
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-notifications", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#each this.messages as |message|}}
      <GhNotification @message={{message}} />
  {{/each}}
  
  */
  {"id":"uwDtMihx","block":"{\"symbols\":[\"message\"],\"statements\":[[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,[\"messages\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-notification\",[],[[\"@message\"],[[32,1]]],null],[2,\"\\n\"]],\"parameters\":[1]}]]]],\"hasEval\":false,\"upvars\":[\"-track-array\",\"each\"]}","meta":{"moduleName":"ghost-admin/components/gh-notifications.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    notifications: Ember.inject.service(),
    tagName: 'aside',
    classNames: 'gh-notifications',
    messages: Ember.computed.alias('notifications.notifications')
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-post-settings-menu", ["exports", "ghost-admin/mixins/settings-menu-component", "ghost-admin/utils/bound-one-way", "ghost-admin/utils/format-markdown", "moment", "ember-concurrency"], function (_exports, _settingsMenuComponent, _boundOneWay, _formatMarkdown, _moment, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="settings-menu-container">
      <div id="entry-controls">
          <div class="{{if this.isViewingSubview 'settings-menu-pane-out-left' 'settings-menu-pane-in'}} settings-menu settings-menu-pane">
              <div class="settings-menu-header">
                  <h4>{{capitalize this.post.displayName}} settings</h4>
                  <button class="close settings-menu-header-action" {{action "closeMenus" target=this.ui}} data-test-close-settings-menu>
                      {{svg-jar "close"}}<span class="hidden">Close</span>
                  </button>
              </div>
              <div class="settings-menu-content">
                  <GhImageUploaderWithPreview
                      @image={{this.post.featureImage}}
                      @text={{concat "Upload " this.post.displayName " image"}}
                      @allowUnsplash={{true}}
                      @update={{action "setCoverImage"}}
                      @remove={{action "clearCoverImage"}}
                  />
                  <form>
                  <div class="form-group">
                      <label for="url">{{capitalize this.post.displayName}} URL</label>
                      {{!-- new posts don't have a preview link --}}
                      {{#unless this.post.isNew}}
                          {{#if this.post.isPublished}}
                          <a class="post-view-link" target="_blank" href="{{this.post.url}}">
                              View {{this.post.displayName}} {{svg-jar "external"}}
                          </a>
                          {{else}}
                          <a class="post-view-link" target="_blank" href="{{this.post.previewUrl}}">
                              Preview {{svg-jar "external"}}
                          </a>
                          {{/if}}
                      {{/unless}}
  
                      <div class="gh-input-icon gh-icon-link">
                          {{svg-jar "link"}}
                          <GhTextInput
                              @class="post-setting-slug"
                              @id="url"
                              @name="post-setting-slug"
                              @value={{readonly this.slugValue}}
                              @input={{action (mut this.slugValue) value="target.value"}}
                              @focus-out={{action "updateSlug" this.slugValue}}
                              @stopEnterKeyDownPropagation={{true}} />
                      </div>
                      <GhUrlPreview @slug={{this.slugValue}} @tagName="p" @classNames="description" />
                  </div>
  
                  <div class="form-group">
                      {{#if (or this.post.isDraft this.post.isPublished this.post.pastScheduledTime)}}
                          <label>Publish date</label>
                      {{else}}
                          <label>Scheduled date</label>
                      {{/if}}
                      <GhDateTimePicker
                          @date={{this.post.publishedAtBlogDate}}
                          @time={{this.post.publishedAtBlogTime}}
                          @setDate={{action "setPublishedAtBlogDate"}}
                          @setTime={{action "setPublishedAtBlogTime"}}
                          @errors={{this.post.errors}}
                          @dateErrorProperty="publishedAtBlogDate"
                          @timeErrorProperty="publishedAtBlogTime"
                          @maxDate="now"
                          @disabled={{this.post.isScheduled}}
                          @isActive={{and this.showSettingsMenu (not this.isViewingSubview)}}
                      />
                      {{#unless (or this.post.isDraft this.post.isPublished this.post.pastScheduledTime)}}
                      <p>Use the publish menu to re-schedule</p>
                      {{/unless}}
                  </div>
  
                  {{#unless this.session.user.isContributor}}
                  <div class="form-group">
                      <label for="tag-input">Tags</label>
                      <GhPsmTagsInput @post={{this.post}} @triggerId="tag-input" />
                  </div>
                  {{/unless}}
  
  
                  {{#if this.feature.members}}
                      {{#if this.showVisibilityInput}}
                          <div class="form-group">
                              <label for="visibility-input">Post access</label>
                              <GhPsmVisibilityInput @post={{this.post}} @triggerId="visibility-input" />
                          </div>
                      {{/if}}
                  {{/if}}
  
  
                  <GhFormGroup @errors={{this.post.errors}} @hasValidated={{this.post.hasValidated}} @property="customExcerpt">
                      <label for="custom-excerpt">Excerpt</label>
                      <GhTextarea
                          @class="post-setting-custom-excerpt"
                          @id="custom-excerpt"
                          @name="post-setting-custom-excerpt"
                          @value={{readonly this.customExcerptScratch}}
                          @input={{action (mut this.customExcerptScratch) value="target.value"}}
                          @focus-out={{action "setCustomExcerpt" this.customExcerptScratch}}
                          @stopEnterKeyDownPropagation="true"
                          data-test-field="custom-excerpt"
                      />
                      <GhErrorMessage @errors={{this.post.errors}} @property="customExcerpt" data-test-error="custom-excerpt" />
                  </GhFormGroup>
  
                  {{#unless this.session.user.isAuthorOrContributor}}
                      <GhFormGroup @class="for-select" @errors={{this.post.errors}} @hasValidated={{this.post.hasValidated}} @property="authors" data-test-input="authors">
                          <label for="author-list">Authors</label>
                          <GhPsmAuthorsInput @selectedAuthors={{this.post.authors}} @updateAuthors={{action "changeAuthors"}} @triggerId="author-list" />
                          <GhErrorMessage @errors={{this.post.errors}} @property="authors" data-test-error="authors" />
                      </GhFormGroup>
                  {{/unless}}
  
                  <ul class="nav-list nav-list-block">
                      <li class="nav-list-item" {{action "showSubview" "meta-data"}} data-test-button="meta-data">
                          <button type="button">
                              <b>Meta data</b>
                              <span>Extra content for search engines</span>
                          </button>
                          {{svg-jar "arrow-right"}}
                      </li>
                      <li class="nav-list-item" {{action "showSubview" "twitter-data"}} data-test-button="twitter-data">
                          <button type="button">
                              <b>Twitter card</b>
                              <span>Customise structured data for Twitter</span>
                          </button>
                          {{svg-jar "arrow-right"}}
                      </li>
                      <li class="nav-list-item" {{action "showSubview" "facebook-data"}} data-test-button="facebook-data">
                          <button type="button">
                              <b>Facebook card</b>
                              <span>Customise Open Graph data</span>
                          </button>
                          {{svg-jar "arrow-right"}}
                      </li>
                      {{#if (and this.feature.members (eq this.post.displayName "post") this.session.user.isOwnerOrAdmin)}}
                          <li class="nav-list-item" {{action "showSubview" "email-settings"}} data-test-button="email-settings">
                              <button type="button">
                                  <b>Email newsletter</b>
                                  <span>Customise email settings</span>
                              </button>
                              {{svg-jar "arrow-right"}}
                          </li>
                      {{/if}}
                      <li class="nav-list-item" {{action "showSubview" "codeinjection"}} data-test-button="codeinjection">
                          <button type="button">
                              <b>Code injection</b>
                              <span>Add styles/scripts to the header &amp; footer</span>
                          </button>
                          {{svg-jar "arrow-right"}}
                      </li>
                  </ul>
  
                  {{#unless this.session.user.isAuthorOrContributor}}
                  <div class="form-group for-checkbox">
                      <label class="checkbox" for="featured" {{action "toggleFeatured" bubbles="false"}}>
                          <input
                              type="checkbox"
                              checked={{this.post.featured}}
                              class="gh-input post-settings-featured"
                              onclick={{action (mut this.post.featured) value="target.checked"}}
                              data-test-checkbox="featured"
                          >
                          <span class="input-toggle-component"></span>
                          <p>Feature this {{this.post.displayName}}</p>
                      </label>
                  </div>
                  {{/unless}}
  
                  <GhPsmTemplateSelect
                      @post={{this.post}}
                      @onTemplateSelect={{action (mut this.post.customTemplate)}} />
  
                  {{#unless this.post.isNew}}
                      <button type="button" class="gh-btn gh-btn-hover-red gh-btn-icon settings-menu-delete-button" {{action "deletePost"}}><span>{{svg-jar "trash"}} Delete {{this.post.displayName}}</span></button>
                  {{/unless}}
  
                  </form>
              </div>{{! .settings-menu-content }}
          </div>{{! .post-settings-menu }}
  
          <div class="{{if this.isViewingSubview 'settings-menu-pane-in' 'settings-menu-pane-out-right'}} settings-menu settings-menu-pane">
              <div class="active">
                  {{#if this.isViewingSubview}}
                      {{#if (eq this.subview "meta-data")}}
                          <div class="settings-menu-header subview">
                              <button {{action "closeSubview"}} class="back settings-menu-header-action" data-test-button="close-psm-subview">{{svg-jar "arrow-left"}}<span class="hidden">Back</span></button>
                              <h4>Meta data</h4>
                              <div style="width:23px;"></div>
                          </div>
  
                          <div class="settings-menu-content">
                              <form {{action "discardEnter" on="submit"}}>
                                  <GhFormGroup @errors={{this.post.errors}} @hasValidated={{this.post.hasValidated}} @property="metaTitle">
                                      <label for="meta-title">Meta title</label>
                                      <GhTextInput
                                          @class="post-setting-meta-title"
                                          @id="meta-title"
                                          @name="post-setting-meta-title"
                                          @value={{readonly this.metaTitleScratch}}
                                          @input={{action (mut this.metaTitleScratch) value="target.value"}}
                                          @focus-out={{action "setMetaTitle" this.metaTitleScratch}}
                                          @stopEnterKeyDownPropagation={{true}}
                                          data-test-field="meta-title" />
                                      <p>Recommended: <b>70</b> characters. You’ve used {{gh-count-down-characters this.metaTitleScratch 70}}</p>
                                      <GhErrorMessage @errors={{this.post.errors}} @property="meta-title" />
                                  </GhFormGroup>
  
                                  <GhFormGroup @errors={{this.post.errors}} @hasValidated={{this.post.hasValidated}} @property="metaDescription">
                                      <label for="meta-description">Meta description</label>
                                      <GhTextarea
                                          @class="post-setting-meta-description"
                                          @id="meta-description"
                                          @name="post-setting-meta-description"
                                          @value={{readonly this.metaDescriptionScratch}}
                                          @input={{action (mut this.metaDescriptionScratch) value="target.value"}}
                                          @focus-out={{action "setMetaDescription" this.metaDescriptionScratch}}
                                          @stopEnterKeyDownPropagation="true"
                                          data-test-field="meta-description" />
                                      <p>Recommended: <b>156</b> characters. You’ve used {{gh-count-down-characters this.metaDescriptionScratch 156}}</p>
                                      <GhErrorMessage @errors={{this.post.errors}} @property="meta-description" />
                                  </GhFormGroup>
  
                                  <GhFormGroup @errors={{this.post.errors}} @hasValidated={{this.post.hasValidated}} @property="canonicalUrl">
                                      <label for="canonicalUrl">Canonical URL</label>
                                      <GhTextInput
                                          @class="post-setting-canonicalUrl"
                                          @name="post-setting-canonicalUrl"
                                          @value={{readonly this.canonicalUrlScratch}}
                                          @input={{action (mut this.canonicalUrlScratch) value="target.value"}}
                                          @focus-out={{action "setCanonicalUrl" this.canonicalUrlScratch}}
                                          @stopEnterKeyDownPropagation="true"
                                          data-test-field="canonicalUrl" />
                                      <GhErrorMessage @errors={{this.post.errors}} @property="canonicalUrl" />
                                  </GhFormGroup>
  
                                  <div class="form-group">
                                      <label>Search Engine Result Preview</label>
                                      <div class="seo-preview">
                                          <div class="seo-preview-title">{{truncate this.seoTitle 70}}</div>
                                          <div class="seo-preview-link">{{truncate this.seoURL 70}}</div>
                                          <div class="seo-preview-description">{{truncate this.seoDescription 300}}</div>
                                      </div>
                                  </div>
                              </form>
                          </div>
                      {{/if}}
  
                      {{#if (eq this.subview "twitter-data")}}
                          <div class="settings-menu-header subview">
                              <button {{action "closeSubview"}} class="back settings-menu-header-action" data-test-button="close-psm-subview">{{svg-jar "arrow-left"}}<span class="hidden">Back</span></button>
                              <h4>Twitter card</h4>
                              <div style="width:23px;"></div>
                          </div>
  
                          <div class="settings-menu-content">
  
                              <form {{action "discardEnter" on="submit"}}>
                                  <GhImageUploaderWithPreview
                                      @image={{this.post.twitterImage}}
                                      @text="Add Twitter image"
                                      @allowUnsplash={{true}}
                                      @update={{action "setTwitterImage"}}
                                      @remove={{action "clearTwitterImage"}}
                                  />
                                  <GhFormGroup @errors={{this.post.errors}} @hasValidated={{this.post.hasValidated}} @property="twitterTitle">
                                      <label for="twitter-title">Twitter title</label>
                                      <GhTextInput
                                          @class="post-setting-twitter-title"
                                          @id="twitter-title"
                                          @name="post-setting-twitter-title"
                                          @placeholder={{truncate this.twitterTitle 40}}
                                          @value={{readonly this.twitterTitleScratch}}
                                          @input={{action (mut this.twitterTitleScratch) value="target.value"}}
                                          @focus-out={{action "setTwitterTitle" this.twitterTitleScratch}}
                                          @stopEnterKeyDownPropagation={{true}}
                                          data-test-field="twitter-title" />
                                      <GhErrorMessage @errors={{this.post.errors}} @property="twitterTitle" data-test-error="twitter-title" />
                                  </GhFormGroup>
  
                                  <GhFormGroup @errors={{this.post.errors}} @hasValidated={{this.post.hasValidated}} @property="twitterDescription">
                                      <label for="twitter-description">Twitter description</label>
                                      <GhTextarea
                                          @class="post-setting-twitter-description"
                                          @id="twitter-description"
                                          @name="post-setting-twitter-description"
                                          @placeholder={{truncate this.twitterDescription 155}}
                                          @stopEnterKeyDownPropagation="true"
                                          @value={{readonly this.twitterDescriptionScratch}}
                                          @input={{action (mut this.twitterDescriptionScratch) value="target.value"}}
                                          @focus-out={{action "setTwitterDescription" this.twitterDescriptionScratch}}
                                          data-test-field="twitter-description" />
                                      <GhErrorMessage @errors={{this.post.errors}} @property="twitterDescription" data-test-error="twitter-description" />
                                  </GhFormGroup>
  
                                  <div class="form-group">
                                      <label>Preview</label>
                                      <div class="gh-twitter-preview">
                                          {{#if this.twitterImage}}
                                          <div class="gh-twitter-preview-image" style={{background-image-style this.twitterImage}}></div>
                                          {{/if}}
                                          <div class="gh-twitter-preview-content">
                                              <div class="gh-twitter-preview-title">{{this.twitterTitle}}</div>
                                              <div class="gh-twitter-preview-description">{{truncate this.twitterDescription 155}}</div>
                                              <div class="gh-twitter-preview-footer">
                                                  <div class="gh-twitter-preview-footer-left">
                                                      {{this.config.blogDomain}}
                                                  </div>
                                                  <div class="gh-twitter-preview-footer-right">
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
  
                              </form>
                          </div>
                      {{/if}}
  
                      {{#if (eq this.subview "email-settings")}}
                          <GhPostSettingsMenu::Email
                              @post={{this.post}}
                              @savePostTask={{this.savePost}}
                              @toggleEmailPreviewModal={{this.toggleEmailPreviewModal}}
                              @close={{action "closeSubview"}}
                          />
                      {{/if}}
  
                      {{#if (eq this.subview "facebook-data")}}
                          <div class="settings-menu-header subview">
                              <button {{action "closeSubview"}} class="back settings-menu-header-action" data-test-button="close-psm-subview">{{svg-jar "arrow-left"}}<span class="hidden">Back</span></button>
                              <h4>Facebook card</h4>
                              <div style="width:23px;"></div>
                          </div>
  
                          <div class="settings-menu-content">
                              <form {{action "discardEnter" on="submit"}}>
                                  <GhImageUploaderWithPreview
                                      @image={{this.post.ogImage}}
                                      @text="Add Facebook image"
                                      @allowUnsplash={{true}}
                                      @update={{action "setOgImage"}}
                                      @remove={{action "clearOgImage"}}
                                  />
                                  <GhFormGroup @errors={{this.post.errors}} @hasValidated={{this.post.hasValidated}} @property="ogTitle">
                                      <label for="og-title">Facebook title</label>
                                      <GhTextInput
                                          @class="post-setting-og-title"
                                          @id="og-title"
                                          @name="post-setting-og-title"
                                          @placeholder={{truncate this.facebookTitle 40}}
                                          @value={{readonly this.ogTitleScratch}}
                                          @input={{action (mut this.ogTitleScratch) value="target.value"}}
                                          @focus-out={{action "setOgTitle" this.ogTitleScratch}}
                                          @stopEnterKeyDownPropagation={{true}}
                                          data-test-field="og-title" />
                                      <GhErrorMessage @errors={{this.post.errors}} @property="ogTitle" data-test-error="og-title" />
                                  </GhFormGroup>
  
                                  <GhFormGroup @errors={{this.post.errors}} @hasValidated={{this.post.hasValidated}} @property="ogDescription">
                                      <label for="og-description">Facebook description</label>
                                      <GhTextarea
                                          @class="post-setting-og-description"
                                          @id="og-description" @name="post-setting-og-description"
                                          @placeholder={{truncate this.facebookDescription 160}}
                                          @value={{readonly this.ogDescriptionScratch}}
                                          @input={{action (mut this.ogDescriptionScratch) value="target.value"}}
                                          @focus-out={{action "setOgDescription" this.ogDescriptionScratch}}
                                          @stopEnterKeyDownPropagation="true"
                                          data-test-field="og-description" />
                                      <GhErrorMessage @errors={{this.post.errors}} @property="ogDescription" data-test-error="og-description" />
                                  </GhFormGroup>
  
                                  <div class="form-group">
                                      <label>Preview</label>
                                      <div class="gh-og-preview">
                                          {{#if this.facebookImage}}
                                          <div class="gh-og-preview-image" style={{background-image-style this.facebookImage}}></div>
                                          {{/if}}
                                          <div class="gh-og-preview-content">
                                              <div class="gh-og-preview-title">{{truncate this.facebookTitle 88}}</div>
                                              <div class="gh-og-preview-description">{{truncate this.facebookDescription 300}}</div>
                                              <div class="gh-og-preview-footer">
                                                  <div class="gh-og-preview-footer-left">
                                                      {{this.config.blogDomain}} <span class="gh-og-preview-footer-left-divider">|</span> by <span class="gh-og-preview-footer-author">{{author-names this.post.authors}}</span>
                                                  </div>
                                                  <div class="gh-og-preview-footer-right">
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
  
                              </form>
                          </div>
                      {{/if}}
  
                      {{#if (eq this.subview "codeinjection")}}
                          <div class="settings-menu-header subview">
                              <button {{action "closeSubview"}} class="back settings-menu-header-action" data-test-button="close-psm-subview">{{svg-jar "arrow-left"}}<span class="hidden">Back</span></button>
                              <h4>Code injection</h4>
                              <div style="width:23px;"></div>
                          </div>
  
                          <div class="settings-menu-content settings-menu-content-codeinjection">
                              <form {{action "discardEnter" on="submit"}}>
                                  <GhFormGroup @errors={{this.post.errors}} @hasValidated={{this.post.hasValidated}} @property="codeinjectionHead">
                                      <label for="codeinjection-head">{{capitalize this.post.displayName}} header <code>\{{ghost_head}}</code></label>
                                      <GhCmEditor @value={{this.codeinjectionHeadScratch}}
                                          @id="post-setting-codeinjection-head"
                                          @class="post-setting-codeinjection"
                                          @name="post-setting-codeinjection-head"
                                          @focusOut={{action "setHeaderInjection" this.codeinjectionHeadScratch}}
                                          @stopEnterKeyDownPropagation="true"
                                          @update={{action (mut this.codeinjectionHeadScratch)}}
                                          data-test-field="codeinjection-head" />
                                      <GhErrorMessage @errors={{this.post.errors}} @property="codeinjectionHead" data-test-error="codeinjection-head" />
                                  </GhFormGroup>
  
                                  <GhFormGroup @errors={{this.post.errors}} @hasValidated={{this.post.hasValidated}} @property="codeinjectionFoot">
                                      <label for="codeinjection-foot">{{capitalize this.post.displayName}} footer <code>\{{ghost_foot}}</code></label>
                                      <GhCmEditor @value={{this.codeinjectionFootScratch}}
                                          @id="post-setting-codeinjection-foot"
                                          @class="post-setting-codeinjection"
                                          @name="post-setting-codeinjection-foot"
                                          @focusOut={{action "setFooterInjection" this.codeinjectionFootScratch}}
                                          @stopEnterKeyDownPropagation="true"
                                          @update={{action (mut this.codeinjectionFootScratch)}}
                                          data-test-field="codeinjection-foot" />
                                      <GhErrorMessage @errors={{this.post.errors}} @property="codeinjectionFoot" data-test-error="codeinjection-foot" />
                                  </GhFormGroup>
                              </form>
                          </div>
                      {{/if}}
                  {{/if}}
              </div>
          </div>
      </div>
  </div>
  
  {{!--
      _showThrobbers is on a timer so that throbbers don't get positioned until
      the slide-in animation has finished and it gets toggled when the meta
      pane is shown
  --}}
  {{#if this._showThrobbers}}
      {{#unless this.session.user.isAuthorOrContributor}}
          <GhTourItem @throbberId="featured-post"
              @target="label[for='featured'] p"
              @throbberAttachment="middle middle"
              @throbberOffset="0px -20px"
              @popoverTriangleClass="bottom-right"
          />
      {{/unless}}
  {{/if}}
  
  */
  {"id":"vtgY/iKT","block":"{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"settings-menu-container\"],[12],[2,\"\\n    \"],[10,\"div\"],[14,1,\"entry-controls\"],[12],[2,\"\\n        \"],[10,\"div\"],[15,0,[31,[[30,[36,8],[[32,0,[\"isViewingSubview\"]],\"settings-menu-pane-out-left\",\"settings-menu-pane-in\"],null],\" settings-menu settings-menu-pane\"]]],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"settings-menu-header\"],[12],[2,\"\\n                \"],[10,\"h4\"],[12],[1,[30,[36,3],[[32,0,[\"post\",\"displayName\"]]],null]],[2,\" settings\"],[13],[2,\"\\n                \"],[11,\"button\"],[24,0,\"close settings-menu-header-action\"],[24,\"data-test-close-settings-menu\",\"\"],[4,[38,1],[[32,0],\"closeMenus\"],[[\"target\"],[[32,0,[\"ui\"]]]]],[12],[2,\"\\n                    \"],[1,[30,[36,2],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"settings-menu-content\"],[12],[2,\"\\n                \"],[8,\"gh-image-uploader-with-preview\",[],[[\"@image\",\"@text\",\"@allowUnsplash\",\"@update\",\"@remove\"],[[32,0,[\"post\",\"featureImage\"]],[30,[36,12],[\"Upload \",[32,0,[\"post\",\"displayName\"]],\" image\"],null],true,[30,[36,1],[[32,0],\"setCoverImage\"],null],[30,[36,1],[[32,0],\"clearCoverImage\"],null]]],null],[2,\"\\n                \"],[10,\"form\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"form-group\"],[12],[2,\"\\n                    \"],[10,\"label\"],[14,\"for\",\"url\"],[12],[1,[30,[36,3],[[32,0,[\"post\",\"displayName\"]]],null]],[2,\" URL\"],[13],[2,\"\\n\"],[6,[37,0],[[32,0,[\"post\",\"isNew\"]]],null,[[\"default\"],[{\"statements\":[[6,[37,8],[[32,0,[\"post\",\"isPublished\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[10,\"a\"],[14,0,\"post-view-link\"],[14,\"target\",\"_blank\"],[15,6,[31,[[32,0,[\"post\",\"url\"]]]]],[12],[2,\"\\n                            View \"],[1,[32,0,[\"post\",\"displayName\"]]],[2,\" \"],[1,[30,[36,2],[\"external\"],null]],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        \"],[10,\"a\"],[14,0,\"post-view-link\"],[14,\"target\",\"_blank\"],[15,6,[31,[[32,0,[\"post\",\"previewUrl\"]]]]],[12],[2,\"\\n                            Preview \"],[1,[30,[36,2],[\"external\"],null]],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-input-icon gh-icon-link\"],[12],[2,\"\\n                        \"],[1,[30,[36,2],[\"link\"],null]],[2,\"\\n                        \"],[8,\"gh-text-input\",[],[[\"@class\",\"@id\",\"@name\",\"@value\",\"@input\",\"@focus-out\",\"@stopEnterKeyDownPropagation\"],[\"post-setting-slug\",\"url\",\"post-setting-slug\",[30,[36,7],[[32,0,[\"slugValue\"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,[\"slugValue\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"updateSlug\",[32,0,[\"slugValue\"]]],null],true]],null],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[8,\"gh-url-preview\",[],[[\"@slug\",\"@tagName\",\"@classNames\"],[[32,0,[\"slugValue\"]],\"p\",\"description\"]],null],[2,\"\\n                \"],[13],[2,\"\\n\\n                \"],[10,\"div\"],[14,0,\"form-group\"],[12],[2,\"\\n\"],[6,[37,8],[[30,[36,13],[[32,0,[\"post\",\"isDraft\"]],[32,0,[\"post\",\"isPublished\"]],[32,0,[\"post\",\"pastScheduledTime\"]]],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[10,\"label\"],[12],[2,\"Publish date\"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        \"],[10,\"label\"],[12],[2,\"Scheduled date\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                    \"],[8,\"gh-date-time-picker\",[],[[\"@date\",\"@time\",\"@setDate\",\"@setTime\",\"@errors\",\"@dateErrorProperty\",\"@timeErrorProperty\",\"@maxDate\",\"@disabled\",\"@isActive\"],[[32,0,[\"post\",\"publishedAtBlogDate\"]],[32,0,[\"post\",\"publishedAtBlogTime\"]],[30,[36,1],[[32,0],\"setPublishedAtBlogDate\"],null],[30,[36,1],[[32,0],\"setPublishedAtBlogTime\"],null],[32,0,[\"post\",\"errors\"]],\"publishedAtBlogDate\",\"publishedAtBlogTime\",\"now\",[32,0,[\"post\",\"isScheduled\"]],[30,[36,15],[[32,0,[\"showSettingsMenu\"]],[30,[36,14],[[32,0,[\"isViewingSubview\"]]],null]],null]]],null],[2,\"\\n\"],[6,[37,0],[[30,[36,13],[[32,0,[\"post\",\"isDraft\"]],[32,0,[\"post\",\"isPublished\"]],[32,0,[\"post\",\"pastScheduledTime\"]]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"p\"],[12],[2,\"Use the publish menu to re-schedule\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n\\n\"],[6,[37,0],[[32,0,[\"session\",\"user\",\"isContributor\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"div\"],[14,0,\"form-group\"],[12],[2,\"\\n                    \"],[10,\"label\"],[14,\"for\",\"tag-input\"],[12],[2,\"Tags\"],[13],[2,\"\\n                    \"],[8,\"gh-psm-tags-input\",[],[[\"@post\",\"@triggerId\"],[[32,0,[\"post\"]],\"tag-input\"]],null],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[6,[37,8],[[32,0,[\"feature\",\"members\"]]],null,[[\"default\"],[{\"statements\":[[6,[37,8],[[32,0,[\"showVisibilityInput\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"form-group\"],[12],[2,\"\\n                            \"],[10,\"label\"],[14,\"for\",\"visibility-input\"],[12],[2,\"Post access\"],[13],[2,\"\\n                            \"],[8,\"gh-psm-visibility-input\",[],[[\"@post\",\"@triggerId\"],[[32,0,[\"post\"]],\"visibility-input\"]],null],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"\\n\\n                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"post\",\"errors\"]],[32,0,[\"post\",\"hasValidated\"]],\"customExcerpt\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[10,\"label\"],[14,\"for\",\"custom-excerpt\"],[12],[2,\"Excerpt\"],[13],[2,\"\\n                    \"],[8,\"gh-textarea\",[[24,\"data-test-field\",\"custom-excerpt\"]],[[\"@class\",\"@id\",\"@name\",\"@value\",\"@input\",\"@focus-out\",\"@stopEnterKeyDownPropagation\"],[\"post-setting-custom-excerpt\",\"custom-excerpt\",\"post-setting-custom-excerpt\",[30,[36,7],[[32,0,[\"customExcerptScratch\"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,[\"customExcerptScratch\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"setCustomExcerpt\",[32,0,[\"customExcerptScratch\"]]],null],\"true\"]],null],[2,\"\\n                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"custom-excerpt\"]],[[\"@errors\",\"@property\"],[[32,0,[\"post\",\"errors\"]],\"customExcerpt\"]],null],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[6,[37,0],[[32,0,[\"session\",\"user\",\"isAuthorOrContributor\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[8,\"gh-form-group\",[[24,\"data-test-input\",\"authors\"]],[[\"@class\",\"@errors\",\"@hasValidated\",\"@property\"],[\"for-select\",[32,0,[\"post\",\"errors\"]],[32,0,[\"post\",\"hasValidated\"]],\"authors\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                        \"],[10,\"label\"],[14,\"for\",\"author-list\"],[12],[2,\"Authors\"],[13],[2,\"\\n                        \"],[8,\"gh-psm-authors-input\",[],[[\"@selectedAuthors\",\"@updateAuthors\",\"@triggerId\"],[[32,0,[\"post\",\"authors\"]],[30,[36,1],[[32,0],\"changeAuthors\"],null],\"author-list\"]],null],[2,\"\\n                        \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"authors\"]],[[\"@errors\",\"@property\"],[[32,0,[\"post\",\"errors\"]],\"authors\"]],null],[2,\"\\n                    \"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n                \"],[10,\"ul\"],[14,0,\"nav-list nav-list-block\"],[12],[2,\"\\n                    \"],[11,\"li\"],[24,0,\"nav-list-item\"],[24,\"data-test-button\",\"meta-data\"],[4,[38,1],[[32,0],\"showSubview\",\"meta-data\"],null],[12],[2,\"\\n                        \"],[10,\"button\"],[14,4,\"button\"],[12],[2,\"\\n                            \"],[10,\"b\"],[12],[2,\"Meta data\"],[13],[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"Extra content for search engines\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                        \"],[1,[30,[36,2],[\"arrow-right\"],null]],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[11,\"li\"],[24,0,\"nav-list-item\"],[24,\"data-test-button\",\"twitter-data\"],[4,[38,1],[[32,0],\"showSubview\",\"twitter-data\"],null],[12],[2,\"\\n                        \"],[10,\"button\"],[14,4,\"button\"],[12],[2,\"\\n                            \"],[10,\"b\"],[12],[2,\"Twitter card\"],[13],[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"Customise structured data for Twitter\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                        \"],[1,[30,[36,2],[\"arrow-right\"],null]],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[11,\"li\"],[24,0,\"nav-list-item\"],[24,\"data-test-button\",\"facebook-data\"],[4,[38,1],[[32,0],\"showSubview\",\"facebook-data\"],null],[12],[2,\"\\n                        \"],[10,\"button\"],[14,4,\"button\"],[12],[2,\"\\n                            \"],[10,\"b\"],[12],[2,\"Facebook card\"],[13],[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"Customise Open Graph data\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                        \"],[1,[30,[36,2],[\"arrow-right\"],null]],[2,\"\\n                    \"],[13],[2,\"\\n\"],[6,[37,8],[[30,[36,15],[[32,0,[\"feature\",\"members\"]],[30,[36,11],[[32,0,[\"post\",\"displayName\"]],\"post\"],null],[32,0,[\"session\",\"user\",\"isOwnerOrAdmin\"]]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[11,\"li\"],[24,0,\"nav-list-item\"],[24,\"data-test-button\",\"email-settings\"],[4,[38,1],[[32,0],\"showSubview\",\"email-settings\"],null],[12],[2,\"\\n                            \"],[10,\"button\"],[14,4,\"button\"],[12],[2,\"\\n                                \"],[10,\"b\"],[12],[2,\"Email newsletter\"],[13],[2,\"\\n                                \"],[10,\"span\"],[12],[2,\"Customise email settings\"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                            \"],[1,[30,[36,2],[\"arrow-right\"],null]],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                    \"],[11,\"li\"],[24,0,\"nav-list-item\"],[24,\"data-test-button\",\"codeinjection\"],[4,[38,1],[[32,0],\"showSubview\",\"codeinjection\"],null],[12],[2,\"\\n                        \"],[10,\"button\"],[14,4,\"button\"],[12],[2,\"\\n                            \"],[10,\"b\"],[12],[2,\"Code injection\"],[13],[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"Add styles/scripts to the header & footer\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                        \"],[1,[30,[36,2],[\"arrow-right\"],null]],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n\\n\"],[6,[37,0],[[32,0,[\"session\",\"user\",\"isAuthorOrContributor\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"div\"],[14,0,\"form-group for-checkbox\"],[12],[2,\"\\n                    \"],[11,\"label\"],[24,0,\"checkbox\"],[24,\"for\",\"featured\"],[4,[38,1],[[32,0],\"toggleFeatured\"],[[\"bubbles\"],[\"false\"]]],[12],[2,\"\\n                        \"],[10,\"input\"],[15,\"checked\",[32,0,[\"post\",\"featured\"]]],[14,0,\"gh-input post-settings-featured\"],[15,\"onclick\",[30,[36,1],[[32,0],[30,[36,4],[[32,0,[\"post\",\"featured\"]]],null]],[[\"value\"],[\"target.checked\"]]]],[14,\"data-test-checkbox\",\"featured\"],[14,4,\"checkbox\"],[12],[13],[2,\"\\n                        \"],[10,\"span\"],[14,0,\"input-toggle-component\"],[12],[13],[2,\"\\n                        \"],[10,\"p\"],[12],[2,\"Feature this \"],[1,[32,0,[\"post\",\"displayName\"]]],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n                \"],[8,\"gh-psm-template-select\",[],[[\"@post\",\"@onTemplateSelect\"],[[32,0,[\"post\"]],[30,[36,1],[[32,0],[30,[36,4],[[32,0,[\"post\",\"customTemplate\"]]],null]],null]]],null],[2,\"\\n\\n\"],[6,[37,0],[[32,0,[\"post\",\"isNew\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-hover-red gh-btn-icon settings-menu-delete-button\"],[24,4,\"button\"],[4,[38,1],[[32,0],\"deletePost\"],null],[12],[10,\"span\"],[12],[1,[30,[36,2],[\"trash\"],null]],[2,\" Delete \"],[1,[32,0,[\"post\",\"displayName\"]]],[13],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"div\"],[15,0,[31,[[30,[36,8],[[32,0,[\"isViewingSubview\"]],\"settings-menu-pane-in\",\"settings-menu-pane-out-right\"],null],\" settings-menu settings-menu-pane\"]]],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"active\"],[12],[2,\"\\n\"],[6,[37,8],[[32,0,[\"isViewingSubview\"]]],null,[[\"default\"],[{\"statements\":[[6,[37,8],[[30,[36,11],[[32,0,[\"subview\"]],\"meta-data\"],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"settings-menu-header subview\"],[12],[2,\"\\n                            \"],[11,\"button\"],[24,0,\"back settings-menu-header-action\"],[24,\"data-test-button\",\"close-psm-subview\"],[4,[38,1],[[32,0],\"closeSubview\"],null],[12],[1,[30,[36,2],[\"arrow-left\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Back\"],[13],[13],[2,\"\\n                            \"],[10,\"h4\"],[12],[2,\"Meta data\"],[13],[2,\"\\n                            \"],[10,\"div\"],[14,5,\"width:23px;\"],[12],[13],[2,\"\\n                        \"],[13],[2,\"\\n\\n                        \"],[10,\"div\"],[14,0,\"settings-menu-content\"],[12],[2,\"\\n                            \"],[11,\"form\"],[4,[38,1],[[32,0],\"discardEnter\"],[[\"on\"],[\"submit\"]]],[12],[2,\"\\n                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"post\",\"errors\"]],[32,0,[\"post\",\"hasValidated\"]],\"metaTitle\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"meta-title\"],[12],[2,\"Meta title\"],[13],[2,\"\\n                                    \"],[8,\"gh-text-input\",[[24,\"data-test-field\",\"meta-title\"]],[[\"@class\",\"@id\",\"@name\",\"@value\",\"@input\",\"@focus-out\",\"@stopEnterKeyDownPropagation\"],[\"post-setting-meta-title\",\"meta-title\",\"post-setting-meta-title\",[30,[36,7],[[32,0,[\"metaTitleScratch\"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,[\"metaTitleScratch\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"setMetaTitle\",[32,0,[\"metaTitleScratch\"]]],null],true]],null],[2,\"\\n                                    \"],[10,\"p\"],[12],[2,\"Recommended: \"],[10,\"b\"],[12],[2,\"70\"],[13],[2,\" characters. You’ve used \"],[1,[30,[36,10],[[32,0,[\"metaTitleScratch\"]],70],null]],[13],[2,\"\\n                                    \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"post\",\"errors\"]],\"meta-title\"]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n\\n                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"post\",\"errors\"]],[32,0,[\"post\",\"hasValidated\"]],\"metaDescription\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"meta-description\"],[12],[2,\"Meta description\"],[13],[2,\"\\n                                    \"],[8,\"gh-textarea\",[[24,\"data-test-field\",\"meta-description\"]],[[\"@class\",\"@id\",\"@name\",\"@value\",\"@input\",\"@focus-out\",\"@stopEnterKeyDownPropagation\"],[\"post-setting-meta-description\",\"meta-description\",\"post-setting-meta-description\",[30,[36,7],[[32,0,[\"metaDescriptionScratch\"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,[\"metaDescriptionScratch\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"setMetaDescription\",[32,0,[\"metaDescriptionScratch\"]]],null],\"true\"]],null],[2,\"\\n                                    \"],[10,\"p\"],[12],[2,\"Recommended: \"],[10,\"b\"],[12],[2,\"156\"],[13],[2,\" characters. You’ve used \"],[1,[30,[36,10],[[32,0,[\"metaDescriptionScratch\"]],156],null]],[13],[2,\"\\n                                    \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"post\",\"errors\"]],\"meta-description\"]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n\\n                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"post\",\"errors\"]],[32,0,[\"post\",\"hasValidated\"]],\"canonicalUrl\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"canonicalUrl\"],[12],[2,\"Canonical URL\"],[13],[2,\"\\n                                    \"],[8,\"gh-text-input\",[[24,\"data-test-field\",\"canonicalUrl\"]],[[\"@class\",\"@name\",\"@value\",\"@input\",\"@focus-out\",\"@stopEnterKeyDownPropagation\"],[\"post-setting-canonicalUrl\",\"post-setting-canonicalUrl\",[30,[36,7],[[32,0,[\"canonicalUrlScratch\"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,[\"canonicalUrlScratch\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"setCanonicalUrl\",[32,0,[\"canonicalUrlScratch\"]]],null],\"true\"]],null],[2,\"\\n                                    \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"post\",\"errors\"]],\"canonicalUrl\"]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n\\n                                \"],[10,\"div\"],[14,0,\"form-group\"],[12],[2,\"\\n                                    \"],[10,\"label\"],[12],[2,\"Search Engine Result Preview\"],[13],[2,\"\\n                                    \"],[10,\"div\"],[14,0,\"seo-preview\"],[12],[2,\"\\n                                        \"],[10,\"div\"],[14,0,\"seo-preview-title\"],[12],[1,[30,[36,6],[[32,0,[\"seoTitle\"]],70],null]],[13],[2,\"\\n                                        \"],[10,\"div\"],[14,0,\"seo-preview-link\"],[12],[1,[30,[36,6],[[32,0,[\"seoURL\"]],70],null]],[13],[2,\"\\n                                        \"],[10,\"div\"],[14,0,\"seo-preview-description\"],[12],[1,[30,[36,6],[[32,0,[\"seoDescription\"]],300],null]],[13],[2,\"\\n                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,8],[[30,[36,11],[[32,0,[\"subview\"]],\"twitter-data\"],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"settings-menu-header subview\"],[12],[2,\"\\n                            \"],[11,\"button\"],[24,0,\"back settings-menu-header-action\"],[24,\"data-test-button\",\"close-psm-subview\"],[4,[38,1],[[32,0],\"closeSubview\"],null],[12],[1,[30,[36,2],[\"arrow-left\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Back\"],[13],[13],[2,\"\\n                            \"],[10,\"h4\"],[12],[2,\"Twitter card\"],[13],[2,\"\\n                            \"],[10,\"div\"],[14,5,\"width:23px;\"],[12],[13],[2,\"\\n                        \"],[13],[2,\"\\n\\n                        \"],[10,\"div\"],[14,0,\"settings-menu-content\"],[12],[2,\"\\n\\n                            \"],[11,\"form\"],[4,[38,1],[[32,0],\"discardEnter\"],[[\"on\"],[\"submit\"]]],[12],[2,\"\\n                                \"],[8,\"gh-image-uploader-with-preview\",[],[[\"@image\",\"@text\",\"@allowUnsplash\",\"@update\",\"@remove\"],[[32,0,[\"post\",\"twitterImage\"]],\"Add Twitter image\",true,[30,[36,1],[[32,0],\"setTwitterImage\"],null],[30,[36,1],[[32,0],\"clearTwitterImage\"],null]]],null],[2,\"\\n                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"post\",\"errors\"]],[32,0,[\"post\",\"hasValidated\"]],\"twitterTitle\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"twitter-title\"],[12],[2,\"Twitter title\"],[13],[2,\"\\n                                    \"],[8,\"gh-text-input\",[[24,\"data-test-field\",\"twitter-title\"]],[[\"@class\",\"@id\",\"@name\",\"@placeholder\",\"@value\",\"@input\",\"@focus-out\",\"@stopEnterKeyDownPropagation\"],[\"post-setting-twitter-title\",\"twitter-title\",\"post-setting-twitter-title\",[30,[36,6],[[32,0,[\"twitterTitle\"]],40],null],[30,[36,7],[[32,0,[\"twitterTitleScratch\"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,[\"twitterTitleScratch\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"setTwitterTitle\",[32,0,[\"twitterTitleScratch\"]]],null],true]],null],[2,\"\\n                                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"twitter-title\"]],[[\"@errors\",\"@property\"],[[32,0,[\"post\",\"errors\"]],\"twitterTitle\"]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n\\n                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"post\",\"errors\"]],[32,0,[\"post\",\"hasValidated\"]],\"twitterDescription\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"twitter-description\"],[12],[2,\"Twitter description\"],[13],[2,\"\\n                                    \"],[8,\"gh-textarea\",[[24,\"data-test-field\",\"twitter-description\"]],[[\"@class\",\"@id\",\"@name\",\"@placeholder\",\"@stopEnterKeyDownPropagation\",\"@value\",\"@input\",\"@focus-out\"],[\"post-setting-twitter-description\",\"twitter-description\",\"post-setting-twitter-description\",[30,[36,6],[[32,0,[\"twitterDescription\"]],155],null],\"true\",[30,[36,7],[[32,0,[\"twitterDescriptionScratch\"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,[\"twitterDescriptionScratch\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"setTwitterDescription\",[32,0,[\"twitterDescriptionScratch\"]]],null]]],null],[2,\"\\n                                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"twitter-description\"]],[[\"@errors\",\"@property\"],[[32,0,[\"post\",\"errors\"]],\"twitterDescription\"]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n\\n                                \"],[10,\"div\"],[14,0,\"form-group\"],[12],[2,\"\\n                                    \"],[10,\"label\"],[12],[2,\"Preview\"],[13],[2,\"\\n                                    \"],[10,\"div\"],[14,0,\"gh-twitter-preview\"],[12],[2,\"\\n\"],[6,[37,8],[[32,0,[\"twitterImage\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                                        \"],[10,\"div\"],[14,0,\"gh-twitter-preview-image\"],[15,5,[30,[36,5],[[32,0,[\"twitterImage\"]]],null]],[12],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                                        \"],[10,\"div\"],[14,0,\"gh-twitter-preview-content\"],[12],[2,\"\\n                                            \"],[10,\"div\"],[14,0,\"gh-twitter-preview-title\"],[12],[1,[32,0,[\"twitterTitle\"]]],[13],[2,\"\\n                                            \"],[10,\"div\"],[14,0,\"gh-twitter-preview-description\"],[12],[1,[30,[36,6],[[32,0,[\"twitterDescription\"]],155],null]],[13],[2,\"\\n                                            \"],[10,\"div\"],[14,0,\"gh-twitter-preview-footer\"],[12],[2,\"\\n                                                \"],[10,\"div\"],[14,0,\"gh-twitter-preview-footer-left\"],[12],[2,\"\\n                                                    \"],[1,[32,0,[\"config\",\"blogDomain\"]]],[2,\"\\n                                                \"],[13],[2,\"\\n                                                \"],[10,\"div\"],[14,0,\"gh-twitter-preview-footer-right\"],[12],[2,\"\\n                                                \"],[13],[2,\"\\n                                            \"],[13],[2,\"\\n                                        \"],[13],[2,\"\\n                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,8],[[30,[36,11],[[32,0,[\"subview\"]],\"email-settings\"],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[8,\"gh-post-settings-menu/email\",[],[[\"@post\",\"@savePostTask\",\"@toggleEmailPreviewModal\",\"@close\"],[[32,0,[\"post\"]],[32,0,[\"savePost\"]],[32,0,[\"toggleEmailPreviewModal\"]],[30,[36,1],[[32,0],\"closeSubview\"],null]]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,8],[[30,[36,11],[[32,0,[\"subview\"]],\"facebook-data\"],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"settings-menu-header subview\"],[12],[2,\"\\n                            \"],[11,\"button\"],[24,0,\"back settings-menu-header-action\"],[24,\"data-test-button\",\"close-psm-subview\"],[4,[38,1],[[32,0],\"closeSubview\"],null],[12],[1,[30,[36,2],[\"arrow-left\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Back\"],[13],[13],[2,\"\\n                            \"],[10,\"h4\"],[12],[2,\"Facebook card\"],[13],[2,\"\\n                            \"],[10,\"div\"],[14,5,\"width:23px;\"],[12],[13],[2,\"\\n                        \"],[13],[2,\"\\n\\n                        \"],[10,\"div\"],[14,0,\"settings-menu-content\"],[12],[2,\"\\n                            \"],[11,\"form\"],[4,[38,1],[[32,0],\"discardEnter\"],[[\"on\"],[\"submit\"]]],[12],[2,\"\\n                                \"],[8,\"gh-image-uploader-with-preview\",[],[[\"@image\",\"@text\",\"@allowUnsplash\",\"@update\",\"@remove\"],[[32,0,[\"post\",\"ogImage\"]],\"Add Facebook image\",true,[30,[36,1],[[32,0],\"setOgImage\"],null],[30,[36,1],[[32,0],\"clearOgImage\"],null]]],null],[2,\"\\n                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"post\",\"errors\"]],[32,0,[\"post\",\"hasValidated\"]],\"ogTitle\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"og-title\"],[12],[2,\"Facebook title\"],[13],[2,\"\\n                                    \"],[8,\"gh-text-input\",[[24,\"data-test-field\",\"og-title\"]],[[\"@class\",\"@id\",\"@name\",\"@placeholder\",\"@value\",\"@input\",\"@focus-out\",\"@stopEnterKeyDownPropagation\"],[\"post-setting-og-title\",\"og-title\",\"post-setting-og-title\",[30,[36,6],[[32,0,[\"facebookTitle\"]],40],null],[30,[36,7],[[32,0,[\"ogTitleScratch\"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,[\"ogTitleScratch\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"setOgTitle\",[32,0,[\"ogTitleScratch\"]]],null],true]],null],[2,\"\\n                                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"og-title\"]],[[\"@errors\",\"@property\"],[[32,0,[\"post\",\"errors\"]],\"ogTitle\"]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n\\n                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"post\",\"errors\"]],[32,0,[\"post\",\"hasValidated\"]],\"ogDescription\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"og-description\"],[12],[2,\"Facebook description\"],[13],[2,\"\\n                                    \"],[8,\"gh-textarea\",[[24,\"data-test-field\",\"og-description\"]],[[\"@class\",\"@id\",\"@name\",\"@placeholder\",\"@value\",\"@input\",\"@focus-out\",\"@stopEnterKeyDownPropagation\"],[\"post-setting-og-description\",\"og-description\",\"post-setting-og-description\",[30,[36,6],[[32,0,[\"facebookDescription\"]],160],null],[30,[36,7],[[32,0,[\"ogDescriptionScratch\"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,[\"ogDescriptionScratch\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"setOgDescription\",[32,0,[\"ogDescriptionScratch\"]]],null],\"true\"]],null],[2,\"\\n                                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"og-description\"]],[[\"@errors\",\"@property\"],[[32,0,[\"post\",\"errors\"]],\"ogDescription\"]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n\\n                                \"],[10,\"div\"],[14,0,\"form-group\"],[12],[2,\"\\n                                    \"],[10,\"label\"],[12],[2,\"Preview\"],[13],[2,\"\\n                                    \"],[10,\"div\"],[14,0,\"gh-og-preview\"],[12],[2,\"\\n\"],[6,[37,8],[[32,0,[\"facebookImage\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                                        \"],[10,\"div\"],[14,0,\"gh-og-preview-image\"],[15,5,[30,[36,5],[[32,0,[\"facebookImage\"]]],null]],[12],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                                        \"],[10,\"div\"],[14,0,\"gh-og-preview-content\"],[12],[2,\"\\n                                            \"],[10,\"div\"],[14,0,\"gh-og-preview-title\"],[12],[1,[30,[36,6],[[32,0,[\"facebookTitle\"]],88],null]],[13],[2,\"\\n                                            \"],[10,\"div\"],[14,0,\"gh-og-preview-description\"],[12],[1,[30,[36,6],[[32,0,[\"facebookDescription\"]],300],null]],[13],[2,\"\\n                                            \"],[10,\"div\"],[14,0,\"gh-og-preview-footer\"],[12],[2,\"\\n                                                \"],[10,\"div\"],[14,0,\"gh-og-preview-footer-left\"],[12],[2,\"\\n                                                    \"],[1,[32,0,[\"config\",\"blogDomain\"]]],[2,\" \"],[10,\"span\"],[14,0,\"gh-og-preview-footer-left-divider\"],[12],[2,\"|\"],[13],[2,\" by \"],[10,\"span\"],[14,0,\"gh-og-preview-footer-author\"],[12],[1,[30,[36,9],[[32,0,[\"post\",\"authors\"]]],null]],[13],[2,\"\\n                                                \"],[13],[2,\"\\n                                                \"],[10,\"div\"],[14,0,\"gh-og-preview-footer-right\"],[12],[2,\"\\n                                                \"],[13],[2,\"\\n                                            \"],[13],[2,\"\\n                                        \"],[13],[2,\"\\n                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,8],[[30,[36,11],[[32,0,[\"subview\"]],\"codeinjection\"],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"settings-menu-header subview\"],[12],[2,\"\\n                            \"],[11,\"button\"],[24,0,\"back settings-menu-header-action\"],[24,\"data-test-button\",\"close-psm-subview\"],[4,[38,1],[[32,0],\"closeSubview\"],null],[12],[1,[30,[36,2],[\"arrow-left\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Back\"],[13],[13],[2,\"\\n                            \"],[10,\"h4\"],[12],[2,\"Code injection\"],[13],[2,\"\\n                            \"],[10,\"div\"],[14,5,\"width:23px;\"],[12],[13],[2,\"\\n                        \"],[13],[2,\"\\n\\n                        \"],[10,\"div\"],[14,0,\"settings-menu-content settings-menu-content-codeinjection\"],[12],[2,\"\\n                            \"],[11,\"form\"],[4,[38,1],[[32,0],\"discardEnter\"],[[\"on\"],[\"submit\"]]],[12],[2,\"\\n                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"post\",\"errors\"]],[32,0,[\"post\",\"hasValidated\"]],\"codeinjectionHead\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"codeinjection-head\"],[12],[1,[30,[36,3],[[32,0,[\"post\",\"displayName\"]]],null]],[2,\" header \"],[10,\"code\"],[12],[2,\"{{ghost_head}}\"],[13],[13],[2,\"\\n                                    \"],[8,\"gh-cm-editor\",[[24,\"data-test-field\",\"codeinjection-head\"]],[[\"@value\",\"@id\",\"@class\",\"@name\",\"@focusOut\",\"@stopEnterKeyDownPropagation\",\"@update\"],[[32,0,[\"codeinjectionHeadScratch\"]],\"post-setting-codeinjection-head\",\"post-setting-codeinjection\",\"post-setting-codeinjection-head\",[30,[36,1],[[32,0],\"setHeaderInjection\",[32,0,[\"codeinjectionHeadScratch\"]]],null],\"true\",[30,[36,1],[[32,0],[30,[36,4],[[32,0,[\"codeinjectionHeadScratch\"]]],null]],null]]],null],[2,\"\\n                                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"codeinjection-head\"]],[[\"@errors\",\"@property\"],[[32,0,[\"post\",\"errors\"]],\"codeinjectionHead\"]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n\\n                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"post\",\"errors\"]],[32,0,[\"post\",\"hasValidated\"]],\"codeinjectionFoot\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"codeinjection-foot\"],[12],[1,[30,[36,3],[[32,0,[\"post\",\"displayName\"]]],null]],[2,\" footer \"],[10,\"code\"],[12],[2,\"{{ghost_foot}}\"],[13],[13],[2,\"\\n                                    \"],[8,\"gh-cm-editor\",[[24,\"data-test-field\",\"codeinjection-foot\"]],[[\"@value\",\"@id\",\"@class\",\"@name\",\"@focusOut\",\"@stopEnterKeyDownPropagation\",\"@update\"],[[32,0,[\"codeinjectionFootScratch\"]],\"post-setting-codeinjection-foot\",\"post-setting-codeinjection\",\"post-setting-codeinjection-foot\",[30,[36,1],[[32,0],\"setFooterInjection\",[32,0,[\"codeinjectionFootScratch\"]]],null],\"true\",[30,[36,1],[[32,0],[30,[36,4],[[32,0,[\"codeinjectionFootScratch\"]]],null]],null]]],null],[2,\"\\n                                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"codeinjection-foot\"]],[[\"@errors\",\"@property\"],[[32,0,[\"post\",\"errors\"]],\"codeinjectionFoot\"]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[6,[37,8],[[32,0,[\"_showThrobbers\"]]],null,[[\"default\"],[{\"statements\":[[6,[37,0],[[32,0,[\"session\",\"user\",\"isAuthorOrContributor\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[8,\"gh-tour-item\",[],[[\"@throbberId\",\"@target\",\"@throbberAttachment\",\"@throbberOffset\",\"@popoverTriangleClass\"],[\"featured-post\",\"label[for='featured'] p\",\"middle middle\",\"0px -20px\",\"bottom-right\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"unless\",\"action\",\"svg-jar\",\"capitalize\",\"mut\",\"background-image-style\",\"truncate\",\"readonly\",\"if\",\"author-names\",\"gh-count-down-characters\",\"eq\",\"concat\",\"or\",\"not\",\"and\"]}","meta":{"moduleName":"ghost-admin/components/gh-post-settings-menu.hbs"}});

  const PSM_ANIMATION_LENGTH = 400;

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend(_settingsMenuComponent.default, {
    feature: Ember.inject.service(),
    store: Ember.inject.service(),
    config: Ember.inject.service(),
    ajax: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    notifications: Ember.inject.service(),
    slugGenerator: Ember.inject.service(),
    session: Ember.inject.service(),
    settings: Ember.inject.service(),
    ui: Ember.inject.service(),
    post: null,
    _showSettingsMenu: false,
    _showThrobbers: false,
    canonicalUrlScratch: Ember.computed.alias('post.canonicalUrlScratch'),
    customExcerptScratch: Ember.computed.alias('post.customExcerptScratch'),
    codeinjectionFootScratch: Ember.computed.alias('post.codeinjectionFootScratch'),
    codeinjectionHeadScratch: Ember.computed.alias('post.codeinjectionHeadScratch'),
    metaDescriptionScratch: Ember.computed.alias('post.metaDescriptionScratch'),
    metaTitleScratch: Ember.computed.alias('post.metaTitleScratch'),
    ogDescriptionScratch: Ember.computed.alias('post.ogDescriptionScratch'),
    ogTitleScratch: Ember.computed.alias('post.ogTitleScratch'),
    twitterDescriptionScratch: Ember.computed.alias('post.twitterDescriptionScratch'),
    twitterTitleScratch: Ember.computed.alias('post.twitterTitleScratch'),
    slugValue: (0, _boundOneWay.default)('post.slug'),
    facebookDescription: Ember.computed.or('ogDescriptionScratch', 'customExcerptScratch', 'seoDescription'),
    facebookImage: Ember.computed.or('post.ogImage', 'post.featureImage'),
    facebookTitle: Ember.computed.or('ogTitleScratch', 'seoTitle'),
    twitterDescription: Ember.computed.or('twitterDescriptionScratch', 'customExcerptScratch', 'seoDescription'),
    twitterImage: Ember.computed.or('post.twitterImage', 'post.featureImage'),
    twitterTitle: Ember.computed.or('twitterTitleScratch', 'seoTitle'),
    showVisibilityInput: Ember.computed.or('session.user.isOwner', 'session.user.isAdmin', 'session.user.isEditor'),
    seoTitle: Ember.computed('metaTitleScratch', 'post.titleScratch', function () {
      return this.metaTitleScratch || this.post.titleScratch || '(Untitled)';
    }),
    seoDescription: Ember.computed('post.scratch', 'metaDescriptionScratch', function () {
      let metaDescription = this.metaDescriptionScratch || '';
      let mobiledoc = this.get('post.scratch');
      let [markdownCard] = mobiledoc && mobiledoc.cards || [];
      let markdown = markdownCard && markdownCard[1] && markdownCard[1].markdown;
      let placeholder;

      if (metaDescription) {
        placeholder = metaDescription;
      } else {
        let div = document.createElement('div');
        div.innerHTML = (0, _formatMarkdown.default)(markdown, false); // Strip HTML

        placeholder = div.textContent; // Replace new lines and trim

        placeholder = placeholder.replace(/\n+/g, ' ').trim();
      }

      return placeholder;
    }),
    seoURL: Ember.computed('post.{slug,canonicalUrl}', 'config.blogUrl', function () {
      let blogUrl = this.get('config.blogUrl');
      let seoSlug = this.post.slug || '';
      let canonicalUrl = this.post.canonicalUrl || '';

      if (canonicalUrl) {
        if (canonicalUrl.match(/^\//)) {
          return `${blogUrl}${canonicalUrl}`;
        } else {
          return canonicalUrl;
        }
      } else {
        let seoURL = `${blogUrl}/${seoSlug}`; // only append a slash to the URL if the slug exists

        if (seoSlug) {
          seoURL += '/';
        }

        return seoURL;
      }
    }),

    didReceiveAttrs() {
      this._super(...arguments); // HACK: ugly method of working around the CSS animations so that we
      // can add throbbers only when the animation has finished
      // TODO: use liquid-fire to handle PSM slide-in and replace tabs manager
      // with something more ember-like


      if (this.showSettingsMenu && !this._showSettingsMenu) {
        this.showThrobbers.perform();
      } // fired when menu is closed


      if (!this.showSettingsMenu && this._showSettingsMenu) {
        let post = this.post;
        let errors = post.get('errors'); // reset the publish date if it has an error

        if (errors.has('publishedAtBlogDate') || errors.has('publishedAtBlogTime')) {
          post.set('publishedAtBlogTZ', post.get('publishedAtUTC'));
          post.validate({
            attribute: 'publishedAtBlog'
          });
        } // remove throbbers


        this.set('_showThrobbers', false);
      }

      this._showSettingsMenu = this.showSettingsMenu;
    },

    actions: {
      showSubview(subview) {
        this._super(...arguments);

        this.set('subview', subview); // Chrome appears to have an animation bug that cancels the slide
        // transition unless there's a delay between the animation starting
        // and the throbbers being removed

        Ember.run.later(this, function () {
          this.set('_showThrobbers', false);
        }, 50);
      },

      closeSubview() {
        this._super(...arguments);

        this.set('subview', null);
        this.showThrobbers.perform();
      },

      discardEnter() {
        return false;
      },

      toggleFeatured() {
        this.toggleProperty('post.featured'); // If this is a new post.  Don't save the post.  Defer the save
        // to the user pressing the save button

        if (this.get('post.isNew')) {
          return;
        }

        this.savePost.perform().catch(error => {
          this.showError(error);
          this.post.rollbackAttributes();
        });
      },

      /**
       * triggered by user manually changing slug
       */
      updateSlug(newSlug) {
        return this.updateSlug.perform(newSlug).catch(error => {
          this.showError(error);
          this.post.rollbackAttributes();
        });
      },

      setPublishedAtBlogDate(date) {
        let post = this.post;
        let dateString = (0, _moment.default)(date).format('YYYY-MM-DD');
        post.get('errors').remove('publishedAtBlogDate');

        if (post.get('isNew') || date === post.get('publishedAtBlogDate')) {
          post.validate({
            property: 'publishedAtBlog'
          });
        } else {
          post.set('publishedAtBlogDate', dateString);
          return this.savePost.perform();
        }
      },

      setPublishedAtBlogTime(time) {
        let post = this.post;
        post.get('errors').remove('publishedAtBlogDate');

        if (post.get('isNew') || time === post.get('publishedAtBlogTime')) {
          post.validate({
            property: 'publishedAtBlog'
          });
        } else {
          post.set('publishedAtBlogTime', time);
          return this.savePost.perform();
        }
      },

      setCustomExcerpt(excerpt) {
        let post = this.post;
        let currentExcerpt = post.get('customExcerpt');

        if (excerpt === currentExcerpt) {
          return;
        }

        post.set('customExcerpt', excerpt);
        return post.validate({
          property: 'customExcerpt'
        }).then(() => this.savePost.perform());
      },

      setHeaderInjection(code) {
        let post = this.post;
        let currentCode = post.get('codeinjectionHead');

        if (code === currentCode) {
          return;
        }

        post.set('codeinjectionHead', code);
        return post.validate({
          property: 'codeinjectionHead'
        }).then(() => this.savePost.perform());
      },

      setFooterInjection(code) {
        let post = this.post;
        let currentCode = post.get('codeinjectionFoot');

        if (code === currentCode) {
          return;
        }

        post.set('codeinjectionFoot', code);
        return post.validate({
          property: 'codeinjectionFoot'
        }).then(() => this.savePost.perform());
      },

      setMetaTitle(metaTitle) {
        // Grab the post and current stored meta title
        let post = this.post;
        let currentTitle = post.get('metaTitle'); // If the title entered matches the stored meta title, do nothing

        if (currentTitle === metaTitle) {
          return;
        } // If the title entered is different, set it as the new meta title


        post.set('metaTitle', metaTitle); // Make sure the meta title is valid and if so, save it into the post

        return post.validate({
          property: 'metaTitle'
        }).then(() => {
          if (post.get('isNew')) {
            return;
          }

          return this.savePost.perform();
        });
      },

      setMetaDescription(metaDescription) {
        // Grab the post and current stored meta description
        let post = this.post;
        let currentDescription = post.get('metaDescription'); // If the title entered matches the stored meta title, do nothing

        if (currentDescription === metaDescription) {
          return;
        } // If the title entered is different, set it as the new meta title


        post.set('metaDescription', metaDescription); // Make sure the meta title is valid and if so, save it into the post

        return post.validate({
          property: 'metaDescription'
        }).then(() => {
          if (post.get('isNew')) {
            return;
          }

          return this.savePost.perform();
        });
      },

      setCanonicalUrl(value) {
        // Grab the post and current stored meta description
        let post = this.post;
        let currentCanonicalUrl = post.canonicalUrl; // If the value entered matches the stored value, do nothing

        if (currentCanonicalUrl === value) {
          return;
        } // If the value supplied is different, set it as the new value


        post.set('canonicalUrl', value); // Make sure the value is valid and if so, save it into the post

        return post.validate({
          property: 'canonicalUrl'
        }).then(() => {
          if (post.get('isNew')) {
            return;
          }

          return this.savePost.perform();
        });
      },

      setOgTitle(ogTitle) {
        // Grab the post and current stored facebook title
        let post = this.post;
        let currentTitle = post.get('ogTitle'); // If the title entered matches the stored facebook title, do nothing

        if (currentTitle === ogTitle) {
          return;
        } // If the title entered is different, set it as the new facebook title


        post.set('ogTitle', ogTitle); // Make sure the facebook title is valid and if so, save it into the post

        return post.validate({
          property: 'ogTitle'
        }).then(() => {
          if (post.get('isNew')) {
            return;
          }

          return this.savePost.perform();
        });
      },

      setOgDescription(ogDescription) {
        // Grab the post and current stored facebook description
        let post = this.post;
        let currentDescription = post.get('ogDescription'); // If the title entered matches the stored facebook description, do nothing

        if (currentDescription === ogDescription) {
          return;
        } // If the description entered is different, set it as the new facebook description


        post.set('ogDescription', ogDescription); // Make sure the facebook description is valid and if so, save it into the post

        return post.validate({
          property: 'ogDescription'
        }).then(() => {
          if (post.get('isNew')) {
            return;
          }

          return this.savePost.perform();
        });
      },

      setTwitterTitle(twitterTitle) {
        // Grab the post and current stored twitter title
        let post = this.post;
        let currentTitle = post.get('twitterTitle'); // If the title entered matches the stored twitter title, do nothing

        if (currentTitle === twitterTitle) {
          return;
        } // If the title entered is different, set it as the new twitter title


        post.set('twitterTitle', twitterTitle); // Make sure the twitter title is valid and if so, save it into the post

        return post.validate({
          property: 'twitterTitle'
        }).then(() => {
          if (post.get('isNew')) {
            return;
          }

          return this.savePost.perform();
        });
      },

      setTwitterDescription(twitterDescription) {
        // Grab the post and current stored twitter description
        let post = this.post;
        let currentDescription = post.get('twitterDescription'); // If the description entered matches the stored twitter description, do nothing

        if (currentDescription === twitterDescription) {
          return;
        } // If the description entered is different, set it as the new twitter description


        post.set('twitterDescription', twitterDescription); // Make sure the twitter description is valid and if so, save it into the post

        return post.validate({
          property: 'twitterDescription'
        }).then(() => {
          if (post.get('isNew')) {
            return;
          }

          return this.savePost.perform();
        });
      },

      setCoverImage(image) {
        this.set('post.featureImage', image);

        if (this.get('post.isNew')) {
          return;
        }

        this.savePost.perform().catch(error => {
          this.showError(error);
          this.post.rollbackAttributes();
        });
      },

      clearCoverImage() {
        this.set('post.featureImage', '');

        if (this.get('post.isNew')) {
          return;
        }

        this.savePost.perform().catch(error => {
          this.showError(error);
          this.post.rollbackAttributes();
        });
      },

      setOgImage(image) {
        this.set('post.ogImage', image);

        if (this.get('post.isNew')) {
          return;
        }

        this.savePost.perform().catch(error => {
          this.showError(error);
          this.post.rollbackAttributes();
        });
      },

      clearOgImage() {
        this.set('post.ogImage', '');

        if (this.get('post.isNew')) {
          return;
        }

        this.savePost.perform().catch(error => {
          this.showError(error);
          this.post.rollbackAttributes();
        });
      },

      setTwitterImage(image) {
        this.set('post.twitterImage', image);

        if (this.get('post.isNew')) {
          return;
        }

        this.savePost.perform().catch(error => {
          this.showError(error);
          this.post.rollbackAttributes();
        });
      },

      clearTwitterImage() {
        this.set('post.twitterImage', '');

        if (this.get('post.isNew')) {
          return;
        }

        this.savePost.perform().catch(error => {
          this.showError(error);
          this.post.rollbackAttributes();
        });
      },

      changeAuthors(newAuthors) {
        let post = this.post; // return if nothing changed

        if (newAuthors.mapBy('id').join() === post.get('authors').mapBy('id').join()) {
          return;
        }

        post.set('authors', newAuthors);
        post.validate({
          property: 'authors'
        }); // if this is a new post (never been saved before), don't try to save it

        if (post.get('isNew')) {
          return;
        }

        this.savePost.perform().catch(error => {
          this.showError(error);
          post.rollbackAttributes();
        });
      },

      deletePost() {
        if (this.deletePost) {
          this.deletePost();
        }
      }

    },
    showThrobbers: (0, _emberConcurrency.task)(function* () {
      yield (0, _emberConcurrency.timeout)(PSM_ANIMATION_LENGTH);
      this.set('_showThrobbers', true);
    }).restartable(),

    showError(error) {
      // TODO: remove null check once ValidationEngine has been removed
      if (error) {
        this.notifications.showAPIError(error);
      }
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-post-settings-menu/email", ["exports", "ghost-admin/errors/email-failed-error", "validator", "ember-concurrency"], function (_exports, _emailFailedError, _validator, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="settings-menu-header subview">
      <button {{on "click" this.close}} class="back settings-menu-header-action" data-test-button="close-psm-subview">{{svg-jar "arrow-left"}}<span class="hidden">Back</span></button>
      <h4>Email newsletter</h4>
      <div style="width:23px;"></div>
  </div>
  
  <div class="settings-menu-content settings-menu-email">
      {{#if this.post.email.isSuccess}}
          {{!-- Mail has already been sent --}}
          <div class="ba b--whitegrey bg-white br3">
              <div class="flex pa5 pt4 pb4 items-center bb b--whitegrey">
                  <div class="w16 flex flex-column items-center">
                      <span class="db mr4 mt3">{{svg-jar "send-email" class="w7 h7 stroke-darkgrey"}}</span>
                  </div>
                  <div class="flex flex-column justify-center">
                      <p class="ma0 pa0 midgrey">Post was sent by email to</p>
                      <p class="ma0 pa0 f5 lh-solid">{{pluralize this.post.email.emailCount "member"}}</p>
                  </div>
              </div>
              <div class="pa5 pt3 pb3 f7 bb b--whitegrey">
                  <table class="ma0" style="table-layout: fixed">
                      <tbody>
                          <tr>
                              <td class="pa1 pl0 fw7 f8 w16 v-top lh-copy">Subject:</td>
                              <td class="pa1 pa0 word-wrap midgrey v-top lh-copy">{{this.post.email.subject}}</td>
                          </tr>
                          <tr>
                              <td class="pa1 pl0 fw7 f8 w16 nowrap v-top lh-copy">Sent:</td>
                              <td class="pa1 pa0 word-wrap midgrey v-top lh-copy">{{gh-format-post-time this.post.email.createdAtUTC}}</td>
                          </tr>
                      </tbody>
                  </table>
              </div>
              <div class="pa5 pt3 pb3">
                  <p class="ma0 pa0"><button {{on "click" this.toggleEmailPreview}} class="blue">View sent email</button></p>
              </div>
          </div>
      {{else if (or this.retryEmail.isRunning this.post.email.isFailure)}}
          {{!-- Mail failed to send --}}
  
          <div class="ba b--whitegrey bg-white br3 gh-box-error-border">
              <div class="flex pa5 pt4 pb4 items-center bb b--whitegrey">
                  <div class="w16 flex flex-column items-center">
                      <span class="db mr4 mt3">{{svg-jar "warning" class="w7 h7 fill-red"}}</span>
                  </div>
                  <div class="flex flex-column justify-center">
                      <p class="ma0 pa0 midgrey">Post failed to send to</p>
                      <p class="ma0 pa0 f5 lh-solid">{{pluralize this.post.email.emailCount "member"}}</p>
                  </div>
              </div>
              <div class="pa5 pt3 pb3 f7 bb b--whitegrey">
                  <p class="mb2 lh-copy">
                      {{#if this.session.user.isOwner}}
                          Email failed to send when publishing this post. Please <LinkTo @route="settings.labs">check your Mailgun configuration</LinkTo> if the error persists.
                      {{else}}
                          Email failed to send when publishing this post. Please check your Mailgun configuration if the error persists.
                      {{/if}}
                  </p>
                  <p class="ma0 pa0">
                      <table class="ma0" style="table-layout: fixed">
                          <tbody>
                              <tr>
                                  <td class="pa1 pl0 fw7 f8 w16 v-top lh-copy">Error:</td>
                                  <td class="pa1 pl0 word-wrap midgrey v-top lh-copy">{{this.post.email.error}}</td>
                              </tr>
                          </tbody>
                      </table>
                  </p>
              </div>
              <div class="pa5 pt3 pb3 f7 bb b--whitegrey">
                  <table class="ma0" style="table-layout: fixed">
                      <tbody>
                          <tr>
                              <td class="pa1 pl0 fw7 f8 w16 v-top lh-copy">Subject:</td>
                              <td class="pa1 pl0 truncate midgrey v-top lh-copy">{{this.post.email.subject}}</td>
                          </tr>
                          <tr>
                              <td class="pa1 pl0 fw7 f8 w16 nowrap v-top lh-copy">Tried:</td>
                              <td class="pa1 pl0 truncate midgrey v-top lh-copy">{{gh-format-post-time this.post.email.createdAtUTC}}</td>
                          </tr>
                      </tbody>
                  </table>
              </div>
              <div class="pa5 pt3 pb3 flex justify-between items center">
                  <button {{on "click" this.toggleEmailPreview}} class="blue">View email</button>
                  <GhTaskButton @buttonText="Retry send" @runningText="Sending..." @task={{this.retryEmail}} @class="gh-btn gh-btn-icon" data-test-button="retry-email" />
              </div>
          </div>
      {{else}}
          {{!-- Mail not sent yet --}}
          {{#if this.mailgunError}}
              <p class="gh-box gh-box-warning settings-menu-mailgun-warning">
                  {{svg-jar "info" class="w5 h5 fill-yellow nl1"}}
                  You need to configure Mailgun in <LinkTo @route="settings.labs" data-test-nav="labs">Labs → Members settings</LinkTo> to enable email newsletters.
              </p>
          {{/if}}
  
          <form {{action "discardEnter" on="submit"}}>
              <GhFormGroup @errors={{this.post.errors}} @hasValidated={{this.post.hasValidated}} @property="emailSubject">
                  <label for="og-title">Subject</label>
                  <GhTextInput
                      @class="post-setting-email-subject"
                      @id="email-subject"
                      @name="post-setting-email-subject"
                      @placeholder={{truncate this.emailSubject 40}}
                      @value={{readonly this.emailSubjectScratch}}
                      @input={{action (mut this.emailSubjectScratch) value="target.value"}}
                      @focus-out={{action "setEmailSubject" this.emailSubjectScratch}}
                      @stopEnterKeyDownPropagation={{true}}
                      @disabled={{this.mailgunError}}
                      data-test-field="email-subject" />
                  <GhErrorMessage @errors={{this.post.errors}} @property="emailSubject" data-test-error="email-subject" />
              </GhFormGroup>
  
              <div class="form-group">
                  <div class="flex">
                      <label class="nowrap flex-auto">Test email</label>
                      <button type="button" class="gh-btn gh-btn-link settings-menu-email-button" {{on "click" this.toggleEmailPreview}} data-test-button="toggle-email-preview">
                          <span class="blue">
                              Preview in browser
                          </span>
                      </button>
                  </div>
  
                  <div class="{{if this.mailgunError "disabled"}}">
                      <GhTextInput
                          @class="post-setting-email-test"
                          @id="email-test"
                          @name="post-setting-email-test"
                          @placeholder="noreply@example.com"
                          @value={{this.testEmailAddress}}
                          @stopEnterKeyDownPropagation={{true}}
                          @disabled={{this.mailgunError}}
                          data-test-field="email-test" />
  
                      {{#if this.sendTestEmailError}}
                          <div class="error"><p class="response">{{this.sendTestEmailError}}</p></div>
                      {{/if}}
  
                      <GhTaskButton @buttonText="Send test email"
                          @autoReset={{true}}
                          @task={{this.sendTestEmail}}
                          @successText="Email sent"
                          @runningText="Sending..."
                          @class="gh-btn w-100 mt2 gh-btn-icon"
                          @disabled={{this.mailgunError}}
                          data-test-send-test-mail="true"
                      />
                  </div>
              </div>
          </form>
      {{/if}}
  </div>
  */
  {"id":"tUYxuMrf","block":"{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"settings-menu-header subview\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"back settings-menu-header-action\"],[24,\"data-test-button\",\"close-psm-subview\"],[4,[38,6],[\"click\",[32,0,[\"close\"]]],null],[12],[1,[30,[36,0],[\"arrow-left\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Back\"],[13],[13],[2,\"\\n    \"],[10,\"h4\"],[12],[2,\"Email newsletter\"],[13],[2,\"\\n    \"],[10,\"div\"],[14,5,\"width:23px;\"],[12],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"settings-menu-content settings-menu-email\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"post\",\"email\",\"isSuccess\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,0,\"ba b--whitegrey bg-white br3\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"flex pa5 pt4 pb4 items-center bb b--whitegrey\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"w16 flex flex-column items-center\"],[12],[2,\"\\n                    \"],[10,\"span\"],[14,0,\"db mr4 mt3\"],[12],[1,[30,[36,0],[\"send-email\"],[[\"class\"],[\"w7 h7 stroke-darkgrey\"]]]],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"flex flex-column justify-center\"],[12],[2,\"\\n                    \"],[10,\"p\"],[14,0,\"ma0 pa0 midgrey\"],[12],[2,\"Post was sent by email to\"],[13],[2,\"\\n                    \"],[10,\"p\"],[14,0,\"ma0 pa0 f5 lh-solid\"],[12],[1,[30,[36,7],[[32,0,[\"post\",\"email\",\"emailCount\"]],\"member\"],null]],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"pa5 pt3 pb3 f7 bb b--whitegrey\"],[12],[2,\"\\n                \"],[10,\"table\"],[14,0,\"ma0\"],[14,5,\"table-layout: fixed\"],[12],[2,\"\\n                    \"],[10,\"tbody\"],[12],[2,\"\\n                        \"],[10,\"tr\"],[12],[2,\"\\n                            \"],[10,\"td\"],[14,0,\"pa1 pl0 fw7 f8 w16 v-top lh-copy\"],[12],[2,\"Subject:\"],[13],[2,\"\\n                            \"],[10,\"td\"],[14,0,\"pa1 pa0 word-wrap midgrey v-top lh-copy\"],[12],[1,[32,0,[\"post\",\"email\",\"subject\"]]],[13],[2,\"\\n                        \"],[13],[2,\"\\n                        \"],[10,\"tr\"],[12],[2,\"\\n                            \"],[10,\"td\"],[14,0,\"pa1 pl0 fw7 f8 w16 nowrap v-top lh-copy\"],[12],[2,\"Sent:\"],[13],[2,\"\\n                            \"],[10,\"td\"],[14,0,\"pa1 pa0 word-wrap midgrey v-top lh-copy\"],[12],[1,[30,[36,8],[[32,0,[\"post\",\"email\",\"createdAtUTC\"]]],null]],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"pa5 pt3 pb3\"],[12],[2,\"\\n                \"],[10,\"p\"],[14,0,\"ma0 pa0\"],[12],[11,\"button\"],[24,0,\"blue\"],[4,[38,6],[\"click\",[32,0,[\"toggleEmailPreview\"]]],null],[12],[2,\"View sent email\"],[13],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,1],[[30,[36,9],[[32,0,[\"retryEmail\",\"isRunning\"]],[32,0,[\"post\",\"email\",\"isFailure\"]]],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"\\n        \"],[10,\"div\"],[14,0,\"ba b--whitegrey bg-white br3 gh-box-error-border\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"flex pa5 pt4 pb4 items-center bb b--whitegrey\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"w16 flex flex-column items-center\"],[12],[2,\"\\n                    \"],[10,\"span\"],[14,0,\"db mr4 mt3\"],[12],[1,[30,[36,0],[\"warning\"],[[\"class\"],[\"w7 h7 fill-red\"]]]],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"flex flex-column justify-center\"],[12],[2,\"\\n                    \"],[10,\"p\"],[14,0,\"ma0 pa0 midgrey\"],[12],[2,\"Post failed to send to\"],[13],[2,\"\\n                    \"],[10,\"p\"],[14,0,\"ma0 pa0 f5 lh-solid\"],[12],[1,[30,[36,7],[[32,0,[\"post\",\"email\",\"emailCount\"]],\"member\"],null]],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"pa5 pt3 pb3 f7 bb b--whitegrey\"],[12],[2,\"\\n                \"],[10,\"p\"],[14,0,\"mb2 lh-copy\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"session\",\"user\",\"isOwner\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        Email failed to send when publishing this post. Please \"],[8,\"link-to\",[],[[\"@route\"],[\"settings.labs\"]],[[\"default\"],[{\"statements\":[[2,\"check your Mailgun configuration\"]],\"parameters\":[]}]]],[2,\" if the error persists.\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        Email failed to send when publishing this post. Please check your Mailgun configuration if the error persists.\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n                \"],[10,\"p\"],[14,0,\"ma0 pa0\"],[12],[2,\"\\n                    \"],[10,\"table\"],[14,0,\"ma0\"],[14,5,\"table-layout: fixed\"],[12],[2,\"\\n                        \"],[10,\"tbody\"],[12],[2,\"\\n                            \"],[10,\"tr\"],[12],[2,\"\\n                                \"],[10,\"td\"],[14,0,\"pa1 pl0 fw7 f8 w16 v-top lh-copy\"],[12],[2,\"Error:\"],[13],[2,\"\\n                                \"],[10,\"td\"],[14,0,\"pa1 pl0 word-wrap midgrey v-top lh-copy\"],[12],[1,[32,0,[\"post\",\"email\",\"error\"]]],[13],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"pa5 pt3 pb3 f7 bb b--whitegrey\"],[12],[2,\"\\n                \"],[10,\"table\"],[14,0,\"ma0\"],[14,5,\"table-layout: fixed\"],[12],[2,\"\\n                    \"],[10,\"tbody\"],[12],[2,\"\\n                        \"],[10,\"tr\"],[12],[2,\"\\n                            \"],[10,\"td\"],[14,0,\"pa1 pl0 fw7 f8 w16 v-top lh-copy\"],[12],[2,\"Subject:\"],[13],[2,\"\\n                            \"],[10,\"td\"],[14,0,\"pa1 pl0 truncate midgrey v-top lh-copy\"],[12],[1,[32,0,[\"post\",\"email\",\"subject\"]]],[13],[2,\"\\n                        \"],[13],[2,\"\\n                        \"],[10,\"tr\"],[12],[2,\"\\n                            \"],[10,\"td\"],[14,0,\"pa1 pl0 fw7 f8 w16 nowrap v-top lh-copy\"],[12],[2,\"Tried:\"],[13],[2,\"\\n                            \"],[10,\"td\"],[14,0,\"pa1 pl0 truncate midgrey v-top lh-copy\"],[12],[1,[30,[36,8],[[32,0,[\"post\",\"email\",\"createdAtUTC\"]]],null]],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"pa5 pt3 pb3 flex justify-between items center\"],[12],[2,\"\\n                \"],[11,\"button\"],[24,0,\"blue\"],[4,[38,6],[\"click\",[32,0,[\"toggleEmailPreview\"]]],null],[12],[2,\"View email\"],[13],[2,\"\\n                \"],[8,\"gh-task-button\",[[24,\"data-test-button\",\"retry-email\"]],[[\"@buttonText\",\"@runningText\",\"@task\",\"@class\"],[\"Retry send\",\"Sending...\",[32,0,[\"retryEmail\"]],\"gh-btn gh-btn-icon\"]],null],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,1],[[32,0,[\"mailgunError\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"p\"],[14,0,\"gh-box gh-box-warning settings-menu-mailgun-warning\"],[12],[2,\"\\n                \"],[1,[30,[36,0],[\"info\"],[[\"class\"],[\"w5 h5 fill-yellow nl1\"]]]],[2,\"\\n                You need to configure Mailgun in \"],[8,\"link-to\",[[24,\"data-test-nav\",\"labs\"]],[[\"@route\"],[\"settings.labs\"]],[[\"default\"],[{\"statements\":[[2,\"Labs → Members settings\"]],\"parameters\":[]}]]],[2,\" to enable email newsletters.\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n        \"],[11,\"form\"],[4,[38,2],[[32,0],\"discardEnter\"],[[\"on\"],[\"submit\"]]],[12],[2,\"\\n            \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"post\",\"errors\"]],[32,0,[\"post\",\"hasValidated\"]],\"emailSubject\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"label\"],[14,\"for\",\"og-title\"],[12],[2,\"Subject\"],[13],[2,\"\\n                \"],[8,\"gh-text-input\",[[24,\"data-test-field\",\"email-subject\"]],[[\"@class\",\"@id\",\"@name\",\"@placeholder\",\"@value\",\"@input\",\"@focus-out\",\"@stopEnterKeyDownPropagation\",\"@disabled\"],[\"post-setting-email-subject\",\"email-subject\",\"post-setting-email-subject\",[30,[36,3],[[32,0,[\"emailSubject\"]],40],null],[30,[36,4],[[32,0,[\"emailSubjectScratch\"]]],null],[30,[36,2],[[32,0],[30,[36,5],[[32,0,[\"emailSubjectScratch\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,2],[[32,0],\"setEmailSubject\",[32,0,[\"emailSubjectScratch\"]]],null],true,[32,0,[\"mailgunError\"]]]],null],[2,\"\\n                \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"email-subject\"]],[[\"@errors\",\"@property\"],[[32,0,[\"post\",\"errors\"]],\"emailSubject\"]],null],[2,\"\\n            \"]],\"parameters\":[]}]]],[2,\"\\n\\n            \"],[10,\"div\"],[14,0,\"form-group\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"flex\"],[12],[2,\"\\n                    \"],[10,\"label\"],[14,0,\"nowrap flex-auto\"],[12],[2,\"Test email\"],[13],[2,\"\\n                    \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-link settings-menu-email-button\"],[24,\"data-test-button\",\"toggle-email-preview\"],[24,4,\"button\"],[4,[38,6],[\"click\",[32,0,[\"toggleEmailPreview\"]]],null],[12],[2,\"\\n                        \"],[10,\"span\"],[14,0,\"blue\"],[12],[2,\"\\n                            Preview in browser\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n\\n                \"],[10,\"div\"],[15,0,[31,[[30,[36,1],[[32,0,[\"mailgunError\"]],\"disabled\"],null]]]],[12],[2,\"\\n                    \"],[8,\"gh-text-input\",[[24,\"data-test-field\",\"email-test\"]],[[\"@class\",\"@id\",\"@name\",\"@placeholder\",\"@value\",\"@stopEnterKeyDownPropagation\",\"@disabled\"],[\"post-setting-email-test\",\"email-test\",\"post-setting-email-test\",\"noreply@example.com\",[32,0,[\"testEmailAddress\"]],true,[32,0,[\"mailgunError\"]]]],null],[2,\"\\n\\n\"],[6,[37,1],[[32,0,[\"sendTestEmailError\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"error\"],[12],[10,\"p\"],[14,0,\"response\"],[12],[1,[32,0,[\"sendTestEmailError\"]]],[13],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[8,\"gh-task-button\",[[24,\"data-test-send-test-mail\",\"true\"]],[[\"@buttonText\",\"@autoReset\",\"@task\",\"@successText\",\"@runningText\",\"@class\",\"@disabled\"],[\"Send test email\",true,[32,0,[\"sendTestEmail\"]],\"Email sent\",\"Sending...\",\"gh-btn w-100 mt2 gh-btn-icon\",[32,0,[\"mailgunError\"]]]],null],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[13]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"if\",\"action\",\"truncate\",\"readonly\",\"mut\",\"on\",\"pluralize\",\"gh-format-post-time\",\"or\"]}","meta":{"moduleName":"ghost-admin/components/gh-post-settings-menu/email.hbs"}});

  const RETRY_EMAIL_POLL_LENGTH = 1000;
  const RETRY_EMAIL_MAX_POLL_LENGTH = 15 * 1000;

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    ajax: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    notifications: Ember.inject.service(),
    session: Ember.inject.service(),
    settings: Ember.inject.service(),
    post: null,
    sendTestEmailError: '',
    savePostTask: null,

    close() {},

    toggleEmailPreviewModal() {},

    emailSubject: Ember.computed.or('emailSubjectScratch', 'post.title'),
    emailSubjectScratch: Ember.computed.alias('post.emailSubjectScratch'),
    testEmailAddress: Ember.computed.oneWay('session.user.email'),
    mailgunError: Ember.computed('settings.memberSubscriptionSettings', function () {
      return !this.settings.get('bulkEmailSettings.isEnabled');
    }),
    actions: {
      setEmailSubject(emailSubject) {
        // Grab the post and current stored email subject
        let post = this.post;
        let currentEmailSubject = post.get('emailSubject'); // If the subject entered matches the stored email subject, do nothing

        if (currentEmailSubject === emailSubject) {
          return;
        } // If the subject entered is different, set it as the new email subject


        post.set('emailSubject', emailSubject); // Make sure the email subject is valid and if so, save it into the post

        return post.validate({
          property: 'emailSubject'
        }).then(() => {
          if (post.get('isNew')) {
            return;
          }

          return this.savePostTask.perform();
        });
      },

      discardEnter() {
        return false;
      }

    },
    toggleEmailPreview: Ember._action(function () {
      this.toggleEmailPreviewModal();
    }),
    sendTestEmail: (0, _emberConcurrency.task)(function* () {
      try {
        const resourceId = this.post.id;
        const testEmail = this.testEmailAddress.trim();

        if (!_validator.default.isEmail(testEmail)) {
          this.set('sendTestEmailError', 'Please enter a valid email');
          return false;
        }

        if (!this.settings.get('bulkEmailSettings.isEnabled')) {
          this.set('sendTestEmailError', 'Please check your Mailgun configuration');
          return false;
        }

        this.set('sendTestEmailError', '');
        const url = this.ghostPaths.url.api('/email_preview/posts', resourceId);
        const data = {
          emails: [testEmail]
        };
        const options = {
          data,
          dataType: 'json'
        };
        return yield this.ajax.post(url, options);
      } catch (error) {
        if (error) {
          this.set('sendTestEmailError', 'Error sending mail, please check your Mailgun configuration');
        }
      }
    }).drop(),
    retryEmail: (0, _emberConcurrency.task)(function* () {
      let {
        email
      } = this.post;

      if (email && email.status === 'failed') {
        // trigger the retry
        yield email.retry(); // poll for success/failure state

        let pollTimeout = 0;

        while (pollTimeout < RETRY_EMAIL_MAX_POLL_LENGTH) {
          yield (0, _emberConcurrency.timeout)(RETRY_EMAIL_POLL_LENGTH);
          yield email.reload();

          if (email.status === 'submitted') {
            break;
          }

          if (email.status === 'failed') {
            throw new _emailFailedError.default(email.error);
          }
        }
      }

      return true;
    })
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-posts-list-item", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <LinkTo @route="editor.edit" @models={{array this.post.displayName this.post.id}} class="permalink gh-list-data gh-post-list-featured" @title="Edit this post">
      {{#if this.isFeatured}}
          <span data-tooltip="Featured" class="dib pl1 pr1 nr1 nl1">{{svg-jar "star-filled" class="fill-blue w3 h3"}}</span>
      {{/if}}
  </LinkTo>
  
  <LinkTo @route="editor.edit" @models={{array this.post.displayName this.post.id}} class="permalink gh-list-data gh-post-list-title" @title="Edit this post">
      <h3 class="gh-content-entry-title">
          {{this.post.title}}
      </h3>
      <p>
          <span class="gh-content-entry-meta">
              By <span class="midgrey-l2 fw5">{{this.authorNames}}</span>
  
              {{#if this.primaryTag}}
                  in <span class="midgrey-l2 fw5">{{this.primaryTag}}</span>
              {{/if}}
  
              {{#if this.isScheduled}}
                  – <span class="gh-schedule-time">Scheduled to be published and sent {{gh-format-post-time this.post.publishedAtUTC scheduled=true}}</span>
              {{/if}}
          </span>
      </p>
  </LinkTo>
  
  <LinkTo @route="editor.edit" @models={{array this.post.displayName this.post.id}} class="permalink gh-list-data gh-post-list-status" @title="Edit this post">
      <div class="flex items-center">
          {{#if this.isScheduled}}
          <span class="gh-content-status-draft gh-badge nowrap">
              Scheduled
          </span>
          {{/if}}
  
          {{#if this.isDraft}}
          <span class="gh-content-status-draft gh-badge gh-badge-purple nowrap">
              Draft
          </span>
          {{/if}}
  
          {{#if (and this.isPublished (not this.post.page))}}
          <span class="gh-content-status-published nowrap" title="Post has been sent by email">
              Published
          </span>
          {{/if}}
  
          {{#if this.session.user.isOwnerOrAdmin}}
              {{#if (or this.post.email (and this.post.isScheduled this.post.sendEmailWhenPublished))}}
                  {{#if (eq this.post.email.status "failed")}}
                      <span data-tooltip="Failed to send post by email" class="gh-content-status-emailed error">
                          {{svg-jar "send-email" class="stroke-red"}}
                      </span>
                  {{else}}
                      {{#if this.isScheduled}}
                          <span data-tooltip="To be sent by email" class="gh-content-status-emailed scheduled">
                              {{svg-jar "send-email" class="stroke-green-d2"}}
                          </span>
                      {{else}}
                          <span data-tooltip="Sent by email" class="gh-content-status-emailed">
                              {{svg-jar "send-email" class="stroke-midgrey"}}
                          </span>
                      {{/if}}
                  {{/if}}
              {{/if}}
          {{/if}}
      </div>
  </LinkTo>
  
  <LinkTo @route="editor.edit" @models={{array this.post.displayName this.post.id}} class="permalink gh-list-data gh-post-list-updated" @title="Edit this post">
      <span class="nowrap">{{gh-format-post-time this.post.updatedAtUTC draft=true}}</span>
  </LinkTo>
  */
  {"id":"ennPZDIR","block":"{\"symbols\":[],\"statements\":[[8,\"link-to\",[[24,0,\"permalink gh-list-data gh-post-list-featured\"]],[[\"@route\",\"@models\",\"@title\"],[\"editor.edit\",[30,[36,6],[[32,0,[\"post\",\"displayName\"]],[32,0,[\"post\",\"id\"]]],null],\"Edit this post\"]],[[\"default\"],[{\"statements\":[[2,\"\\n\"],[6,[37,1],[[32,0,[\"isFeatured\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"span\"],[14,\"data-tooltip\",\"Featured\"],[14,0,\"dib pl1 pr1 nr1 nl1\"],[12],[1,[30,[36,0],[\"star-filled\"],[[\"class\"],[\"fill-blue w3 h3\"]]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[8,\"link-to\",[[24,0,\"permalink gh-list-data gh-post-list-title\"]],[[\"@route\",\"@models\",\"@title\"],[\"editor.edit\",[30,[36,6],[[32,0,[\"post\",\"displayName\"]],[32,0,[\"post\",\"id\"]]],null],\"Edit this post\"]],[[\"default\"],[{\"statements\":[[2,\"\\n    \"],[10,\"h3\"],[14,0,\"gh-content-entry-title\"],[12],[2,\"\\n        \"],[1,[32,0,[\"post\",\"title\"]]],[2,\"\\n    \"],[13],[2,\"\\n    \"],[10,\"p\"],[12],[2,\"\\n        \"],[10,\"span\"],[14,0,\"gh-content-entry-meta\"],[12],[2,\"\\n            By \"],[10,\"span\"],[14,0,\"midgrey-l2 fw5\"],[12],[1,[32,0,[\"authorNames\"]]],[13],[2,\"\\n\\n\"],[6,[37,1],[[32,0,[\"primaryTag\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                in \"],[10,\"span\"],[14,0,\"midgrey-l2 fw5\"],[12],[1,[32,0,[\"primaryTag\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,1],[[32,0,[\"isScheduled\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                – \"],[10,\"span\"],[14,0,\"gh-schedule-time\"],[12],[2,\"Scheduled to be published and sent \"],[1,[30,[36,5],[[32,0,[\"post\",\"publishedAtUTC\"]]],[[\"scheduled\"],[true]]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[8,\"link-to\",[[24,0,\"permalink gh-list-data gh-post-list-status\"]],[[\"@route\",\"@models\",\"@title\"],[\"editor.edit\",[30,[36,6],[[32,0,[\"post\",\"displayName\"]],[32,0,[\"post\",\"id\"]]],null],\"Edit this post\"]],[[\"default\"],[{\"statements\":[[2,\"\\n    \"],[10,\"div\"],[14,0,\"flex items-center\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"isScheduled\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"span\"],[14,0,\"gh-content-status-draft gh-badge nowrap\"],[12],[2,\"\\n            Scheduled\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,1],[[32,0,[\"isDraft\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"span\"],[14,0,\"gh-content-status-draft gh-badge gh-badge-purple nowrap\"],[12],[2,\"\\n            Draft\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,1],[[30,[36,3],[[32,0,[\"isPublished\"]],[30,[36,7],[[32,0,[\"post\",\"page\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"span\"],[14,0,\"gh-content-status-published nowrap\"],[14,\"title\",\"Post has been sent by email\"],[12],[2,\"\\n            Published\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,1],[[32,0,[\"session\",\"user\",\"isOwnerOrAdmin\"]]],null,[[\"default\"],[{\"statements\":[[6,[37,1],[[30,[36,4],[[32,0,[\"post\",\"email\"]],[30,[36,3],[[32,0,[\"post\",\"isScheduled\"]],[32,0,[\"post\",\"sendEmailWhenPublished\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[6,[37,1],[[30,[36,2],[[32,0,[\"post\",\"email\",\"status\"]],\"failed\"],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                    \"],[10,\"span\"],[14,\"data-tooltip\",\"Failed to send post by email\"],[14,0,\"gh-content-status-emailed error\"],[12],[2,\"\\n                        \"],[1,[30,[36,0],[\"send-email\"],[[\"class\"],[\"stroke-red\"]]]],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,1],[[32,0,[\"isScheduled\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[10,\"span\"],[14,\"data-tooltip\",\"To be sent by email\"],[14,0,\"gh-content-status-emailed scheduled\"],[12],[2,\"\\n                            \"],[1,[30,[36,0],[\"send-email\"],[[\"class\"],[\"stroke-green-d2\"]]]],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        \"],[10,\"span\"],[14,\"data-tooltip\",\"Sent by email\"],[14,0,\"gh-content-status-emailed\"],[12],[2,\"\\n                            \"],[1,[30,[36,0],[\"send-email\"],[[\"class\"],[\"stroke-midgrey\"]]]],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[8,\"link-to\",[[24,0,\"permalink gh-list-data gh-post-list-updated\"]],[[\"@route\",\"@models\",\"@title\"],[\"editor.edit\",[30,[36,6],[[32,0,[\"post\",\"displayName\"]],[32,0,[\"post\",\"id\"]]],null],\"Edit this post\"]],[[\"default\"],[{\"statements\":[[2,\"\\n    \"],[10,\"span\"],[14,0,\"nowrap\"],[12],[1,[30,[36,5],[[32,0,[\"post\",\"updatedAtUTC\"]]],[[\"draft\"],[true]]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"if\",\"eq\",\"and\",\"or\",\"gh-format-post-time\",\"array\",\"not\"]}","meta":{"moduleName":"ghost-admin/components/gh-posts-list-item.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    ghostPaths: Ember.inject.service(),
    session: Ember.inject.service(),
    tagName: 'li',
    classNames: ['gh-list-row', 'gh-posts-list-item'],
    post: null,
    isFeatured: Ember.computed.alias('post.featured'),
    isPage: Ember.computed.alias('post.page'),
    isDraft: Ember.computed.equal('post.status', 'draft'),
    isPublished: Ember.computed.equal('post.status', 'published'),
    isScheduled: Ember.computed.equal('post.status', 'scheduled'),
    authorNames: Ember.computed('post.authors.[]', function () {
      let authors = this.get('post.authors');
      return authors.map(author => author.get('name') || author.get('email')).join(', ');
    }),
    primaryTag: Ember.computed('post.authors.[]', function () {
      let primaryTag = this.get('post.tags.firstObject');

      if (primaryTag) {
        return primaryTag.get('name');
      } else {
        return false;
      }
    }),
    subText: Ember.computed('post.{excerpt,customExcerpt,metaDescription}', function () {
      let text = this.get('post.excerpt') || '';
      let customExcerpt = this.get('post.customExcerpt');
      let metaDescription = this.get('post.metaDescription');

      if (!Ember.isBlank(customExcerpt)) {
        text = customExcerpt;
      } else if (!Ember.isBlank(metaDescription)) {
        text = metaDescription;
      }

      if (this.isScheduled) {
        return `${text.slice(0, 35)}...`;
      } else {
        return `${text.slice(0, 80)}...`;
      }
    })
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-power-select/trigger", ["exports", "ember-power-select/components/power-select/trigger"], function (_exports, _trigger) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#if @select.selected}}
      {{#if @selectedItemComponent}}
          {{component @selectedItemComponent extra=(readonly @extra) option=(readonly @option.selected) select=(readonly @select)}}
      {{else}}
          <span class="ember-power-select-selected-item">{{yield @select.selected select}}</span>
      {{/if}}
      {{#if (and @allowClear (not @select.disabled))}}
          <span class="ember-power-select-clear-btn" {{on "mousedown" this.clear}} {{on "touchstart" this.clear}}>&times;</span>
      {{/if}}
  {{else}}
      {{component @placeholderComponent placeholder=@placeholder}}
  {{/if}}
  {{!-- this next line is the only difference from original trigger.hbs --}}
  {{svg-jar "arrow-down-small"}}
  
  */
  {"id":"USMTNc2p","block":"{\"symbols\":[\"@placeholder\",\"@placeholderComponent\",\"@select\",\"&default\",\"@option\",\"@extra\",\"@selectedItemComponent\",\"@allowClear\"],\"statements\":[[6,[37,4],[[32,3,[\"selected\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[6,[37,4],[[32,7]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"        \"],[1,[30,[36,0],[[32,7]],[[\"extra\",\"option\",\"select\"],[[30,[36,3],[[32,6]],null],[30,[36,3],[[32,5,[\"selected\"]]],null],[30,[36,3],[[32,3]],null]]]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"        \"],[10,\"span\"],[14,0,\"ember-power-select-selected-item\"],[12],[18,4,[[32,3,[\"selected\"]],[35,2]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[6,[37,4],[[30,[36,6],[[32,8],[30,[36,5],[[32,3,[\"disabled\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[11,\"span\"],[24,0,\"ember-power-select-clear-btn\"],[4,[38,1],[\"mousedown\",[32,0,[\"clear\"]]],null],[4,[38,1],[\"touchstart\",[32,0,[\"clear\"]]],null],[12],[2,\"×\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]},{\"statements\":[[2,\"    \"],[1,[30,[36,0],[[32,2]],[[\"placeholder\"],[[32,1]]]]],[2,\"\\n\"]],\"parameters\":[]}]]],[1,[30,[36,7],[\"arrow-down-small\"],null]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"component\",\"on\",\"select\",\"readonly\",\"if\",\"not\",\"and\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/gh-power-select/trigger.hbs"}});

  class Trigger extends _trigger.default {}

  _exports.default = Trigger;

  Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Trigger);
});
;define("ghost-admin/components/gh-profile-image", ["exports", "jquery", "blueimp-md5", "ember-ajax/request", "validator", "ember-concurrency"], function (_exports, _jquery, _blueimpMd, _request, _validator, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <figure class="account-image">
  
      {{#unless this.previewDataURL}}
          <div class="placeholder-img" style={{this.placeholderStyle}}></div>
          <div id="account-image" class="gravatar-img" style={{this.avatarStyle}}>
              <span class="sr-only">User image</span>
          </div>
      {{/unless}}
  
      {{#if this.previewDataURL}}
          <img src={{this.previewDataURL}} class="gravatar-img">
      {{/if}}
  
      <span class="edit-account-image" onclick={{action "openFileDialog"}} role="button">
          {{svg-jar "photos"}}
          <span class="sr-only">Upload an image</span>
      </span>
  
      <GhFileInput
          @alt={{null}}
          @name="uploadimage"
          @multiple={{false}}
          @action={{action "imageSelected"}}
          @accept={{this.imageMimeTypes}} />
  </figure>
  
  */
  {"id":"qnvQBR+P","block":"{\"symbols\":[],\"statements\":[[10,\"figure\"],[14,0,\"account-image\"],[12],[2,\"\\n\\n\"],[6,[37,0],[[32,0,[\"previewDataURL\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,0,\"placeholder-img\"],[15,5,[32,0,[\"placeholderStyle\"]]],[12],[13],[2,\"\\n        \"],[10,\"div\"],[14,1,\"account-image\"],[14,0,\"gravatar-img\"],[15,5,[32,0,[\"avatarStyle\"]]],[12],[2,\"\\n            \"],[10,\"span\"],[14,0,\"sr-only\"],[12],[2,\"User image\"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,1],[[32,0,[\"previewDataURL\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"img\"],[15,\"src\",[32,0,[\"previewDataURL\"]]],[14,0,\"gravatar-img\"],[12],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n    \"],[10,\"span\"],[14,0,\"edit-account-image\"],[15,\"onclick\",[30,[36,2],[[32,0],\"openFileDialog\"],null]],[14,\"role\",\"button\"],[12],[2,\"\\n        \"],[1,[30,[36,3],[\"photos\"],null]],[2,\"\\n        \"],[10,\"span\"],[14,0,\"sr-only\"],[12],[2,\"Upload an image\"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[8,\"gh-file-input\",[],[[\"@alt\",\"@name\",\"@multiple\",\"@action\",\"@accept\"],[null,\"uploadimage\",false,[30,[36,2],[[32,0],\"imageSelected\"],null],[32,0,[\"imageMimeTypes\"]]]],null],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"unless\",\"if\",\"action\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/gh-profile-image.hbs"}});

  const ANIMATION_TIMEOUT = 1000;
  /**
   * A component to manage a user profile image. By default it just handles picture uploads,
   * but if passed a bound 'email' property it will render the user's gravatar image
   *
   * Example: {{gh-profile-image email=controllerEmailProperty setImage="controllerActionName" debounce=500}}
   *
   * @param  {int}            size              The size of the image to render
   * @param  {String}         email             Reference to a bound email object if gravatar image behavior is desired.
   * @param  {String|action}  setImage          The string name of the action on the controller to be called when an image is added.
   * @param  {int}            debounce          Period to wait after changes to email before attempting to load gravatar
   * @property  {Boolean}     hasUploadedImage  Whether or not the user has uploaded an image (whether or not to show the default image/gravatar image)
   * @property  {String}      defaultImage      String containing the background-image css property of the default user profile image
   * @property  {String}      imageBackground   String containing the background-image css property with the gravatar url
   */

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    config: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    email: '',
    size: 180,
    debounce: 300,
    imageFile: null,
    hasUploadedImage: false,
    _defaultImageUrl: '',

    // closure actions
    setImage() {},

    placeholderStyle: Ember.String.htmlSafe('background-image: url()'),
    avatarStyle: Ember.String.htmlSafe('display: none'),

    init() {
      this._super(...arguments);

      let defaultImage = '/img/user-image.png';
      this._defaultImageUrl = this.get('ghostPaths.assetRoot').replace(/\/$/, '') + defaultImage;

      this._setPlaceholderImage(this._defaultImageUrl);
    },

    didReceiveAttrs() {
      this._super(...arguments);

      if (this.get('config.useGravatar')) {
        this.setGravatar.perform();
      }
    },

    actions: {
      imageSelected(fileList, resetInput) {
        // eslint-disable-next-line
        let imageFile = fileList[0];

        if (imageFile) {
          let reader = new FileReader();
          this.set('imageFile', imageFile);
          this.setImage(imageFile);
          reader.addEventListener('load', () => {
            let dataURL = reader.result;
            this.set('previewDataURL', dataURL);
          }, false);
          reader.readAsDataURL(imageFile);
        }

        resetInput();
      },

      openFileDialog(event) {
        // simulate click to open file dialog
        // using jQuery because IE11 doesn't support MouseEvent
        (0, _jquery.default)(event.target).closest('figure').find('input[type="file"]').click();
      }

    },

    dragOver(event) {
      if (!event.dataTransfer) {
        return;
      } // this is needed to work around inconsistencies with dropping files
      // from Chrome's downloads bar


      if (navigator.userAgent.indexOf('Chrome') > -1) {
        let eA = event.dataTransfer.effectAllowed;
        event.dataTransfer.dropEffect = eA === 'move' || eA === 'linkMove' ? 'move' : 'copy';
      }

      event.stopPropagation();
      event.preventDefault();
    },

    dragLeave(event) {
      event.preventDefault();
    },

    drop(event) {
      event.preventDefault();

      if (event.dataTransfer.files) {
        this.send('imageSelected', event.dataTransfer.files);
      }
    },

    setGravatar: (0, _emberConcurrency.task)(function* () {
      yield (0, _emberConcurrency.timeout)(this.debounce);
      let email = this.email;

      if (_validator.default.isEmail(email || '')) {
        let size = this.size;
        let gravatarUrl = `//www.gravatar.com/avatar/${(0, _blueimpMd.default)(email)}?s=${size}&d=404`;

        try {
          // HEAD request is needed otherwise jquery attempts to process
          // binary data as JSON and throws an error
          yield (0, _request.default)(gravatarUrl, {
            type: 'HEAD'
          }); // gravatar exists so switch style and let browser load it

          this._setAvatarImage(gravatarUrl); // wait for fade-in animation to finish before removing placeholder


          yield (0, _emberConcurrency.timeout)(ANIMATION_TIMEOUT);

          this._setPlaceholderImage('');
        } catch (e) {
          // gravatar doesn't exist so make sure we're still showing the placeholder
          this._setPlaceholderImage(this._defaultImageUrl); // then make sure the avatar isn't visible


          this._setAvatarImage('');
        }
      }
    }).restartable(),

    _setPlaceholderImage(url) {
      this.set('placeholderStyle', Ember.String.htmlSafe(`background-image: url(${url});`));
    },

    _setAvatarImage(url) {
      let display = url ? 'block' : 'none';
      this.set('avatarStyle', Ember.String.htmlSafe(`background-image: url(${url}); display: ${display}`));
    },

    queueFile(e, data) {
      let fileName = data.files[0].name;

      if (/\.(gif|jpe?g|png|svg?z)$/i.test(fileName)) {
        let action = this.setImage;

        if (action) {
          action(data);
        }
      }
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-progress-bar", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="gh-progress-container">
      <div class="gh-progress-container-progress">
          <div
              class="gh-progress-bar {{if this.isError "-error"}}"
              style={{this.progressStyle}}
              data-test-progress-bar
              data-test-progress-width={{this.percentage}}
          ></div>
      </div>
  </div>
  
  */
  {"id":"EJjJVLrX","block":"{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"gh-progress-container\"],[12],[2,\"\\n    \"],[10,\"div\"],[14,0,\"gh-progress-container-progress\"],[12],[2,\"\\n        \"],[10,\"div\"],[15,0,[31,[\"gh-progress-bar \",[30,[36,0],[[32,0,[\"isError\"]],\"-error\"],null]]]],[15,5,[32,0,[\"progressStyle\"]]],[14,\"data-test-progress-bar\",\"\"],[15,\"data-test-progress-width\",[32,0,[\"percentage\"]]],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-progress-bar.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    tagName: '',
    // Public attributes
    percentage: 0,
    isError: false,
    // Internal attributes
    progressStyle: '',

    didReceiveAttrs() {
      this._super(...arguments);

      let percentage = this.percentage;
      let width = percentage > 0 ? `${percentage}%` : '0';
      this.set('progressStyle', Ember.String.htmlSafe(`width: ${width}`));
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-psm-authors-input", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <GhTokenInput
      @options={{this.availableAuthors}}
      @selected={{this.selectedAuthors}}
      @onChange={{action "updateAuthors"}}
      @allowCreation={{false}}
      @renderInPlace={{true}}
      @triggerId={{this.triggerId}}
  />
  */
  {"id":"mxna9xXc","block":"{\"symbols\":[],\"statements\":[[8,\"gh-token-input\",[],[[\"@options\",\"@selected\",\"@onChange\",\"@allowCreation\",\"@renderInPlace\",\"@triggerId\"],[[32,0,[\"availableAuthors\"]],[32,0,[\"selectedAuthors\"]],[30,[36,0],[[32,0],\"updateAuthors\"],null],false,true,[32,0,[\"triggerId\"]]]],null]],\"hasEval\":false,\"upvars\":[\"action\"]}","meta":{"moduleName":"ghost-admin/components/gh-psm-authors-input.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    store: Ember.inject.service(),
    // public attrs
    selectedAuthors: null,
    tagName: '',
    triggerId: '',
    // internal attrs
    availableAuthors: null,

    // closure actions
    updateAuthors() {},

    availableAuthorNames: Ember.computed('availableAuthors.@each.name', function () {
      return this.availableAuthors.map(author => author.get('name').toLowerCase());
    }),

    init() {
      this._super(...arguments); // perform a background query to fetch all users and set `availableAuthors`
      // to a live-query that will be immediately populated with what's in the
      // store and be updated when the above query returns


      this.store.query('user', {
        limit: 'all'
      });
      this.set('availableAuthors', this.store.peekAll('user'));
    },

    actions: {
      updateAuthors(newAuthors) {
        this.updateAuthors(newAuthors);
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-psm-tags-input", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <GhTokenInput
      @extra={{hash
          tokenComponent="gh-token-input/tag-token"
      }}
      @onChange={{action "updateTags"}}
      @onCreate={{action "createTag"}}
      @options={{this.availableTags}}
      @renderInPlace={{true}}
      @selected={{this.post.tags}}
      @showCreateWhen={{action "hideCreateOptionOnMatchingTag"}}
      @triggerId={{this.triggerId}}
  />
  
  */
  {"id":"Bjb0KPA0","block":"{\"symbols\":[],\"statements\":[[8,\"gh-token-input\",[],[[\"@extra\",\"@onChange\",\"@onCreate\",\"@options\",\"@renderInPlace\",\"@selected\",\"@showCreateWhen\",\"@triggerId\"],[[30,[36,0],null,[[\"tokenComponent\"],[\"gh-token-input/tag-token\"]]],[30,[36,1],[[32,0],\"updateTags\"],null],[30,[36,1],[[32,0],\"createTag\"],null],[32,0,[\"availableTags\"]],true,[32,0,[\"post\",\"tags\"]],[30,[36,1],[[32,0],\"hideCreateOptionOnMatchingTag\"],null],[32,0,[\"triggerId\"]]]],null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"hash\",\"action\"]}","meta":{"moduleName":"ghost-admin/components/gh-psm-tags-input.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    store: Ember.inject.service(),
    // public attrs
    post: null,
    tagName: '',
    // internal attrs
    _availableTags: null,
    availableTags: Ember.computed.sort('_availableTags.[]', function (tagA, tagB) {
      // ignorePunctuation means the # in internal tag names is ignored
      return tagA.name.localeCompare(tagB.name, undefined, {
        ignorePunctuation: true
      });
    }),
    availableTagNames: Ember.computed('availableTags.@each.name', function () {
      return this.availableTags.map(tag => tag.name.toLowerCase());
    }),

    init() {
      this._super(...arguments); // perform a background query to fetch all users and set `availableTags`
      // to a live-query that will be immediately populated with what's in the
      // store and be updated when the above query returns


      this.store.query('tag', {
        limit: 'all'
      });
      this.set('_availableTags', this.store.peekAll('tag'));
    },

    actions: {
      matchTags(tagName, term) {
        return tagName.toLowerCase() === term.trim().toLowerCase();
      },

      hideCreateOptionOnMatchingTag(term) {
        return !this.availableTagNames.includes(term.toLowerCase());
      },

      updateTags(newTags) {
        let currentTags = this.get('post.tags'); // destroy new+unsaved tags that are no longer selected

        currentTags.forEach(function (tag) {
          if (!newTags.includes(tag) && tag.get('isNew')) {
            tag.destroyRecord();
          }
        }); // update tags

        return this.set('post.tags', newTags);
      },

      createTag(tagName) {
        let currentTags = this.get('post.tags');
        let currentTagNames = currentTags.map(tag => tag.get('name').toLowerCase());
        let tagToAdd;
        tagName = tagName.trim(); // abort if tag is already selected

        if (currentTagNames.includes(tagName.toLowerCase())) {
          return;
        } // find existing tag if there is one


        tagToAdd = this._findTagByName(tagName); // create new tag if no match

        if (!tagToAdd) {
          tagToAdd = this.store.createRecord('tag', {
            name: tagName
          }); // set to public/internal based on the tag name

          tagToAdd.updateVisibility();
        } // push tag onto post relationship


        return currentTags.pushObject(tagToAdd);
      }

    },

    // methods
    _findTagByName(name) {
      let withMatchingName = function (tag) {
        return tag.name.toLowerCase() === name.toLowerCase();
      };

      return this.availableTags.find(withMatchingName);
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-psm-template-select", ["exports", "ember-concurrency"], function (_exports, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#if this.customTemplates}}
      <div class="form-group for-select" data-test-custom-template-form>
          <label for="author-list">Template</label>
          <span class="gh-input-icon gh-icon-user">
              {{svg-jar "file-text-document"}}
              <span class="gh-select {{if this.matchedSlugTemplate "disabled"}}">
                  <OneWaySelect @value={{this.selectedTemplate}}
                      @options={{this.customTemplates}}
                      @optionValuePath="filename"
                      @optionLabelPath="name"
                      @update={{action "selectTemplate"}}
                      @disabled={{this.matchedSlugTemplate}}
                      data-test-select="custom-template" />
                  {{svg-jar "arrow-down-small"}}
              </span>
          </span>
          {{#if this.matchedSlugTemplate}}
              <p>Post URL matches {{this.matchedSlugTemplate.filename}}</p>
          {{/if}}
      </div>
  {{/if}}
  
  */
  {"id":"1vrSKmbT","block":"{\"symbols\":[],\"statements\":[[6,[37,1],[[32,0,[\"customTemplates\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[10,\"div\"],[14,0,\"form-group for-select\"],[14,\"data-test-custom-template-form\",\"\"],[12],[2,\"\\n        \"],[10,\"label\"],[14,\"for\",\"author-list\"],[12],[2,\"Template\"],[13],[2,\"\\n        \"],[10,\"span\"],[14,0,\"gh-input-icon gh-icon-user\"],[12],[2,\"\\n            \"],[1,[30,[36,0],[\"file-text-document\"],null]],[2,\"\\n            \"],[10,\"span\"],[15,0,[31,[\"gh-select \",[30,[36,1],[[32,0,[\"matchedSlugTemplate\"]],\"disabled\"],null]]]],[12],[2,\"\\n                \"],[8,\"one-way-select\",[[24,\"data-test-select\",\"custom-template\"]],[[\"@value\",\"@options\",\"@optionValuePath\",\"@optionLabelPath\",\"@update\",\"@disabled\"],[[32,0,[\"selectedTemplate\"]],[32,0,[\"customTemplates\"]],\"filename\",\"name\",[30,[36,2],[[32,0],\"selectTemplate\"],null],[32,0,[\"matchedSlugTemplate\"]]]],null],[2,\"\\n                \"],[1,[30,[36,0],[\"arrow-down-small\"],null]],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"],[6,[37,1],[[32,0,[\"matchedSlugTemplate\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"p\"],[12],[2,\"Post URL matches \"],[1,[32,0,[\"matchedSlugTemplate\",\"filename\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"if\",\"action\"]}","meta":{"moduleName":"ghost-admin/components/gh-psm-template-select.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    store: Ember.inject.service(),
    // public attributes
    tagName: '',
    post: null,
    // internal properties
    activeTheme: null,

    // closure actions
    onTemplateSelect() {},

    // computed properties
    customTemplates: Ember.computed('activeTheme.customTemplates.[]', function () {
      let templates = this.get('activeTheme.customTemplates') || [];
      let defaultTemplate = {
        filename: '',
        name: 'Default'
      };
      return Ember.isEmpty(templates) ? templates : [defaultTemplate, ...templates.sortBy('name')];
    }),
    matchedSlugTemplate: Ember.computed('post.{page,slug}', 'activeTheme.slugTemplates.[]', function () {
      let slug = this.get('post.slug');
      let type = this.post.constructor.modelName;
      let [matchedTemplate] = this.get('activeTheme.slugTemplates').filter(function (template) {
        return template.for.includes(type) && template.slug === slug;
      });
      return matchedTemplate;
    }),
    selectedTemplate: Ember.computed('post.customTemplate', 'customTemplates.[]', function () {
      let templates = this.customTemplates;
      let filename = this.get('post.customTemplate');
      return templates.findBy('filename', filename);
    }),

    // hooks
    didInsertElement() {
      this._super(...arguments);

      this.loadActiveTheme.perform();
    },

    actions: {
      selectTemplate(template) {
        this.onTemplateSelect(template.filename);
      }

    },
    // tasks
    loadActiveTheme: (0, _emberConcurrency.task)(function* () {
      let store = this.store;
      let themes = yield store.peekAll('theme');

      if (Ember.isEmpty(themes)) {
        themes = yield store.findAll('theme');
      }

      let activeTheme = themes.filterBy('active', true).get('firstObject');
      this.set('activeTheme', activeTheme);
    })
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-psm-visibility-input", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <span class="gh-select">
      <OneWaySelect @value={{this.selectedVisibility}}
          @options={{this.availableVisibilities}}
          @optionValuePath="name"
          @optionLabelPath="label"
          @optionTargetPath="name"
          @update={{action "updateVisibility"}}
      />
      {{svg-jar "arrow-down-small"}}
  </span>
  */
  {"id":"UogR7b15","block":"{\"symbols\":[],\"statements\":[[10,\"span\"],[14,0,\"gh-select\"],[12],[2,\"\\n    \"],[8,\"one-way-select\",[],[[\"@value\",\"@options\",\"@optionValuePath\",\"@optionLabelPath\",\"@optionTargetPath\",\"@update\"],[[32,0,[\"selectedVisibility\"]],[32,0,[\"availableVisibilities\"]],\"name\",\"label\",\"name\",[30,[36,0],[[32,0],\"updateVisibility\"],null]]],null],[2,\"\\n    \"],[1,[30,[36,1],[\"arrow-down-small\"],null]],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/gh-psm-visibility-input.hbs"}});

  const VISIBILITIES = [{
    label: 'Public',
    name: 'public'
  }, {
    label: 'Members only',
    name: 'members'
  }, {
    label: 'Paid-members only',
    name: 'paid'
  }];

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    settings: Ember.inject.service(),
    // public attrs
    post: null,
    selectedVisibility: Ember.computed('post.visibility', function () {
      return this.get('post.visibility') || this.settings.get('defaultContentVisibility');
    }),

    init() {
      this._super(...arguments);

      this.availableVisibilities = VISIBILITIES;
    },

    actions: {
      updateVisibility(newVisibility) {
        this.post.set('visibility', newVisibility);
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-publishmenu-draft", ["exports", "moment"], function (_exports, _moment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="gh-publishmenu-heading">Ready to publish your {{this.post.displayName}}?</header>
  <section class="gh-publishmenu-content">
      <div class="gh-publishmenu-section">
          <div class="gh-publishmenu-radio {{if (eq this.saveType "publish") "active"}}" {{action "setSaveType" "publish" on="click"}}>
              <div class="gh-publishmenu-radio-button" data-test-publishmenu-published-option></div>
              <div class="gh-publishmenu-radio-content">
                  <div class="gh-publishmenu-radio-label">Set it live now</div>
                  <div class="gh-publishmenu-radio-desc">Publish this {{this.post.displayName}} immediately</div>
              </div>
          </div>
          <div class="gh-publishmenu-radio {{if (eq this.saveType "schedule") "active"}}" {{action "setSaveType" "schedule" on="click"}}>
              <div class="gh-publishmenu-radio-button" data-test-publishmenu-scheduled-option></div>
              <div class="gh-publishmenu-radio-content">
                  <div class="gh-publishmenu-radio-label">Schedule it for later</div>
                  <GhDateTimePicker
                      @date={{this.post.publishedAtBlogDate}}
                      @time={{this.post.publishedAtBlogTime}}
                      @setDate={{action "setDate"}}
                      @setTime={{action "setTime"}}
                      @setTypedDateError={{this.setTypedDateError}}
                      @errors={{this.post.errors}}
                      @dateErrorProperty="publishedAtBlogDate"
                      @timeErrorProperty="publishedAtBlogTime"
                      @minDate={{this._minDate}}
                      @isActive={{eq this.saveType "schedule"}}
                  />
                  <div class="gh-publishmenu-radio-desc">Set automatic future publish date</div>
              </div>
          </div>
      </div>
  
      {{#if (and this.canSendEmail showSendEmail)}}
          <div class="gh-publishmenu-section">
              <div class="gh-publishmenu-radio gh-publishmenu-email">
                  {{#if this.backgroundLoader.isRunning}}
                      <div class="gh-loading-spinner" style="zoom: 50%"></div>
                  {{else}}
                      <div class="gh-publishmenu-email-label {{if this.disableEmailOption "pe-none"}}">
                          <label class="gh-publishmenu-radio-label {{if this.disableEmailOption "midgrey"}}" for="email-when-published-checkbox">Send by email</label>
                          {{#if (or this.memberCount this.session.user.isEditor)}}
                              <div class="gh-publishmenu-radio-desc">Deliver post to members</div>
                          {{else}}
                              <div class="gh-publishmenu-radio-desc">You haven't got any members</div>
                          {{/if}}
                      </div>
                      <div class="for-switch small {{if this.disableEmailOption "pe-none"}}">
                          <div class="switch container" for="email-when-published-checkbox">
                              <Input
                                  @checked={{this.sendEmailWhenPublished}}
                                  @type="checkbox"
                                  @id="email-when-published-checkbox"
                                  @name="email-when-published"
                                  @disabled={{this.disableEmailOption}}
                              />
                              <span class="input-toggle-component gh-publishmenu-email-checkbox"
                                  {{on "click" (toggle "sendEmailWhenPublished" this)}}></span>
                          </div>
                      </div>
                  {{/if}}
              </div>
          </div>
      {{/if}}
  </section>
  
  
  */
  {"id":"Mg1eBeOL","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"gh-publishmenu-heading\"],[12],[2,\"Ready to publish your \"],[1,[32,0,[\"post\",\"displayName\"]]],[2,\"?\"],[13],[2,\"\\n\"],[10,\"section\"],[14,0,\"gh-publishmenu-content\"],[12],[2,\"\\n    \"],[10,\"div\"],[14,0,\"gh-publishmenu-section\"],[12],[2,\"\\n        \"],[11,\"div\"],[16,0,[31,[\"gh-publishmenu-radio \",[30,[36,0],[[30,[36,4],[[32,0,[\"saveType\"]],\"publish\"],null],\"active\"],null]]]],[4,[38,5],[[32,0],\"setSaveType\",\"publish\"],[[\"on\"],[\"click\"]]],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-button\"],[14,\"data-test-publishmenu-published-option\",\"\"],[12],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-content\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-label\"],[12],[2,\"Set it live now\"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-desc\"],[12],[2,\"Publish this \"],[1,[32,0,[\"post\",\"displayName\"]]],[2,\" immediately\"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[11,\"div\"],[16,0,[31,[\"gh-publishmenu-radio \",[30,[36,0],[[30,[36,4],[[32,0,[\"saveType\"]],\"schedule\"],null],\"active\"],null]]]],[4,[38,5],[[32,0],\"setSaveType\",\"schedule\"],[[\"on\"],[\"click\"]]],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-button\"],[14,\"data-test-publishmenu-scheduled-option\",\"\"],[12],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-content\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-label\"],[12],[2,\"Schedule it for later\"],[13],[2,\"\\n                \"],[8,\"gh-date-time-picker\",[],[[\"@date\",\"@time\",\"@setDate\",\"@setTime\",\"@setTypedDateError\",\"@errors\",\"@dateErrorProperty\",\"@timeErrorProperty\",\"@minDate\",\"@isActive\"],[[32,0,[\"post\",\"publishedAtBlogDate\"]],[32,0,[\"post\",\"publishedAtBlogTime\"]],[30,[36,5],[[32,0],\"setDate\"],null],[30,[36,5],[[32,0],\"setTime\"],null],[32,0,[\"setTypedDateError\"]],[32,0,[\"post\",\"errors\"]],\"publishedAtBlogDate\",\"publishedAtBlogTime\",[32,0,[\"_minDate\"]],[30,[36,4],[[32,0,[\"saveType\"]],\"schedule\"],null]]],null],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-desc\"],[12],[2,\"Set automatic future publish date\"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n\"],[6,[37,0],[[30,[36,7],[[32,0,[\"canSendEmail\"]],[35,6]],null]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,0,\"gh-publishmenu-section\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio gh-publishmenu-email\"],[12],[2,\"\\n\"],[6,[37,0],[[32,0,[\"backgroundLoader\",\"isRunning\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                    \"],[10,\"div\"],[14,0,\"gh-loading-spinner\"],[14,5,\"zoom: 50%\"],[12],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                    \"],[10,\"div\"],[15,0,[31,[\"gh-publishmenu-email-label \",[30,[36,0],[[32,0,[\"disableEmailOption\"]],\"pe-none\"],null]]]],[12],[2,\"\\n                        \"],[10,\"label\"],[15,0,[31,[\"gh-publishmenu-radio-label \",[30,[36,0],[[32,0,[\"disableEmailOption\"]],\"midgrey\"],null]]]],[14,\"for\",\"email-when-published-checkbox\"],[12],[2,\"Send by email\"],[13],[2,\"\\n\"],[6,[37,0],[[30,[36,1],[[32,0,[\"memberCount\"]],[32,0,[\"session\",\"user\",\"isEditor\"]]],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                            \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-desc\"],[12],[2,\"Deliver post to members\"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                            \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-desc\"],[12],[2,\"You haven't got any members\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[15,0,[31,[\"for-switch small \",[30,[36,0],[[32,0,[\"disableEmailOption\"]],\"pe-none\"],null]]]],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"switch container\"],[14,\"for\",\"email-when-published-checkbox\"],[12],[2,\"\\n                            \"],[8,\"input\",[],[[\"@checked\",\"@type\",\"@id\",\"@name\",\"@disabled\"],[[32,0,[\"sendEmailWhenPublished\"]],\"checkbox\",\"email-when-published-checkbox\",\"email-when-published\",[32,0,[\"disableEmailOption\"]]]],null],[2,\"\\n                            \"],[11,\"span\"],[24,0,\"input-toggle-component gh-publishmenu-email-checkbox\"],[4,[38,3],[\"click\",[30,[36,2],[\"sendEmailWhenPublished\",[32,0]],null]],null],[12],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[13],[2,\"\\n\\n\"]],\"hasEval\":false,\"upvars\":[\"if\",\"or\",\"toggle\",\"on\",\"eq\",\"action\",\"showSendEmail\",\"and\"]}","meta":{"moduleName":"ghost-admin/components/gh-publishmenu-draft.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    feature: Ember.inject.service(),
    settings: Ember.inject.service(),
    session: Ember.inject.service(),
    post: null,
    saveType: null,
    // used to set minDate in datepicker
    _minDate: null,
    _publishedAtBlogTZ: null,
    'data-test-publishmenu-draft': true,
    showSendEmail: Ember.computed.or('session.user.isOwner', 'session.user.isAdmin', 'session.user.isEditor'),
    disableEmailOption: Ember.computed('memberCount', function () {
      return this.get('session.user.isOwnerOrAdmin') && this.memberCount === 0;
    }),
    canSendEmail: Ember.computed('feature.labs.members', 'post.{displayName,email}', function () {
      let membersEnabled = this.feature.get('labs.members');
      let mailgunIsConfigured = this.get('settings.bulkEmailSettings.isEnabled');
      let isPost = this.post.displayName === 'post';
      let hasSentEmail = !!this.post.email;
      return membersEnabled && mailgunIsConfigured && isPost && !hasSentEmail;
    }),

    didInsertElement() {
      this.post.set('publishedAtBlogTZ', this.get('post.publishedAtUTC'));
      this.send('setSaveType', 'publish');
    },

    actions: {
      setSaveType(type) {
        if (this.saveType !== type) {
          let hasDateError = !Ember.isEmpty(this.get('post.errors').errorsFor('publishedAtBlogDate'));
          let hasTimeError = !Ember.isEmpty(this.get('post.errors').errorsFor('publishedAtBlogTime'));

          let minDate = this._getMinDate();

          this.set('_minDate', minDate);
          this.setSaveType(type); // when publish: switch to now to avoid validation errors
          // when schedule: switch to last valid or new minimum scheduled date

          if (type === 'publish') {
            if (!hasDateError && !hasTimeError) {
              this._publishedAtBlogTZ = this.get('post.publishedAtBlogTZ');
            } else {
              this._publishedAtBlogTZ = this.get('post.publishedAtUTC');
            }

            this.post.set('publishedAtBlogTZ', this.get('post.publishedAtUTC'));
          } else {
            if (!this._publishedAtBlogTZ || (0, _moment.default)(this._publishedAtBlogTZ).isBefore(minDate)) {
              this.post.set('publishedAtBlogTZ', minDate);
            } else {
              this.post.set('publishedAtBlogTZ', this._publishedAtBlogTZ);
            }
          }

          this.post.validate();
        }
      },

      setDate(date) {
        let post = this.post;
        let dateString = (0, _moment.default)(date).format('YYYY-MM-DD');
        post.set('publishedAtBlogDate', dateString);
        return post.validate();
      },

      setTime(time) {
        let post = this.post;
        post.set('publishedAtBlogTime', time);
        return post.validate();
      }

    },

    // API only accepts dates at least 2 mins in the future, default the
    // scheduled date 5 mins in the future to avoid immediate validation errors
    _getMinDate() {
      return _moment.default.utc().add(5, 'minutes');
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-publishmenu-published", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="gh-publishmenu-heading">Update {{post.displayName}} status</header>
  <section class="gh-publishmenu-content gh-publishmenu-section">
      <div class="gh-publishmenu-radio {{if (eq this.saveType "draft") "active"}}" {{action this.setSaveType "draft" on="click"}}>
          <div class="gh-publishmenu-radio-button" data-test-publishmenu-unpublished-option></div>
          <div class="gh-publishmenu-radio-content">
              <div class="gh-publishmenu-radio-label">Unpublished</div>
              <div class="gh-publishmenu-radio-desc">Revert this {{post.displayName}} to a private draft</div>
          </div>
      </div>
      <div class="gh-publishmenu-radio {{if (eq this.saveType "publish") "active"}}" {{action this.setSaveType "publish" on="click"}}>
          <div class="gh-publishmenu-radio-button" data-test-publishmenu-published-option></div>
          <div class="gh-publishmenu-radio-content">
              <div class="gh-publishmenu-radio-label">Published</div>
              <div class="gh-publishmenu-radio-desc">Display this {{post.displayName}} publicly</div>
          </div>
      </div>
  </section>
  
  */
  {"id":"0Fbcuzcn","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"gh-publishmenu-heading\"],[12],[2,\"Update \"],[1,[35,0,[\"displayName\"]]],[2,\" status\"],[13],[2,\"\\n\"],[10,\"section\"],[14,0,\"gh-publishmenu-content gh-publishmenu-section\"],[12],[2,\"\\n    \"],[11,\"div\"],[16,0,[31,[\"gh-publishmenu-radio \",[30,[36,2],[[30,[36,1],[[32,0,[\"saveType\"]],\"draft\"],null],\"active\"],null]]]],[4,[38,3],[[32,0],[32,0,[\"setSaveType\"]],\"draft\"],[[\"on\"],[\"click\"]]],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-button\"],[14,\"data-test-publishmenu-unpublished-option\",\"\"],[12],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-content\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-label\"],[12],[2,\"Unpublished\"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-desc\"],[12],[2,\"Revert this \"],[1,[35,0,[\"displayName\"]]],[2,\" to a private draft\"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[11,\"div\"],[16,0,[31,[\"gh-publishmenu-radio \",[30,[36,2],[[30,[36,1],[[32,0,[\"saveType\"]],\"publish\"],null],\"active\"],null]]]],[4,[38,3],[[32,0],[32,0,[\"setSaveType\"]],\"publish\"],[[\"on\"],[\"click\"]]],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-button\"],[14,\"data-test-publishmenu-published-option\",\"\"],[12],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-content\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-label\"],[12],[2,\"Published\"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-desc\"],[12],[2,\"Display this \"],[1,[35,0,[\"displayName\"]]],[2,\" publicly\"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"post\",\"eq\",\"if\",\"action\"]}","meta":{"moduleName":"ghost-admin/components/gh-publishmenu-published.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    feature: Ember.inject.service(),
    'data-test-publishmenu-published': true,

    didInsertElement() {
      this.setSaveType('publish');
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-publishmenu-scheduled", ["exports", "moment"], function (_exports, _moment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="gh-publishmenu-heading">Will be published in {{this.timeToPublished}}</header>
  <div class="gh-publishmenu-content">
      <section class="gh-publishmenu-section">
          <div class="gh-publishmenu-radio {{if (eq this.saveType "draft") "active"}}" {{action "setSaveType" "draft" on="click"}}>
              <div class="gh-publishmenu-radio-button" data-test-publishmenu-draft-option></div>
              <div class="gh-publishmenu-radio-content">
                  <div class="gh-publishmenu-radio-label">Revert to draft</div>
                  <div class="gh-publishmenu-radio-desc">Do not publish</div>
              </div>
          </div>
          <div class="gh-publishmenu-radio {{if (eq this.saveType "schedule") "active"}}" {{action "setSaveType" "schedule" on="click"}}>
              <div class="gh-publishmenu-radio-button" data-test-publishmenu-scheduled-option></div>
              <div class="gh-publishmenu-radio-content">
                  <div class="gh-publishmenu-radio-label">Schedule for later</div>
                  <GhDateTimePicker
                      @date={{this.post.publishedAtBlogDate}}
                      @time={{this.post.publishedAtBlogTime}}
                      @setDate={{action "setDate"}}
                      @setTime={{action "setTime"}}
                      @setTypedDateError={{this.setTypedDateError}}
                      @errors={{this.post.errors}}
                      @dateErrorProperty="publishedAtBlogDate"
                      @timeErrorProperty="publishedAtBlogTime"
                      @minDate={{this._minDate}}
                      @isActive={{eq this.saveType "schedule"}}
                  />
                  <div class="gh-publishmenu-radio-desc">Set automatic future publish date</div>
              </div>
          </div>
      </section>
      {{#if showSendEmail}}
          {{#unless this.post.email}}
              <section class="gh-publishmenu-section">
                  <div class="gh-publishmenu-radio gh-publishmenu-email">
                      {{#if this.backgroundLoader.isRunning}}
                      <div class="gh-loading-spinner" style="zoom: 50%"></div>
                      {{else}}
                      <div class="gh-publishmenu-email-label">
                          <label class="gh-publishmenu-radio-label pe-none midgrey"
                              for="email-when-published-checkbox">Send by email</label>
                          {{#if (or this.memberCount this.session.user.isEditor)}}
                          <div class="gh-publishmenu-radio-desc">Deliver post to members</div>
                          {{else}}
                          <div class="gh-publishmenu-radio-desc">You haven't got any members</div>
                          {{/if}}
                      </div>
                      <div class="for-switch small pe-none">
                          <div class="switch container" for="email-when-published-checkbox">
                              <Input @checked={{this.post.sendEmailWhenPublished}} @type="checkbox" @id="email-when-published-checkbox" @name="email-when-published" @disabled={{this.disableEmailOption}} />
                              <span class="input-toggle-component gh-publishmenu-email-checkbox"
                                  {{on "click" (toggle "sendEmailWhenPublished" this)}}></span>
                          </div>
                      </div>
                      {{/if}}
                  </div>
              </section>
          {{/unless}}
      {{/if}}
  </div>
  
  */
  {"id":"ZDzKIPch","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"gh-publishmenu-heading\"],[12],[2,\"Will be published in \"],[1,[32,0,[\"timeToPublished\"]]],[13],[2,\"\\n\"],[10,\"div\"],[14,0,\"gh-publishmenu-content\"],[12],[2,\"\\n    \"],[10,\"section\"],[14,0,\"gh-publishmenu-section\"],[12],[2,\"\\n        \"],[11,\"div\"],[16,0,[31,[\"gh-publishmenu-radio \",[30,[36,1],[[30,[36,5],[[32,0,[\"saveType\"]],\"draft\"],null],\"active\"],null]]]],[4,[38,6],[[32,0],\"setSaveType\",\"draft\"],[[\"on\"],[\"click\"]]],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-button\"],[14,\"data-test-publishmenu-draft-option\",\"\"],[12],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-content\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-label\"],[12],[2,\"Revert to draft\"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-desc\"],[12],[2,\"Do not publish\"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[11,\"div\"],[16,0,[31,[\"gh-publishmenu-radio \",[30,[36,1],[[30,[36,5],[[32,0,[\"saveType\"]],\"schedule\"],null],\"active\"],null]]]],[4,[38,6],[[32,0],\"setSaveType\",\"schedule\"],[[\"on\"],[\"click\"]]],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-button\"],[14,\"data-test-publishmenu-scheduled-option\",\"\"],[12],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-content\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-label\"],[12],[2,\"Schedule for later\"],[13],[2,\"\\n                \"],[8,\"gh-date-time-picker\",[],[[\"@date\",\"@time\",\"@setDate\",\"@setTime\",\"@setTypedDateError\",\"@errors\",\"@dateErrorProperty\",\"@timeErrorProperty\",\"@minDate\",\"@isActive\"],[[32,0,[\"post\",\"publishedAtBlogDate\"]],[32,0,[\"post\",\"publishedAtBlogTime\"]],[30,[36,6],[[32,0],\"setDate\"],null],[30,[36,6],[[32,0],\"setTime\"],null],[32,0,[\"setTypedDateError\"]],[32,0,[\"post\",\"errors\"]],\"publishedAtBlogDate\",\"publishedAtBlogTime\",[32,0,[\"_minDate\"]],[30,[36,5],[[32,0,[\"saveType\"]],\"schedule\"],null]]],null],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-desc\"],[12],[2,\"Set automatic future publish date\"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[6,[37,1],[[35,7]],null,[[\"default\"],[{\"statements\":[[6,[37,4],[[32,0,[\"post\",\"email\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"section\"],[14,0,\"gh-publishmenu-section\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio gh-publishmenu-email\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"backgroundLoader\",\"isRunning\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                    \"],[10,\"div\"],[14,0,\"gh-loading-spinner\"],[14,5,\"zoom: 50%\"],[12],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                    \"],[10,\"div\"],[14,0,\"gh-publishmenu-email-label\"],[12],[2,\"\\n                        \"],[10,\"label\"],[14,0,\"gh-publishmenu-radio-label pe-none midgrey\"],[14,\"for\",\"email-when-published-checkbox\"],[12],[2,\"Send by email\"],[13],[2,\"\\n\"],[6,[37,1],[[30,[36,0],[[32,0,[\"memberCount\"]],[32,0,[\"session\",\"user\",\"isEditor\"]]],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-desc\"],[12],[2,\"Deliver post to members\"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"gh-publishmenu-radio-desc\"],[12],[2,\"You haven't got any members\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"for-switch small pe-none\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"switch container\"],[14,\"for\",\"email-when-published-checkbox\"],[12],[2,\"\\n                            \"],[8,\"input\",[],[[\"@checked\",\"@type\",\"@id\",\"@name\",\"@disabled\"],[[32,0,[\"post\",\"sendEmailWhenPublished\"]],\"checkbox\",\"email-when-published-checkbox\",\"email-when-published\",[32,0,[\"disableEmailOption\"]]]],null],[2,\"\\n                            \"],[11,\"span\"],[24,0,\"input-toggle-component gh-publishmenu-email-checkbox\"],[4,[38,3],[\"click\",[30,[36,2],[\"sendEmailWhenPublished\",[32,0]],null]],null],[12],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"or\",\"if\",\"toggle\",\"on\",\"unless\",\"eq\",\"action\",\"showSendEmail\"]}","meta":{"moduleName":"ghost-admin/components/gh-publishmenu-scheduled.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    clock: Ember.inject.service(),
    session: Ember.inject.service(),
    post: null,
    saveType: null,
    isClosing: null,
    // used to set minDate in datepicker
    _minDate: null,
    'data-test-publishmenu-scheduled': true,
    disableEmailOption: Ember.computed.equal('memberCount', 0),
    showSendEmail: Ember.computed.or('session.user.isOwner', 'session.user.isAdmin', 'session.user.isEditor'),
    timeToPublished: Ember.computed('post.publishedAtUTC', 'clock.second', function () {
      let publishedAtUTC = this.get('post.publishedAtUTC');

      if (!publishedAtUTC) {
        return null;
      }

      this.get('clock.second');
      return publishedAtUTC.toNow(true);
    }),

    didInsertElement() {
      this.set('_minDate', new Date());
      this.setSaveType('schedule');
    },

    actions: {
      setSaveType(type) {
        if (this.saveType !== type) {
          this.set('_minDate', new Date());
          this.setSaveType(type); // when draft switch to now to avoid validation errors
          // when schedule switch back to saved date to avoid unnecessary re-scheduling

          if (type === 'draft') {
            this.post.set('publishedAtBlogTZ', new Date());
          } else {
            this.post.set('publishedAtBlogTZ', this.get('post.publishedAtUTC'));
          }

          this.post.validate();
        }
      },

      setDate(date) {
        let post = this.post;
        let dateString = (0, _moment.default)(date).format('YYYY-MM-DD');
        post.set('publishedAtBlogDate', dateString);
        return post.validate();
      },

      setTime(time) {
        let post = this.post;

        if (!this.isClosing) {
          post.set('publishedAtBlogTime', time);
          return post.validate();
        }
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-publishmenu", ["exports", "ghost-admin/errors/email-failed-error", "ember-concurrency"], function (_exports, _emailFailedError, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <BasicDropdown @verticalPosition="below" @onOpen={{action "open"}} @onClose={{action "close"}} as |dd|>
      <dd.Trigger class="gh-btn gh-btn-outline gh-publishmenu-trigger">
          <span data-test-publishmenu-trigger>{{this.triggerText}} {{svg-jar "arrow-down"}}</span>
      </dd.Trigger>
  
      <dd.Content class="gh-publishmenu-dropdown">
          {{#if (eq this.displayState "published")}}
              <GhPublishmenuPublished
                  @post={{this.post}}
                  @saveType={{this.saveType}}
                  @setSaveType={{action "setSaveType"}}
                  @backgroundTask={{this.backgroundTask}} />
  
          {{else if (eq this.displayState "scheduled")}}
              <GhPublishmenuScheduled
                  @post={{this.post}}
                  @saveType={{this.saveType}}
                  @isClosing={{this.isClosing}}
                  @memberCount={{this.memberCount}}
                  @setSaveType={{action "setSaveType"}}
                  @setTypedDateError={{action (mut this.typedDateError)}} />
  
          {{else}}
              <GhPublishmenuDraft
                  @post={{this.post}}
                  @saveType={{this.saveType}}
                  @setSaveType={{action "setSaveType"}}
                  @setTypedDateError={{action (mut this.typedDateError)}}
                  @backgroundTask={{this.backgroundTask}}
                  @memberCount={{this.memberCount}}
                  @sendEmailWhenPublished={{this.sendEmailWhenPublished}} />
          {{/if}}
  
          {{!--
              save button needs to be outside of menu components so it doesn't lose state
              or cancel the task when the post status updates and switches components
           --}}
          <footer class="gh-publishmenu-footer">
              <button class="gh-btn gh-btn-outline gh-btn-link" {{on "click" (action dd.actions.close)}} data-test-publishmenu-cancel>
                  <span>Cancel</span>
              </button>
              <GhTaskButton
                  @buttonText={{this.buttonText}}
                  @task={{this.save}}
                  @taskArgs={{hash dropdown=dd}}
                  @successText={{this.successText}}
                  @runningText={{this.runningText}}
                  @autoReset={{true}}
                  @class="gh-btn gh-btn-blue gh-publishmenu-button gh-btn-icon"
                  data-test-publishmenu-save=true
              />
          </footer>
      </dd.Content>
  </BasicDropdown>
  
  {{#if this.showEmailConfirmationModal}}
      <GhFullscreenModal
          @modal="confirm-email-send"
          @model={{hash
              memberCount=this.memberCount
              isScheduled=(eq this.saveType "schedule")
              paidOnly=(eq this.post.visibility "paid")
              retryEmailSend=this.retryEmailSend
          }}
          @confirm={{this.confirmEmailSend}}
          @close={{this.closeEmailConfirmationModal}}
          @modifier="action wide"
      />
  {{/if}}
  */
  {"id":"iZpL2bdi","block":"{\"symbols\":[\"dd\"],\"statements\":[[8,\"basic-dropdown\",[],[[\"@verticalPosition\",\"@onOpen\",\"@onClose\"],[\"below\",[30,[36,2],[[32,0],\"open\"],null],[30,[36,2],[[32,0],\"close\"],null]]],[[\"default\"],[{\"statements\":[[2,\"\\n    \"],[8,[32,1,[\"Trigger\"]],[[24,0,\"gh-btn gh-btn-outline gh-publishmenu-trigger\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"span\"],[14,\"data-test-publishmenu-trigger\",\"\"],[12],[1,[32,0,[\"triggerText\"]]],[2,\" \"],[1,[30,[36,5],[\"arrow-down\"],null]],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[8,[32,1,[\"Content\"]],[[24,0,\"gh-publishmenu-dropdown\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n\"],[6,[37,4],[[30,[36,0],[[32,0,[\"displayState\"]],\"published\"],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"            \"],[8,\"gh-publishmenu-published\",[],[[\"@post\",\"@saveType\",\"@setSaveType\",\"@backgroundTask\"],[[32,0,[\"post\"]],[32,0,[\"saveType\"]],[30,[36,2],[[32,0],\"setSaveType\"],null],[32,0,[\"backgroundTask\"]]]],null],[2,\"\\n\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,4],[[30,[36,0],[[32,0,[\"displayState\"]],\"scheduled\"],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"            \"],[8,\"gh-publishmenu-scheduled\",[],[[\"@post\",\"@saveType\",\"@isClosing\",\"@memberCount\",\"@setSaveType\",\"@setTypedDateError\"],[[32,0,[\"post\"]],[32,0,[\"saveType\"]],[32,0,[\"isClosing\"]],[32,0,[\"memberCount\"]],[30,[36,2],[[32,0],\"setSaveType\"],null],[30,[36,2],[[32,0],[30,[36,3],[[32,0,[\"typedDateError\"]]],null]],null]]],null],[2,\"\\n\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"            \"],[8,\"gh-publishmenu-draft\",[],[[\"@post\",\"@saveType\",\"@setSaveType\",\"@setTypedDateError\",\"@backgroundTask\",\"@memberCount\",\"@sendEmailWhenPublished\"],[[32,0,[\"post\"]],[32,0,[\"saveType\"]],[30,[36,2],[[32,0],\"setSaveType\"],null],[30,[36,2],[[32,0],[30,[36,3],[[32,0,[\"typedDateError\"]]],null]],null],[32,0,[\"backgroundTask\"]],[32,0,[\"memberCount\"]],[32,0,[\"sendEmailWhenPublished\"]]]],null],[2,\"\\n        \"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"\\n\"],[2,\"        \"],[10,\"footer\"],[14,0,\"gh-publishmenu-footer\"],[12],[2,\"\\n            \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-outline gh-btn-link\"],[24,\"data-test-publishmenu-cancel\",\"\"],[4,[38,6],[\"click\",[30,[36,2],[[32,0],[32,1,[\"actions\",\"close\"]]],null]],null],[12],[2,\"\\n                \"],[10,\"span\"],[12],[2,\"Cancel\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[8,\"gh-task-button\",[[24,\"data-test-publishmenu-save\",\"true\"]],[[\"@buttonText\",\"@task\",\"@taskArgs\",\"@successText\",\"@runningText\",\"@autoReset\",\"@class\"],[[32,0,[\"buttonText\"]],[32,0,[\"save\"]],[30,[36,1],null,[[\"dropdown\"],[[32,1]]]],[32,0,[\"successText\"]],[32,0,[\"runningText\"]],true,\"gh-btn gh-btn-blue gh-publishmenu-button gh-btn-icon\"]],null],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[1]}]]],[2,\"\\n\\n\"],[6,[37,4],[[32,0,[\"showEmailConfirmationModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@confirm\",\"@close\",\"@modifier\"],[\"confirm-email-send\",[30,[36,1],null,[[\"memberCount\",\"isScheduled\",\"paidOnly\",\"retryEmailSend\"],[[32,0,[\"memberCount\"]],[30,[36,0],[[32,0,[\"saveType\"]],\"schedule\"],null],[30,[36,0],[[32,0,[\"post\",\"visibility\"]],\"paid\"],null],[32,0,[\"retryEmailSend\"]]]]],[32,0,[\"confirmEmailSend\"]],[32,0,[\"closeEmailConfirmationModal\"]],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"eq\",\"hash\",\"action\",\"mut\",\"if\",\"svg-jar\",\"on\"]}","meta":{"moduleName":"ghost-admin/components/gh-publishmenu.hbs"}});

  const CONFIRM_EMAIL_POLL_LENGTH = 1000;
  const CONFIRM_EMAIL_MAX_POLL_LENGTH = 15 * 1000;

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    clock: Ember.inject.service(),
    backgroundTask: null,
    classNames: 'gh-publishmenu',
    displayState: 'draft',
    post: null,
    postStatus: 'draft',
    runningText: null,
    saveTask: null,
    sendEmailWhenPublished: false,
    typedDateError: null,
    _publishedAtBlogTZ: null,
    _previousStatus: null,
    isClosing: null,

    onClose() {},

    forcePublishedMenu: Ember.computed.reads('post.pastScheduledTime'),
    postState: Ember.computed('post.{isPublished,isScheduled}', 'forcePublishedMenu', function () {
      if (this.forcePublishedMenu || this.get('post.isPublished')) {
        return 'published';
      } else if (this.get('post.isScheduled')) {
        return 'scheduled';
      } else {
        return 'draft';
      }
    }),
    triggerText: Ember.computed('postState', function () {
      let state = this.postState;

      if (state === 'published') {
        return 'Update';
      } else if (state === 'scheduled') {
        return 'Scheduled';
      } else {
        return 'Publish';
      }
    }),
    _runningText: Ember.computed('postState', 'saveType', function () {
      let saveType = this.saveType;
      let postState = this.postState;
      let runningText;

      if (postState === 'draft') {
        runningText = saveType === 'publish' ? 'Publishing' : 'Scheduling';
      }

      if (postState === 'published') {
        runningText = saveType === 'publish' ? 'Updating' : 'Unpublishing';
      }

      if (postState === 'scheduled') {
        runningText = saveType === 'schedule' ? 'Rescheduling' : 'Unscheduling';
      }

      return runningText || 'Publishing';
    }),
    buttonText: Ember.computed('postState', 'saveType', function () {
      let saveType = this.saveType;
      let postState = this.postState;
      let buttonText;

      if (postState === 'draft') {
        buttonText = saveType === 'publish' ? 'Publish' : 'Schedule';
      }

      if (postState === 'published') {
        buttonText = saveType === 'publish' ? 'Update' : 'Unpublish';
      }

      if (postState === 'scheduled') {
        buttonText = saveType === 'schedule' ? 'Reschedule' : 'Unschedule';
      }

      return buttonText || 'Publish';
    }),
    successText: Ember.computed('_previousStatus', 'postState', function () {
      let postState = this.postState;
      let previousStatus = this._previousStatus;
      let buttonText;

      if (previousStatus === 'draft') {
        buttonText = postState === 'published' ? 'Published' : 'Scheduled';
      }

      if (previousStatus === 'published') {
        buttonText = postState === 'draft' ? 'Unpublished' : 'Updated';
      }

      if (previousStatus === 'scheduled') {
        buttonText = postState === 'draft' ? 'Unscheduled' : 'Rescheduled';
      }

      return buttonText;
    }),

    didReceiveAttrs() {
      this._super(...arguments); // update the displayState based on the post status but only after a
      // save has finished to avoid swapping the menu prematurely and triggering
      // calls to `setSaveType` due to the component re-rendering
      // TODO: we should have a better way of dealing with this where we don't
      // rely on the side-effect of component rendering calling setSaveType


      let postStatus = this.postStatus;

      if (postStatus !== this._postStatus) {
        if (this.get('saveTask.isRunning')) {
          this.get('saveTask.last').then(() => {
            this.set('displayState', postStatus);
          });
        } else {
          this.set('displayState', postStatus);
        }
      }

      this._postStatus = this.postStatus;
    },

    actions: {
      setSaveType(saveType) {
        let post = this.post;
        this.set('saveType', saveType);

        if (saveType === 'draft') {
          post.set('statusScratch', 'draft');
        } else if (saveType === 'schedule') {
          post.set('statusScratch', 'scheduled');
        } else if (saveType === 'publish') {
          post.set('statusScratch', 'published');
        }
      },

      open() {
        this._cachePublishedAtBlogTZ();

        this.set('isClosing', false);
        this.get('post.errors').clear();

        if (this.onOpen) {
          this.onOpen();
        }
      },

      close(dropdown, e) {
        // don't close the menu if the datepicker popup or confirm modal is clicked
        if (e) {
          let onDatepicker = !!e.target.closest('.ember-power-datepicker-content');
          let onModal = !!e.target.closest('.fullscreen-modal-container');

          if (onDatepicker || onModal) {
            return false;
          }
        }

        if (!this._skipDropdownCloseCleanup) {
          this._cleanup();
        }

        this._skipDropdownCloseCleanup = false;
        this.onClose();
        this.set('isClosing', true);
        return true;
      }

    },
    // action is required because <GhFullscreenModal> only uses actions
    confirmEmailSend: Ember._action(function () {
      return this._confirmEmailSend.perform();
    }),
    _confirmEmailSend: (0, _emberConcurrency.task)(function* () {
      this.sendEmailConfirmed = true;
      let post = yield this.save.perform(); // simulate a validation error if saving failed so that the confirm
      // modal can react accordingly

      if (!post || post.errors.length) {
        throw null;
      }

      let pollTimeout = 0;

      if (post.email && post.email.status !== 'submitted') {
        while (pollTimeout < CONFIRM_EMAIL_MAX_POLL_LENGTH) {
          yield (0, _emberConcurrency.timeout)(CONFIRM_EMAIL_POLL_LENGTH);
          post = yield post.reload();

          if (post.email.status === 'submitted') {
            break;
          }

          if (post.email.status === 'failed') {
            throw new _emailFailedError.default(post.email.error);
          }
        }
      }

      return post;
    }),
    retryEmailSend: Ember._action(function () {
      return this._retryEmailSend.perform();
    }),
    _retryEmailSend: (0, _emberConcurrency.task)(function* () {
      if (!this.post.email) {
        return;
      }

      let email = yield this.post.email.retry();
      let pollTimeout = 0;

      if (email && email.status !== 'submitted') {
        while (pollTimeout < CONFIRM_EMAIL_POLL_LENGTH) {
          yield (0, _emberConcurrency.timeout)(CONFIRM_EMAIL_POLL_LENGTH);
          email = yield email.reload();

          if (email.status === 'submitted') {
            break;
          }

          if (email.status === 'failed') {
            throw new _emailFailedError.default(email.error);
          }
        }
      }

      return email;
    }),
    openEmailConfirmationModal: Ember._action(function (dropdown) {
      if (dropdown) {
        this._skipDropdownCloseCleanup = true;
        dropdown.actions.close();
      }

      this.set('showEmailConfirmationModal', true);
    }),
    closeEmailConfirmationModal: Ember._action(function () {
      this.set('showEmailConfirmationModal', false);

      this._cleanup();
    }),
    save: (0, _emberConcurrency.task)(function* ({
      dropdown
    } = {}) {
      let {
        post,
        sendEmailWhenPublished,
        sendEmailConfirmed,
        saveType,
        typedDateError
      } = this; // don't allow save if an invalid schedule date is present

      if (typedDateError) {
        return false;
      } // validate publishedAtBlog to avoid an alert when saving for already displayed errors
      // important to do this before opening email confirmation modal too


      try {
        yield post.validate({
          property: 'publishedAtBlog'
        });
      } catch (error) {
        // re-throw if we don't have a validation error
        if (error) {
          throw error;
        }

        return false;
      }

      if (post.status === 'draft' && !post.email && // email sent previously
      sendEmailWhenPublished && !sendEmailConfirmed // set once confirmed so normal save happens
      ) {
          this.openEmailConfirmationModal(dropdown);
          return;
        }

      this.sendEmailConfirmed = false; // runningText needs to be declared before the other states change during the
      // save action.

      this.set('runningText', this._runningText);
      this.set('_previousStatus', this.get('post.status'));
      this.setSaveType(saveType);

      try {
        // will show alert for non-date related failed validations
        post = yield this.saveTask.perform({
          sendEmailWhenPublished
        }); // revert the email checkbox to avoid weird inbetween states

        this.set('sendEmailWhenPublished', false);

        this._cachePublishedAtBlogTZ();

        return post;
      } catch (error) {
        // re-throw if we don't have a validation error
        if (error) {
          throw error;
        }
      }
    }),

    _cachePublishedAtBlogTZ() {
      this._publishedAtBlogTZ = this.get('post.publishedAtBlogTZ');
    },

    _cleanup() {
      this.set('showConfirmEmailModal', false);
      this.set('sendEmailWhenPublished', false); // when closing the menu we reset the publishedAtBlogTZ date so that the
      // unsaved changes made to the scheduled date aren't reflected in the PSM

      this.post.set('publishedAtBlogTZ', this._publishedAtBlogTZ);
      this.post.set('statusScratch', null);
      this.post.validate();
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-scroll-trigger", ["exports", "ember-in-viewport"], function (_exports, _emberInViewport) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{yield}}
  
  */
  {"id":"cvV7OhMt","block":"{\"symbols\":[\"&default\"],\"statements\":[[18,1,null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-scroll-trigger.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend(_emberInViewport.default, {
    enter() {},

    exit() {},

    registerElement() {},

    didInsertElement() {
      let offset = this.triggerOffset || {}; // if triggerOffset is a number we use it for all dimensions

      if (typeof offset === 'number') {
        offset = {
          top: offset,
          bottom: offset,
          left: offset,
          right: offset
        };
      }

      this.set('viewportSpy', true);
      this.set('viewportTolerance', {
        top: offset.top,
        bottom: offset.bottom,
        left: offset.left,
        right: offset.right
      });

      this._super(...arguments);

      this.registerElement(this.element);
    },

    didEnterViewport() {
      return this.enter();
    },

    didExitViewport() {
      return this.exit();
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-search-input-trigger", ["exports", "@glimmer/component"], function (_exports, _component) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _class;

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="ember-power-select-search" {{on "mousedown" this.captureMousedown}}>
      {{svg-jar "search" class="gh-nav-search-icon"}}
      <input type="search"
          {{autofocus}}
          {{did-insert this.registerInput}}
          {{on "input" this.search}}
          {{on "mousedown" this.captureMousedown}}
          {{on "keydown" this.handleKeydown}}
          {{on "keyup" this.handleKeyup}}
          autocomplete="off"
          autocorrect="off"
          autocapitalize="off"
          autofocus="true"
          value={{if @extra.labelPath (get @selected @extra.labelPath) @selected}}
          spellcheck="false"
          role="combobox"
          placeholder={{@placeholder}}
      >
  </div>
  
  */
  {"id":"JgAKdEGR","block":"{\"symbols\":[\"@selected\",\"@extra\",\"@placeholder\"],\"statements\":[[11,\"div\"],[24,0,\"ember-power-select-search\"],[4,[38,0],[\"mousedown\",[32,0,[\"captureMousedown\"]]],null],[12],[2,\"\\n    \"],[1,[30,[36,1],[\"search\"],[[\"class\"],[\"gh-nav-search-icon\"]]]],[2,\"\\n    \"],[11,\"input\"],[24,\"autocomplete\",\"off\"],[24,\"autocorrect\",\"off\"],[24,\"autocapitalize\",\"off\"],[24,\"autofocus\",\"true\"],[16,2,[30,[36,3],[[32,2,[\"labelPath\"]],[30,[36,2],[[32,1],[32,2,[\"labelPath\"]]],null],[32,1]],null]],[24,\"spellcheck\",\"false\"],[24,\"role\",\"combobox\"],[16,\"placeholder\",[32,3]],[24,4,\"search\"],[4,[38,4],null,null],[4,[38,5],[[32,0,[\"registerInput\"]]],null],[4,[38,0],[\"input\",[32,0,[\"search\"]]],null],[4,[38,0],[\"mousedown\",[32,0,[\"captureMousedown\"]]],null],[4,[38,0],[\"keydown\",[32,0,[\"handleKeydown\"]]],null],[4,[38,0],[\"keyup\",[32,0,[\"handleKeyup\"]]],null],[12],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"on\",\"svg-jar\",\"get\",\"if\",\"autofocus\",\"did-insert\"]}","meta":{"moduleName":"ghost-admin/components/gh-search-input-trigger.hbs"}});
  /* global key */


  let GhSearchInputTrigger = (_class = class GhSearchInputTrigger extends _component.default {
    registerInput(elem) {
      this.inputElem = elem;
    }

    captureMousedown(e) {
      e.stopPropagation();
    }

    search(event) {
      let term = event.target.value; // open dropdown if not open and term is present
      // close dropdown if open and term is blank

      if (Ember.isBlank(term) === this.args.select.isOpen) {
        Ember.isBlank(term) ? this.close() : this.open(); // ensure focus isn't lost when dropdown is closed

        if (Ember.isBlank(term) && this.inputElem) {
          this.inputElem.focus();
        }
      }

      this.args.select.actions.search(term);
    } // hacky workaround to let Escape clear the input if there's text,
    // but still allow it to close the search modal if there's no text


    handleKeydown(e) {
      if (e.key === 'Escape' && e.target.value || e.key === 'Enter') {
        this._previousKeyScope = key.getScope();
        key.setScope('ignore');
      }
    }

    handleKeyup() {
      if (key.getScope() === 'ignore') {
        key.setScope(this._previousKeyScope);
      }
    }

    open() {
      this.args.select.actions.open();
    }

    close() {
      this.args.select.actions.close();
    }

  }, (_applyDecoratedDescriptor(_class.prototype, "registerInput", [Ember._action], Object.getOwnPropertyDescriptor(_class.prototype, "registerInput"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, "captureMousedown", [Ember._action], Object.getOwnPropertyDescriptor(_class.prototype, "captureMousedown"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, "search", [Ember._action], Object.getOwnPropertyDescriptor(_class.prototype, "search"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, "handleKeydown", [Ember._action], Object.getOwnPropertyDescriptor(_class.prototype, "handleKeydown"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, "handleKeyup", [Ember._action], Object.getOwnPropertyDescriptor(_class.prototype, "handleKeyup"), _class.prototype)), _class);
  _exports.default = GhSearchInputTrigger;

  Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, GhSearchInputTrigger);
});
;define("ghost-admin/components/gh-search-input", ["exports", "ember-concurrency"], function (_exports, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.computedGroup = computedGroup;
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <PowerSelect
      @search={{action "search"}}
      @onChange={{action "openSelected"}}
      @placeholder="Search site..."
      @searchEnabled={{false}}
      @triggerComponent="gh-search-input-trigger"
      @renderInPlace={{true}}
      @loadingMessage="Loading"
      as |name select|
  >
      {{highlighted-text name.title select.searchText}}
  </PowerSelect>
  
  */
  {"id":"ve/8VmaU","block":"{\"symbols\":[\"name\",\"select\"],\"statements\":[[8,\"power-select\",[],[[\"@search\",\"@onChange\",\"@placeholder\",\"@searchEnabled\",\"@triggerComponent\",\"@renderInPlace\",\"@loadingMessage\"],[[30,[36,0],[[32,0],\"search\"],null],[30,[36,0],[[32,0],\"openSelected\"],null],\"Search site...\",false,\"gh-search-input-trigger\",true,\"Loading\"]],[[\"default\"],[{\"statements\":[[2,\"\\n    \"],[1,[30,[36,1],[[32,1,[\"title\"]],[32,2,[\"searchText\"]]],null]],[2,\"\\n\"]],\"parameters\":[1,2]}]]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"highlighted-text\"]}","meta":{"moduleName":"ghost-admin/components/gh-search-input.hbs"}});
  /* eslint-disable camelcase */


  function computedGroup(category) {
    return Ember.computed('content', 'currentSearch', function () {
      if (!this.currentSearch || !this.content) {
        return [];
      }

      return this.content.filter(item => {
        let search = this.currentSearch.toString().toLowerCase();
        return item.category === category && item.title.toString().toLowerCase().indexOf(search) >= 0;
      });
    });
  }

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    ajax: Ember.inject.service(),
    notifications: Ember.inject.service(),
    router: Ember.inject.service(),
    store: Ember.inject.service(),
    content: null,
    contentExpiresAt: false,
    contentExpiry: 30000,
    currentSearch: '',
    selection: null,

    onSelected() {},

    posts: computedGroup('Posts'),
    pages: computedGroup('Pages'),
    users: computedGroup('Users'),
    tags: computedGroup('Tags'),
    groupedContent: Ember.computed('posts', 'pages', 'users', 'tags', function () {
      let groups = [];

      if (!Ember.isEmpty(this.posts)) {
        groups.pushObject({
          groupName: 'Posts',
          options: this.posts
        });
      }

      if (!Ember.isEmpty(this.pages)) {
        groups.pushObject({
          groupName: 'Pages',
          options: this.pages
        });
      }

      if (!Ember.isEmpty(this.users)) {
        groups.pushObject({
          groupName: 'Users',
          options: this.users
        });
      }

      if (!Ember.isEmpty(this.tags)) {
        groups.pushObject({
          groupName: 'Tags',
          options: this.tags
        });
      }

      return groups;
    }),

    init() {
      this._super(...arguments);

      this.content = [];
    },

    didRender() {
      this._super(...arguments); // force the search box to be focused at all times. Fixes disappearing
      // caret when pressing Escape


      let input = this.element.querySelector('input');

      if (input) {
        input.focus();
      }
    },

    actions: {
      openSelected(selected) {
        if (!selected) {
          return;
        }

        this.onSelected(selected);

        if (selected.category === 'Posts') {
          let id = selected.id.replace('post.', '');
          this.router.transitionTo('editor.edit', 'post', id);
        }

        if (selected.category === 'Pages') {
          let id = selected.id.replace('page.', '');
          this.router.transitionTo('editor.edit', 'page', id);
        }

        if (selected.category === 'Users') {
          let id = selected.id.replace('user.', '');
          this.router.transitionTo('staff.user', id);
        }

        if (selected.category === 'Tags') {
          let id = selected.id.replace('tag.', '');
          this.router.transitionTo('tag', id);
        }
      },

      search(term) {
        return this.performSearch.perform(term);
      }

    },
    performSearch: (0, _emberConcurrency.task)(function* (term) {
      if (Ember.isBlank(term)) {
        return [];
      } // start loading immediately in the background


      this.refreshContent.perform(); // debounce searches to 200ms to avoid thrashing CPU

      yield (0, _emberConcurrency.timeout)(200); // wait for any on-going refresh to finish

      if (this.refreshContent.isRunning) {
        yield (0, _emberConcurrency.waitForProperty)(this, 'refreshContent.isIdle');
      } // set dependent CP term and re-calculate CP


      this.set('currentSearch', term);
      return this.groupedContent;
    }).restartable(),
    refreshContent: (0, _emberConcurrency.task)(function* () {
      let promises = [];
      let now = new Date();
      let contentExpiresAt = this.contentExpiresAt;

      if (contentExpiresAt > now) {
        return true;
      }

      this.set('content', []);
      promises.pushObject(this._loadPosts());
      promises.pushObject(this._loadPages());
      promises.pushObject(this._loadUsers());
      promises.pushObject(this._loadTags());

      try {
        yield Ember.RSVP.all(promises);
      } catch (error) {
        // eslint-disable-next-line
        console.error(error);
      }

      let contentExpiry = this.contentExpiry;
      this.set('contentExpiresAt', new Date(now.getTime() + contentExpiry));
    }).drop(),

    _loadPosts() {
      let store = this.store;
      let postsUrl = `${store.adapterFor('post').urlForQuery({}, 'post')}/`;
      let postsQuery = {
        fields: 'id,title,page',
        limit: 'all'
      };
      let content = this.content;
      return this.ajax.request(postsUrl, {
        data: postsQuery
      }).then(posts => {
        content.pushObjects(posts.posts.map(post => ({
          id: `post.${post.id}`,
          title: post.title,
          category: 'Posts'
        })));
      }).catch(error => {
        this.notifications.showAPIError(error, {
          key: 'search.loadPosts.error'
        });
      });
    },

    _loadPages() {
      let store = this.store;
      let pagesUrl = `${store.adapterFor('page').urlForQuery({}, 'page')}/`;
      let pagesQuery = {
        fields: 'id,title,page',
        limit: 'all'
      };
      let content = this.content;
      return this.ajax.request(pagesUrl, {
        data: pagesQuery
      }).then(pages => {
        content.pushObjects(pages.pages.map(page => ({
          id: `page.${page.id}`,
          title: page.title,
          category: 'Pages'
        })));
      }).catch(error => {
        this.notifications.showAPIError(error, {
          key: 'search.loadPosts.error'
        });
      });
    },

    _loadUsers() {
      let store = this.store;
      let usersUrl = `${store.adapterFor('user').urlForQuery({}, 'user')}/`;
      let usersQuery = {
        fields: 'name,slug',
        limit: 'all'
      };
      let content = this.content;
      return this.ajax.request(usersUrl, {
        data: usersQuery
      }).then(users => {
        content.pushObjects(users.users.map(user => ({
          id: `user.${user.slug}`,
          title: user.name,
          category: 'Users'
        })));
      }).catch(error => {
        this.notifications.showAPIError(error, {
          key: 'search.loadUsers.error'
        });
      });
    },

    _loadTags() {
      let store = this.store;
      let tagsUrl = `${store.adapterFor('tag').urlForQuery({}, 'tag')}/`;
      let tagsQuery = {
        fields: 'name,slug',
        limit: 'all'
      };
      let content = this.content;
      return this.ajax.request(tagsUrl, {
        data: tagsQuery
      }).then(tags => {
        content.pushObjects(tags.tags.map(tag => ({
          id: `tag.${tag.slug}`,
          title: tag.name,
          category: 'Tags'
        })));
      }).catch(error => {
        this.notifications.showAPIError(error, {
          key: 'search.loadTags.error'
        });
      });
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-simplemde", ["exports", "ghost-admin/config/environment", "ember-concurrency"], function (_exports, _environment, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{yield}}
  
  */
  {"id":"xkwBE+A9","block":"{\"symbols\":[\"&default\"],\"statements\":[[18,1,null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-simplemde.hbs"}});
  /* global SimpleMDE */


  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.TextArea.extend({
    lazyLoader: Ember.inject.service(),
    // Public attributes
    autofocus: false,
    options: null,
    value: null,
    placeholder: '',
    // Private
    _editor: null,

    // Closure actions
    onChange() {},

    onEditorInit() {},

    onEditorDestroy() {},

    // default SimpleMDE options, see docs for available config:
    // https://github.com/sparksuite/simplemde-markdown-editor#configuration
    defaultOptions: Ember.computed(function () {
      return {
        autofocus: this.autofocus,
        indentWithTabs: false,
        placeholder: this.placeholder,
        tabSize: 4
      };
    }),

    init() {
      this._super(...arguments);

      if (Ember.isEmpty(this.options)) {
        this.set('options', {});
      }
    },

    // update the editor when the value property changes from the outside
    didReceiveAttrs() {
      this._super(...arguments);

      if (Ember.isEmpty(this._editor)) {
        return;
      } // compare values before forcing a content reset to avoid clobbering
      // the undo behaviour


      if (this.value !== this._editor.value()) {
        let cursor = this._editor.codemirror.getDoc().getCursor();

        this._editor.value(this.value);

        this._editor.codemirror.getDoc().setCursor(cursor);
      }
    },

    // instantiate the editor with the contents of value
    didInsertElement() {
      this._super(...arguments);

      this.initSimpleMDE.perform();
    },

    willDestroyElement() {
      this._editor.toTextArea();

      delete this._editor;

      this._super(...arguments);
    },

    initSimpleMDE: (0, _emberConcurrency.task)(function* () {
      yield this.lazyLoader.loadScript('simplemde', 'assets/simplemde/simplemde.js');
      let editorOptions = Ember.assign({
        element: document.getElementById(this.elementId)
      }, this.defaultOptions, this.options); // disable spellchecker when testing so that the exterally loaded plugin
      // doesn't fail

      if (_environment.default.environment === 'test') {
        editorOptions.spellChecker = false;
      }

      this._editor = new SimpleMDE(editorOptions);

      this._editor.value(this.value || '');

      this._editor.codemirror.on('change', (instance, changeObj) => {
        // avoid a "modified x twice in a single render" error that occurs
        // when the underlying value is completely swapped out
        if (changeObj.origin !== 'setValue') {
          this.onChange(this._editor.value());
        }
      });

      this._editor.codemirror.on('focus', () => {
        this.onFocus();
      });

      this._editor.codemirror.on('blur', () => {
        this.onBlur();
      });

      if (this.autofocus) {
        this._editor.codemirror.execCommand('goDocEnd');
      }

      this.onEditorInit(this._editor);
    })
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-site-iframe", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <iframe id="site-frame" class="site-frame" src="{{this.config.blogUrl}}/" frameborder="0" allowtransparency="true"></iframe>
  
  <style>
  .site-frame {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
      transform: translate3d(0, 0, 0);
  }
  </style>
  */
  {"id":"jXRw/HeD","block":"{\"symbols\":[],\"statements\":[[10,\"iframe\"],[14,1,\"site-frame\"],[14,0,\"site-frame\"],[15,\"src\",[31,[[32,0,[\"config\",\"blogUrl\"]],\"/\"]]],[14,\"frameborder\",\"0\"],[14,\"allowtransparency\",\"true\"],[12],[13],[2,\"\\n\\n\"],[10,\"style\"],[12],[2,\"\\n.site-frame {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    border: none;\\n    transform: translate3d(0, 0, 0);\\n}\\n\"],[13]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-site-iframe.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    config: Ember.inject.service(),
    tagName: '',

    didReceiveAttrs() {
      // reset the src attribute each time the guid changes - allows for
      // a click on the navigation item to reset back to the homepage
      if (this.guid !== this._lastGuid) {
        let iframe = document.querySelector('#site-frame');

        if (iframe) {
          iframe.src = `${this.config.get('blogUrl')}/`;
        }
      }

      this._lastGuid = this.guid;
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-skip-link", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Component.extend({
    tagName: 'a',
    anchor: '',
    classNames: ['sr-only', 'sr-only-focusable'],
    // Add attributes to component for href
    // href should be set to retain anchor properties
    // such as pointer cursor and text underline
    attributeBindings: ['href'],
    // Used so that upon clicking on the link
    // anchor behaviors or ignored
    href: Ember.String.htmlSafe('javascript:;'),

    click() {
      let el = document.querySelector(this.anchor);

      if (el) {
        // Scrolls to the top of main content or whatever
        // is passed to the anchor attribute
        document.body.scrollTop = el.getBoundingClientRect().top;

        let removeTabindex = function () {
          el.removeAttribute('tabindex');
        }; // This sets focus on the content which was skipped to
        // upon losing focus, the tabindex should be removed
        // so that normal keyboard navigation picks up from focused
        // element


        el.setAttribute('tabindex', -1);
        el.focus();
        el.addEventListener('blur', removeTabindex);
        el.addEventListener('focusout', removeTabindex);
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/components/gh-tag-settings-form", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <h4 class="midlightgrey f-small fw5 ttu">Basic settings</h4>
  <div class="pa5 pt4 br4 shadow-1 bg-grouped-table mt2 flex flex-column flex-row-ns items-start justify-between gh-tag-basic-settings-form">
      <div class="order-1 flex flex-column items-start mr5 w-100 w-50-m w-two-thirds-l">
          <GhFormGroup @errors={{this.tag.errors}} @hasValidated={{this.tag.hasValidated}} @property="name">
              <label for="tag-name">Name</label>
              <GhTextInput
                  @id="tag-name"
                  @name="name"
                  @value={{this.scratchTag.name}}
                  @tabindex="1"
                  @focus-out={{action "setProperty" "name" this.scratchTag.name}}
              />
              <p class="description">
                  Start with # to create internal tags
                  <a href="https://ghost.org/docs/concepts/tags/#internal-tag" target="_blank" rel="noreferrer">Learn more</a>
              </p>
              <GhErrorMessage @errors={{this.tag.errors}} @property="name" />
          </GhFormGroup>
  
          <GhFormGroup @errors={{this.tag.errors}} @hasValidated={{this.tag.hasValidated}} @property="slug">
              <label for="tag-slug">Slug</label>
              <GhTextInput
                  @value={{this.scratchTag.slug}}
                  @id="tag-slug"
                  @name="slug"
                  @tabindex="2"
                  @focus-out={{action "setProperty" "slug" this.scratchTag.slug}}
              />
              <GhUrlPreview @prefix="tag" @slug={{this.scratchTag.slug}} @tagName="p" @classNames="description" />
              <GhErrorMessage @errors={{this.activeTag.errors}} @property="slug" />
          </GhFormGroup>
  
          <GhFormGroup @errors={{this.tag.errors}} @hasValidated={{this.tag.hasValidated}} @property="description">
              <label for="tag-description">Description</label>
              <GhTextarea
                  @id="tag-description"
                  @name="description"
                  @class="gh-tag-details-textarea"
                  @tabindex="3"
                  @value={{this.scratchTag.description}}
                  @focus-out={{action "setProperty" "description" this.scratchTag.description}}
              />
              <GhErrorMessage @errors={{this.tag.errors}} @property="description" />
              <p>Maximum: <b>500</b> characters. You’ve used {{gh-count-down-characters this.scratchTag.description 500}}</p>
          </GhFormGroup>
      </div>
      <div class="order-0 mb6 mb0-ns order-2-ns w-100 w-50-m w-third-l">
          <label for="tag-image">Tag image</label>
          <GhImageUploaderWithPreview
              @image={{this.tag.featureImage}}
              @text="Upload tag image"
              @class="gh-tag-image-uploader"
              @allowUnsplash={{true}}
              @update={{action "setCoverImage"}}
              @remove={{action "clearCoverImage"}}
          />
      </div>
  </div>
  
  <h4 class="midlightgrey f-small fw5 ttu mt15">Meta data</h4>
  <div class="pa5 pt4 br4 shadow-1 bg-grouped-table mt2 flex flex-column flex-row-ns items-start justify-between">
      <div class="flex flex-column items-start mr5 w-100 w-50-m w-two-thirds-l">
          <GhFormGroup @errors={{this.tag.errors}} @hasValidated={{this.tag.hasValidated}} @property="metaTitle">
              <label for="meta-title">Meta Title</label>
              <GhTextInput
                  @id="meta-title"
                  @name="metaTitle"
                  @placeholder={{this.scratchTag.name}}
                  @tabindex="4"
                  @value={{this.scratchTag.metaTitle}}
                  @focus-out={{action "setProperty" "metaTitle" this.scratchTag.metaTitle}}
              />
              <GhErrorMessage @errors={{this.tag.errors}} @property="metaTitle" />
              <p>Recommended: <b>70</b> characters. You’ve used {{gh-count-down-characters this.scratchTag.metaTitle 70}}</p>
          </GhFormGroup>
  
          <GhFormGroup @errors={{this.tag.errors}} @hasValidated={{this.tag.hasValidated}} @property="metaDescription">
              <label for="meta-description">Meta Description</label>
              <GhTextarea
                  @id="meta-description"
                  @name="metaDescription"
                  @class="gh-tag-details-textarea"
                  @placeholder={{this.scratchTag.description}}
                  @tabindex="5"
                  @value={{this.scratchTag.metaDescription}}
                  @focus-out={{action "setProperty" "metaDescription" this.scratchTag.metaDescription}}
              />
              <GhErrorMessage @errors={{this.tag.errors}} @property="metaDescription" />
              <p>Recommended: <b>156</b> characters. You’ve used {{gh-count-down-characters this.scratchTag.metaDescription 156}}</p>
          </GhFormGroup>
      </div>
      <div class="w-100 w-50-m w-third-l">
          <div class="form-group">
              <label>Search Engine Result Preview</label>
              <div class="seo-preview">
                  <div class="seo-preview-title">{{this.seoTitle}}</div>
                  <div class="seo-preview-link">{{this.seoURL}}</div>
                  <div class="seo-preview-description">{{this.seoDescription}}</div>
              </div>
          </div>
      </div>
  </div>
  */
  {"id":"t6uQgpZw","block":"{\"symbols\":[],\"statements\":[[10,\"h4\"],[14,0,\"midlightgrey f-small fw5 ttu\"],[12],[2,\"Basic settings\"],[13],[2,\"\\n\"],[10,\"div\"],[14,0,\"pa5 pt4 br4 shadow-1 bg-grouped-table mt2 flex flex-column flex-row-ns items-start justify-between gh-tag-basic-settings-form\"],[12],[2,\"\\n    \"],[10,\"div\"],[14,0,\"order-1 flex flex-column items-start mr5 w-100 w-50-m w-two-thirds-l\"],[12],[2,\"\\n        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"tag\",\"errors\"]],[32,0,[\"tag\",\"hasValidated\"]],\"name\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"label\"],[14,\"for\",\"tag-name\"],[12],[2,\"Name\"],[13],[2,\"\\n            \"],[8,\"gh-text-input\",[],[[\"@id\",\"@name\",\"@value\",\"@tabindex\",\"@focus-out\"],[\"tag-name\",\"name\",[32,0,[\"scratchTag\",\"name\"]],\"1\",[30,[36,0],[[32,0],\"setProperty\",\"name\",[32,0,[\"scratchTag\",\"name\"]]],null]]],null],[2,\"\\n            \"],[10,\"p\"],[14,0,\"description\"],[12],[2,\"\\n                Start with # to create internal tags\\n                \"],[10,\"a\"],[14,6,\"https://ghost.org/docs/concepts/tags/#internal-tag\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noreferrer\"],[12],[2,\"Learn more\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"tag\",\"errors\"]],\"name\"]],null],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n\\n        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"tag\",\"errors\"]],[32,0,[\"tag\",\"hasValidated\"]],\"slug\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"label\"],[14,\"for\",\"tag-slug\"],[12],[2,\"Slug\"],[13],[2,\"\\n            \"],[8,\"gh-text-input\",[],[[\"@value\",\"@id\",\"@name\",\"@tabindex\",\"@focus-out\"],[[32,0,[\"scratchTag\",\"slug\"]],\"tag-slug\",\"slug\",\"2\",[30,[36,0],[[32,0],\"setProperty\",\"slug\",[32,0,[\"scratchTag\",\"slug\"]]],null]]],null],[2,\"\\n            \"],[8,\"gh-url-preview\",[],[[\"@prefix\",\"@slug\",\"@tagName\",\"@classNames\"],[\"tag\",[32,0,[\"scratchTag\",\"slug\"]],\"p\",\"description\"]],null],[2,\"\\n            \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"activeTag\",\"errors\"]],\"slug\"]],null],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n\\n        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"tag\",\"errors\"]],[32,0,[\"tag\",\"hasValidated\"]],\"description\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"label\"],[14,\"for\",\"tag-description\"],[12],[2,\"Description\"],[13],[2,\"\\n            \"],[8,\"gh-textarea\",[],[[\"@id\",\"@name\",\"@class\",\"@tabindex\",\"@value\",\"@focus-out\"],[\"tag-description\",\"description\",\"gh-tag-details-textarea\",\"3\",[32,0,[\"scratchTag\",\"description\"]],[30,[36,0],[[32,0],\"setProperty\",\"description\",[32,0,[\"scratchTag\",\"description\"]]],null]]],null],[2,\"\\n            \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"tag\",\"errors\"]],\"description\"]],null],[2,\"\\n            \"],[10,\"p\"],[12],[2,\"Maximum: \"],[10,\"b\"],[12],[2,\"500\"],[13],[2,\" characters. You’ve used \"],[1,[30,[36,1],[[32,0,[\"scratchTag\",\"description\"]],500],null]],[13],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n    \"],[13],[2,\"\\n    \"],[10,\"div\"],[14,0,\"order-0 mb6 mb0-ns order-2-ns w-100 w-50-m w-third-l\"],[12],[2,\"\\n        \"],[10,\"label\"],[14,\"for\",\"tag-image\"],[12],[2,\"Tag image\"],[13],[2,\"\\n        \"],[8,\"gh-image-uploader-with-preview\",[],[[\"@image\",\"@text\",\"@class\",\"@allowUnsplash\",\"@update\",\"@remove\"],[[32,0,[\"tag\",\"featureImage\"]],\"Upload tag image\",\"gh-tag-image-uploader\",true,[30,[36,0],[[32,0],\"setCoverImage\"],null],[30,[36,0],[[32,0],\"clearCoverImage\"],null]]],null],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"h4\"],[14,0,\"midlightgrey f-small fw5 ttu mt15\"],[12],[2,\"Meta data\"],[13],[2,\"\\n\"],[10,\"div\"],[14,0,\"pa5 pt4 br4 shadow-1 bg-grouped-table mt2 flex flex-column flex-row-ns items-start justify-between\"],[12],[2,\"\\n    \"],[10,\"div\"],[14,0,\"flex flex-column items-start mr5 w-100 w-50-m w-two-thirds-l\"],[12],[2,\"\\n        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"tag\",\"errors\"]],[32,0,[\"tag\",\"hasValidated\"]],\"metaTitle\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"label\"],[14,\"for\",\"meta-title\"],[12],[2,\"Meta Title\"],[13],[2,\"\\n            \"],[8,\"gh-text-input\",[],[[\"@id\",\"@name\",\"@placeholder\",\"@tabindex\",\"@value\",\"@focus-out\"],[\"meta-title\",\"metaTitle\",[32,0,[\"scratchTag\",\"name\"]],\"4\",[32,0,[\"scratchTag\",\"metaTitle\"]],[30,[36,0],[[32,0],\"setProperty\",\"metaTitle\",[32,0,[\"scratchTag\",\"metaTitle\"]]],null]]],null],[2,\"\\n            \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"tag\",\"errors\"]],\"metaTitle\"]],null],[2,\"\\n            \"],[10,\"p\"],[12],[2,\"Recommended: \"],[10,\"b\"],[12],[2,\"70\"],[13],[2,\" characters. You’ve used \"],[1,[30,[36,1],[[32,0,[\"scratchTag\",\"metaTitle\"]],70],null]],[13],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n\\n        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"tag\",\"errors\"]],[32,0,[\"tag\",\"hasValidated\"]],\"metaDescription\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"label\"],[14,\"for\",\"meta-description\"],[12],[2,\"Meta Description\"],[13],[2,\"\\n            \"],[8,\"gh-textarea\",[],[[\"@id\",\"@name\",\"@class\",\"@placeholder\",\"@tabindex\",\"@value\",\"@focus-out\"],[\"meta-description\",\"metaDescription\",\"gh-tag-details-textarea\",[32,0,[\"scratchTag\",\"description\"]],\"5\",[32,0,[\"scratchTag\",\"metaDescription\"]],[30,[36,0],[[32,0],\"setProperty\",\"metaDescription\",[32,0,[\"scratchTag\",\"metaDescription\"]]],null]]],null],[2,\"\\n            \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"tag\",\"errors\"]],\"metaDescription\"]],null],[2,\"\\n            \"],[10,\"p\"],[12],[2,\"Recommended: \"],[10,\"b\"],[12],[2,\"156\"],[13],[2,\" characters. You’ve used \"],[1,[30,[36,1],[[32,0,[\"scratchTag\",\"metaDescription\"]],156],null]],[13],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n    \"],[13],[2,\"\\n    \"],[10,\"div\"],[14,0,\"w-100 w-50-m w-third-l\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"form-group\"],[12],[2,\"\\n            \"],[10,\"label\"],[12],[2,\"Search Engine Result Preview\"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"seo-preview\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"seo-preview-title\"],[12],[1,[32,0,[\"seoTitle\"]]],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"seo-preview-link\"],[12],[1,[32,0,[\"seoURL\"]]],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"seo-preview-description\"],[12],[1,[32,0,[\"seoDescription\"]]],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"action\",\"gh-count-down-characters\"]}","meta":{"moduleName":"ghost-admin/components/gh-tag-settings-form.hbs"}});

  const {
    Handlebars
  } = Ember;

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    feature: Ember.inject.service(),
    config: Ember.inject.service(),
    tag: null,
    scratchTag: null,
    // Allowed actions
    setProperty: () => {},
    title: Ember.computed('tag.isNew', function () {
      if (this.get('tag.isNew')) {
        return 'New tag';
      } else {
        return 'Tag settings';
      }
    }),
    seoTitle: Ember.computed('scratchTag.{title,metaTitle}', function () {
      let metaTitle = this.scratchTag.metaTitle || '';
      metaTitle = metaTitle.length > 0 ? metaTitle : this.scratchTag.title;

      if (metaTitle && metaTitle.length > 70) {
        metaTitle = metaTitle.substring(0, 70).trim();
        metaTitle = Handlebars.Utils.escapeExpression(metaTitle);
        metaTitle = Ember.String.htmlSafe(`${metaTitle}&hellip;`);
      }

      return metaTitle;
    }),
    seoURL: Ember.computed('scratchTag.slug', function () {
      let blogUrl = this.get('config.blogUrl');
      let seoSlug = this.scratchTag.slug || '';
      let seoURL = `${blogUrl}/tag/${seoSlug}`; // only append a slash to the URL if the slug exists

      if (seoSlug) {
        seoURL += '/';
      }

      if (seoURL.length > 70) {
        seoURL = seoURL.substring(0, 70).trim();
        seoURL = Handlebars.Utils.escapeExpression(seoURL);
        seoURL = Ember.String.htmlSafe(`${seoURL}&hellip;`);
      }

      return seoURL;
    }),
    seoDescription: Ember.computed('scratchTag.{description,metaDescription}', function () {
      let metaDescription = this.scratchTag.metaDescription || '';
      metaDescription = metaDescription.length > 0 ? metaDescription : this.scratchTag.description;

      if (metaDescription && metaDescription.length > 156) {
        metaDescription = metaDescription.substring(0, 156).trim();
        metaDescription = Handlebars.Utils.escapeExpression(metaDescription);
        metaDescription = Ember.String.htmlSafe(`${metaDescription}&hellip;`);
      }

      return metaDescription;
    }),
    actions: {
      setProperty(property, value) {
        this.setProperty(property, value);
      },

      setCoverImage(image) {
        this.setProperty('featureImage', image);
      },

      clearCoverImage() {
        this.setProperty('featureImage', '');
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-tags-list-item", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <LinkTo @route="tag" @model={{tag}} class="gh-list-data gh-tag-list-title gh-list-cellwidth-70" @title="Edit tag">
      <h3 class="gh-tag-list-name">
          {{this.tag.name}}
      </h3>
      {{#if this.description}}
          <p class="ma0 pa0 f8 midgrey gh-tag-list-description">
              {{this.description}}
          </p>
      {{/if}}
  </LinkTo>
  
  <LinkTo @route="tag" @model={{tag}} class="gh-list-data middarkgrey f8 gh-tag-list-slug gh-list-cellwidth-10" @title="Edit tag">
      <span title="{{this.slug}}">{{this.slug}}</span>
  </LinkTo>
  
  {{#if this.postsCount}}
      <LinkTo @route="posts" @query={{hash type=null author=null tag=tag.slug order=null}} class="gh-list-data blue gh-tag-list-posts-count gh-list-cellwidth-10 f8" @title={{concat "List posts tagged with '" this.tag.name "'"}}>
          <span class="nowrap">{{this.postsLabel}}</span>
      </LinkTo>
  {{else}}
      <LinkTo @route="tag" @model={{tag}} class="gh-list-data gh-tag-list-posts-count gh-list-cellwidth-10" @title="Edit tag">
          <span class="nowrap f8 midlightgrey">{{this.postsLabel}}</span>
      </LinkTo>
  {{/if}}
  
  <LinkTo @route="tag" @model={{tag}} class="gh-list-data gh-list-cellwidth-10 gh-tag-list-chevron" @title="Edit tag">
      <div class="flex items-center justify-end w-100 h-100">
          <span class="nr2">{{svg-jar "arrow-right" class="w6 h6 fill-midgrey pa1"}}</span>
      </div>
  </LinkTo>
  */
  {"id":"/XPt4+09","block":"{\"symbols\":[],\"statements\":[[8,\"link-to\",[[24,0,\"gh-list-data gh-tag-list-title gh-list-cellwidth-70\"]],[[\"@route\",\"@model\",\"@title\"],[\"tag\",[34,0],\"Edit tag\"]],[[\"default\"],[{\"statements\":[[2,\"\\n    \"],[10,\"h3\"],[14,0,\"gh-tag-list-name\"],[12],[2,\"\\n        \"],[1,[32,0,[\"tag\",\"name\"]]],[2,\"\\n    \"],[13],[2,\"\\n\"],[6,[37,3],[[32,0,[\"description\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"p\"],[14,0,\"ma0 pa0 f8 midgrey gh-tag-list-description\"],[12],[2,\"\\n            \"],[1,[32,0,[\"description\"]]],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[8,\"link-to\",[[24,0,\"gh-list-data middarkgrey f8 gh-tag-list-slug gh-list-cellwidth-10\"]],[[\"@route\",\"@model\",\"@title\"],[\"tag\",[34,0],\"Edit tag\"]],[[\"default\"],[{\"statements\":[[2,\"\\n    \"],[10,\"span\"],[15,\"title\",[31,[[32,0,[\"slug\"]]]]],[12],[1,[32,0,[\"slug\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[6,[37,3],[[32,0,[\"postsCount\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"    \"],[8,\"link-to\",[[24,0,\"gh-list-data blue gh-tag-list-posts-count gh-list-cellwidth-10 f8\"]],[[\"@route\",\"@query\",\"@title\"],[\"posts\",[30,[36,1],null,[[\"type\",\"author\",\"tag\",\"order\"],[null,null,[35,0,[\"slug\"]],null]]],[30,[36,2],[\"List posts tagged with '\",[32,0,[\"tag\",\"name\"]],\"'\"],null]]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"span\"],[14,0,\"nowrap\"],[12],[1,[32,0,[\"postsLabel\"]]],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"    \"],[8,\"link-to\",[[24,0,\"gh-list-data gh-tag-list-posts-count gh-list-cellwidth-10\"]],[[\"@route\",\"@model\",\"@title\"],[\"tag\",[34,0],\"Edit tag\"]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"span\"],[14,0,\"nowrap f8 midlightgrey\"],[12],[1,[32,0,[\"postsLabel\"]]],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[8,\"link-to\",[[24,0,\"gh-list-data gh-list-cellwidth-10 gh-tag-list-chevron\"]],[[\"@route\",\"@model\",\"@title\"],[\"tag\",[34,0],\"Edit tag\"]],[[\"default\"],[{\"statements\":[[2,\"\\n    \"],[10,\"div\"],[14,0,\"flex items-center justify-end w-100 h-100\"],[12],[2,\"\\n        \"],[10,\"span\"],[14,0,\"nr2\"],[12],[1,[30,[36,4],[\"arrow-right\"],[[\"class\"],[\"w6 h6 fill-midgrey pa1\"]]]],[13],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"tag\",\"hash\",\"concat\",\"if\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/gh-tags-list-item.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    ghostPaths: Ember.inject.service(),
    notifications: Ember.inject.service(),
    router: Ember.inject.service(),
    tagName: 'li',
    classNames: ['gh-list-row', 'gh-tags-list-item'],
    active: false,
    id: Ember.computed.alias('tag.id'),
    slug: Ember.computed.alias('tag.slug'),
    name: Ember.computed.alias('tag.name'),
    isInternal: Ember.computed.alias('tag.isInternal'),
    description: Ember.computed.alias('tag.description'),
    postsCount: Ember.computed.alias('tag.count.posts'),
    postsLabel: Ember.computed('tag.count.posts', function () {
      let noOfPosts = this.postsCount || 0;
      return noOfPosts === 1 ? `${noOfPosts} post` : `${noOfPosts} posts`;
    }),

    _deleteTag() {
      let tag = this.tag;
      return tag.destroyRecord().then(() => {}, error => {
        this._deleteTagFailure(error);
      });
    },

    _deleteTagFailure(error) {
      this.notifications.showAPIError(error, {
        key: 'tag.delete'
      });
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-tags-management-container", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{yield this}}
  
  */
  {"id":"TBI0XyyL","block":"{\"symbols\":[\"&default\"],\"statements\":[[18,1,[[32,0]]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-tags-management-container.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember._templateOnlyComponent());

  _exports.default = _default;
});
;define("ghost-admin/components/gh-task-button", ["exports", "ghost-admin/config/environment", "ember-concurrency"], function (_exports, _environment, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#if hasBlock}}
      {{yield (hash
          isIdle=this.isIdle
          isRunning=this.isRunning
          isSuccess=this.isSuccess
          isFailure=this.isFailure
      )}}
  {{else}}
      {{#if this.isRunning}}<span>{{svg-jar "spinner" class="gh-icon-spinner"}}{{this.runningText}}</span>{{/if}}
      {{#if this.isIdle}}<span>{{this.buttonText}}</span>{{/if}}
      {{#if this.isSuccess}}<span {{did-insert this.handleReset}}>{{svg-jar "check-circle"}} {{this.successText}}</span>{{/if}}
      {{#if this.isFailure}}<span>{{svg-jar "retry"}} {{this.failureText}}</span>{{/if}}
  {{/if}}
  
  */
  {"id":"m9o+YrBe","block":"{\"symbols\":[\"&default\"],\"statements\":[[6,[37,2],[[27,[32,1]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"    \"],[18,1,[[30,[36,3],null,[[\"isIdle\",\"isRunning\",\"isSuccess\",\"isFailure\"],[[32,0,[\"isIdle\"]],[32,0,[\"isRunning\"]],[32,0,[\"isSuccess\"]],[32,0,[\"isFailure\"]]]]]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"    \"],[6,[37,2],[[32,0,[\"isRunning\"]]],null,[[\"default\"],[{\"statements\":[[10,\"span\"],[12],[1,[30,[36,0],[\"spinner\"],[[\"class\"],[\"gh-icon-spinner\"]]]],[1,[32,0,[\"runningText\"]]],[13]],\"parameters\":[]}]]],[2,\"\\n    \"],[6,[37,2],[[32,0,[\"isIdle\"]]],null,[[\"default\"],[{\"statements\":[[10,\"span\"],[12],[1,[32,0,[\"buttonText\"]]],[13]],\"parameters\":[]}]]],[2,\"\\n    \"],[6,[37,2],[[32,0,[\"isSuccess\"]]],null,[[\"default\"],[{\"statements\":[[11,\"span\"],[4,[38,1],[[32,0,[\"handleReset\"]]],null],[12],[1,[30,[36,0],[\"check-circle\"],null]],[2,\" \"],[1,[32,0,[\"successText\"]]],[13]],\"parameters\":[]}]]],[2,\"\\n    \"],[6,[37,2],[[32,0,[\"isFailure\"]]],null,[[\"default\"],[{\"statements\":[[10,\"span\"],[12],[1,[30,[36,0],[\"retry\"],null]],[2,\" \"],[1,[32,0,[\"failureText\"]]],[13]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"did-insert\",\"if\",\"hash\"]}","meta":{"moduleName":"ghost-admin/components/gh-task-button.hbs"}});

  /**
   * Task Button works exactly like Spin button, but with one major difference:
   *
   * Instead of passing a "submitting" parameter (which is bound to the parent object),
   * you pass an ember-concurrency task. All of the "submitting" behavior is handled automatically.
   *
   * As another bonus, there's no need to handle canceling the promises when something
   * like a controller changes. Because the only task running is handled through this
   * component, all running promises will automatically be cancelled when this
   * component is removed from the DOM
   */
  const GhTaskButton = Ember.Component.extend({
    tagName: 'button',
    classNameBindings: ['isRunning:appear-disabled', 'isIdleClass', 'isRunningClass', 'isSuccessClass', 'isFailureClass'],
    attributeBindings: ['disabled', 'form', 'type', 'tabindex'],
    task: null,
    taskArgs: undefined,
    disabled: false,
    defaultClick: false,
    buttonText: 'Save',
    idleClass: '',
    runningClass: '',
    showSuccess: true,
    // set to false if you want the spinner to show until a transition occurs
    autoReset: false,
    // set to false if you want don't want task button to reset after timeout
    successText: 'Saved',
    successClass: 'gh-btn-green',
    failureText: 'Retry',
    failureClass: 'gh-btn-red',
    isTesting: undefined,
    // Allowed actions
    action: () => {},
    runningText: Ember.computed.reads('buttonText'),
    // hasRun is needed so that a newly rendered button does not show the last
    // state of the associated task
    hasRun: Ember.computed('task.performCount', function () {
      return this.get('task.performCount') > this._initialPerformCount;
    }),
    isIdleClass: Ember.computed('isIdle', function () {
      return this.isIdle ? this.idleClass : '';
    }),
    isRunning: Ember.computed('task.last.isRunning', 'hasRun', 'showSuccess', function () {
      let isRunning = this.get('task.last.isRunning');

      if (this.hasRun && this.get('task.last.value') && !this.showSuccess) {
        isRunning = true;
      }

      return isRunning;
    }),
    isRunningClass: Ember.computed('isRunning', function () {
      return this.isRunning ? this.runningClass || this.idleClass : '';
    }),
    isSuccess: Ember.computed('hasRun', 'isRunning', 'task.last.value', function () {
      if (!this.hasRun || this.isRunning || !this.showSuccess) {
        return false;
      }

      let value = this.get('task.last.value');
      return !Ember.isBlank(value) && value !== false;
    }),
    isSuccessClass: Ember.computed('isSuccess', function () {
      return this.isSuccess ? this.successClass : '';
    }),
    isFailure: Ember.computed('hasRun', 'isRunning', 'isSuccess', 'task.last.error', function () {
      if (!this.hasRun || this.isRunning || this.isSuccess) {
        return false;
      }

      return this.get('task.last.error') !== undefined;
    }),
    isFailureClass: Ember.computed('isFailure', function () {
      return this.isFailure ? this.failureClass : '';
    }),
    isIdle: Ember.computed('isRunning', 'isSuccess', 'isFailure', function () {
      return !this.isRunning && !this.isSuccess && !this.isFailure;
    }),

    init() {
      this._super(...arguments);

      this._initialPerformCount = this.get('task.performCount');

      if (this.isTesting === undefined) {
        this.isTesting = _environment.default.environment === 'test';
      }
    },

    click() {
      // let the default click bubble if defaultClick===true - useful when
      // you want to handle a form submit action rather than triggering a
      // task directly
      if (this.defaultClick) {
        if (!this.isRunning) {
          this._restartAnimation.perform();
        }

        return;
      } // do nothing if disabled externally


      if (this.disabled) {
        return false;
      }

      let taskName = this.get('task.name');
      let lastTaskName = this.get('task.last.task.name'); // task-buttons are never disabled whilst running so that clicks when a
      // taskGroup is running don't get dropped BUT that means we need to check
      // here to avoid spamming actions from multiple clicks

      if (this.isRunning && taskName === lastTaskName) {
        return;
      }

      this.action();

      this._handleMainTask.perform();

      this._restartAnimation.perform(); // prevent the click from bubbling and triggering form actions


      return false;
    },

    // mouseDown can be prevented, this is useful for situations where we want
    // to avoid on-blur events triggering before the button click
    mouseDown(event) {
      if (this.disableMouseDown) {
        event.preventDefault();
      }
    },

    handleReset: Ember._action(function () {
      const isTaskSuccess = this.get('task.last.isSuccessful') && this.get('task.last.value');

      if (this.autoReset && this.showSuccess && isTaskSuccess) {
        this._resetButtonState.perform();
      }
    }),
    // when local validation fails there's no transition from failed->running
    // so we want to restart the retry spinner animation to show something
    // has happened when the button is clicked
    _restartAnimation: (0, _emberConcurrency.task)(function* () {
      let elem = this.element.querySelector('.retry-animated');

      if (elem) {
        elem.classList.remove('retry-animated');
        yield (0, _emberConcurrency.timeout)(10);
        elem.classList.add('retry-animated');
      }
    }),
    _handleMainTask: (0, _emberConcurrency.task)(function* () {
      this._resetButtonState.cancelAll();

      yield this.task.perform(this.taskArgs);
      const isTaskSuccess = this.get('task.last.isSuccessful') && this.get('task.last.value');

      if (this.autoReset && this.showSuccess && isTaskSuccess) {
        this._resetButtonState.perform();
      }
    }),
    _resetButtonState: (0, _emberConcurrency.task)(function* () {
      yield (0, _emberConcurrency.timeout)(this.isTesting ? 50 : 2500);

      if (!this.get('task.last.isRunning')) {
        // Reset last task to bring button back to idle state
        yield this.set('task.last', null);
      }
    }).restartable()
  });

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, GhTaskButton);

  _exports.default = _default;
});
;define("ghost-admin/components/gh-text-input", ["exports", "ghost-admin/mixins/text-input"], function (_exports, _textInput) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{yield}}
  */
  {"id":"o1aGeJkp","block":"{\"symbols\":[\"&default\"],\"statements\":[[18,1,null]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-text-input.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.TextField.extend(_textInput.default, {
    classNames: 'gh-input'
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-textarea", ["exports", "ghost-admin/mixins/text-input"], function (_exports, _textInput) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.TextArea.extend(_textInput.default, {
    resizeDetector: Ember.inject.service(),
    classNames: 'gh-input',
    autoExpand: false,

    didReceiveAttrs() {
      this._super(...arguments); // trigger auto-expand any time the value changes


      if (this.autoExpand) {
        Ember.run.scheduleOnce('afterRender', this, this._autoExpand);
      }
    },

    willInsertElement() {
      this._super(...arguments); // disable the draggable resize element that browsers add to textareas


      if (this.autoExpand) {
        this.element.style.resize = 'none';
      }
    },

    didInsertElement() {
      this._super(...arguments); // set up resize handler on element insert so that we can autoexpand
      // when the element container changes size


      if (this.autoExpand) {
        Ember.run.scheduleOnce('afterRender', this, this._setupAutoExpand);
      }

      if (this.didCreateTextarea) {
        this.didCreateTextarea(this.element);
      }
    },

    willDestroyElement() {
      this._teardownAutoExpand();

      this._super(...arguments);
    },

    _autoExpand() {
      let el = this.element; // collapse the element first so that we can shrink as well as expand
      // then set the height to match the text height

      if (el) {
        el.style.height = 0;
        el.style.height = `${el.scrollHeight}px`;
      }
    },

    _setupAutoExpand() {
      this._resizeCallback = Ember.run.bind(this, this._onResize);
      this.resizeDetector.setup(this.autoExpand, this._resizeCallback);

      this._autoExpand();
    },

    _onResize() {
      this._autoExpand();
    },

    _teardownAutoExpand() {
      this.resizeDetector.teardown(this.autoExpand, this._resizeCallback);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/components/gh-theme-error-li", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <a href="" class="theme-validation-toggle-details" {{action "toggleDetails"}} data-test-toggle-details>
      <div class="theme-validation-type-label"></div>
      <div class="flex items-center flex-auto">
          <h4 class="theme-validation-rule-text">
              {{{this.error.rule}}}
          </h4>
          <div class="theme-validation-rule-icon">
              {{#if this.showDetails}}
                  {{svg-jar "arrow-down"}}
              {{else}}
                  {{svg-jar "arrow-right"}}
              {{/if}}
          </div>
      </div>
  </a>
  
  {{#if this.showDetails}}
      <p class="theme-validation-details">
          {{{this.error.details}}}
      </p>
      {{#if this.error.failures}}
          <div class="theme-validation-list">
              <h6>Affected files:</h6>
              <ul>
                  {{#each this.error.failures as |failure|}}
                      <li><code>{{failure.ref}}</code>{{#if failure.message}}: {{failure.message}}{{/if}}</li>
                  {{/each}}
              </ul>
          </div>
      {{/if}}
  {{/if}}
  
  */
  {"id":"pSSRw1jm","block":"{\"symbols\":[\"failure\"],\"statements\":[[11,\"a\"],[24,6,\"\"],[24,0,\"theme-validation-toggle-details\"],[24,\"data-test-toggle-details\",\"\"],[4,[38,4],[[32,0],\"toggleDetails\"],null],[12],[2,\"\\n    \"],[10,\"div\"],[14,0,\"theme-validation-type-label\"],[12],[13],[2,\"\\n    \"],[10,\"div\"],[14,0,\"flex items-center flex-auto\"],[12],[2,\"\\n        \"],[10,\"h4\"],[14,0,\"theme-validation-rule-text\"],[12],[2,\"\\n            \"],[2,[32,0,[\"error\",\"rule\"]]],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"theme-validation-rule-icon\"],[12],[2,\"\\n\"],[6,[37,0],[[32,0,[\"showDetails\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[1,[30,[36,3],[\"arrow-down\"],null]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                \"],[1,[30,[36,3],[\"arrow-right\"],null]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[6,[37,0],[[32,0,[\"showDetails\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[10,\"p\"],[14,0,\"theme-validation-details\"],[12],[2,\"\\n        \"],[2,[32,0,[\"error\",\"details\"]]],[2,\"\\n    \"],[13],[2,\"\\n\"],[6,[37,0],[[32,0,[\"error\",\"failures\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,0,\"theme-validation-list\"],[12],[2,\"\\n            \"],[10,\"h6\"],[12],[2,\"Affected files:\"],[13],[2,\"\\n            \"],[10,\"ul\"],[12],[2,\"\\n\"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,[\"error\",\"failures\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"li\"],[12],[10,\"code\"],[12],[1,[32,1,[\"ref\"]]],[13],[6,[37,0],[[32,1,[\"message\"]]],null,[[\"default\"],[{\"statements\":[[2,\": \"],[1,[32,1,[\"message\"]]]],\"parameters\":[]}]]],[13],[2,\"\\n\"]],\"parameters\":[1]}]]],[2,\"            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"if\",\"-track-array\",\"each\",\"svg-jar\",\"action\"]}","meta":{"moduleName":"ghost-admin/components/gh-theme-error-li.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    tagName: '',
    error: null,
    showDetails: false,
    actions: {
      toggleDetails() {
        this.toggleProperty('showDetails');
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-theme-table", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="apps-grid" data-test-themes-list>
  {{#if this.sortedThemes}}
  
      {{#each this.sortedThemes as |theme|}}
      <div class="apps-grid-cell" data-test-theme-id="{{theme.name}}" data-test-theme-active="{{theme.active}}">
          <div class="apps-card-app {{if theme.active "theme-list-item--active"}}">
              <div class="apps-card-left">
                  <div class="apps-card-meta">
                      <h3 class="apps-card-app-title" data-test-theme-title>{{theme.label}}</h3>
                      <p class="apps-card-app-desc" data-test-theme-description><span class="description">Version {{theme.version}}</span></p>
                  </div>
              </div>
              <div class="apps-card-right">
                  <div class="apps-configured">
                      {{!--Delete--}}
                      {{#if theme.isDeletable}}
                          <a href="#" {{action this.deleteTheme theme}} disabled={{theme.active}} class="apps-configured-action red-hover red-bg-hover" data-test-theme-delete-button>Delete</a>
                      {{/if}}
                      {{!--Download--}}
                      <a href="#" {{action this.downloadTheme theme}} class="apps-configured-action darkgrey-hover blue-bg-hover" data-test-theme-download-button>Download</a>
                      {{!--Active Label / Activate Button--}}
                      {{#if theme.active}}
                          <span class="gh-badge gh-badge-black apps-configured-action" data-test-theme-badge>Active</span>
                      {{else}}
                          <a href="#" {{action this.activateTheme theme.model}} class="apps-configured-action apps-configured-action-activate green-hover green-bg-hover" data-test-theme-activate-button>
                              Activate
                          </a>
                      {{/if}}
                  </div>
              </div>
          </div>
      </div>
      {{/each}}
  
  {{else}}
      <div class="apps-card-app">
          <div class="apps-card-left">
              <div class="apps-card-meta">
                  <h3 class="apps-card-app-title">No themes found</h3>
                  <p class="apps-card-app-desc"><span class="description">Please upload a theme to continue</span></p>
              </div>
          </div>
      </div>
  {{/if}}
  </div>
  
  */
  {"id":"Mq5yCU5T","block":"{\"symbols\":[\"theme\"],\"statements\":[[10,\"div\"],[14,0,\"apps-grid\"],[14,\"data-test-themes-list\",\"\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"sortedThemes\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"\\n\"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,[\"sortedThemes\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[10,\"div\"],[14,0,\"apps-grid-cell\"],[15,\"data-test-theme-id\",[31,[[32,1,[\"name\"]]]]],[15,\"data-test-theme-active\",[31,[[32,1,[\"active\"]]]]],[12],[2,\"\\n        \"],[10,\"div\"],[15,0,[31,[\"apps-card-app \",[30,[36,1],[[32,1,[\"active\"]],\"theme-list-item--active\"],null]]]],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"apps-card-left\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"apps-card-meta\"],[12],[2,\"\\n                    \"],[10,\"h3\"],[14,0,\"apps-card-app-title\"],[14,\"data-test-theme-title\",\"\"],[12],[1,[32,1,[\"label\"]]],[13],[2,\"\\n                    \"],[10,\"p\"],[14,0,\"apps-card-app-desc\"],[14,\"data-test-theme-description\",\"\"],[12],[10,\"span\"],[14,0,\"description\"],[12],[2,\"Version \"],[1,[32,1,[\"version\"]]],[13],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"apps-card-right\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"apps-configured\"],[12],[2,\"\\n\"],[6,[37,1],[[32,1,[\"isDeletable\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[11,\"a\"],[24,6,\"#\"],[16,\"disabled\",[32,1,[\"active\"]]],[24,0,\"apps-configured-action red-hover red-bg-hover\"],[24,\"data-test-theme-delete-button\",\"\"],[4,[38,0],[[32,0],[32,0,[\"deleteTheme\"]],[32,1]],null],[12],[2,\"Delete\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                    \"],[11,\"a\"],[24,6,\"#\"],[24,0,\"apps-configured-action darkgrey-hover blue-bg-hover\"],[24,\"data-test-theme-download-button\",\"\"],[4,[38,0],[[32,0],[32,0,[\"downloadTheme\"]],[32,1]],null],[12],[2,\"Download\"],[13],[2,\"\\n\"],[6,[37,1],[[32,1,[\"active\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[10,\"span\"],[14,0,\"gh-badge gh-badge-black apps-configured-action\"],[14,\"data-test-theme-badge\",\"\"],[12],[2,\"Active\"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        \"],[11,\"a\"],[24,6,\"#\"],[24,0,\"apps-configured-action apps-configured-action-activate green-hover green-bg-hover\"],[24,\"data-test-theme-activate-button\",\"\"],[4,[38,0],[[32,0],[32,0,[\"activateTheme\"]],[32,1,[\"model\"]]],null],[12],[2,\"\\n                            Activate\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[1]}]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"    \"],[10,\"div\"],[14,0,\"apps-card-app\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"apps-card-left\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"apps-card-meta\"],[12],[2,\"\\n                \"],[10,\"h3\"],[14,0,\"apps-card-app-title\"],[12],[2,\"No themes found\"],[13],[2,\"\\n                \"],[10,\"p\"],[14,0,\"apps-card-app-desc\"],[12],[10,\"span\"],[14,0,\"description\"],[12],[2,\"Please upload a theme to continue\"],[13],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"if\",\"-track-array\",\"each\"]}","meta":{"moduleName":"ghost-admin/components/gh-theme-table.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    themes: null,
    sortedThemes: Ember.computed('themes.@each.active', function () {
      let themes = this.themes.map(t => {
        let theme = {};
        let themePackage = Ember.get(t, 'package');
        theme.model = t;
        theme.name = Ember.get(t, 'name');
        theme.label = themePackage ? `${themePackage.name}` : theme.name;
        theme.version = themePackage ? `${themePackage.version}` : '1.0';
        theme.package = themePackage;
        theme.active = Ember.get(t, 'active');
        theme.isDeletable = !theme.active;
        return theme;
      });
      let duplicateThemes = [];
      themes.forEach(theme => {
        let duplicateLabels = themes.filterBy('label', theme.label);

        if (duplicateLabels.length > 1) {
          duplicateThemes.pushObject(theme);
        }
      });
      duplicateThemes.forEach(theme => {
        if (theme.name !== 'casper') {
          theme.label = `${theme.label} (${theme.name})`;
        }
      }); // "(default)" needs to be added to casper manually as it's always
      // displayed and would mess up the duplicate checking if added earlier

      let casper = themes.findBy('name', 'casper');

      if (casper) {
        casper.label = `${casper.label} (default)`;
        casper.isDefault = true;
        casper.isDeletable = false;
      } // sorting manually because .sortBy('label') has a different sorting
      // algorithm to [...strings].sort()


      return themes.sort((themeA, themeB) => {
        let a = themeA.label.toLowerCase();
        let b = themeB.label.toLowerCase();

        if (a < b) {
          return -1;
        }

        if (a > b) {
          return 1;
        }

        return 0;
      });
    }).readOnly()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-timezone-select", ["exports", "moment"], function (_exports, _moment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <span class="gh-select" data-select-text="{{this.selectedTimezone.label}}" tabindex="0">
      <OneWaySelect
          @id="activeTimezone"
          @name="general[activeTimezone]"
          @options={{this.selectableTimezones}}
          @optionValuePath="name"
          @optionLabelPath="label"
          @value={{this.selectedTimezone}}
          @update={{action "setTimezone"}}
      />
      {{svg-jar "arrow-down-small"}}
  </span>
  {{#if this.hasTimezoneOverride}}
      <p>Your timezone has been automatically set to {{this.activeTimezone}}.</p>
  {{/if}}
  <p>The local time here is currently {{this.localTime}}</p>
  
  */
  {"id":"7VfPvmFS","block":"{\"symbols\":[],\"statements\":[[10,\"span\"],[14,0,\"gh-select\"],[15,\"data-select-text\",[31,[[32,0,[\"selectedTimezone\",\"label\"]]]]],[14,\"tabindex\",\"0\"],[12],[2,\"\\n    \"],[8,\"one-way-select\",[],[[\"@id\",\"@name\",\"@options\",\"@optionValuePath\",\"@optionLabelPath\",\"@value\",\"@update\"],[\"activeTimezone\",\"general[activeTimezone]\",[32,0,[\"selectableTimezones\"]],\"name\",\"label\",[32,0,[\"selectedTimezone\"]],[30,[36,0],[[32,0],\"setTimezone\"],null]]],null],[2,\"\\n    \"],[1,[30,[36,1],[\"arrow-down-small\"],null]],[2,\"\\n\"],[13],[2,\"\\n\"],[6,[37,2],[[32,0,[\"hasTimezoneOverride\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[10,\"p\"],[12],[2,\"Your timezone has been automatically set to \"],[1,[32,0,[\"activeTimezone\"]]],[2,\".\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[10,\"p\"],[12],[2,\"The local time here is currently \"],[1,[32,0,[\"localTime\"]]],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-timezone-select.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    clock: Ember.inject.service(),
    classNames: ['form-group', 'for-select'],
    activeTimezone: null,
    availableTimezones: null,
    // Allowed actions
    update: () => {},
    availableTimezoneNames: Ember.computed.mapBy('availableTimezones', 'name'),
    hasTimezoneOverride: Ember.computed('activeTimezone', 'availableTimezoneNames', function () {
      let activeTimezone = this.activeTimezone;
      let availableTimezoneNames = this.availableTimezoneNames;
      return !availableTimezoneNames.includes(activeTimezone);
    }),
    selectedTimezone: Ember.computed('activeTimezone', 'availableTimezones', 'hasTimezoneOverride', function () {
      let hasTimezoneOverride = this.hasTimezoneOverride;
      let activeTimezone = this.activeTimezone;
      let availableTimezones = this.availableTimezones;

      if (hasTimezoneOverride) {
        return {
          name: '',
          label: ''
        };
      }

      return availableTimezones.filterBy('name', activeTimezone).get('firstObject');
    }),
    selectableTimezones: Ember.computed('availableTimezones', 'hasTimezoneOverride', function () {
      let hasTimezoneOverride = this.hasTimezoneOverride;
      let availableTimezones = this.availableTimezones;

      if (hasTimezoneOverride) {
        return [{
          name: '',
          label: ''
        }, ...availableTimezones];
      }

      return availableTimezones;
    }),
    localTime: Ember.computed('hasTimezoneOverride', 'activeTimezone', 'selectedTimezone', 'clock.second', function () {
      let hasTimezoneOverride = this.hasTimezoneOverride;
      let timezone = hasTimezoneOverride ? this.activeTimezone : this.get('selectedTimezone.name');
      this.get('clock.second');
      return timezone ? (0, _moment.default)().tz(timezone).format('HH:mm:ss') : (0, _moment.default)().utc().format('HH:mm:ss');
    }),
    actions: {
      setTimezone(timezone) {
        this.update(timezone);
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-token-input", ["exports", "ghost-admin/utils/computed-fallback-if-undefined", "ember-power-select/utils/group-utils", "@ember-decorators/component", "ember-concurrency"], function (_exports, _computedFallbackIfUndefined, _groupUtils, _component, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _temp;

  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <GhTokenInput::SelectMultiple
      class={{concat "gh-token-input " @class}}
      @triggerRole={{@triggerRole}}
      @ariaDescribedBy={{@ariaDescribedBy}}
      @ariaInvalid={{@ariaInvalid}}
      @ariaLabel={{@ariaLabel}}
      @ariaLabelledBy={{@ariaLabelledBy}}
      @afterOptionsComponent={{@afterOptionsComponent}}
      @allowClear={{@allowClear}}
      @beforeOptionsComponent={{@beforeOptionsComponent}}
      @buildSelection={{@buildSelection}}
      @calculatePosition={{@calculatePosition}}
      @closeOnSelect={{this.closeOnSelect}}
      @defaultHighlighted={{this.defaultHighlighted}}
      @destination={{@destination}}
      @disabled={{@disabled}}
      @dropdownClass={{@dropdownClass}}
      @extra={{@extra}}
      @groupComponent={{@groupComponent}}
      @horizontalPosition={{@horizontalPosition}}
      @initiallyOpened={{@initiallyOpened}}
      @loadingMessage={{@loadingMessage}}
      @matcher={{this.matcher}}
      @matchTriggerWidth={{@matchTriggerWidth}}
      @noMatchesMessage={{@noMatchesMessage}}
      @onBlur={{this.handleBlur}}
      @onChange={{this.selectOrCreate}}
      @onClose={{@onClose}}
      @onFocus={{this.handleFocus}}
      @onInput={{@onInput}}
      @onKeydown={{this.handleKeydown}}
      @onOpen={{@onOpen}}
      @options={{this.optionsWithoutSelected}}
      @optionsComponent={{this.optionsComponent}}
      @placeholder={{@placeholder}}
      @placeholderComponent={{@placeholderComponent}}
      @preventScroll={{@preventScroll}}
      @registerAPI={{@registerAPI}}
      @renderInPlace={{@renderInPlace}}
      @required={{@required}}
      @scrollTo={{@scrollTo}}
      @search={{this.searchAndSuggest}}
      @searchEnabled={{true}}
      @searchField={{this.searchField}}
      @searchMessage={{@searchMessage}}
      @searchPlaceholder={{@searchPlaceholder}}
      @selected={{@selected}}
      @selectedItemComponent={{@selectedItemComponent}}
      @eventType={{@eventType}}
      @title={{@title}}
      @triggerClass={{@triggerClass}}
      @triggerComponent={{this.triggerComponent}}
      @triggerId={{@triggerId}}
      @verticalPosition={{@verticalPosition}}
      @tabindex={{@tabindex}}
      data-test-token-input="true"
      as |option|
  >
      {{#if option.__isSuggestion__}}
          <GhTokenInput::SuggestedOption @option={{option}} />
      {{else}}
          {{get option this.labelField}}
      {{/if}}
  </GhTokenInput::SelectMultiple>
  */
  {"id":"VFchvQ9O","block":"{\"symbols\":[\"option\",\"@class\",\"@triggerRole\",\"@ariaDescribedBy\",\"@ariaInvalid\",\"@ariaLabel\",\"@ariaLabelledBy\",\"@afterOptionsComponent\",\"@allowClear\",\"@beforeOptionsComponent\",\"@buildSelection\",\"@calculatePosition\",\"@destination\",\"@disabled\",\"@dropdownClass\",\"@extra\",\"@groupComponent\",\"@horizontalPosition\",\"@initiallyOpened\",\"@loadingMessage\",\"@matchTriggerWidth\",\"@noMatchesMessage\",\"@onClose\",\"@onInput\",\"@onOpen\",\"@placeholder\",\"@placeholderComponent\",\"@preventScroll\",\"@registerAPI\",\"@renderInPlace\",\"@required\",\"@scrollTo\",\"@searchMessage\",\"@searchPlaceholder\",\"@selected\",\"@selectedItemComponent\",\"@eventType\",\"@title\",\"@triggerClass\",\"@triggerId\",\"@verticalPosition\",\"@tabindex\"],\"statements\":[[8,\"gh-token-input/select-multiple\",[[16,0,[30,[36,1],[\"gh-token-input \",[32,2]],null]],[24,\"data-test-token-input\",\"true\"]],[[\"@triggerRole\",\"@ariaDescribedBy\",\"@ariaInvalid\",\"@ariaLabel\",\"@ariaLabelledBy\",\"@afterOptionsComponent\",\"@allowClear\",\"@beforeOptionsComponent\",\"@buildSelection\",\"@calculatePosition\",\"@closeOnSelect\",\"@defaultHighlighted\",\"@destination\",\"@disabled\",\"@dropdownClass\",\"@extra\",\"@groupComponent\",\"@horizontalPosition\",\"@initiallyOpened\",\"@loadingMessage\",\"@matcher\",\"@matchTriggerWidth\",\"@noMatchesMessage\",\"@onBlur\",\"@onChange\",\"@onClose\",\"@onFocus\",\"@onInput\",\"@onKeydown\",\"@onOpen\",\"@options\",\"@optionsComponent\",\"@placeholder\",\"@placeholderComponent\",\"@preventScroll\",\"@registerAPI\",\"@renderInPlace\",\"@required\",\"@scrollTo\",\"@search\",\"@searchEnabled\",\"@searchField\",\"@searchMessage\",\"@searchPlaceholder\",\"@selected\",\"@selectedItemComponent\",\"@eventType\",\"@title\",\"@triggerClass\",\"@triggerComponent\",\"@triggerId\",\"@verticalPosition\",\"@tabindex\"],[[32,3],[32,4],[32,5],[32,6],[32,7],[32,8],[32,9],[32,10],[32,11],[32,12],[32,0,[\"closeOnSelect\"]],[32,0,[\"defaultHighlighted\"]],[32,13],[32,14],[32,15],[32,16],[32,17],[32,18],[32,19],[32,20],[32,0,[\"matcher\"]],[32,21],[32,22],[32,0,[\"handleBlur\"]],[32,0,[\"selectOrCreate\"]],[32,23],[32,0,[\"handleFocus\"]],[32,24],[32,0,[\"handleKeydown\"]],[32,25],[32,0,[\"optionsWithoutSelected\"]],[32,0,[\"optionsComponent\"]],[32,26],[32,27],[32,28],[32,29],[32,30],[32,31],[32,32],[32,0,[\"searchAndSuggest\"]],true,[32,0,[\"searchField\"]],[32,33],[32,34],[32,35],[32,36],[32,37],[32,38],[32,39],[32,0,[\"triggerComponent\"]],[32,40],[32,41],[32,42]]],[[\"default\"],[{\"statements\":[[2,\"\\n\"],[6,[37,2],[[32,1,[\"__isSuggestion__\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"        \"],[8,\"gh-token-input/suggested-option\",[],[[\"@option\"],[[32,1]]],null],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"        \"],[1,[30,[36,0],[[32,1],[32,0,[\"labelField\"]]],null]],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[1]}]]]],\"hasEval\":false,\"upvars\":[\"get\",\"concat\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-token-input.hbs"}});
  /* global key */


  const {
    Handlebars
  } = Ember;
  const BACKSPACE = 8;
  const TAB = 9;
  let GhTokenInput = (_dec = (0, _component.tagName)(''), _dec2 = (0, _computedFallbackIfUndefined.default)(true), _dec3 = (0, _computedFallbackIfUndefined.default)(false), _dec4 = (0, _computedFallbackIfUndefined.default)('name'), _dec5 = (0, _computedFallbackIfUndefined.default)(_groupUtils.defaultMatcher), _dec6 = (0, _computedFallbackIfUndefined.default)('name'), _dec7 = (0, _computedFallbackIfUndefined.default)('gh-token-input/trigger'), _dec8 = (0, _computedFallbackIfUndefined.default)('power-select-vertical-collection-options'), _dec9 = Ember.computed('options.[]', 'selected.[]'), _dec10 = (0, _emberConcurrency.task)(function* () {
    let options = yield this.options;
    let selected = yield this.selected;
    return options.filter(o => !selected.includes(o));
  }), _dec11 = (0, _emberConcurrency.task)(function* (term, select) {
    let newOptions = (yield this.optionsWithoutSelected).toArray();

    if (term.length === 0) {
      return newOptions;
    }

    let searchAction = this.search;

    if (searchAction) {
      let results = yield searchAction(term, select);

      if (results.toArray) {
        results = results.toArray();
      }

      this._addCreateOption(term, results);

      return results;
    }

    newOptions = this._filter(Ember.A(newOptions), term);

    this._addCreateOption(term, newOptions);

    return newOptions;
  }), _dec(_class = (_class2 = (_temp = class GhTokenInput extends Ember.Component {
    constructor(...args) {
      super(...args);

      _initializerDefineProperty(this, "allowCreation", _descriptor, this);

      _initializerDefineProperty(this, "closeOnSelect", _descriptor2, this);

      _initializerDefineProperty(this, "labelField", _descriptor3, this);

      _initializerDefineProperty(this, "matcher", _descriptor4, this);

      _initializerDefineProperty(this, "searchField", _descriptor5, this);

      _initializerDefineProperty(this, "triggerComponent", _descriptor6, this);

      _initializerDefineProperty(this, "optionsComponent", _descriptor7, this);

      _initializerDefineProperty(this, "optionsWithoutSelectedTask", _descriptor8, this);

      _initializerDefineProperty(this, "searchAndSuggestTask", _descriptor9, this);
    }

    get optionsWithoutSelected() {
      return this.optionsWithoutSelectedTask.perform();
    } // actions -----------------------------------------------------------------


    handleKeydown(select, event) {
      // On backspace with empty text, remove the last token but deviate
      // from default behaviour by not updating search to match last token
      if (event.keyCode === BACKSPACE && Ember.isBlank(event.target.value)) {
        let lastSelection = select.selected[select.selected.length - 1];

        if (lastSelection) {
          this.onChange(select.selected.slice(0, -1), select);
          select.actions.search('');
          select.actions.open(event);
        } // prevent default


        return false;
      } // Tab should work the same as Enter if there's a highlighted option


      if (event.keyCode === TAB && !Ember.isBlank(event.target.value) && select.highlighted) {
        if (!select.selected || select.selected.indexOf(select.highlighted) === -1) {
          select.actions.choose(select.highlighted, event);
          event.preventDefault(); // keep focus in search

          return false;
        }
      } // fallback to default


      return true;
    }

    handleFocus() {
      key.setScope('gh-token-input');

      if (this.onFocus) {
        this.onFocus(...arguments);
      }
    }

    handleBlur() {
      key.setScope('default');

      if (this.onBlur) {
        this.onBlur(...arguments);
      }
    }

    searchAndSuggest(term, select) {
      return this.searchAndSuggestTask.perform(term, select);
    }

    selectOrCreate(selection, select, keyboardEvent) {
      // allow tokens to be created with spaces
      if (keyboardEvent && keyboardEvent.code === 'Space') {
        select.actions.search(`${select.searchText} `);
        return;
      } // guard against return being pressed when nothing is selected


      if (!Ember.isArray(selection)) {
        return;
      }

      let suggestion = selection.find(option => option.__isSuggestion__);

      if (suggestion) {
        this.onCreate(suggestion.__value__, select);
      } else {
        this.onChange(selection, select);
      } // clear select search


      select.actions.search('');
    } // tasks -------------------------------------------------------------------


    // internal ----------------------------------------------------------------
    // always select the first item in the list that isn't the "Add x" option
    defaultHighlighted(select) {
      let {
        results
      } = select;
      let option = (0, _groupUtils.advanceSelectableOption)(results, undefined, 1);

      if (results.length > 1 && option.__isSuggestion__) {
        option = (0, _groupUtils.advanceSelectableOption)(results, option, 1);
      }

      return option;
    } // private -----------------------------------------------------------------


    _addCreateOption(term, options) {
      if (this._shouldShowCreateOption(term, options)) {
        options.unshift(this._buildSuggestionForTerm(term));
      }
    }

    _shouldShowCreateOption(term, options) {
      if (!this.allowCreation) {
        return false;
      }

      if (this.showCreateWhen) {
        return this.showCreateWhen(term, options);
      } else {
        return this._hideCreateOptionOnSameTerm(term, options);
      }
    }

    _buildSuggestionForTerm(term) {
      return {
        __isSuggestion__: true,
        __value__: term,
        text: this._buildSuggestionLabel(term)
      };
    }

    _hideCreateOptionOnSameTerm(term, options) {
      let searchField = this.searchField;
      let existingOption = options.findBy(searchField, term);
      return !existingOption;
    }

    _filter(options, searchText) {
      let matcher;

      if (this.searchField) {
        matcher = (option, text) => this.matcher(Ember.get(option, this.searchField), text);
      } else {
        matcher = (option, text) => this.matcher(option, text);
      }

      return (0, _groupUtils.filterOptions)(options || [], searchText, matcher);
    }

    _buildSuggestionLabel(term) {
      if (this.buildSuggestion) {
        return this.buildSuggestion(term);
      }

      return Ember.String.htmlSafe(`Add <strong>"${Handlebars.Utils.escapeExpression(term)}"...</strong>`);
    }

  }, _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "allowCreation", [_dec2], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "closeOnSelect", [_dec3], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "labelField", [_dec4], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "matcher", [_dec5], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "searchField", [_dec6], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "triggerComponent", [_dec7], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "optionsComponent", [_dec8], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _applyDecoratedDescriptor(_class2.prototype, "optionsWithoutSelected", [_dec9], Object.getOwnPropertyDescriptor(_class2.prototype, "optionsWithoutSelected"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "handleKeydown", [Ember._action], Object.getOwnPropertyDescriptor(_class2.prototype, "handleKeydown"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "handleFocus", [Ember._action], Object.getOwnPropertyDescriptor(_class2.prototype, "handleFocus"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "handleBlur", [Ember._action], Object.getOwnPropertyDescriptor(_class2.prototype, "handleBlur"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "searchAndSuggest", [Ember._action], Object.getOwnPropertyDescriptor(_class2.prototype, "searchAndSuggest"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "selectOrCreate", [Ember._action], Object.getOwnPropertyDescriptor(_class2.prototype, "selectOrCreate"), _class2.prototype), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "optionsWithoutSelectedTask", [_dec10], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "searchAndSuggestTask", [_dec11], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  })), _class2)) || _class);

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, GhTokenInput);

  _exports.default = _default;
});
;define("ghost-admin/components/gh-token-input/label-token", ["exports", "ember-drag-drop/components/draggable-object"], function (_exports, _draggableObject) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{yield}}
  
  */
  {"id":"PKCFtPBX","block":"{\"symbols\":[\"&default\"],\"statements\":[[18,1,null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-token-input/label-token.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _draggableObject.default.extend({
    attributeBindings: ['title'],
    classNames: ['label-token'],
    title: 'Label'
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-token-input/select-multiple", ["exports", "jquery", "ember-power-select/components/power-select-multiple", "@ember-decorators/component"], function (_exports, _jquery, _powerSelectMultiple, _component) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _dec, _class, _class2, _temp;

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{!--
      NOTE: changes from ember-power-select template...
      - `extra` has our custom drag-tracking actions assigned to it
  --}}
  <PowerSelect
      @triggerRole={{@triggerRole}}
      @ariaDescribedBy={{@ariaDescribedBy}}
      @ariaInvalid={{@ariaInvalid}}
      @ariaLabel={{@ariaLabel}}
      @ariaLabelledBy={{@ariaLabelledBy}}
      @afterOptionsComponent={{@afterOptionsComponent}}
      @allowClear={{@allowClear}}
      @beforeOptionsComponent={{or @beforeOptionsComponent null}}
      @buildSelection={{or @buildSelection this.defaultBuildSelection}}
      @calculatePosition={{@calculatePosition}}
      @closeOnSelect={{@closeOnSelect}}
      @defaultHighlighted={{@defaultHighlighted}}
      @destination={{@destination}}
      @disabled={{@disabled}}
      @dropdownClass={{@dropdownClass}}
      @extra={{assign @extra (hash
          optionMouseDown=this.optionMouseDown
          optionTouchStart=this.optionTouchStart
      )}}
      @groupComponent={{@groupComponent}}
      @horizontalPosition={{@horizontalPosition}}
      @initiallyOpened={{@initiallyOpened}}
      @loadingMessage={{@loadingMessage}}
      @matcher={{@matcher}}
      @matchTriggerWidth={{@matchTriggerWidth}}
      @noMatchesMessage={{@noMatchesMessage}}
      @onBlur={{@onBlur}}
      @onChange={{@onChange}}
      @onClose={{@onClose}}
      @onFocus={{this.handleFocus}}
      @onInput={{@onInput}}
      @onKeydown={{this.handleKeydown}}
      @onOpen={{this.handleOpen}}
      @options={{@options}}
      @optionsComponent={{@optionsComponent}}
      @placeholder={{@placeholder}}
      @placeholderComponent={{@placeholderComponent}}
      @preventScroll={{@preventScroll}}
      @registerAPI={{@registerAPI}}
      @renderInPlace={{@renderInPlace}}
      @required={{@required}}
      @scrollTo={{@scrollTo}}
      @search={{@search}}
      @searchEnabled={{@searchEnabled}}
      @searchField={{@searchField}}
      @searchMessage={{@searchMessage}}
      @searchPlaceholder={{@searchPlaceholder}}
      @selected={{@selected}}
      @selectedItemComponent={{@selectedItemComponent}}
      @eventType={{@eventType}}
      @title={{@title}}
      @triggerClass="ember-power-select-multiple-trigger {{@triggerClass}}"
      @triggerComponent={{component (or @triggerComponent "power-select-multiple/trigger") tabindex=@tabindex}}
      @triggerId={{@triggerId}}
      @verticalPosition={{@verticalPosition}}
      @tabindex={{this.computedTabIndex}}
      ...attributes as |option select|>
      {{yield option select}}
  </PowerSelect>
  */
  {"id":"+ZOHYSHO","block":"{\"symbols\":[\"option\",\"select\",\"@triggerRole\",\"@ariaDescribedBy\",\"@ariaInvalid\",\"@ariaLabel\",\"@ariaLabelledBy\",\"@afterOptionsComponent\",\"@allowClear\",\"@beforeOptionsComponent\",\"@buildSelection\",\"@calculatePosition\",\"@closeOnSelect\",\"@defaultHighlighted\",\"@destination\",\"@disabled\",\"@dropdownClass\",\"@extra\",\"@groupComponent\",\"@horizontalPosition\",\"@initiallyOpened\",\"@loadingMessage\",\"@matcher\",\"@matchTriggerWidth\",\"@noMatchesMessage\",\"@onBlur\",\"@onChange\",\"@onClose\",\"@onInput\",\"@options\",\"@optionsComponent\",\"@placeholder\",\"@placeholderComponent\",\"@preventScroll\",\"@registerAPI\",\"@renderInPlace\",\"@required\",\"@scrollTo\",\"@search\",\"@searchEnabled\",\"@searchField\",\"@searchMessage\",\"@searchPlaceholder\",\"@selected\",\"@selectedItemComponent\",\"@eventType\",\"@title\",\"@triggerClass\",\"@tabindex\",\"@triggerComponent\",\"@triggerId\",\"@verticalPosition\",\"&attrs\",\"&default\"],\"statements\":[[8,\"power-select\",[[17,53]],[[\"@triggerRole\",\"@ariaDescribedBy\",\"@ariaInvalid\",\"@ariaLabel\",\"@ariaLabelledBy\",\"@afterOptionsComponent\",\"@allowClear\",\"@beforeOptionsComponent\",\"@buildSelection\",\"@calculatePosition\",\"@closeOnSelect\",\"@defaultHighlighted\",\"@destination\",\"@disabled\",\"@dropdownClass\",\"@extra\",\"@groupComponent\",\"@horizontalPosition\",\"@initiallyOpened\",\"@loadingMessage\",\"@matcher\",\"@matchTriggerWidth\",\"@noMatchesMessage\",\"@onBlur\",\"@onChange\",\"@onClose\",\"@onFocus\",\"@onInput\",\"@onKeydown\",\"@onOpen\",\"@options\",\"@optionsComponent\",\"@placeholder\",\"@placeholderComponent\",\"@preventScroll\",\"@registerAPI\",\"@renderInPlace\",\"@required\",\"@scrollTo\",\"@search\",\"@searchEnabled\",\"@searchField\",\"@searchMessage\",\"@searchPlaceholder\",\"@selected\",\"@selectedItemComponent\",\"@eventType\",\"@title\",\"@triggerClass\",\"@triggerComponent\",\"@triggerId\",\"@verticalPosition\",\"@tabindex\"],[[32,3],[32,4],[32,5],[32,6],[32,7],[32,8],[32,9],[30,[36,0],[[32,10],null],null],[30,[36,0],[[32,11],[32,0,[\"defaultBuildSelection\"]]],null],[32,12],[32,13],[32,14],[32,15],[32,16],[32,17],[30,[36,2],[[32,18],[30,[36,1],null,[[\"optionMouseDown\",\"optionTouchStart\"],[[32,0,[\"optionMouseDown\"]],[32,0,[\"optionTouchStart\"]]]]]],null],[32,19],[32,20],[32,21],[32,22],[32,23],[32,24],[32,25],[32,26],[32,27],[32,28],[32,0,[\"handleFocus\"]],[32,29],[32,0,[\"handleKeydown\"]],[32,0,[\"handleOpen\"]],[32,30],[32,31],[32,32],[32,33],[32,34],[32,35],[32,36],[32,37],[32,38],[32,39],[32,40],[32,41],[32,42],[32,43],[32,44],[32,45],[32,46],[32,47],[31,[\"ember-power-select-multiple-trigger \",[32,48]]],[30,[36,3],[[30,[36,0],[[32,50],\"power-select-multiple/trigger\"],null]],[[\"tabindex\"],[[32,49]]]],[32,51],[32,52],[32,0,[\"computedTabIndex\"]]]],[[\"default\"],[{\"statements\":[[2,\"\\n    \"],[18,54,[[32,1],[32,2]]],[2,\"\\n\"]],\"parameters\":[1,2]}]]]],\"hasEval\":false,\"upvars\":[\"or\",\"hash\",\"assign\",\"component\"]}","meta":{"moduleName":"ghost-admin/components/gh-token-input/select-multiple.hbs"}});

  // TODO: convert from jQuery to native DOM
  const END_ACTIONS = 'click.ghToken mouseup.ghToken touchend.ghToken'; // triggering focus on the search input within ESA's onfocus event breaks the
  // drag-n-drop functionality in ember-drag-drop so we watch for events that
  // could be the start of a drag and disable the default focus behaviour until
  // we get another event signalling the end of a drag

  let GhTokenInputSelectMultiple = (_dec = (0, _component.tagName)('div'), _dec(_class = (_class2 = (_temp = class GhTokenInputSelectMultiple extends _powerSelectMultiple.default {
    constructor(...args) {
      super(...args);

      _defineProperty(this, "_canFocus", true);
    }

    willDestroyElement() {
      super.willDestroyElement(...arguments);

      if (this._allowFocusListener) {
        (0, _jquery.default)(window).off(END_ACTIONS, this._allowFocusListener);
      }
    } // actions


    optionMouseDown(event) {
      if (event.which === 1 && !event.ctrlKey) {
        this._denyFocus(event);
      }
    }

    optionTouchStart(event) {
      this._denyFocus(event);
    }

    handleFocus() {
      if (this._canFocus) {
        super.handleFocus(...arguments);
      }
    } // internal


    _denyFocus() {
      if (this._canFocus) {
        this._canFocus = false;
        this._allowFocusListener = Ember.run.bind(this, this._allowFocus);
        (0, _jquery.default)(window).on(END_ACTIONS, this._allowFocusListener);
      }
    }

    _allowFocus() {
      this._canFocus = true;
      (0, _jquery.default)(window).off(END_ACTIONS, this._allowFocusListener);
      this._allowFocusListener = null;
    }

  }, _temp), (_applyDecoratedDescriptor(_class2.prototype, "optionMouseDown", [Ember._action], Object.getOwnPropertyDescriptor(_class2.prototype, "optionMouseDown"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "optionTouchStart", [Ember._action], Object.getOwnPropertyDescriptor(_class2.prototype, "optionTouchStart"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "handleFocus", [Ember._action], Object.getOwnPropertyDescriptor(_class2.prototype, "handleFocus"), _class2.prototype)), _class2)) || _class);

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, GhTokenInputSelectMultiple);

  _exports.default = _default;
});
;define("ghost-admin/components/gh-token-input/suggested-option", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{@option.text}}
  
  */
  {"id":"pW4fU4B8","block":"{\"symbols\":[\"@option\"],\"statements\":[[1,[32,1,[\"text\"]]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-token-input/suggested-option.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember._templateOnlyComponent());

  _exports.default = _default;
});
;define("ghost-admin/components/gh-token-input/tag-token", ["exports", "ember-drag-drop/components/draggable-object"], function (_exports, _draggableObject) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{yield}}
  
  */
  {"id":"ONZiwZBF","block":"{\"symbols\":[\"&default\"],\"statements\":[[18,1,null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-token-input/tag-token.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _draggableObject.default.extend({
    attributeBindings: ['title'],
    classNames: ['tag-token'],
    classNameBindings: ['internal:tag-token--internal'],
    internal: Ember.computed.readOnly('content.isInternal'),
    primary: Ember.computed('idx', 'internal', function () {
      return !this.internal && this.idx === 0;
    }),
    title: Ember.computed('internal', function () {
      return this.internal ? 'Internal tag' : '';
    })
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-token-input/trigger", ["exports", "ember-power-select/components/power-select-multiple/trigger"], function (_exports, _trigger) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _class;

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <SortableObjects
      @tagName="ul"
      @id={{concat "ember-power-select-multiple-options-" @select.uniqueId}}
      @class="ember-power-select-multiple-options"
      @sortableObjectList={{@select.selected}}
      @enableSort={{true}}
      @useSwap={{false}}
      @sortEndAction={{action "reorderItems"}}
  >
      {{#each @select.selected as |opt idx|}}
          {{#component (or @extra.tokenComponent "draggable-object")
              tagName="li"
              class="ember-power-select-multiple-option"
              select=@select
              content=(readonly opt)
              idx=idx
              isSortable=true
              mouseDown=this.handleOptionMouseDown
              touchStart=this.handleOptionTouchStart
          }}
              {{#if @selectedItemComponent}}
                  {{component @selectedItemComponent option=(readonly opt) select=(readonly @select)}}
              {{else}}
                  {{yield opt @select}}
              {{/if}}
              {{#unless @select.disabled}}
                  <span role="button"
                      aria-label="remove element"
                      class="ember-power-select-multiple-remove-btn"
                      data-selected-index={{idx}}
                      {{on "mousedown" this.handleOptionMouseDown}}
                  >
                      {{svg-jar "close" data-selected-index=idx}}
                  </span>
              {{/unless}}
          {{/component}}
      {{else}}
          {{#if (and @placeholder (not @searchEnabled))}}
              <span class="ember-power-select-placeholder">{{@placeholder}}</span>
          {{/if}}
      {{/each}}
  
      {{#if @searchEnabled}}
          <input
              type="search"
              class="ember-power-select-trigger-multiple-input"
              autocomplete="off"
              autocorrect="off"
              autocapitalize="off"
              spellcheck="false"
              id="ember-power-select-trigger-multiple-input-{{@select.uniqueId}}"
              value={{@select.searchText}}
              aria-controls={{@listboxId}}
              style={{this.triggerMultipleInputStyle}}
              placeholder={{this.maybePlaceholder}}
              disabled={{@select.disabled}}
              tabindex={{@tabindex}}
              {{on "focus" @onFocus}}
              {{on "blur" @onBlur}}
              {{on "input" this.handleInput}}
              {{on "keydown" this.handleKeydown}}
              {{did-insert this.storeInputStyles}}
          >
      {{/if}}
  </SortableObjects>
  <span class="ember-power-select-status-icon"></span>
  
  */
  {"id":"A7wB2ASj","block":"{\"symbols\":[\"opt\",\"idx\",\"@select\",\"@listboxId\",\"@tabindex\",\"@onFocus\",\"@onBlur\",\"@placeholder\",\"@searchEnabled\",\"&default\",\"@selectedItemComponent\",\"@extra\"],\"statements\":[[8,\"sortable-objects\",[],[[\"@tagName\",\"@id\",\"@class\",\"@sortableObjectList\",\"@enableSort\",\"@useSwap\",\"@sortEndAction\"],[\"ul\",[30,[36,10],[\"ember-power-select-multiple-options-\",[32,3,[\"uniqueId\"]]],null],\"ember-power-select-multiple-options\",[32,3,[\"selected\"]],true,false,[30,[36,11],[[32,0],\"reorderItems\"],null]]],[[\"default\"],[{\"statements\":[[2,\"\\n\"],[6,[37,13],[[30,[36,12],[[30,[36,12],[[32,3,[\"selected\"]]],null]],null]],null,[[\"default\",\"else\"],[{\"statements\":[[6,[37,7],[[30,[36,9],[[32,12,[\"tokenComponent\"]],\"draggable-object\"],null]],[[\"tagName\",\"class\",\"select\",\"content\",\"idx\",\"isSortable\",\"mouseDown\",\"touchStart\"],[\"li\",\"ember-power-select-multiple-option\",[32,3],[30,[36,6],[[32,1]],null],[32,2],true,[32,0,[\"handleOptionMouseDown\"]],[32,0,[\"handleOptionTouchStart\"]]]],[[\"default\"],[{\"statements\":[[6,[37,4],[[32,11]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[1,[30,[36,7],[[32,11]],[[\"option\",\"select\"],[[30,[36,6],[[32,1]],null],[30,[36,6],[[32,3]],null]]]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                \"],[18,10,[[32,1],[32,3]]],[2,\"\\n\"]],\"parameters\":[]}]]],[6,[37,8],[[32,3,[\"disabled\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[11,\"span\"],[24,\"role\",\"button\"],[24,\"aria-label\",\"remove element\"],[24,0,\"ember-power-select-multiple-remove-btn\"],[16,\"data-selected-index\",[32,2]],[4,[38,0],[\"mousedown\",[32,0,[\"handleOptionMouseDown\"]]],null],[12],[2,\"\\n                    \"],[1,[30,[36,5],[\"close\"],[[\"data-selected-index\"],[[32,2]]]]],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]]],\"parameters\":[1,2]},{\"statements\":[[6,[37,4],[[30,[36,3],[[32,8],[30,[36,2],[[32,9]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"span\"],[14,0,\"ember-power-select-placeholder\"],[12],[1,[32,8]],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,4],[[32,9]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[11,\"input\"],[24,0,\"ember-power-select-trigger-multiple-input\"],[24,\"autocomplete\",\"off\"],[24,\"autocorrect\",\"off\"],[24,\"autocapitalize\",\"off\"],[24,\"spellcheck\",\"false\"],[16,1,[31,[\"ember-power-select-trigger-multiple-input-\",[32,3,[\"uniqueId\"]]]]],[16,2,[32,3,[\"searchText\"]]],[16,\"aria-controls\",[32,4]],[16,5,[32,0,[\"triggerMultipleInputStyle\"]]],[16,\"placeholder\",[32,0,[\"maybePlaceholder\"]]],[16,\"disabled\",[32,3,[\"disabled\"]]],[16,\"tabindex\",[32,5]],[24,4,\"search\"],[4,[38,0],[\"focus\",[32,6]],null],[4,[38,0],[\"blur\",[32,7]],null],[4,[38,0],[\"input\",[32,0,[\"handleInput\"]]],null],[4,[38,0],[\"keydown\",[32,0,[\"handleKeydown\"]]],null],[4,[38,1],[[32,0,[\"storeInputStyles\"]]],null],[12],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"\\n\"],[10,\"span\"],[14,0,\"ember-power-select-status-icon\"],[12],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"on\",\"did-insert\",\"not\",\"and\",\"if\",\"svg-jar\",\"readonly\",\"component\",\"unless\",\"or\",\"concat\",\"action\",\"-track-array\",\"each\"]}","meta":{"moduleName":"ghost-admin/components/gh-token-input/trigger.hbs"}});

  let Trigger = (_class = class Trigger extends _trigger.default {
    handleOptionMouseDown(event) {
      if (!event.target.closest('[data-selected-index]')) {
        let optionMouseDown = this.args.extra.optionMouseDown;

        if (optionMouseDown) {
          return optionMouseDown(event);
        }
      }

      return this.chooseOption(event);
    }

    handleOptionTouchStart(event) {
      let optionTouchStart = this.args.extra.optionTouchStart;

      if (optionTouchStart) {
        return optionTouchStart(event);
      }
    }

    reorderItems() {
      // ember-drag-drop's sortable-objects has two-way bindings and will
      // update EPS' selected value directly. We have to create a copy
      // after sorting in order to force the onchange action to be triggered
      let selectedCopy = this.args.select.selected.slice();
      this.args.select.actions.select(selectedCopy);
    } // copied directly from EPS, the default behaviour of stopping propagation
    // of keydown events prevents our shortcuts from being triggered


    handleKeydown(e) {
      if (this.args.onKeydown && this.args.onKeydown(e) === false) {
        e.stopPropagation();
        return false;
      }

      if (e.keyCode === 8) {
        e.stopPropagation();

        if (Ember.isBlank(e.target.value)) {
          let lastSelection = this.args.select.selected[this.args.select.selected.length - 1];

          if (lastSelection) {
            this.args.select.actions.select(this.args.buildSelection(lastSelection, this.args.select), e);

            if (typeof lastSelection === 'string') {
              this.args.select.actions.search(lastSelection);
            } else {
              let searchField = this.get('searchField');
              (true && !(searchField) && Ember.assert('`{{power-select-multiple}}` requires a `searchField` when the options are not strings to remove options using backspace', searchField));
              this.args.select.actions.search(Ember.get(lastSelection, searchField));
            }

            this.args.select.actions.open(e);
          }
        }
      } // Disable the propagation cancellation so that our shortcuts still work
      // } else if (e.keyCode >= 48 && e.keyCode <= 90 || e.keyCode === 32) { // Keys 0-9, a-z or SPACE
      //     e.stopPropagation();
      // }

    }

  }, (_applyDecoratedDescriptor(_class.prototype, "handleOptionMouseDown", [Ember._action], Object.getOwnPropertyDescriptor(_class.prototype, "handleOptionMouseDown"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, "handleOptionTouchStart", [Ember._action], Object.getOwnPropertyDescriptor(_class.prototype, "handleOptionTouchStart"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, "reorderItems", [Ember._action], Object.getOwnPropertyDescriptor(_class.prototype, "reorderItems"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, "handleKeydown", [Ember._action], Object.getOwnPropertyDescriptor(_class.prototype, "handleKeydown"), _class.prototype)), _class);
  _exports.default = Trigger;

  Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Trigger);
});
;define("ghost-admin/components/gh-tour-item", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#if this.isVisible}}
      {{!-- tether the throbber --}}
      <LiquidTether
          @class="throbber-container"
          @target={{this.target}}
          @attachment="middle center"
          @targetAttachment={{this.throbberAttachment}}
          @targetOffset={{this.throbberOffset}}
      >
          <a class="throbber-trigger" href="#" {{action "open"}} id={{this._throbberElementId}}>
              <span class="throbber"></span>
          </a>
      </LiquidTether>
  
      {{#if this.isOpen}}
          {{!-- wormhole the background click overlay --}}
          <LiquidWormhole @class="tour-container">
              <div class="tour-background" {{action "close" on="click"}}></div>
          </LiquidWormhole>
  
          {{!-- tether the popover --}}
          <LiquidTether
              @class="tour"
              @target={{this._throbberElementSelector}}
              @attachment={{this._popoverAttachment}}
              @targetAttachment={{this._popoverTargetAttachment}}
              @offset={{this._popoverOffset}}
          >
              <div class="popover-item popover-triangle-{{this.popoverTriangleClass}}">
                  <h3 class="popover-title">{{this._throbber.title}}</h3>
                  <div class="popover-body">
                      {{{this._throbber.message}}}
                  </div>
                  <footer class="popover-foot">
                      <a class="tour-optout" href="#" {{action 'optOut'}}>Not your first time? <em>Skip these tips</em></a>
                      <a class="tour-dismiss gh-btn gh-btn-black" href="#" {{action 'markAsViewed'}}><span>Ok, got it</span></a>
                  </footer>
              </div>
          </LiquidTether>
      {{/if}}
  {{/if}}
  
  */
  {"id":"Nqqavz6v","block":"{\"symbols\":[],\"statements\":[[6,[37,1],[[32,0,[\"isVisible\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"liquid-tether\",[],[[\"@class\",\"@target\",\"@attachment\",\"@targetAttachment\",\"@targetOffset\"],[\"throbber-container\",[32,0,[\"target\"]],\"middle center\",[32,0,[\"throbberAttachment\"]],[32,0,[\"throbberOffset\"]]]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[11,\"a\"],[24,0,\"throbber-trigger\"],[24,6,\"#\"],[16,1,[32,0,[\"_throbberElementId\"]]],[4,[38,0],[[32,0],\"open\"],null],[12],[2,\"\\n            \"],[10,\"span\"],[14,0,\"throbber\"],[12],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[6,[37,1],[[32,0,[\"isOpen\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[8,\"liquid-wormhole\",[],[[\"@class\"],[\"tour-container\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[11,\"div\"],[24,0,\"tour-background\"],[4,[38,0],[[32,0],\"close\"],[[\"on\"],[\"click\"]]],[12],[13],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[2,\"        \"],[8,\"liquid-tether\",[],[[\"@class\",\"@target\",\"@attachment\",\"@targetAttachment\",\"@offset\"],[\"tour\",[32,0,[\"_throbberElementSelector\"]],[32,0,[\"_popoverAttachment\"]],[32,0,[\"_popoverTargetAttachment\"]],[32,0,[\"_popoverOffset\"]]]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"div\"],[15,0,[31,[\"popover-item popover-triangle-\",[32,0,[\"popoverTriangleClass\"]]]]],[12],[2,\"\\n                \"],[10,\"h3\"],[14,0,\"popover-title\"],[12],[1,[32,0,[\"_throbber\",\"title\"]]],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"popover-body\"],[12],[2,\"\\n                    \"],[2,[32,0,[\"_throbber\",\"message\"]]],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"footer\"],[14,0,\"popover-foot\"],[12],[2,\"\\n                    \"],[11,\"a\"],[24,0,\"tour-optout\"],[24,6,\"#\"],[4,[38,0],[[32,0],\"optOut\"],null],[12],[2,\"Not your first time? \"],[10,\"em\"],[12],[2,\"Skip these tips\"],[13],[13],[2,\"\\n                    \"],[11,\"a\"],[24,0,\"tour-dismiss gh-btn gh-btn-black\"],[24,6,\"#\"],[4,[38,0],[[32,0],\"markAsViewed\"],null],[12],[10,\"span\"],[12],[2,\"Ok, got it\"],[13],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"action\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-tour-item.hbs"}});

  let instancesCounter = 0;
  let triangleClassPositions = {
    'top-left': {
      attachment: 'top left',
      targetAttachment: 'bottom center',
      offset: '0 28px'
    },
    top: {
      attachment: 'top center',
      targetAttachment: 'bottom center'
    },
    'top-right': {
      attachment: 'top right',
      targetAttachment: 'bottom center',
      offset: '0 -28px'
    },
    'right-top': {
      attachment: 'top right',
      targetAttachment: 'middle left',
      offset: '28px 0'
    },
    right: {
      attachment: 'middle right',
      targetAttachment: 'middle left'
    },
    'right-bottom': {
      attachment: 'bottom right',
      targetAttachment: 'middle left',
      offset: '-28px 0'
    },
    'bottom-right': {
      attachment: 'bottom right',
      targetAttachment: 'top center',
      offset: '0 -28px'
    },
    bottom: {
      attachment: 'bottom center',
      targetAttachment: 'top center'
    },
    'bottom-left': {
      attachment: 'bottom left',
      targetAttachment: 'top center',
      offset: '0 28px'
    },
    'left-bottom': {
      attachment: 'bottom left',
      targetAttachment: 'middle right',
      offset: '-28px 0'
    },
    left: {
      attachment: 'middle left',
      targetAttachment: 'middle right'
    },
    'left-top': {
      attachment: 'top left',
      targetAttachment: 'middle right',
      offset: '28px 0'
    }
  };
  const GhTourItemComponent = Ember.Component.extend({
    mediaQueries: Ember.inject.service(),
    tour: Ember.inject.service(),
    tagName: '',
    throbberId: null,
    target: null,
    throbberAttachment: 'middle center',
    popoverTriangleClass: 'top',
    isOpen: false,
    _elementId: null,
    _throbber: null,
    _throbberElementId: null,
    _throbberElementSelector: null,
    _popoverAttachment: null,
    _popoverTargetAttachment: null,
    _popoverOffset: null,
    isMobile: Ember.computed.reads('mediaQueries.isMobile'),
    isVisible: Ember.computed('isMobile', '_throbber', function () {
      let isMobile = this.isMobile;
      let hasThrobber = !Ember.isBlank(this._throbber);
      return !isMobile && hasThrobber;
    }),

    init() {
      this._super(...arguments); // this is a tagless component so we need to generate our own elementId


      this._elementId = instancesCounter += 1;
      this._throbberElementId = `throbber-${this._elementId}`;
      this._throbberElementSelector = `#throbber-${this._elementId}`;
      this._handleOptOut = Ember.run.bind(this, this._remove);
      this._handleViewed = Ember.run.bind(this, this._removeIfViewed);
      this.tour.on('optOut', this._handleOptOut);
      this.tour.on('viewed', this._handleViewed);
    },

    didReceiveAttrs() {
      let throbberId = this.throbberId;
      let throbber = this.tour.activeThrobber(throbberId);
      let triangleClass = this.popoverTriangleClass;
      let popoverPositions = triangleClassPositions[triangleClass];
      this._throbber = throbber;
      this._popoverAttachment = popoverPositions.attachment;
      this._popoverTargetAttachment = popoverPositions.targetAttachment;
      this._popoverOffset = popoverPositions.offset;
    },

    willDestroyElement() {
      this.tour.off('optOut', this._handleOptOut);
      this.tour.off('viewed', this._handleViewed);

      this._super(...arguments);
    },

    actions: {
      open() {
        this.set('isOpen', true);
      },

      close() {
        this._close();
      },

      markAsViewed() {
        let throbberId = this.throbberId;
        this.tour.markThrobberAsViewed(throbberId);
        this.set('_throbber', null);

        this._close();
      },

      optOut() {
        this.tour.optOut();
        this.set('_throbber', null);

        this._close();
      }

    },

    _removeIfViewed(id) {
      if (id === this.throbberId) {
        this._remove();
      }
    },

    _remove() {
      this.set('_throbber', null);
    },

    _close() {
      this.set('isOpen', false);
    }

  });

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, GhTourItemComponent);

  _exports.default = _default;
});
;define("ghost-admin/components/gh-trim-focus-input", ["exports", "ghost-admin/components/gh-text-input"], function (_exports, _ghTextInput) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /**
   * This doesn't override the OneWayInput component because
   * we need finer control. It borrows
   * parts from both the OneWayInput component and Ember's default
   * input component
   */
  const TrimFocusInputComponent = _ghTextInput.default.extend({
    shouldFocus: true,

    focusOut(event) {
      this._trimInput(event.target.value, event);

      this._super(...arguments);
    },

    _trimInput(value, event) {
      if (value && typeof value.trim === 'function') {
        value = value.trim();
      }

      this.element.value = value;

      this._elementValueDidChange(event);

      let inputMethod = this.input;

      if (inputMethod) {
        inputMethod(event);
      }
    }

  });

  var _default = TrimFocusInputComponent;
  _exports.default = _default;
});
;define("ghost-admin/components/gh-unsplash-photo", ["exports", "jquery"], function (_exports, _jquery) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <a class="gh-unsplash-photo" href="#" onclick={{action "zoom"}} data-unsplash-zoomed-photo={{if this.zoomed this.photo.id}} data-test-unsplash-photo={{this.photo.id}} style={{this.style}}>
      <div class="gh-unsplash-photo-container" style={{this.containerStyle}} data-test-unsplash-photo-container>
          <img src={{this.imageUrl}} alt={{this.photo.description}} width={{this.width}} height={{this.height}} data-test-unsplash-photo-image />
          <div class="gh-unsplash-photo-overlay">
              <div class="gh-unsplash-photo-header">
                  <a class="gh-unsplash-button-likes gh-unsplash-button" href="{{this.photo.links.html}}?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit" target="_blank">{{svg-jar "unsplash-heart"}}{{this.photo.likes}}</a>
                  <a class="gh-unsplash-button-download gh-unsplash-button" href="{{this.photo.links.download}}/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit&force=true">{{svg-jar "download"}}</a>
              </div>
              <div class="gh-unsplash-photo-footer">
                  <div class="gh-unsplash-photo-author">
                      <a class="gh-unsplash-photo-author-img" href="{{this.photo.user.links.html}}?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit" target="_blank">
                          <img src="{{this.photo.user.profile_image.medium}}" />
                      </a>
                      <a class="gh-unsplash-photo-author-name" href="{{this.photo.user.links.html}}?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit" target="_blank">
                          {{this.photo.user.name}}
                      </a>
                  </div>
                  <a class="gh-unsplash-button" href="#" onclick={{action "select"}}>Insert image</a>
              </div>
          </div>
      </div>
  </a>
  */
  {"id":"QV4wsOsA","block":"{\"symbols\":[],\"statements\":[[10,\"a\"],[14,0,\"gh-unsplash-photo\"],[14,6,\"#\"],[15,\"onclick\",[30,[36,0],[[32,0],\"zoom\"],null]],[15,\"data-unsplash-zoomed-photo\",[30,[36,1],[[32,0,[\"zoomed\"]],[32,0,[\"photo\",\"id\"]]],null]],[15,\"data-test-unsplash-photo\",[32,0,[\"photo\",\"id\"]]],[15,5,[32,0,[\"style\"]]],[12],[2,\"\\n    \"],[10,\"div\"],[14,0,\"gh-unsplash-photo-container\"],[15,5,[32,0,[\"containerStyle\"]]],[14,\"data-test-unsplash-photo-container\",\"\"],[12],[2,\"\\n        \"],[10,\"img\"],[15,\"src\",[32,0,[\"imageUrl\"]]],[15,\"alt\",[32,0,[\"photo\",\"description\"]]],[15,\"width\",[32,0,[\"width\"]]],[15,\"height\",[32,0,[\"height\"]]],[14,\"data-test-unsplash-photo-image\",\"\"],[12],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-unsplash-photo-overlay\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-unsplash-photo-header\"],[12],[2,\"\\n                \"],[10,\"a\"],[14,0,\"gh-unsplash-button-likes gh-unsplash-button\"],[15,6,[31,[[32,0,[\"photo\",\"links\",\"html\"]],\"?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit\"]]],[14,\"target\",\"_blank\"],[12],[1,[30,[36,2],[\"unsplash-heart\"],null]],[1,[32,0,[\"photo\",\"likes\"]]],[13],[2,\"\\n                \"],[10,\"a\"],[14,0,\"gh-unsplash-button-download gh-unsplash-button\"],[15,6,[31,[[32,0,[\"photo\",\"links\",\"download\"]],\"/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit&force=true\"]]],[12],[1,[30,[36,2],[\"download\"],null]],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-unsplash-photo-footer\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-unsplash-photo-author\"],[12],[2,\"\\n                    \"],[10,\"a\"],[14,0,\"gh-unsplash-photo-author-img\"],[15,6,[31,[[32,0,[\"photo\",\"user\",\"links\",\"html\"]],\"?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit\"]]],[14,\"target\",\"_blank\"],[12],[2,\"\\n                        \"],[10,\"img\"],[15,\"src\",[31,[[32,0,[\"photo\",\"user\",\"profile_image\",\"medium\"]]]]],[12],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"a\"],[14,0,\"gh-unsplash-photo-author-name\"],[15,6,[31,[[32,0,[\"photo\",\"user\",\"links\",\"html\"]],\"?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit\"]]],[14,\"target\",\"_blank\"],[12],[2,\"\\n                        \"],[1,[32,0,[\"photo\",\"user\",\"name\"]]],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"a\"],[14,0,\"gh-unsplash-button\"],[14,6,\"#\"],[15,\"onclick\",[30,[36,0],[[32,0],\"select\"],null]],[12],[2,\"Insert image\"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"action\",\"if\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/gh-unsplash-photo.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    height: 0,
    photo: null,
    tagName: '',
    width: 1200,
    zoomed: false,

    // closure actions
    select() {},

    zoom() {},

    style: Ember.computed('zoomed', function () {
      return Ember.String.htmlSafe(this.zoomed ? 'width: auto; margin: 0;' : '');
    }),
    // avoid "binding style attributes" warnings
    containerStyle: Ember.computed('photo.color', 'zoomed', function () {
      let styles = [];
      let ratio = this.get('photo.ratio');
      let zoomed = this.zoomed;
      styles.push(`background-color: ${this.get('photo.color')}`);

      if (zoomed) {
        styles.push(`cursor: zoom-out`);
      } else {
        styles.push(`padding-bottom: ${ratio * 100}%`);
      }

      return Ember.String.htmlSafe(styles.join('; '));
    }),
    imageUrl: Ember.computed('photo.urls.regular', function () {
      let url = this.get('photo.urls.regular');
      url = url.replace('&w=1080', '&w=1200');
      return url;
    }),

    didReceiveAttrs() {
      this._super(...arguments);

      this.set('height', this.width * this.photo.ratio);

      if (this.zoomed && !this._zoomed) {
        this._setZoomedSize();
      }

      this._zoomed = this.zoomed;

      if (this.zoomed && !this._resizeHandler) {
        this._setupResizeHandler();
      } else if (!this.zoomed && this._resizeHandler) {
        this._teardownResizeHandler();
      }
    },

    didInsertElement() {
      this._super(...arguments);

      this._hasRendered = true;

      if (this.zoomed) {
        this._setZoomedSize();
      }
    },

    willDestroyElement() {
      this._super(...arguments);

      this._teardownResizeHandler();
    },

    actions: {
      select(event) {
        event.preventDefault();
        event.stopPropagation();
        this.select(this.photo);
      },

      zoom(event) {
        let $target = (0, _jquery.default)(event.target); // only zoom when it wasn't one of the child links clicked

        if (!$target.is('a') && $target.closest('a').hasClass('gh-unsplash-photo')) {
          event.preventDefault();
          this.zoom(this.photo);
        } // don't propagate otherwise we can trigger the closeZoom action on the overlay


        event.stopPropagation();
      }

    },

    _setZoomedSize() {
      if (!this._hasRendered) {
        return false;
      }

      let a = document.querySelector(`[data-unsplash-zoomed-photo="${this.photo.id}"]`);
      a.style.width = '100%';
      a.style.height = '100%';
      let offsets = a.getBoundingClientRect();
      let ratio = this.photo.ratio;
      let maxHeight = {
        width: offsets.height / ratio,
        height: offsets.height
      };
      let maxWidth = {
        width: offsets.width,
        height: offsets.width * ratio
      };
      let usableSize = null;

      if (ratio <= 1) {
        usableSize = maxWidth.height > offsets.height ? maxHeight : maxWidth;
      } else {
        usableSize = maxHeight.width > offsets.width ? maxWidth : maxHeight;
      }

      a.style.width = `${usableSize.width}px`;
      a.style.height = `${usableSize.height}px`;
    },

    _setupResizeHandler() {
      if (this._resizeHandler) {
        return;
      }

      this._resizeHandler = Ember.run.bind(this, this._handleResize);
      window.addEventListener('resize', this._resizeHandler);
    },

    _teardownResizeHandler() {
      window.removeEventListener('resize', this._resizeHandler);
      this._resizeHandler = null;
    },

    _handleResize() {
      this._throttleResize = Ember.run.throttle(this, this._setZoomedSize, 100);
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-unsplash", ["exports", "ghost-admin/mixins/shortcuts"], function (_exports, _shortcuts) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <LiquidWormhole @class="unsplash">
      {{!-- TODO: why does this modal background not cover the PSM without style override? --}}
      <div class="fullscreen-modal-background" {{action "close"}} style="z-index: 999"></div>
      <div class="absolute top-8 right-8 bottom-8 left-8 br4 overflow-hidden bg-white z-9999" data-unsplash>
          {{!-- close button --}}
          <button type="button" class="absolute top-6 right-6" {{action "close"}}>
              {{svg-jar "close" class="w4 stroke-midlightgrey-l2"}}
          </button>
  
          <div class="flex flex-column h-100">
              {{!-- static header --}}
              <header class="flex-shrink-0 flex flex-row-l flex-column justify-between pt6 pr8 pb6 pl8 pt10-l pr20-l pb10-l pl20-l items-center">
                  <h1 class="flex items-center darkgrey-d2 w-100 nudge-top--4">
                      <a class="dib w8 mr2" href="https://unsplash.com/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit" target="_blank">{{svg-jar "unsplash" class="fill-darkgrey-d2"}}</a>
                      Unsplash
                  </h1>
                  <span class="gh-input-icon mw88-l flex-auto w-100 mt3 mt0-l">
                      {{svg-jar "search"}}
                      <GhTextInput
                          @class="gh-unsplash-search"
                          @name="searchKeyword"
                          @placeholder="Search free high-resolution photos"
                          @tabindex="1"
                          @shouldFocus={{true}}
                          @autocorrect="off"
                          @value={{readonly this.unsplash.searchTerm}}
                          @input={{action "search" value="target.value"}}
                          @focusIn={{action "setKeyScope"}}
                          @focus-out={{action "resetKeyScope"}}
                      />
                  </span>
              </header>
  
              {{!-- content container --}}
              <div class="relative h-100 overflow-hidden">
                  {{!-- scrollable image container --}}
                  <div class="overflow-auto h-100 w-100 pr8 pl8 pr20-l pl20-l">
                      {{#if this.unsplash.photos}}
                          <section class="gh-unsplash-grid">
                              {{#each this.unsplash.columns as |photos|}}
                                  <div class="gh-unsplash-grid-column">
                                      {{#each photos as |photo|}}
                                          <GhUnsplashPhoto @photo={{photo}} @zoom={{action "zoomPhoto"}} @select={{action "select"}} />
                                      {{/each}}
                                  </div>
                              {{/each}}
                          </section>
                      {{else if (and this.unsplash.searchTerm (not this.unsplash.error this.unsplash.isLoading))}}
                          <section class="gh-unsplash-error h-100 flex items-center justify-center pb30">
                              <div>
                                  <img class="gh-unsplash-error-404" src="assets/img/unsplash-404.png" alt="No photos found" />
                                  <h4>No photos found for '{{this.unsplash.searchTerm}}'</h4>
                              </div>
                          </section>
                      {{/if}}
  
                      {{#if this.unsplash.error}}
                          {{!-- TODO: add better error styles? --}}
                          <section class="gh-unsplash-error h-100 flex items-center justify-center pb30">
                              <div>
                                  <img class="gh-unsplash-error-404" src="assets/img/unsplash-404.png" alt="Network error" />
                                  <h4>{{this.unsplash.error}} (<a href="#" {{action "retry"}}>retry</a>)</h4>
                              </div>
                          </section>
                      {{/if}}
  
                      {{#if this.unsplash.isLoading}}
                          <div class="gh-unsplash-loading h-100 flex items-center justify-center pb30">
                              <div class="gh-loading-spinner"></div>
                          </div>
                      {{/if}}
  
                      <GhScrollTrigger
                          @enter={{action "loadNextPage"}}
                          @triggerOffset={{1000}} />
                  </div>
  
                  {{!-- zoomed image overlay --}}
                  {{#if this.zoomedPhoto}}
                      <div class="absolute flex justify-center top-0 right-0 bottom-0 left-0 pr20 pb10 pl20 bg-white overflow-hidden" {{action "closeZoom"}}>
                          <GhUnsplashPhoto
                              @photo={{this.zoomedPhoto}}
                              @zoomed={{true}}
                              @zoom={{action "closeZoom"}}
                              @select={{action "select"}} />
                      </div>
                  {{/if}}
              </div>
          </div>
      </div>
  
  </LiquidWormhole>
  
  */
  {"id":"R/Bvqw24","block":"{\"symbols\":[\"photos\",\"photo\"],\"statements\":[[8,\"liquid-wormhole\",[],[[\"@class\"],[\"unsplash\"]],[[\"default\"],[{\"statements\":[[2,\"\\n\"],[2,\"    \"],[11,\"div\"],[24,0,\"fullscreen-modal-background\"],[24,5,\"z-index: 999\"],[4,[38,0],[[32,0],\"close\"],null],[12],[13],[2,\"\\n    \"],[10,\"div\"],[14,0,\"absolute top-8 right-8 bottom-8 left-8 br4 overflow-hidden bg-white z-9999\"],[14,\"data-unsplash\",\"\"],[12],[2,\"\\n\"],[2,\"        \"],[11,\"button\"],[24,0,\"absolute top-6 right-6\"],[24,4,\"button\"],[4,[38,0],[[32,0],\"close\"],null],[12],[2,\"\\n            \"],[1,[30,[36,6],[\"close\"],[[\"class\"],[\"w4 stroke-midlightgrey-l2\"]]]],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"div\"],[14,0,\"flex flex-column h-100\"],[12],[2,\"\\n\"],[2,\"            \"],[10,\"header\"],[14,0,\"flex-shrink-0 flex flex-row-l flex-column justify-between pt6 pr8 pb6 pl8 pt10-l pr20-l pb10-l pl20-l items-center\"],[12],[2,\"\\n                \"],[10,\"h1\"],[14,0,\"flex items-center darkgrey-d2 w-100 nudge-top--4\"],[12],[2,\"\\n                    \"],[10,\"a\"],[14,0,\"dib w8 mr2\"],[14,6,\"https://unsplash.com/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit\"],[14,\"target\",\"_blank\"],[12],[1,[30,[36,6],[\"unsplash\"],[[\"class\"],[\"fill-darkgrey-d2\"]]]],[13],[2,\"\\n                    Unsplash\\n                \"],[13],[2,\"\\n                \"],[10,\"span\"],[14,0,\"gh-input-icon mw88-l flex-auto w-100 mt3 mt0-l\"],[12],[2,\"\\n                    \"],[1,[30,[36,6],[\"search\"],null]],[2,\"\\n                    \"],[8,\"gh-text-input\",[],[[\"@class\",\"@name\",\"@placeholder\",\"@tabindex\",\"@shouldFocus\",\"@autocorrect\",\"@value\",\"@input\",\"@focusIn\",\"@focus-out\"],[\"gh-unsplash-search\",\"searchKeyword\",\"Search free high-resolution photos\",\"1\",true,\"off\",[30,[36,7],[[32,0,[\"unsplash\",\"searchTerm\"]]],null],[30,[36,0],[[32,0],\"search\"],[[\"value\"],[\"target.value\"]]],[30,[36,0],[[32,0],\"setKeyScope\"],null],[30,[36,0],[[32,0],\"resetKeyScope\"],null]]],null],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n\\n\"],[2,\"            \"],[10,\"div\"],[14,0,\"relative h-100 overflow-hidden\"],[12],[2,\"\\n\"],[2,\"                \"],[10,\"div\"],[14,0,\"overflow-auto h-100 w-100 pr8 pl8 pr20-l pl20-l\"],[12],[2,\"\\n\"],[6,[37,3],[[32,0,[\"unsplash\",\"photos\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[10,\"section\"],[14,0,\"gh-unsplash-grid\"],[12],[2,\"\\n\"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,[\"unsplash\",\"columns\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                                \"],[10,\"div\"],[14,0,\"gh-unsplash-grid-column\"],[12],[2,\"\\n\"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,1]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                                        \"],[8,\"gh-unsplash-photo\",[],[[\"@photo\",\"@zoom\",\"@select\"],[[32,2],[30,[36,0],[[32,0],\"zoomPhoto\"],null],[30,[36,0],[[32,0],\"select\"],null]]],null],[2,\"\\n\"]],\"parameters\":[2]}]]],[2,\"                                \"],[13],[2,\"\\n\"]],\"parameters\":[1]}]]],[2,\"                        \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,3],[[30,[36,2],[[32,0,[\"unsplash\",\"searchTerm\"]],[30,[36,1],[[32,0,[\"unsplash\",\"error\"]],[32,0,[\"unsplash\",\"isLoading\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"section\"],[14,0,\"gh-unsplash-error h-100 flex items-center justify-center pb30\"],[12],[2,\"\\n                            \"],[10,\"div\"],[12],[2,\"\\n                                \"],[10,\"img\"],[14,0,\"gh-unsplash-error-404\"],[14,\"src\",\"assets/img/unsplash-404.png\"],[14,\"alt\",\"No photos found\"],[12],[13],[2,\"\\n                                \"],[10,\"h4\"],[12],[2,\"No photos found for '\"],[1,[32,0,[\"unsplash\",\"searchTerm\"]]],[2,\"'\"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,3],[[32,0,[\"unsplash\",\"error\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"section\"],[14,0,\"gh-unsplash-error h-100 flex items-center justify-center pb30\"],[12],[2,\"\\n                            \"],[10,\"div\"],[12],[2,\"\\n                                \"],[10,\"img\"],[14,0,\"gh-unsplash-error-404\"],[14,\"src\",\"assets/img/unsplash-404.png\"],[14,\"alt\",\"Network error\"],[12],[13],[2,\"\\n                                \"],[10,\"h4\"],[12],[1,[32,0,[\"unsplash\",\"error\"]]],[2,\" (\"],[11,\"a\"],[24,6,\"#\"],[4,[38,0],[[32,0],\"retry\"],null],[12],[2,\"retry\"],[13],[2,\")\"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,3],[[32,0,[\"unsplash\",\"isLoading\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"gh-unsplash-loading h-100 flex items-center justify-center pb30\"],[12],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"gh-loading-spinner\"],[12],[13],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[8,\"gh-scroll-trigger\",[],[[\"@enter\",\"@triggerOffset\"],[[30,[36,0],[[32,0],\"loadNextPage\"],null],1000]],null],[2,\"\\n                \"],[13],[2,\"\\n\\n\"],[6,[37,3],[[32,0,[\"zoomedPhoto\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[11,\"div\"],[24,0,\"absolute flex justify-center top-0 right-0 bottom-0 left-0 pr20 pb10 pl20 bg-white overflow-hidden\"],[4,[38,0],[[32,0],\"closeZoom\"],null],[12],[2,\"\\n                        \"],[8,\"gh-unsplash-photo\",[],[[\"@photo\",\"@zoomed\",\"@zoom\",\"@select\"],[[32,0,[\"zoomedPhoto\"]],true,[30,[36,0],[[32,0],\"closeZoom\"],null],[30,[36,0],[[32,0],\"select\"],null]]],null],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"not\",\"and\",\"if\",\"-track-array\",\"each\",\"svg-jar\",\"readonly\"]}","meta":{"moduleName":"ghost-admin/components/gh-unsplash.hbs"}});
  /* global key */


  const ONE_COLUMN_WIDTH = 540;
  const TWO_COLUMN_WIDTH = 940;

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend(_shortcuts.default, {
    resizeDetector: Ember.inject.service(),
    unsplash: Ember.inject.service(),
    ui: Ember.inject.service(),
    shortcuts: null,
    tagName: '',
    zoomedPhoto: null,
    searchTerm: null,

    // closure actions
    close() {},

    select() {},

    sideNavHidden: Ember.computed.or('ui.{isFullScreen,showMobileMenu}'),

    init() {
      this._super(...arguments);

      this.shortcuts = {
        escape: {
          action: 'handleEscape',
          scope: 'all'
        }
      };
    },

    didReceiveAttrs() {
      this._super(...arguments);

      if (this.searchTerm !== this._searchTerm) {
        this.unsplash.updateSearch(this.searchTerm);
      }

      this._searchTerm = this.searchTerm;
    },

    didInsertElement() {
      this._super(...arguments);

      this._resizeCallback = Ember.run.bind(this, this._handleResize);
      this.resizeDetector.setup('[data-unsplash]', this._resizeCallback);
      this.registerShortcuts();
    },

    willDestroyElement() {
      this.resizeDetector.teardown('[data-unsplash]', this._resizeCallback);
      this.removeShortcuts();
      this.send('resetKeyScope');

      this._super(...arguments);
    },

    actions: {
      loadNextPage() {
        this.unsplash.loadNextPage();
      },

      search(term) {
        this.unsplash.updateSearch(term);
        this.send('closeZoom');
      },

      zoomPhoto(photo) {
        this.set('zoomedPhoto', photo);
      },

      closeZoom() {
        this.set('zoomedPhoto', null);
      },

      select(photo) {
        this.unsplash.triggerDownload(photo);
        let selectParams = {
          src: photo.urls.regular.replace(/&w=1080/, '&w=2000'),
          alt: photo.description || '',
          caption: `Photo by <a href="${photo.user.links.html}?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit">${photo.user.name}</a> / <a href="https://unsplash.com/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit">Unsplash</a>`
        };
        this.select(selectParams);
        this.close();
      },

      close() {
        this.close();
      },

      retry() {
        this.unsplash.retryLastRequest();
      },

      setKeyScope() {
        key.setScope('unsplash');
      },

      resetKeyScope() {
        key.setScope('default');
      },

      handleEscape() {
        if (this.zoomedPhoto) {
          return this.send('closeZoom');
        }

        this.close();
      }

    },

    _handleResize(element) {
      let width = element.clientWidth;
      let columns = 3;

      if (width <= ONE_COLUMN_WIDTH) {
        columns = 1;
      } else if (width <= TWO_COLUMN_WIDTH) {
        columns = 2;
      }

      this.unsplash.changeColumnCount(columns);
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-uploader", ["exports", "ghost-admin/utils/ghost-paths", "ember-concurrency"], function (_exports, _ghostPaths, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{yield (hash
      cancel=(action "cancel")
      errors=this.errors
      files=this.files
      isUploading=this._uploadFiles.isRunning
      progressBar=(component "gh-progress-bar" percentage=this.uploadPercentage)
      setFiles=(action 'setFiles')
  )}}
  
  */
  {"id":"SDOeGgEV","block":"{\"symbols\":[\"&default\"],\"statements\":[[18,1,[[30,[36,2],null,[[\"cancel\",\"errors\",\"files\",\"isUploading\",\"progressBar\",\"setFiles\"],[[30,[36,0],[[32,0],\"cancel\"],null],[32,0,[\"errors\"]],[32,0,[\"files\"]],[32,0,[\"_uploadFiles\",\"isRunning\"]],[30,[36,1],[\"gh-progress-bar\"],[[\"percentage\"],[[32,0,[\"uploadPercentage\"]]]]],[30,[36,0],[[32,0],\"setFiles\"],null]]]]]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"component\",\"hash\"]}","meta":{"moduleName":"ghost-admin/components/gh-uploader.hbs"}});

  // TODO: this is designed to be a more re-usable/composable upload component, it
  // should be able to replace the duplicated upload logic in:
  // - gh-image-uploader
  // - gh-file-uploader
  //
  // In order to support the above components we'll need to introduce an
  // "allowMultiple" attribute so that single-image uploads don't allow multiple
  // simultaneous uploads
  const MAX_SIMULTANEOUS_UPLOADS = 2;
  /**
   * Result from a file upload
   * @typedef {Object} UploadResult
   * @property {string} fileName - file name, eg "my-image.png"
   * @property {string} url - url relative to Ghost root,eg "/content/images/2017/05/my-image.png"
   */

  const UploadTracker = Ember.Object.extend({
    file: null,
    total: 0,
    loaded: 0,

    init() {
      this._super(...arguments);

      this.total = this.file && this.file.size || 0;
    },

    update({
      loaded,
      total
    }) {
      this.total = total;
      this.loaded = loaded;
    }

  });

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    ajax: Ember.inject.service(),
    tagName: '',
    // Public attributes
    accept: '',
    extensions: '',
    files: null,
    paramName: 'file',
    paramsHash: null,
    resourceName: 'images',
    uploadUrl: null,
    // Interal attributes
    errors: null,
    // [{fileName: 'x', message: 'y'}, ...]
    totalSize: 0,
    uploadedSize: 0,
    uploadPercentage: 0,
    uploadUrls: null,
    // [{filename: 'x', url: 'y'}],
    // Private
    _defaultUploadUrl: '/images/upload/',
    _files: null,
    _uploadTrackers: null,

    // Closure actions
    onCancel() {},

    onComplete() {},

    onFailed() {},

    onStart() {},

    onUploadStart() {},

    onUploadFailure() {},

    onUploadSuccess() {},

    // Optional closure actions
    // validate(file) {}
    init() {
      this._super(...arguments);

      this.set('errors', []);
      this.set('uploadUrls', []);
      this._uploadTrackers = [];

      if (!this.paramsHash) {
        this.set('paramsHash', {
          purpose: 'image'
        });
      }
    },

    didReceiveAttrs() {
      this._super(...arguments); // set up any defaults


      if (!this.uploadUrl) {
        this.set('uploadUrl', this._defaultUploadUrl);
      } // if we have new files, validate and start an upload


      let files = this.files;

      this._setFiles(files);
    },

    actions: {
      setFiles(files, resetInput) {
        this._setFiles(files);

        if (resetInput) {
          resetInput();
        }
      },

      cancel() {
        this._reset();

        this.onCancel();
      }

    },

    _setFiles(files) {
      this.set('files', files);

      if (files && files !== this._files) {
        if (this.get('_uploadFiles.isRunning')) {
          // eslint-disable-next-line
          console.error('Adding new files whilst an upload is in progress is not supported.');
        }

        this._files = files; // we cancel early if any file fails client-side validation

        if (this._validate()) {
          this._uploadFiles.perform(files);
        }
      }
    },

    _validate() {
      let files = this.files;

      let validate = this.validate || this._defaultValidator.bind(this);

      let ok = [];
      let errors = []; // NOTE: for...of loop results in a transpilation that errors in Edge,
      // once we drop IE11 support we should be able to use native for...of

      for (let i = 0; i < files.length; i += 1) {
        let file = files[i];
        let result = validate(file);

        if (result === true) {
          ok.push(file);
        } else {
          errors.push({
            fileName: file.name,
            message: result
          });
        }
      }

      if (Ember.isEmpty(errors)) {
        return true;
      }

      this.set('errors', errors);
      this.onFailed(errors);
      return false;
    },

    // we only check the file extension by default because IE doesn't always
    // expose the mime-type, we'll rely on the API for final validation
    _defaultValidator(file) {
      let extensions = this.extensions;
      let [, extension] = /(?:\.([^.]+))?$/.exec(file.name); // if extensions is falsy exit early and accept all files

      if (!extensions) {
        return true;
      }

      if (!Ember.isArray(extensions)) {
        extensions = extensions.split(',');
      }

      if (!extension || extensions.indexOf(extension.toLowerCase()) === -1) {
        let validExtensions = `.${extensions.join(', .').toUpperCase()}`;
        return `The file type you uploaded is not supported. Please use ${validExtensions}`;
      }

      return true;
    },

    _uploadFiles: (0, _emberConcurrency.task)(function* (files) {
      let uploads = [];

      this._reset();

      this.onStart(files); // NOTE: for...of loop results in a transpilation that errors in Edge,
      // once we drop IE11 support we should be able to use native for...of

      for (let i = 0; i < files.length; i += 1) {
        let file = files[i];
        let tracker = UploadTracker.create({
          file
        });

        this._uploadTrackers.pushObject(tracker);

        uploads.push(this._uploadFile.perform(tracker, file, i));
      } // populates this.errors and this.uploadUrls


      yield (0, _emberConcurrency.all)(uploads);

      if (!Ember.isEmpty(this.errors)) {
        this.onFailed(this.errors);
      }

      this.onComplete(this.uploadUrls);
    }).drop(),
    // eslint-disable-next-line ghost/ember/order-in-components
    _uploadFile: (0, _emberConcurrency.task)(function* (tracker, file, index) {
      let ajax = this.ajax;

      let formData = this._getFormData(file);

      let url = `${(0, _ghostPaths.default)().apiRoot}${this.uploadUrl}`;

      try {
        this.onUploadStart(file);
        let response = yield ajax.post(url, {
          data: formData,
          processData: false,
          contentType: false,
          dataType: 'text',
          xhr: () => {
            let xhr = new window.XMLHttpRequest();
            xhr.upload.addEventListener('progress', event => {
              Ember.run(() => {
                tracker.update(event);

                this._updateProgress();
              });
            }, false);
            return xhr;
          }
        }); // force tracker progress to 100% in case we didn't get a final event,
        // eg. when using mirage

        tracker.update({
          loaded: file.size,
          total: file.size
        });

        this._updateProgress();

        let uploadResponse;
        let responseUrl;

        try {
          uploadResponse = JSON.parse(response);
        } catch (e) {
          if (!(e instanceof SyntaxError)) {
            throw e;
          }
        }

        if (uploadResponse) {
          let resource = Ember.get(uploadResponse, this.resourceName);

          if (resource && Ember.isArray(resource) && resource[0]) {
            responseUrl = Ember.get(resource[0], 'url');
          }
        }

        let result = {
          url: responseUrl,
          fileName: file.name
        };
        this.uploadUrls[index] = result;
        this.onUploadSuccess(result);
        return true;
      } catch (error) {
        // grab custom error message if present
        let message = error.payload.errors && error.payload.errors[0].message || '';
        let context = error.payload.errors && error.payload.errors[0].context || ''; // fall back to EmberData/ember-ajax default message for error type

        if (!message) {
          message = error.message;
        }

        let result = {
          message,
          context,
          fileName: file.name
        }; // TODO: check for or expose known error types?

        this.errors.pushObject(result);
        this.onUploadFailure(result);
      }
    }).maxConcurrency(MAX_SIMULTANEOUS_UPLOADS).enqueue(),

    // NOTE: this is necessary because the API doesn't accept direct file uploads
    _getFormData(file) {
      let formData = new FormData();
      formData.append(this.paramName, file, file.name);
      Object.keys(this.paramsHash || {}).forEach(key => {
        formData.append(key, this.paramsHash[key]);
      });
      return formData;
    },

    // TODO: this was needed because using CPs directly resulted in infrequent updates
    // - I think this was because updates were being wrapped up to save
    // computation but that hypothesis needs testing
    _updateProgress() {
      if (this.isDestroyed || this.isDestroying) {
        return;
      }

      let trackers = this._uploadTrackers;
      let totalSize = trackers.reduce((total, tracker) => total + tracker.get('total'), 0);
      let uploadedSize = trackers.reduce((total, tracker) => total + tracker.get('loaded'), 0);
      this.set('totalSize', totalSize);
      this.set('uploadedSize', uploadedSize);

      if (totalSize === 0 || uploadedSize === 0) {
        return;
      }

      let uploadPercentage = Math.round(uploadedSize / totalSize * 100);
      this.set('uploadPercentage', uploadPercentage);
    },

    _reset() {
      this.set('errors', []);
      this.set('totalSize', 0);
      this.set('uploadedSize', 0);
      this.set('uploadPercentage', 0);
      this.set('uploadUrls', []);
      this._uploadTrackers = [];
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-url-preview", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{this.url}}
  
  */
  {"id":"Kv1cS2Ga","block":"{\"symbols\":[],\"statements\":[[1,[32,0,[\"url\"]]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-url-preview.hbs"}});

  /*
  Example usage:
  {{gh-url-preview prefix="tag" slug=theSlugValue tagName="p" classNames="description"}}
  */
  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    config: Ember.inject.service(),
    classNames: 'ghost-url-preview',
    prefix: null,
    slug: null,
    url: Ember.computed('slug', function () {
      // Get the blog URL and strip the scheme
      let blogUrl = this.get('config.blogUrl'); // Remove `http[s]://`

      let noSchemeBlogUrl = blogUrl.substr(blogUrl.indexOf('://') + 3); // Get the prefix and slug values

      let prefix = this.prefix ? `${this.prefix}/` : '';
      let slug = this.slug ? `${this.slug}/` : ''; // Join parts of the URL together with slashes

      let theUrl = `${noSchemeBlogUrl}/${prefix}${slug}`;
      return theUrl;
    })
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-user-active", ["exports", "moment"], function (_exports, _moment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{yield this}}
  
  */
  {"id":"GZnjJ1v+","block":"{\"symbols\":[\"&default\"],\"statements\":[[18,1,[[32,0]]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-user-active.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    tagName: '',
    user: null,
    lastLoginUTC: Ember.computed('user.lastLoginUTC', function () {
      let lastLoginUTC = this.get('user.lastLoginUTC');
      return lastLoginUTC ? (0, _moment.default)(lastLoginUTC).fromNow() : '(Never)';
    })
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-user-invited", ["exports", "moment", "ember-ajax/errors"], function (_exports, _moment, _errors) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{yield this}}
  
  */
  {"id":"kecH4FXN","block":"{\"symbols\":[\"&default\"],\"statements\":[[18,1,[[32,0]]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[]}","meta":{"moduleName":"ghost-admin/components/gh-user-invited.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    notifications: Ember.inject.service(),
    store: Ember.inject.service(),
    tagName: '',
    invite: null,
    isSending: false,
    createdAt: Ember.computed('invite.createdAtUTC', function () {
      let createdAtUTC = this.get('invite.createdAtUTC');
      return createdAtUTC ? (0, _moment.default)(createdAtUTC).fromNow() : '';
    }),
    expiresAt: Ember.computed('invite.expires', function () {
      let expires = this.get('invite.expires');
      return expires ? (0, _moment.default)(expires).fromNow() : '';
    }),
    isExpired: Ember.computed('invite.expires', function () {
      let expires = this.get('invite.expires');
      let now = new Date().valueOf();
      return expires < now;
    }),
    actions: {
      resend() {
        let invite = this.invite;
        let notifications = this.notifications;
        this.set('isSending', true);
        invite.resend().then(result => {
          let notificationText = `Invitation resent! (${invite.get('email')})`; // the server deletes the old record and creates a new one when
          // resending so we need to update the store accordingly

          invite.unloadRecord();
          this.store.pushPayload('invite', result); // If sending the invitation email fails, the API will still return a status of 201
          // but the invite's status in the response object will be 'invited-pending'.

          if (result.invites[0].status === 'invited-pending') {
            notifications.showAlert('Invitation email was not sent.  Please try resending.', {
              type: 'error',
              key: 'invite.resend.not-sent'
            });
          } else {
            notifications.showNotification(notificationText, {
              icon: 'send-email',
              key: 'invite.resend.success'
            });
          }
        }).catch(error => {
          notifications.showAPIError(error, {
            key: 'invite.resend'
          });
        }).finally(() => {
          this.set('isSending', false);
        });
      },

      revoke() {
        let invite = this.invite;
        let email = invite.get('email');
        let notifications = this.notifications; // reload the invite to get the most up-to-date information

        invite.reload().then(() => {
          invite.destroyRecord().then(() => {
            notifications.showNotification('Invitation revoked', {
              key: 'invite.revoke.success',
              description: `${email}`
            });
          }).catch(error => {
            notifications.showAPIError(error, {
              key: 'invite.revoke'
            });
          });
        }).catch(error => {
          if ((0, _errors.isNotFoundError)(error)) {
            // if the invite no longer exists, then show a warning and reload the route
            let action = this.reload;

            if (action) {
              action();
            }

            notifications.showAlert('This invite has been revoked or a user has already accepted the invitation.', {
              type: 'error',
              delayed: true,
              key: 'invite.revoke.already-accepted'
            });
          } else {
            throw error;
          }
        });
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-user-list-item", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="apps-grid-cell">
      <LinkTo @route="staff.user" @model={{user.slug}} data-test-user-id={{user.id}}>
      <article class="apps-card-app">
          <div class="apps-card-left">
              <span class="user-list-item-figure" style={{background-image-style user.profileImageUrl}}>
                  <span class="hidden">Photo of {{user.name}}</span>
              </span>
              <div class="apps-card-meta">
                  <h3 class="apps-card-app-title">{{user.name}}</h3>
                  <p class="apps-card-app-desc">Last seen: {{component.lastLoginUTC}}</p>
              </div>
          </div>
          <div class="apps-card-right">
              <div class="apps-configured">
                  {{#if user.isSuspended}}
                      <span class="gh-badge author">Suspended</span>
                  {{else}}
                      {{#if user.isLocked}}
                          <span class="gh-badge author">Locked</span>
                      {{/if}}
                      {{#unless this.session.user.isAuthorOrContributor}}
                          {{#each user.roles as |role|}}
                              <span class="gh-badge {{role.lowerCaseName}}" data-test-role-name>{{role.name}}</span>
                          {{/each}}
                      {{/unless}}
                  {{/if}}
                  {{svg-jar "arrow-right"}}
              </div>
          </div>
      </article>
      </LinkTo>
  </div>
  
  */
  {"id":"ro6eNy5Q","block":"{\"symbols\":[\"role\"],\"statements\":[[10,\"div\"],[14,0,\"apps-grid-cell\"],[12],[2,\"\\n    \"],[8,\"link-to\",[[16,\"data-test-user-id\",[34,0,[\"id\"]]]],[[\"@route\",\"@model\"],[\"staff.user\",[34,0,[\"slug\"]]]],[[\"default\"],[{\"statements\":[[2,\"\\n    \"],[10,\"article\"],[14,0,\"apps-card-app\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"apps-card-left\"],[12],[2,\"\\n            \"],[10,\"span\"],[14,0,\"user-list-item-figure\"],[15,5,[30,[36,5],[[35,0,[\"profileImageUrl\"]]],null]],[12],[2,\"\\n                \"],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Photo of \"],[1,[35,0,[\"name\"]]],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"apps-card-meta\"],[12],[2,\"\\n                \"],[10,\"h3\"],[14,0,\"apps-card-app-title\"],[12],[1,[35,0,[\"name\"]]],[13],[2,\"\\n                \"],[10,\"p\"],[14,0,\"apps-card-app-desc\"],[12],[2,\"Last seen: \"],[1,[35,6,[\"lastLoginUTC\"]]],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"apps-card-right\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"apps-configured\"],[12],[2,\"\\n\"],[6,[37,3],[[35,0,[\"isSuspended\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                    \"],[10,\"span\"],[14,0,\"gh-badge author\"],[12],[2,\"Suspended\"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,3],[[35,0,[\"isLocked\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"span\"],[14,0,\"gh-badge author\"],[12],[2,\"Locked\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[6,[37,4],[[32,0,[\"session\",\"user\",\"isAuthorOrContributor\"]]],null,[[\"default\"],[{\"statements\":[[6,[37,2],[[30,[36,1],[[30,[36,1],[[35,0,[\"roles\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                            \"],[10,\"span\"],[15,0,[31,[\"gh-badge \",[32,1,[\"lowerCaseName\"]]]]],[14,\"data-test-role-name\",\"\"],[12],[1,[32,1,[\"name\"]]],[13],[2,\"\\n\"]],\"parameters\":[1]}]]]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"                \"],[1,[30,[36,7],[\"arrow-right\"],null]],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"user\",\"-track-array\",\"each\",\"if\",\"unless\",\"background-image-style\",\"component\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/gh-user-list-item.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    tagName: ''
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-validation-status-container", ["exports", "ghost-admin/mixins/validation-state"], function (_exports, _validationState) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /**
   * Handles the CSS necessary to show a specific property state. When passed a
   * DS.Errors object and a property name, if the DS.Errors object has errors for
   * the specified property, it will change the CSS to reflect the error state
   * @param  {DS.Errors} errors   The DS.Errors object
   * @param  {string} property    Name of the property
   */
  var _default = Ember.Component.extend(_validationState.default, {
    classNameBindings: ['errorClass'],
    errorClass: Ember.computed('property', 'hasError', 'hasValidated.[]', function () {
      let hasValidated = this.hasValidated;
      let property = this.property;

      if (hasValidated && hasValidated.includes(property)) {
        return this.hasError ? 'error' : 'success';
      } else {
        return '';
      }
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/components/gh-view-title", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <button {{action "openMobileMenu" target=this.ui}} class="gh-mobilemenu-button" role="presentation">{{svg-jar "icon" class="icon-gh"}}<span class="sr-only">Menu</span></button>
  {{yield}}
  
  */
  {"id":"vttLwPek","block":"{\"symbols\":[\"&default\"],\"statements\":[[11,\"button\"],[24,0,\"gh-mobilemenu-button\"],[24,\"role\",\"presentation\"],[4,[38,0],[[32,0],\"openMobileMenu\"],[[\"target\"],[[32,0,[\"ui\"]]]]],[12],[1,[30,[36,1],[\"icon\"],[[\"class\"],[\"icon-gh\"]]]],[10,\"span\"],[14,0,\"sr-only\"],[12],[2,\"Menu\"],[13],[13],[2,\"\\n\"],[18,1,null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/gh-view-title.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    ui: Ember.inject.service(),
    tagName: 'h2',
    classNames: ['view-title']
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/gh-whats-new", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#if this.whatsNew.isShowingModal}}
      <GhFullscreenModal
          @modal="whats-new"
          @modifier="wide"
          @close={{fn this.whatsNew.closeModal}}
      />
  {{/if}}
  */
  {"id":"tY+9v7YB","block":"{\"symbols\":[],\"statements\":[[6,[37,1],[[32,0,[\"whatsNew\",\"isShowingModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@modifier\",\"@close\"],[\"whats-new\",\"wide\",[30,[36,0],[[32,0,[\"whatsNew\",\"closeModal\"]]],null]]],null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"fn\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/gh-whats-new.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, Ember.Component.extend({
    whatsNew: Ember.inject.service()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/illiquid-model", ["exports", "liquid-fire/components/illiquid-model"], function (_exports, _illiquidModel) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _illiquidModel.default;
    }
  });
});
;define("ghost-admin/components/infinity-loader", ["exports", "ember-infinity/components/infinity-loader"], function (_exports, _infinityLoader) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = _infinityLoader.default;
  _exports.default = _default;
});
;define("ghost-admin/components/kg-action-bar", ["exports", "koenig-editor/components/kg-action-bar"], function (_exports, _kgActionBar) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _kgActionBar.default;
    }
  });
});
;define("ghost-admin/components/koenig-alt-input", ["exports", "koenig-editor/components/koenig-alt-input"], function (_exports, _koenigAltInput) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigAltInput.default;
    }
  });
});
;define("ghost-admin/components/koenig-basic-html-input", ["exports", "koenig-editor/components/koenig-basic-html-input"], function (_exports, _koenigBasicHtmlInput) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigBasicHtmlInput.default;
    }
  });
});
;define("ghost-admin/components/koenig-caption-input", ["exports", "koenig-editor/components/koenig-caption-input"], function (_exports, _koenigCaptionInput) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigCaptionInput.default;
    }
  });
});
;define("ghost-admin/components/koenig-card-bookmark", ["exports", "koenig-editor/components/koenig-card-bookmark"], function (_exports, _koenigCardBookmark) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigCardBookmark.default;
    }
  });
});
;define("ghost-admin/components/koenig-card-code", ["exports", "koenig-editor/components/koenig-card-code"], function (_exports, _koenigCardCode) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigCardCode.default;
    }
  });
});
;define("ghost-admin/components/koenig-card-email", ["exports", "koenig-editor/components/koenig-card-email"], function (_exports, _koenigCardEmail) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigCardEmail.default;
    }
  });
});
;define("ghost-admin/components/koenig-card-embed", ["exports", "koenig-editor/components/koenig-card-embed"], function (_exports, _koenigCardEmbed) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigCardEmbed.default;
    }
  });
});
;define("ghost-admin/components/koenig-card-gallery", ["exports", "koenig-editor/components/koenig-card-gallery"], function (_exports, _koenigCardGallery) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigCardGallery.default;
    }
  });
});
;define("ghost-admin/components/koenig-card-hr", ["exports", "koenig-editor/components/koenig-card-hr"], function (_exports, _koenigCardHr) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigCardHr.default;
    }
  });
});
;define("ghost-admin/components/koenig-card-html", ["exports", "koenig-editor/components/koenig-card-html"], function (_exports, _koenigCardHtml) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigCardHtml.default;
    }
  });
});
;define("ghost-admin/components/koenig-card-image", ["exports", "koenig-editor/components/koenig-card-image"], function (_exports, _koenigCardImage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigCardImage.default;
    }
  });
});
;define("ghost-admin/components/koenig-card-markdown", ["exports", "koenig-editor/components/koenig-card-markdown"], function (_exports, _koenigCardMarkdown) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigCardMarkdown.default;
    }
  });
});
;define("ghost-admin/components/koenig-card", ["exports", "koenig-editor/components/koenig-card"], function (_exports, _koenigCard) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigCard.default;
    }
  });
});
;define("ghost-admin/components/koenig-editor", ["exports", "koenig-editor/components/koenig-editor"], function (_exports, _koenigEditor) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigEditor.default;
    }
  });
});
;define("ghost-admin/components/koenig-link-input", ["exports", "koenig-editor/components/koenig-link-input"], function (_exports, _koenigLinkInput) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigLinkInput.default;
    }
  });
});
;define("ghost-admin/components/koenig-link-toolbar", ["exports", "koenig-editor/components/koenig-link-toolbar"], function (_exports, _koenigLinkToolbar) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigLinkToolbar.default;
    }
  });
});
;define("ghost-admin/components/koenig-menu-content", ["exports", "koenig-editor/components/koenig-menu-content"], function (_exports, _koenigMenuContent) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigMenuContent.default;
    }
  });
});
;define("ghost-admin/components/koenig-plus-menu", ["exports", "koenig-editor/components/koenig-plus-menu"], function (_exports, _koenigPlusMenu) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigPlusMenu.default;
    }
  });
});
;define("ghost-admin/components/koenig-slash-menu", ["exports", "koenig-editor/components/koenig-slash-menu"], function (_exports, _koenigSlashMenu) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigSlashMenu.default;
    }
  });
});
;define("ghost-admin/components/koenig-text-replacement-html-input", ["exports", "koenig-editor/components/koenig-text-replacement-html-input"], function (_exports, _koenigTextReplacementHtmlInput) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigTextReplacementHtmlInput.default;
    }
  });
});
;define("ghost-admin/components/koenig-toolbar", ["exports", "koenig-editor/components/koenig-toolbar"], function (_exports, _koenigToolbar) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigToolbar.default;
    }
  });
});
;define("ghost-admin/components/liquid-append", ["exports", "liquid-wormhole/components/liquid-append"], function (_exports, _liquidAppend) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidAppend.default;
    }
  });
});
;define("ghost-admin/components/liquid-bind", ["exports", "liquid-fire/components/liquid-bind"], function (_exports, _liquidBind) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidBind.default;
    }
  });
});
;define("ghost-admin/components/liquid-child", ["exports", "liquid-fire/components/liquid-child"], function (_exports, _liquidChild) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidChild.default;
    }
  });
});
;define("ghost-admin/components/liquid-container", ["exports", "liquid-fire/components/liquid-container"], function (_exports, _liquidContainer) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidContainer.default;
    }
  });
});
;define("ghost-admin/components/liquid-destination", ["exports", "liquid-wormhole/components/liquid-destination"], function (_exports, _liquidDestination) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidDestination.default;
    }
  });
});
;define("ghost-admin/components/liquid-if", ["exports", "liquid-fire/components/liquid-if"], function (_exports, _liquidIf) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidIf.default;
    }
  });
});
;define("ghost-admin/components/liquid-measured", ["exports", "liquid-fire/components/liquid-measured"], function (_exports, _liquidMeasured) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidMeasured.default;
    }
  });
  Object.defineProperty(_exports, "measure", {
    enumerable: true,
    get: function () {
      return _liquidMeasured.measure;
    }
  });
});
;define("ghost-admin/components/liquid-outlet", ["exports", "liquid-fire/components/liquid-outlet"], function (_exports, _liquidOutlet) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidOutlet.default;
    }
  });
});
;define("ghost-admin/components/liquid-spacer", ["exports", "liquid-fire/components/liquid-spacer"], function (_exports, _liquidSpacer) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidSpacer.default;
    }
  });
});
;define("ghost-admin/components/liquid-sync", ["exports", "liquid-fire/components/liquid-sync"], function (_exports, _liquidSync) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidSync.default;
    }
  });
});
;define("ghost-admin/components/liquid-tether", ["exports", "liquid-tether/components/liquid-tether"], function (_exports, _liquidTether) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidTether.default;
    }
  });
});
;define("ghost-admin/components/liquid-unless", ["exports", "liquid-fire/components/liquid-unless"], function (_exports, _liquidUnless) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidUnless.default;
    }
  });
});
;define("ghost-admin/components/liquid-versions", ["exports", "liquid-fire/components/liquid-versions"], function (_exports, _liquidVersions) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidVersions.default;
    }
  });
});
;define("ghost-admin/components/liquid-wormhole", ["exports", "liquid-wormhole/components/liquid-wormhole"], function (_exports, _liquidWormhole) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidWormhole.default;
    }
  });
});
;define("ghost-admin/components/modal-base", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Component.extend({
    tagName: 'section',
    classNames: 'modal-content',
    _previousKeymasterScope: null,
    // Allowed Actions
    closeModal: () => {},

    didInsertElement() {
      this._super(...arguments);

      this._setupShortcuts();
    },

    willDestroyElement() {
      this._super(...arguments);

      this._removeShortcuts();
    },

    actions: {
      confirm() {
        throw new Error('You must override the "confirm" action in your modal component');
      },

      closeModal() {
        this.closeModal();
      }

    },

    _setupShortcuts() {
      Ember.run(function () {
        document.activeElement.blur();
      });
      this._previousKeymasterScope = key.getScope();
      key('enter', 'modal', () => {
        this.send('confirm');
      });
      key('escape', 'modal', () => {
        this.send('closeModal');
      });
      key.setScope('modal');
    },

    _removeShortcuts() {
      key.unbind('enter', 'modal');
      key.unbind('escape', 'modal');
      key.setScope(this._previousKeymasterScope);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/components/modal-billing", ["exports", "ghost-admin/components/modal-base"], function (_exports, _modalBase) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="gh-billing-close">
      <button class="close" href title="Close" {{on "click" (action "closeModal")}}>
          {{svg-jar "close"}}
      </button>
  </div>
  
  <GhBillingIframe></GhBillingIframe>
  
  */
  {"id":"vLbQhY66","block":"{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"gh-billing-close\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,1],[\"click\",[30,[36,0],[[32,0],\"closeModal\"],null]],null],[12],[2,\"\\n        \"],[1,[30,[36,2],[\"close\"],null]],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[8,\"gh-billing-iframe\",[],[[],[]],[[\"default\"],[{\"statements\":[],\"parameters\":[]}]]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"on\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-billing.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    billing: Ember.inject.service(),
    actions: {
      closeModal() {
        this.billing.closeBillingWindow();
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-confirm-email-send", ["exports", "ghost-admin/components/modal-base", "ember-inflector", "ember-concurrency"], function (_exports, _modalBase, _emberInflector, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#unless this.errorMessage}}
      <header class="modal-header" data-test-modal="delete-user">
          <h1>Ready to go? Here’s what happens next</h1>
      </header>
      <button class="close" title="Close" {{on "click" this.closeModal}}>{{svg-jar "close"}}<span class="hidden">Close</span></button>
  
      <div class="modal-body">
          <p>
              Your post will be delivered to
              <strong>{{this.deliveredToMessage}}</strong>
              and will be published on your site{{#if this.model.isScheduled}} at the scheduled time{{/if}}. Sound good?
          </p>
      </div>
  
      <div class="modal-footer">
          <button {{on "click" this.closeModal}} class="gh-btn" data-test-button="cancel-publish-and-email">
              <span>Cancel</span>
          </button>
          <GhTaskButton
              @buttonText={{if this.model.isScheduled "Schedule" "Publish and send"}}
              @runningText={{if this.model.isScheduled "Scheduling..." "Publishing..."}}
              @task={{this.confirmAndCheckError}}
              @class="gh-btn gh-btn-green gh-btn-icon"
              data-test-button="confirm-publish-and-email"
          />
      </div>
  
  {{else}}
      <header class="modal-header" data-test-modal="delete-user">
          <h1>Failed to send email</h1>
      </header>
      <button class="close" title="Close" {{on "click" this.closeModal}}>{{svg-jar "close"}}<span class="hidden">Close</span></button>
  
      <div class="modal-body">
          {{#if this.session.user.isOwner}}
              <p>Your post has been published but the email failed to send. Please <LinkTo @route="settings.labs">check your Mailgun configuration</LinkTo> if the error persists.</p>
          {{else}}
              <p>Your post has been published but the email failed to send. Please check your Mailgun configuration if the error persists.</p>
          {{/if}}
          <p class="mb0">
              <button type="button" class="gh-btn gh-btn-text regular" {{action (toggle "errorDetailsOpen" this)}} data-test-toggle-error>
                  {{#if this.errorDetailsOpen}}
                  {{svg-jar "arrow-down" class="nudge-top--2 w2 h2 fill-darkgrey mr1"}}
                  {{else}}
                  {{svg-jar "arrow-right" class="nudge-top--1 w2 h2 fill-darkgrey mr1"}}
                  {{/if}}
                  <span>Error details</span>
              </button>
          </p>
  
          {{#liquid-if this.errorDetailsOpen}}
          <p class="error gh-box gh-box-error mt3 mb3">
              {{svg-jar "warning"}}
              {{this.errorMessage}}
          </p>
          {{/liquid-if}}
      </div>
  
      <div class="modal-footer">
          <button {{on "click" this.closeModal}} class="gh-btn" data-test-button="cancel-publish-and-email">
              <span>Close</span>
          </button>
          <GhTaskButton
              @buttonText="Retry email"
              @runningText="Sending..."
              @task={{this.retryEmailTask}}
              @class="gh-btn gh-btn-red gh-btn-icon"
              data-test-button="retry-email"
          />
      </div>
  {{/unless}}
  */
  {"id":"KRgZ8lPq","block":"{\"symbols\":[],\"statements\":[[6,[37,6],[[32,0,[\"errorMessage\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"    \"],[10,\"header\"],[14,0,\"modal-header\"],[14,\"data-test-modal\",\"delete-user\"],[12],[2,\"\\n        \"],[10,\"h1\"],[12],[2,\"Ready to go? Here’s what happens next\"],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[11,\"button\"],[24,0,\"close\"],[24,\"title\",\"Close\"],[4,[38,1],[\"click\",[32,0,[\"closeModal\"]]],null],[12],[1,[30,[36,0],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n        \"],[10,\"p\"],[12],[2,\"\\n            Your post will be delivered to\\n            \"],[10,\"strong\"],[12],[1,[32,0,[\"deliveredToMessage\"]]],[13],[2,\"\\n            and will be published on your site\"],[6,[37,2],[[32,0,[\"model\",\"isScheduled\"]]],null,[[\"default\"],[{\"statements\":[[2,\" at the scheduled time\"]],\"parameters\":[]}]]],[2,\". Sound good?\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n        \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-button\",\"cancel-publish-and-email\"],[4,[38,1],[\"click\",[32,0,[\"closeModal\"]]],null],[12],[2,\"\\n            \"],[10,\"span\"],[12],[2,\"Cancel\"],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[8,\"gh-task-button\",[[24,\"data-test-button\",\"confirm-publish-and-email\"]],[[\"@buttonText\",\"@runningText\",\"@task\",\"@class\"],[[30,[36,2],[[32,0,[\"model\",\"isScheduled\"]],\"Schedule\",\"Publish and send\"],null],[30,[36,2],[[32,0,[\"model\",\"isScheduled\"]],\"Scheduling...\",\"Publishing...\"],null],[32,0,[\"confirmAndCheckError\"]],\"gh-btn gh-btn-green gh-btn-icon\"]],null],[2,\"\\n    \"],[13],[2,\"\\n\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"    \"],[10,\"header\"],[14,0,\"modal-header\"],[14,\"data-test-modal\",\"delete-user\"],[12],[2,\"\\n        \"],[10,\"h1\"],[12],[2,\"Failed to send email\"],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[11,\"button\"],[24,0,\"close\"],[24,\"title\",\"Close\"],[4,[38,1],[\"click\",[32,0,[\"closeModal\"]]],null],[12],[1,[30,[36,0],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"session\",\"user\",\"isOwner\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"            \"],[10,\"p\"],[12],[2,\"Your post has been published but the email failed to send. Please \"],[8,\"link-to\",[],[[\"@route\"],[\"settings.labs\"]],[[\"default\"],[{\"statements\":[[2,\"check your Mailgun configuration\"]],\"parameters\":[]}]]],[2,\" if the error persists.\"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"            \"],[10,\"p\"],[12],[2,\"Your post has been published but the email failed to send. Please check your Mailgun configuration if the error persists.\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[10,\"p\"],[14,0,\"mb0\"],[12],[2,\"\\n            \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-text regular\"],[24,\"data-test-toggle-error\",\"\"],[24,4,\"button\"],[4,[38,4],[[32,0],[30,[36,3],[\"errorDetailsOpen\",[32,0]],null]],null],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"errorDetailsOpen\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[1,[30,[36,0],[\"arrow-down\"],[[\"class\"],[\"nudge-top--2 w2 h2 fill-darkgrey mr1\"]]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                \"],[1,[30,[36,0],[\"arrow-right\"],[[\"class\"],[\"nudge-top--1 w2 h2 fill-darkgrey mr1\"]]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[10,\"span\"],[12],[2,\"Error details\"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n\"],[6,[37,5],[[32,0,[\"errorDetailsOpen\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"p\"],[14,0,\"error gh-box gh-box-error mt3 mb3\"],[12],[2,\"\\n            \"],[1,[30,[36,0],[\"warning\"],null]],[2,\"\\n            \"],[1,[32,0,[\"errorMessage\"]]],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    \"],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n        \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-button\",\"cancel-publish-and-email\"],[4,[38,1],[\"click\",[32,0,[\"closeModal\"]]],null],[12],[2,\"\\n            \"],[10,\"span\"],[12],[2,\"Close\"],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[8,\"gh-task-button\",[[24,\"data-test-button\",\"retry-email\"]],[[\"@buttonText\",\"@runningText\",\"@task\",\"@class\"],[\"Retry email\",\"Sending...\",[32,0,[\"retryEmailTask\"]],\"gh-btn gh-btn-red gh-btn-icon\"]],null],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"on\",\"if\",\"toggle\",\"action\",\"liquid-if\",\"unless\"]}","meta":{"moduleName":"ghost-admin/components/modal-confirm-email-send.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    session: Ember.inject.service(),
    errorMessage: null,
    // Allowed actions
    confirm: () => {},
    deliveredToMessage: Ember.computed('model.{paidOnly,memberCount}', function () {
      const isEditor = this.get('session.user.isEditor');

      if (this.get('model.paidOnly')) {
        return 'all paid members';
      }

      if (isEditor) {
        return 'all members';
      }

      return (0, _emberInflector.pluralize)(this.get('model.memberCount'), 'member');
    }),
    confirmAndCheckError: (0, _emberConcurrency.task)(function* () {
      try {
        yield this.confirm();
        this.closeModal();
        return true;
      } catch (e) {
        // switch to "failed" state if email fails
        if (e && e.name === 'EmailFailedError') {
          this.set('errorMessage', e.message);
          return;
        } // close modal and continue with normal error handling if it was
        // a non-email-related error


        this.closeModal();

        if (e) {
          throw e;
        }
      }
    }),
    retryEmailTask: (0, _emberConcurrency.task)(function* () {
      try {
        yield this.model.retryEmailSend();
        this.closeModal();
        return true;
      } catch (e) {
        // update "failed" state if email fails again
        if (e && e.name === 'EmailFailedError') {
          this.set('errorMessage', e.message);
          return;
        } // TODO: test a non-email failure - maybe this needs to go through
        // the notifications service


        if (e) {
          throw e;
        }
      }
    })
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-custom-view-form", ["exports", "ghost-admin/components/modal-base", "ghost-admin/helpers/reset-query-params", "ember-concurrency"], function (_exports, _modalBase, _resetQueryParams, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header" data-test-modal="custom-view-form">
      <h1>{{if this.model.isNew "New view" "Edit view"}}</h1>
  </header>
  {{!-- disable mouseDown so it doesn't trigger focus-out validations --}}
  <button class="close" href title="Close" {{action "closeModal"}} {{action (optional this.noop) on="mouseDown"}}>
      {{svg-jar "close"}}
  </button>
  
  <div class="modal-body">
      <fieldset>
          <GhFormGroup @errors={{this.model.errors}} @hasValidated={{this.model.hasValidated}} @property="name">
              <label for="view-name" class="dib fw6">View name</label>
              <GhTextInput
                  @id="view-name"
                  @value={{this.model.name}}
                  @placeholder="Breaking news"
                  @focus-out={{action "validate" "name" target=this.model}}
                  data-test-input="custom-view-name"
              />
              {{#if this.model.errors}}
                  <GhErrorMessage @errors={{this.model.errors}} @property="name" data-test-error="custom-view-name" />
              {{else}}
                  {{#if this.model.isNew}}
                      <p>Saved views appear in the app sidebar.</p>
                  {{/if}}
              {{/if}}
          </GhFormGroup>
      </fieldset>
      <div>
          <label for="view-name" class="dib fw6">Icon color</label>
          <div class="flex justify-between mt3 nl1">
              {{#each this.customViews.availableColors as |color|}}
                  <div class="gh-radio-color">
                      <input
                          type="radio"
                          name="view-color"
                          id="view-{{color}}"
                          checked={{eq color this.delayedModelColor}}
                          value={{color}}
                          {{on "change" (action 'changeColor')}}
                      >
                      <label for="view-{{color}}"><span class="gh-radio-color-{{color}}"></span></label>
                  </div>
              {{/each}}
          </div>
      </div>
  </div>
  
  <div class="modal-footer">
      {{#if this.model.isNew}}
          <button
              class="gh-btn"
              {{action "closeModal"}}
              {{!-- disable mouseDown so it doesn't trigger focus-out validations --}}
              {{action (optional this.noop) on="mouseDown"}}
              data-test-button="cancel-custom-view-form"
          >
              <span>Cancel</span>
          </button>
      {{else}}
          <button
              class="gh-btn gh-btn-red gh-btn-icon"
              {{on "click" (perform this.deleteTask)}}
              {{on "mousedown" (optional this.noop)}}
              data-test-button="delete-custom-view"
          >
              <span>{{svg-jar "trash"}} Delete</span>
          </button
          >
      {{/if}}
  
      <GhTaskButton
          @buttonText="Save"
          @successText="Saved"
          @autoReset={{true}}
          @task={{this.saveTask}}
          @taskArgs={{this.model}}
          @class="gh-btn gh-btn-green gh-btn-icon"
          data-test-button="save-custom-view" />
  </div>
  */
  {"id":"N0avyfrl","block":"{\"symbols\":[\"color\"],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[14,\"data-test-modal\",\"custom-view-form\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[1,[30,[36,6],[[32,0,[\"model\",\"isNew\"]],\"New view\",\"Edit view\"],null]],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"button\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,4],[[32,0],\"closeModal\"],null],[4,[38,4],[[32,0],[30,[36,2],[[32,0,[\"noop\"]]],null]],[[\"on\"],[\"mouseDown\"]]],[12],[2,\"\\n    \"],[1,[30,[36,3],[\"close\"],null]],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"fieldset\"],[12],[2,\"\\n        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"model\",\"errors\"]],[32,0,[\"model\",\"hasValidated\"]],\"name\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"label\"],[14,\"for\",\"view-name\"],[14,0,\"dib fw6\"],[12],[2,\"View name\"],[13],[2,\"\\n            \"],[8,\"gh-text-input\",[[24,\"data-test-input\",\"custom-view-name\"]],[[\"@id\",\"@value\",\"@placeholder\",\"@focus-out\"],[\"view-name\",[32,0,[\"model\",\"name\"]],\"Breaking news\",[30,[36,4],[[32,0],\"validate\",\"name\"],[[\"target\"],[[32,0,[\"model\"]]]]]]],null],[2,\"\\n\"],[6,[37,6],[[32,0,[\"model\",\"errors\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"custom-view-name\"]],[[\"@errors\",\"@property\"],[[32,0,[\"model\",\"errors\"]],\"name\"]],null],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,6],[[32,0,[\"model\",\"isNew\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"p\"],[12],[2,\"Saved views appear in the app sidebar.\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"        \"]],\"parameters\":[]}]]],[2,\"\\n    \"],[13],[2,\"\\n    \"],[10,\"div\"],[12],[2,\"\\n        \"],[10,\"label\"],[14,\"for\",\"view-name\"],[14,0,\"dib fw6\"],[12],[2,\"Icon color\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex justify-between mt3 nl1\"],[12],[2,\"\\n\"],[6,[37,8],[[30,[36,7],[[30,[36,7],[[32,0,[\"customViews\",\"availableColors\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"div\"],[14,0,\"gh-radio-color\"],[12],[2,\"\\n                    \"],[11,\"input\"],[24,3,\"view-color\"],[16,1,[31,[\"view-\",[32,1]]]],[16,\"checked\",[30,[36,5],[[32,1],[32,0,[\"delayedModelColor\"]]],null]],[16,2,[32,1]],[24,4,\"radio\"],[4,[38,1],[\"change\",[30,[36,4],[[32,0],\"changeColor\"],null]],null],[12],[13],[2,\"\\n                    \"],[10,\"label\"],[15,\"for\",[31,[\"view-\",[32,1]]]],[12],[10,\"span\"],[15,0,[31,[\"gh-radio-color-\",[32,1]]]],[12],[13],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[1]}]]],[2,\"        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n\"],[6,[37,6],[[32,0,[\"model\",\"isNew\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"        \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-button\",\"cancel-custom-view-form\"],[4,[38,4],[[32,0],\"closeModal\"],null],[4,[38,4],[[32,0],[30,[36,2],[[32,0,[\"noop\"]]],null]],[[\"on\"],[\"mouseDown\"]]],[12],[2,\"\\n            \"],[10,\"span\"],[12],[2,\"Cancel\"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"        \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-red gh-btn-icon\"],[24,\"data-test-button\",\"delete-custom-view\"],[4,[38,1],[\"click\",[30,[36,0],[[32,0,[\"deleteTask\"]]],null]],null],[4,[38,1],[\"mousedown\",[30,[36,2],[[32,0,[\"noop\"]]],null]],null],[12],[2,\"\\n            \"],[10,\"span\"],[12],[1,[30,[36,3],[\"trash\"],null]],[2,\" Delete\"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n    \"],[8,\"gh-task-button\",[[24,\"data-test-button\",\"save-custom-view\"]],[[\"@buttonText\",\"@successText\",\"@autoReset\",\"@task\",\"@taskArgs\",\"@class\"],[\"Save\",\"Saved\",true,[32,0,[\"saveTask\"]],[32,0,[\"model\"]],\"gh-btn gh-btn-green gh-btn-icon\"]],null],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"perform\",\"on\",\"optional\",\"svg-jar\",\"action\",\"eq\",\"if\",\"-track-array\",\"each\"]}","meta":{"moduleName":"ghost-admin/components/modal-custom-view-form.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    customViews: Ember.inject.service(),
    router: Ember.inject.service(),
    delayedModelColor: '',

    confirm() {},

    init() {
      this._super(...arguments);

      this.set('model', this.customViews.editView());

      this._setDelayedModelColor.perform();
    },

    actions: {
      changeColor(event) {
        let color = event.target.value;
        this.set('model.color', color);
        this.set('delayedModelColor', color);
      },

      confirm() {
        return this.saveTask.perform();
      }

    },
    saveTask: (0, _emberConcurrency.task)(function* () {
      let view = yield this.customViews.saveViewTask.perform(this.model);
      this.send('closeModal');
      return view;
    }),
    deleteTask: (0, _emberConcurrency.task)(function* () {
      let view = yield this.customViews.deleteViewTask.perform(this.model);
      let routeName = this.router.currentRouteName;
      this.send('closeModal');
      this.router.transitionTo(routeName, {
        queryParams: (0, _resetQueryParams.resetQueryParams)(routeName)
      });
      return view;
    }),
    // this is a hack to get around radio buttons not working with liquid-fire.
    // The DOM is duplicated whilst animating-in so browsers end up setting the
    // checked property on the temporary DOM. Delaying the value being set
    // allows us to ensure we're updating the checked property after animation
    _setDelayedModelColor: (0, _emberConcurrency.task)(function* () {
      yield (0, _emberConcurrency.timeout)(200);
      this.set('delayedModelColor', this.model.color);
    })
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-delete-all", ["exports", "ghost-admin/components/modal-base", "ember-concurrency"], function (_exports, _modalBase, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header">
      <h1>Would you really like to delete all content from your blog?</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body">
      <p>This is permanent! No backups, no restores, no magic undo button. We warned you, k?</p>
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn"><span>Cancel</span></button>
      <GhTaskButton @buttonText="Delete" @successText="Deleted" @task={{this.deleteAll}} @class="gh-btn gh-btn-red gh-btn-icon" />
  </div>
  
  */
  {"id":"J8S4v1r7","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Would you really like to delete all content from your blog?\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,1],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"p\"],[12],[2,\"This is permanent! No backups, no restores, no magic undo button. We warned you, k?\"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[10,\"span\"],[12],[2,\"Cancel\"],[13],[13],[2,\"\\n    \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\"],[\"Delete\",\"Deleted\",[32,0,[\"deleteAll\"]],\"gh-btn gh-btn-red gh-btn-icon\"]],null],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-delete-all.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    ghostPaths: Ember.inject.service(),
    notifications: Ember.inject.service(),
    store: Ember.inject.service(),
    ajax: Ember.inject.service(),
    actions: {
      confirm() {
        this.deleteAll.perform();
      }

    },

    _deleteAll() {
      let deleteUrl = this.get('ghostPaths.url').api('db');
      return this.ajax.del(deleteUrl);
    },

    _unloadData() {
      this.store.unloadAll('post');
      this.store.unloadAll('tag');
    },

    _showSuccess() {
      this.notifications.showAlert('All content deleted from database.', {
        type: 'success',
        key: 'all-content.delete.success'
      });
    },

    _showFailure(error) {
      this.notifications.showAPIError(error, {
        key: 'all-content.delete'
      });
    },

    deleteAll: (0, _emberConcurrency.task)(function* () {
      try {
        yield this._deleteAll();

        this._unloadData();

        this._showSuccess();
      } catch (error) {
        this._showFailure(error);
      } finally {
        this.send('closeModal');
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-delete-integration", ["exports", "ghost-admin/components/modal-base", "ember-concurrency"], function (_exports, _modalBase, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header">
      <h1>Are you sure?</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  <div class="modal-body">
      <p>
          Deleting this integration will remove all webhooks and api keys associated with it.
      </p>
  </div>
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn"><span>Cancel</span></button>
      <GhTaskButton
          @buttonText="Delete Integration"
          @successText="Deleted"
          @task={{this.deleteIntegration}}
          @class="gh-btn gh-btn-red gh-btn-icon" />
  </div>
  
  */
  {"id":"VYrWDn6r","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Are you sure?\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,1],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"p\"],[12],[2,\"\\n        Deleting this integration will remove all webhooks and api keys associated with it.\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[10,\"span\"],[12],[2,\"Cancel\"],[13],[13],[2,\"\\n    \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\"],[\"Delete Integration\",\"Deleted\",[32,0,[\"deleteIntegration\"]],\"gh-btn gh-btn-red gh-btn-icon\"]],null],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-delete-integration.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    router: Ember.inject.service(),
    notifications: Ember.inject.service(),
    integration: Ember.computed.alias('model'),
    actions: {
      confirm() {
        this.deleteIntegration.perform();
      }

    },
    deleteIntegration: (0, _emberConcurrency.task)(function* () {
      try {
        yield this.confirm();
        this.router.transitionTo('settings.integrations');
      } catch (error) {
        this.notifications.showAPIError(error, {
          key: 'integration.delete.failed'
        });
      } finally {
        this.send('closeModal');
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-delete-member", ["exports", "ghost-admin/components/modal-base", "ember-concurrency"], function (_exports, _modalBase, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header">
      <h1>Are you sure you want to delete this member?</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body">
      <p>
          You're about to delete "<strong>{{or this.member.name this.member.email}}</strong>". This is permanent! We warned you, k?
      </p>
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn"><span>Cancel</span></button>
      <GhTaskButton @buttonText="Delete" @successText="Deleted" @task={{this.deleteMember}} @class="gh-btn gh-btn-red gh-btn-icon" />
  </div>
  */
  {"id":"jpFQ7b5U","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Are you sure you want to delete this member?\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,1],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"p\"],[12],[2,\"\\n        You're about to delete \\\"\"],[10,\"strong\"],[12],[1,[30,[36,2],[[32,0,[\"member\",\"name\"]],[32,0,[\"member\",\"email\"]]],null]],[13],[2,\"\\\". This is permanent! We warned you, k?\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[10,\"span\"],[12],[2,\"Cancel\"],[13],[13],[2,\"\\n    \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\"],[\"Delete\",\"Deleted\",[32,0,[\"deleteMember\"]],\"gh-btn gh-btn-red gh-btn-icon\"]],null],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\",\"or\"]}","meta":{"moduleName":"ghost-admin/components/modal-delete-member.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    // Allowed actions
    confirm: () => {},
    member: Ember.computed.alias('model'),
    actions: {
      confirm() {
        this.deleteMember.perform();
      }

    },
    deleteMember: (0, _emberConcurrency.task)(function* () {
      try {
        yield this.confirm();
      } finally {
        this.send('closeModal');
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-delete-post", ["exports", "ghost-admin/components/modal-base", "ember-concurrency"], function (_exports, _modalBase, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header">
      <h1>Are you sure you want to delete this {{this.post.displayName}}?</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body">
      <p>
          You're about to delete "<strong>{{this.post.title}}</strong>". This is permanent! We warned you, k?
      </p>
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn"><span>Cancel</span></button>
      <GhTaskButton @buttonText="Delete" @successText="Deleted" @task={{this.deletePost}} @class="gh-btn gh-btn-red gh-btn-icon" />
  </div>
  
  */
  {"id":"MQDqj7ND","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Are you sure you want to delete this \"],[1,[32,0,[\"post\",\"displayName\"]]],[2,\"?\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,1],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"p\"],[12],[2,\"\\n        You're about to delete \\\"\"],[10,\"strong\"],[12],[1,[32,0,[\"post\",\"title\"]]],[13],[2,\"\\\". This is permanent! We warned you, k?\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[10,\"span\"],[12],[2,\"Cancel\"],[13],[13],[2,\"\\n    \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\"],[\"Delete\",\"Deleted\",[32,0,[\"deletePost\"]],\"gh-btn gh-btn-red gh-btn-icon\"]],null],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-delete-post.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    notifications: Ember.inject.service(),
    post: Ember.computed.alias('model.post'),
    onSuccess: Ember.computed.alias('model.onSuccess'),
    actions: {
      confirm() {
        this.deletePost.perform();
      }

    },

    _deletePost() {
      let post = this.post; // definitely want to clear the data store and post of any unsaved,
      // client-generated tags

      post.updateTags();
      return post.destroyRecord();
    },

    _success() {
      // clear any previous error messages
      this.notifications.closeAlerts('post.delete'); // trigger the success action

      if (this.onSuccess) {
        this.onSuccess();
      }
    },

    _failure(error) {
      this.notifications.showAPIError(error, {
        key: 'post.delete.failed'
      });
    },

    deletePost: (0, _emberConcurrency.task)(function* () {
      try {
        yield this._deletePost();

        this._success();
      } catch (e) {
        this._failure(e);
      } finally {
        this.send('closeModal');
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-delete-tag", ["exports", "ghost-admin/components/modal-base", "ember-concurrency"], function (_exports, _modalBase, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header">
      <h1>Are you sure you want to delete this tag?</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body">
      {{#if this.tag.post_count}}
          <span class="red">This tag is attached to {{this.tag.count.posts}} {{this.postInflection}}.</span>
      {{/if}}
      You're about to delete "<strong>{{this.tag.name}}</strong>". This is permanent! We warned you, k?
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn"><span>Cancel</span></button>
      <GhTaskButton @buttonText="Delete" @successText="Deleted" @task={{this.deleteTag}} @class="gh-btn gh-btn-red gh-btn-icon" />
  </div>
  
  */
  {"id":"cS2yyp1P","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Are you sure you want to delete this tag?\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,1],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"tag\",\"post_count\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"span\"],[14,0,\"red\"],[12],[2,\"This tag is attached to \"],[1,[32,0,[\"tag\",\"count\",\"posts\"]]],[2,\" \"],[1,[32,0,[\"postInflection\"]]],[2,\".\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    You're about to delete \\\"\"],[10,\"strong\"],[12],[1,[32,0,[\"tag\",\"name\"]]],[13],[2,\"\\\". This is permanent! We warned you, k?\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[10,\"span\"],[12],[2,\"Cancel\"],[13],[13],[2,\"\\n    \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\"],[\"Delete\",\"Deleted\",[32,0,[\"deleteTag\"]],\"gh-btn gh-btn-red gh-btn-icon\"]],null],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/modal-delete-tag.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    // Allowed actions
    confirm: () => {},
    tag: Ember.computed.alias('model'),
    postInflection: Ember.computed('tag.count.posts', function () {
      return this.get('tag.count.posts') > 1 ? 'posts' : 'post';
    }),
    actions: {
      confirm() {
        this.deleteTag.perform();
      }

    },
    deleteTag: (0, _emberConcurrency.task)(function* () {
      try {
        yield this.confirm();
      } finally {
        this.send('closeModal');
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-delete-theme", ["exports", "ghost-admin/components/modal-base", "ember-concurrency"], function (_exports, _modalBase, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header" data-test-delete-theme-modal>
      <h1>Are you sure you want to delete this</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body">
      <p>You're about to delete "<strong>{{this.theme.label}}</strong>". This is permanent! We warned you, k? Maybe <a href="#" {{action this.download}}>Download your theme before continuing</a></p>
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn" data-test-cancel-button><span>Cancel</span></button>
      <GhTaskButton @buttonText="Delete" @successText="Deleted" @task={{this.deleteTheme}} @class="gh-btn gh-btn-red gh-btn-icon" data-test-delete-button="true" />
  </div>
  
  */
  {"id":"mg1XXcgT","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[14,\"data-test-delete-theme-modal\",\"\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Are you sure you want to delete this\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,1],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"p\"],[12],[2,\"You're about to delete \\\"\"],[10,\"strong\"],[12],[1,[32,0,[\"theme\",\"label\"]]],[13],[2,\"\\\". This is permanent! We warned you, k? Maybe \"],[11,\"a\"],[24,6,\"#\"],[4,[38,0],[[32,0],[32,0,[\"download\"]]],null],[12],[2,\"Download your theme before continuing\"],[13],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-cancel-button\",\"\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[10,\"span\"],[12],[2,\"Cancel\"],[13],[13],[2,\"\\n    \"],[8,\"gh-task-button\",[[24,\"data-test-delete-button\",\"true\"]],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\"],[\"Delete\",\"Deleted\",[32,0,[\"deleteTheme\"]],\"gh-btn gh-btn-red gh-btn-icon\"]],null],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-delete-theme.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    // Allowed actions
    confirm: () => {},
    theme: Ember.computed.alias('model.theme'),
    download: Ember.computed.alias('model.download'),
    actions: {
      confirm() {
        this.deleteTheme.perform();
      }

    },
    deleteTheme: (0, _emberConcurrency.task)(function* () {
      try {
        yield this.confirm();
      } finally {
        this.send('closeModal');
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-delete-user", ["exports", "ghost-admin/components/modal-base", "ember-concurrency"], function (_exports, _modalBase, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header" data-test-modal="delete-user">
      <h1>Are you sure you want to delete this user?</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body">
      {{#if this.user.count.posts}}
          <p>
              <strong>{{this.user.name}}</strong> and their <strong data-test-text="user-post-count">{{pluralize this.user.count.posts 'post'}}</strong> will be permanently deleted. If you don’t want to lose these posts, you should assign them to a different author.
          </p>
          <p>
              A backup will be automatically downloaded to your device before deletion.
          </p>
      {{else}}
          <p>
              <strong>{{this.user.name}}</strong> will be permanently deleted. A backup will be automatically downloaded to your device before deletion.
          </p>
      {{/if}}
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn" data-test-button="cancel-delete-user">
          <span>Cancel</span>
      </button>
      <GhTaskButton @buttonText="Download backup & delete user"
          @successText="Deleted"
          @task={{this.deleteUser}}
          @class="gh-btn gh-btn-red gh-btn-icon"
          data-test-button="confirm-delete-user" />
  </div>
  
  */
  {"id":"0CTY+IGQ","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[14,\"data-test-modal\",\"delete-user\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Are you sure you want to delete this user?\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,1],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,2],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n\"],[6,[37,3],[[32,0,[\"user\",\"count\",\"posts\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"        \"],[10,\"p\"],[12],[2,\"\\n            \"],[10,\"strong\"],[12],[1,[32,0,[\"user\",\"name\"]]],[13],[2,\" and their \"],[10,\"strong\"],[14,\"data-test-text\",\"user-post-count\"],[12],[1,[30,[36,0],[[32,0,[\"user\",\"count\",\"posts\"]],\"post\"],null]],[13],[2,\" will be permanently deleted. If you don’t want to lose these posts, you should assign them to a different author.\\n        \"],[13],[2,\"\\n        \"],[10,\"p\"],[12],[2,\"\\n            A backup will be automatically downloaded to your device before deletion.\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"        \"],[10,\"p\"],[12],[2,\"\\n            \"],[10,\"strong\"],[12],[1,[32,0,[\"user\",\"name\"]]],[13],[2,\" will be permanently deleted. A backup will be automatically downloaded to your device before deletion.\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-button\",\"cancel-delete-user\"],[4,[38,1],[[32,0],\"closeModal\"],null],[12],[2,\"\\n        \"],[10,\"span\"],[12],[2,\"Cancel\"],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[8,\"gh-task-button\",[[24,\"data-test-button\",\"confirm-delete-user\"]],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\"],[\"Download backup & delete user\",\"Deleted\",[32,0,[\"deleteUser\"]],\"gh-btn gh-btn-red gh-btn-icon\"]],null],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"pluralize\",\"action\",\"svg-jar\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/modal-delete-user.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    // Allowed actions
    confirm: () => {},
    user: Ember.computed.alias('model'),
    actions: {
      confirm() {
        this.deleteUser.perform();
      }

    },
    deleteUser: (0, _emberConcurrency.task)(function* () {
      try {
        yield this.confirm();
      } finally {
        this.send('closeModal');
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-delete-webhook", ["exports", "ghost-admin/components/modal-base", "ember-concurrency"], function (_exports, _modalBase, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header">
      <h1>Are you sure?</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body">
      <p>
          Deleting this webhook may prevent the integration from functioning.
      </p>
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn"><span>Cancel</span></button>
      <GhTaskButton @buttonText="Delete Webhook" @successText="Deleted" @task={{this.deleteWebhook}} @class="gh-btn gh-btn-red gh-btn-icon" />
  </div>
  */
  {"id":"XZlVPdAe","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Are you sure?\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,1],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"p\"],[12],[2,\"\\n        Deleting this webhook may prevent the integration from functioning.\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[10,\"span\"],[12],[2,\"Cancel\"],[13],[13],[2,\"\\n    \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\"],[\"Delete Webhook\",\"Deleted\",[32,0,[\"deleteWebhook\"]],\"gh-btn gh-btn-red gh-btn-icon\"]],null],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-delete-webhook.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    notifications: Ember.inject.service(),
    webhook: Ember.computed.alias('model'),
    actions: {
      confirm() {
        this.deleteWebhook.perform();
      }

    },
    deleteWebhook: (0, _emberConcurrency.task)(function* () {
      try {
        yield this.confirm();
      } catch (error) {
        this.notifications.showAPIError(error, {
          key: 'webhook.delete.failed'
        });
      } finally {
        this.send('closeModal');
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-impersonate-member", ["exports", "ghost-admin/components/modal-base", "ghost-admin/utils/copy-text-to-clipboard", "ember-concurrency"], function (_exports, _modalBase, _copyTextToClipboard, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header flex justify-center">
      <h1 style="margin: 0;">Impersonate</h1>
  </header>
  {{!-- disable mouseDown so it doesn't trigger focus-out validations --}}
  <a class="close" href title="Close" {{action "closeModal"}} {{action (optional this.noop) on="mouseDown"}}>
      {{svg-jar "close"}}<span class="hidden">Close</span>
  </a>
  
  <div class="modal-body">
      <div class="flex items-center justify-center mt4 mb4">
          <GhMemberAvatar
              @member={{this.member}}
              @sizeClass={{if this.member.name 'f-headline fw4 lh-zero tracked-1' 'f-headline fw4 lh-zero tracked-1'}}
              @containerClass="w25 h25 gh-member-detail-avatar" />
      </div>
  
      <p class="tc pl4 pr4">
          This is an authentication link to sign into <strong>{{this.config.blogTitle}}</strong> as <strong>{{this.member.email}}</strong>, you can send it to them if they need it, or use it to sign into their account for customer support.
      </p>
  
      <fieldset>
          <div class="gh-input-group">
              <GhTextInput
                  @id="member-signin-url"
                  @name="member-signin-url"
                  @disabled={{true}}
                  @value={{readonly signinUrl}}
              />
              <GhTaskButton
                  @autoReset={{true}}
                  @buttonText="Copy link"
                  @task={{this.copySigninUrl}}
                  @successText="Link copied"
                  @class="gh-btn gh-btn-blue gh-btn-icon" />
          </div>
      </fieldset>
  </div>
  
  <div>
      <p class="tc pt4 mb2">This link is only valid for the next <strong>10 minutes</strong></p>
  </div>
  
  */
  {"id":"znxT86w5","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header flex justify-center\"],[12],[2,\"\\n    \"],[10,\"h1\"],[14,5,\"margin: 0;\"],[12],[2,\"Impersonate\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[4,[38,0],[[32,0],[30,[36,1],[[32,0,[\"noop\"]]],null]],[[\"on\"],[\"mouseDown\"]]],[12],[2,\"\\n    \"],[1,[30,[36,2],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"div\"],[14,0,\"flex items-center justify-center mt4 mb4\"],[12],[2,\"\\n        \"],[8,\"gh-member-avatar\",[],[[\"@member\",\"@sizeClass\",\"@containerClass\"],[[32,0,[\"member\"]],[30,[36,3],[[32,0,[\"member\",\"name\"]],\"f-headline fw4 lh-zero tracked-1\",\"f-headline fw4 lh-zero tracked-1\"],null],\"w25 h25 gh-member-detail-avatar\"]],null],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"p\"],[14,0,\"tc pl4 pr4\"],[12],[2,\"\\n        This is an authentication link to sign into \"],[10,\"strong\"],[12],[1,[32,0,[\"config\",\"blogTitle\"]]],[13],[2,\" as \"],[10,\"strong\"],[12],[1,[32,0,[\"member\",\"email\"]]],[13],[2,\", you can send it to them if they need it, or use it to sign into their account for customer support.\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"fieldset\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-input-group\"],[12],[2,\"\\n            \"],[8,\"gh-text-input\",[],[[\"@id\",\"@name\",\"@disabled\",\"@value\"],[\"member-signin-url\",\"member-signin-url\",true,[30,[36,5],[[35,4]],null]]],null],[2,\"\\n            \"],[8,\"gh-task-button\",[],[[\"@autoReset\",\"@buttonText\",\"@task\",\"@successText\",\"@class\"],[true,\"Copy link\",[32,0,[\"copySigninUrl\"]],\"Link copied\",\"gh-btn gh-btn-blue gh-btn-icon\"]],null],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[12],[2,\"\\n    \"],[10,\"p\"],[14,0,\"tc pt4 mb2\"],[12],[2,\"This link is only valid for the next \"],[10,\"strong\"],[12],[2,\"10 minutes\"],[13],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"optional\",\"svg-jar\",\"if\",\"signinUrl\",\"readonly\"]}","meta":{"moduleName":"ghost-admin/components/modal-impersonate-member.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    config: Ember.inject.service(),
    store: Ember.inject.service(),
    classNames: 'modal-impersonate-member',
    signinUrl: null,
    member: Ember.computed.alias('model'),

    didInsertElement() {
      this._super(...arguments);

      this._signinUrlUpdateTask.perform();
    },

    copySigninUrl: (0, _emberConcurrency.task)(function* () {
      (0, _copyTextToClipboard.default)(this.get('signinUrl'));
      yield (0, _emberConcurrency.timeout)(1000);
      return true;
    }),
    _signinUrlUpdateTask: (0, _emberConcurrency.task)(function* () {
      const memberSigninURL = yield this.member.fetchSigninUrl.perform();
      this.set('signinUrl', memberSigninURL.url);
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-import-members", ["exports", "ghost-admin/components/modal-base", "ghost-admin/utils/ghost-paths"], function (_exports, _modalBase, _ghostPaths) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header" data-test-modal="import-members">
      <h1>
          {{#if this.response}}
              Import result
          {{else}}
              Import members
          {{/if}}
      </h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body bg-whitegrey-l2 ba b--whitegrey br3">
      {{#if this.response}}
          <table class="gh-members-import-results">
              <tr>
                  <td>Imported:</td>
                  <td align="left" data-test-text="import-members-imported">{{this.response.imported}}</td>
              </tr>
              {{#if this.response.duplicates}}
                  <tr>
                      <td>Duplicates:</td>
                      <td align="left" data-test-text="import-members-duplicates">{{this.response.duplicates}}</td>
                  </tr>
              {{/if}}
              {{#if this.response.invalid}}
                  <tr>
                      <td class="red">Invalid:</td>
                      <td align="left" data-test-text="import-members-invalid" class="red">{{this.response.invalid}}</td>
                  </tr>
              {{/if}}
          </table>
      {{else}}
          <GhFileUploader
              @url={{this.uploadUrl}}
              @paramName="membersfile"
              @labelText="Select or drag-and-drop a CSV file."
              @uploadStarted={{action "uploadStarted"}}
              @uploadFinished={{action "uploadFinished"}}
              @uploadSuccess={{action "uploadSuccess"}} />
      {{/if}}
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} disabled={{this.closeDisabled}} class="gh-btn" data-test-button="close-import-members">
          <span>{{#if this.response}}Close{{else}}Cancel{{/if}}</span>
      </button>
  </div>
  
  */
  {"id":"sLKWLwsI","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[14,\"data-test-modal\",\"import-members\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"response\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"            Import result\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"            Import members\\n\"]],\"parameters\":[]}]]],[2,\"    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,2],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body bg-whitegrey-l2 ba b--whitegrey br3\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"response\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"        \"],[10,\"table\"],[14,0,\"gh-members-import-results\"],[12],[2,\"\\n            \"],[10,\"tr\"],[12],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"Imported:\"],[13],[2,\"\\n                \"],[10,\"td\"],[14,\"align\",\"left\"],[14,\"data-test-text\",\"import-members-imported\"],[12],[1,[32,0,[\"response\",\"imported\"]]],[13],[2,\"\\n            \"],[13],[2,\"\\n\"],[6,[37,1],[[32,0,[\"response\",\"duplicates\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"tr\"],[12],[2,\"\\n                    \"],[10,\"td\"],[12],[2,\"Duplicates:\"],[13],[2,\"\\n                    \"],[10,\"td\"],[14,\"align\",\"left\"],[14,\"data-test-text\",\"import-members-duplicates\"],[12],[1,[32,0,[\"response\",\"duplicates\"]]],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[6,[37,1],[[32,0,[\"response\",\"invalid\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"tr\"],[12],[2,\"\\n                    \"],[10,\"td\"],[14,0,\"red\"],[12],[2,\"Invalid:\"],[13],[2,\"\\n                    \"],[10,\"td\"],[14,\"align\",\"left\"],[14,\"data-test-text\",\"import-members-invalid\"],[14,0,\"red\"],[12],[1,[32,0,[\"response\",\"invalid\"]]],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"        \"],[8,\"gh-file-uploader\",[],[[\"@url\",\"@paramName\",\"@labelText\",\"@uploadStarted\",\"@uploadFinished\",\"@uploadSuccess\"],[[32,0,[\"uploadUrl\"]],\"membersfile\",\"Select or drag-and-drop a CSV file.\",[30,[36,0],[[32,0],\"uploadStarted\"],null],[30,[36,0],[[32,0],\"uploadFinished\"],null],[30,[36,0],[[32,0],\"uploadSuccess\"],null]]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[16,\"disabled\",[32,0,[\"closeDisabled\"]]],[24,0,\"gh-btn\"],[24,\"data-test-button\",\"close-import-members\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[2,\"\\n        \"],[10,\"span\"],[12],[6,[37,1],[[32,0,[\"response\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"Close\"]],\"parameters\":[]},{\"statements\":[[2,\"Cancel\"]],\"parameters\":[]}]]],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"if\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-import-members.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    labelText: 'Select or drag-and-drop a CSV File',
    response: null,
    closeDisabled: false,
    // Allowed actions
    confirm: () => {},
    uploadUrl: Ember.computed(function () {
      return `${(0, _ghostPaths.default)().apiRoot}/members/csv/`;
    }),
    actions: {
      uploadStarted() {
        this.set('closeDisabled', true);
      },

      uploadFinished() {
        this.set('closeDisabled', false);
      },

      uploadSuccess(response) {
        this.set('response', response.meta.stats); // invoke the passed in confirm action

        this.confirm();
      },

      confirm() {// noop - we don't want the enter key doing anything
      },

      closeModal() {
        if (!this.closeDisabled) {
          this._super(...arguments);
        }
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-invite-new-user", ["exports", "ghost-admin/components/modal-base", "ghost-admin/mixins/validation-engine", "ember-concurrency"], function (_exports, _modalBase, _validationEngine, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header">
      <h1>Invite a New User</h1>
  </header>
  {{!-- disable mouseDown so it doesn't trigger focus-out validations --}}
  <a class="close" href title="Close" {{action "closeModal"}} {{action (optional this.noop) on="mouseDown"}}>
      {{svg-jar "close"}}<span class="hidden">Close</span>
  </a>
  
  <div class="modal-body">
      <fieldset>
          <GhFormGroup @errors={{this.errors}} @hasValidated={{this.hasValidated}} @property="email">
              <label for="new-user-email">Email Address</label>
              <GhTextInput
                  @class="email"
                  @id="new-user-email"
                  @type="email"
                  @placeholder="Email Address"
                  @name="email"
                  @shouldFocus={{true}}
                  @autocapitalize="off"
                  @autocorrect="off"
                  @value={{readonly email}}
                  @input={{action (mut email) value="target.value"}}
                  @keyEvents={{hash
                      Enter=(action "confirm")
                  }}
                  @focus-out={{action "validate" "email"}}
              />
              <GhErrorMessage @errors={{this.errors}} @property="email" />
          </GhFormGroup>
  
  
          <GhFormGroup @class="for-select" @errors={{this.errors}} @hasValidated={{this.hasValidated}} @property="role">
              <label for="new-user-role">Role</label>
              <span class="gh-select">
                  <OneWaySelect
                      @id="new-user-role"
                      @name="role"
                      @options={{readonly this.roles}}
                      @optionValuePath="id"
                      @optionLabelPath="name"
                      @value={{this.role}}
                      @update={{action "setRole"}}
                  />
                  {{svg-jar "arrow-down-small"}}
              </span>
              <GhErrorMessage @errors={{this.errors}} @property="role" />
          </GhFormGroup>
      </fieldset>
  </div>
  
  <div class="modal-footer">
      <GhTaskButton @buttonText="Send invitation now"
          @successText="Sent"
          @task={{this.sendInvitation}}
          @class="gh-btn gh-btn-green gh-btn-icon"
          @disabled={{this.fetchRoles.isRunning}}
          @disableMouseDown="true" />
  </div>
  
  */
  {"id":"KG4Wq9vF","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Invite a New User\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[4,[38,0],[[32,0],[30,[36,1],[[32,0,[\"noop\"]]],null]],[[\"on\"],[\"mouseDown\"]]],[12],[2,\"\\n    \"],[1,[30,[36,2],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"fieldset\"],[12],[2,\"\\n        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"errors\"]],[32,0,[\"hasValidated\"]],\"email\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"label\"],[14,\"for\",\"new-user-email\"],[12],[2,\"Email Address\"],[13],[2,\"\\n            \"],[8,\"gh-text-input\",[],[[\"@class\",\"@id\",\"@type\",\"@placeholder\",\"@name\",\"@shouldFocus\",\"@autocapitalize\",\"@autocorrect\",\"@value\",\"@input\",\"@keyEvents\",\"@focus-out\"],[\"email\",\"new-user-email\",\"email\",\"Email Address\",\"email\",true,\"off\",\"off\",[30,[36,4],[[35,3]],null],[30,[36,0],[[32,0],[30,[36,5],[[35,3]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,6],null,[[\"Enter\"],[[30,[36,0],[[32,0],\"confirm\"],null]]]],[30,[36,0],[[32,0],\"validate\",\"email\"],null]]],null],[2,\"\\n            \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"errors\"]],\"email\"]],null],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n\\n\\n        \"],[8,\"gh-form-group\",[],[[\"@class\",\"@errors\",\"@hasValidated\",\"@property\"],[\"for-select\",[32,0,[\"errors\"]],[32,0,[\"hasValidated\"]],\"role\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"label\"],[14,\"for\",\"new-user-role\"],[12],[2,\"Role\"],[13],[2,\"\\n            \"],[10,\"span\"],[14,0,\"gh-select\"],[12],[2,\"\\n                \"],[8,\"one-way-select\",[],[[\"@id\",\"@name\",\"@options\",\"@optionValuePath\",\"@optionLabelPath\",\"@value\",\"@update\"],[\"new-user-role\",\"role\",[30,[36,4],[[32,0,[\"roles\"]]],null],\"id\",\"name\",[32,0,[\"role\"]],[30,[36,0],[[32,0],\"setRole\"],null]]],null],[2,\"\\n                \"],[1,[30,[36,2],[\"arrow-down-small\"],null]],[2,\"\\n            \"],[13],[2,\"\\n            \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"errors\"]],\"role\"]],null],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\",\"@disabled\",\"@disableMouseDown\"],[\"Send invitation now\",\"Sent\",[32,0,[\"sendInvitation\"]],\"gh-btn gh-btn-green gh-btn-icon\",[32,0,[\"fetchRoles\",\"isRunning\"]],\"true\"]],null],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"optional\",\"svg-jar\",\"email\",\"readonly\",\"mut\",\"hash\"]}","meta":{"moduleName":"ghost-admin/components/modal-invite-new-user.hbs"}});

  const {
    Promise
  } = Ember.RSVP;

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend(_validationEngine.default, {
    notifications: Ember.inject.service(),
    store: Ember.inject.service(),
    classNames: 'modal-content invite-new-user',
    role: null,
    roles: null,
    authorRole: null,
    validationType: 'inviteUser',

    init() {
      this._super(...arguments);
    },

    didInsertElement() {
      this._super(...arguments);

      this.fetchRoles.perform();
    },

    willDestroyElement() {
      this._super(...arguments); // TODO: this should not be needed, ValidationEngine acts as a
      // singleton and so it's errors and hasValidated state stick around


      this.errors.clear();
      this.set('hasValidated', Ember.A());
    },

    actions: {
      setRole(role) {
        this.set('role', role);
        this.errors.remove('role');
      },

      confirm() {
        this.sendInvitation.perform();
      }

    },

    validate() {
      let email = this.email; // TODO: either the validator should check the email's existence or
      // the API should return an appropriate error when attempting to save

      return new Promise((resolve, reject) => this._super().then(() => Ember.RSVP.hash({
        users: this.store.findAll('user', {
          reload: true
        }),
        invites: this.store.findAll('invite', {
          reload: true
        })
      }).then(data => {
        let existingUser = data.users.findBy('email', email);
        let existingInvite = data.invites.findBy('email', email);

        if (existingUser || existingInvite) {
          this.errors.clear('email');

          if (existingUser) {
            this.errors.add('email', 'A user with that email address already exists.');
          } else {
            this.errors.add('email', 'A user with that email address was already invited.');
          } // TODO: this shouldn't be needed, ValidationEngine doesn't mark
          // properties as validated when validating an entire object


          this.hasValidated.addObject('email');
          reject();
        } else {
          resolve();
        }
      }), () => {
        // TODO: this shouldn't be needed, ValidationEngine doesn't mark
        // properties as validated when validating an entire object
        this.hasValidated.addObject('email');
        reject();
      }));
    },

    fetchRoles: (0, _emberConcurrency.task)(function* () {
      let roles = yield this.store.query('role', {
        permissions: 'assign'
      });
      let authorRole = roles.findBy('name', 'Author');
      this.set('roles', roles);
      this.set('authorRole', authorRole);

      if (!this.role) {
        this.set('role', authorRole);
      }
    }),
    sendInvitation: (0, _emberConcurrency.task)(function* () {
      let email = this.email;
      let role = this.role;
      let notifications = this.notifications;
      let invite;

      try {
        yield this.validate();
        invite = this.store.createRecord('invite', {
          email,
          role
        });
        yield invite.save(); // If sending the invitation email fails, the API will still return a status of 201
        // but the invite's status in the response object will be 'invited-pending'.

        if (invite.get('status') === 'pending') {
          notifications.showAlert('Invitation email was not sent', {
            type: 'error',
            key: 'invite.send.failed',
            description: 'Please try resending.'
          });
        } else {
          notifications.showNotification('Invitation sent', {
            icon: 'send-email',
            key: 'invite.send.success',
            description: `${email}`
          });
        }

        this.send('closeModal');
      } catch (error) {
        // validation will reject and cause this to be called with no error
        if (error) {
          invite.deleteRecord();
          notifications.showAPIError(error, {
            key: 'invite.send'
          });
          this.send('closeModal');
        }
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-leave-editor", ["exports", "ghost-admin/components/modal-base"], function (_exports, _modalBase) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header">
      <h1>Are you sure you want to leave this page?</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body">
      <p>
          Hey there! It looks like you're in the middle of writing something and
          you haven't saved all of your content.
      </p>
  
      <p>Save before you go!</p>
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn"><span>Stay</span></button>
      <button {{action "confirm"}} class="gh-btn gh-btn-red"><span>Leave</span></button>
  </div>
  
  */
  {"id":"ylhuWvCe","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Are you sure you want to leave this page?\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,1],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"p\"],[12],[2,\"\\n        Hey there! It looks like you're in the middle of writing something and\\n        you haven't saved all of your content.\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"p\"],[12],[2,\"Save before you go!\"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[10,\"span\"],[12],[2,\"Stay\"],[13],[13],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-red\"],[4,[38,0],[[32,0],\"confirm\"],null],[12],[10,\"span\"],[12],[2,\"Leave\"],[13],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-leave-editor.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    actions: {
      confirm() {
        this.confirm();
        this.send('closeModal');
      }

    },
    // Allowed actions
    confirm: () => Ember.RSVP.resolve()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-leave-settings", ["exports", "ghost-admin/components/modal-base"], function (_exports, _modalBase) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header" data-test-modal="unsaved-settings">
      <h1>Are you sure you want to leave this page?</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body">
      <p>
          Hey there! It looks like you didn't save the changes you made.
      </p>
  
      <p>Save before you go!</p>
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn" data-test-stay-button><span>Stay</span></button>
      <button {{action "confirm"}} class="gh-btn gh-btn-red" data-test-leave-button><span>Leave</span></button>
  </div>
  
  */
  {"id":"ffzkZdEt","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[14,\"data-test-modal\",\"unsaved-settings\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Are you sure you want to leave this page?\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,1],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"p\"],[12],[2,\"\\n        Hey there! It looks like you didn't save the changes you made.\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"p\"],[12],[2,\"Save before you go!\"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-stay-button\",\"\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[10,\"span\"],[12],[2,\"Stay\"],[13],[13],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-red\"],[24,\"data-test-leave-button\",\"\"],[4,[38,0],[[32,0],\"confirm\"],null],[12],[10,\"span\"],[12],[2,\"Leave\"],[13],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-leave-settings.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    actions: {
      confirm() {
        this.confirm().finally(() => {
          if (!this.isDestroyed && !this.isDestroying) {
            this.send('closeModal');
          }
        });
      }

    },
    // Allowed actions
    confirm: () => Ember.RSVP.resolve()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-markdown-help", ["exports", "ghost-admin/components/modal-base"], function (_exports, _modalBase) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header">
      <h1>Markdown Help</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body">
      <section class="markdown-help-container">
          <table class="modal-markdown-help-table">
              <thead>
              <tr>
                  <th>Markdown</th>
                  <th>Result</th>
                  <th>Shortcut</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                  <td>**text**</td>
                  <td><strong>Bold</strong></td>
                  <td>Ctrl/⌘ + B</td>
              </tr>
              <tr>
                  <td>*text*</td>
                  <td><em>Emphasize</em></td>
                  <td>Ctrl/⌘ + I</td>
              </tr>
              <tr>
                  <td>~~text~~</td>
                  <td><del>Strike-through</del></td>
                  <td></td>
              </tr>
              <tr>
                  <td>[title](http://)</td>
                  <td><a href="#">Link</a></td>
                  <td>Ctrl/⌘ + K</td>
              </tr>
              <tr>
                  <td>`code`</td>
                  <td><code>Inline Code</code></td>
                  <td>Ctrl/⌘ + Alt + C</td>
              </tr>
              <tr>
                  <td>![alt](http://)</td>
                  <td>Image</td>
                  <td>Ctrl/⌘ + Shift + I</td>
              </tr>
              <tr>
                  <td>* item</td>
                  <td>List</td>
                  <td>Ctrl/⌘ + L</td>
              </tr>
              <tr>
                  <td>1. item</td>
                  <td>Ordered List</td>
                  <td>Ctrl/⌘ + Alt + L</td>
              </tr>
              <tr>
                  <td>> quote</td>
                  <td>Blockquote</td>
                  <td>Ctrl/⌘ + '</td>
              </tr>
              <tr>
                  <td>==Highlight==</td>
                  <td><mark>Highlight</mark></td>
                  <td></td>
              </tr>
              <tr>
                  <td># Heading</td>
                  <td>H1</td>
                  <td></td>
              </tr>
              <tr>
                  <td>## Heading</td>
                  <td>H2</td>
                  <td>Ctrl/⌘ + H</td>
              </tr>
              <tr>
                  <td>### Heading</td>
                  <td>H3</td>
                  <td>Ctrl/⌘ + H (x2)</td>
              </tr>
              </tbody>
          </table>
          For further Markdown syntax reference: <a href="https://ghost.org/faq/using-the-editor/#using-markdown" target="_blank">Markdown Documentation</a>
      </section>
  </div>
  
  */
  {"id":"NrNwGOuL","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Markdown Help\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,1],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"section\"],[14,0,\"markdown-help-container\"],[12],[2,\"\\n        \"],[10,\"table\"],[14,0,\"modal-markdown-help-table\"],[12],[2,\"\\n            \"],[10,\"thead\"],[12],[2,\"\\n            \"],[10,\"tr\"],[12],[2,\"\\n                \"],[10,\"th\"],[12],[2,\"Markdown\"],[13],[2,\"\\n                \"],[10,\"th\"],[12],[2,\"Result\"],[13],[2,\"\\n                \"],[10,\"th\"],[12],[2,\"Shortcut\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"tbody\"],[12],[2,\"\\n            \"],[10,\"tr\"],[12],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"**text**\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[10,\"strong\"],[12],[2,\"Bold\"],[13],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"Ctrl/⌘ + B\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"tr\"],[12],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"*text*\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[10,\"em\"],[12],[2,\"Emphasize\"],[13],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"Ctrl/⌘ + I\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"tr\"],[12],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"~~text~~\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[10,\"del\"],[12],[2,\"Strike-through\"],[13],[13],[2,\"\\n                \"],[10,\"td\"],[12],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"tr\"],[12],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"[title](http://)\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[10,\"a\"],[14,6,\"#\"],[12],[2,\"Link\"],[13],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"Ctrl/⌘ + K\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"tr\"],[12],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"`code`\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[10,\"code\"],[12],[2,\"Inline Code\"],[13],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"Ctrl/⌘ + Alt + C\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"tr\"],[12],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"![alt](http://)\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"Image\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"Ctrl/⌘ + Shift + I\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"tr\"],[12],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"* item\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"List\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"Ctrl/⌘ + L\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"tr\"],[12],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"1. item\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"Ordered List\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"Ctrl/⌘ + Alt + L\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"tr\"],[12],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"> quote\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"Blockquote\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"Ctrl/⌘ + '\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"tr\"],[12],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"==Highlight==\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[10,\"mark\"],[12],[2,\"Highlight\"],[13],[13],[2,\"\\n                \"],[10,\"td\"],[12],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"tr\"],[12],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"# Heading\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"H1\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"tr\"],[12],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"## Heading\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"H2\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"Ctrl/⌘ + H\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"tr\"],[12],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"### Heading\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"H3\"],[13],[2,\"\\n                \"],[10,\"td\"],[12],[2,\"Ctrl/⌘ + H (x2)\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n        For further Markdown syntax reference: \"],[10,\"a\"],[14,6,\"https://ghost.org/faq/using-the-editor/#using-markdown\"],[14,\"target\",\"_blank\"],[12],[2,\"Markdown Documentation\"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-markdown-help.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({}));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-members-label-form", ["exports", "ghost-admin/components/modal-base", "ghost-admin/helpers/reset-query-params", "ember-concurrency"], function (_exports, _modalBase, _resetQueryParams, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    {{#if this.showDeleteLabelModal}}
      <header class="modal-header">
          <h1>Are you sure you want to delete this label?</h1>
      </header>
      <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
      <div class="modal-body">
          <p>
              You're about to delete label "<strong>{{this.label.name}}</strong>". This is permanent! We warned you, k?
          </p>
      </div>
  
      <div class="modal-footer">
          <button {{action "closeModal"}} class="gh-btn"><span>Cancel</span></button>
          <GhTaskButton @buttonText="Delete" @successText="Deleted" @task={{this.deleteLabel}} @class="gh-btn gh-btn-red gh-btn-icon" />
      </div>
  {{else}}
  
      <header class="modal-header" data-test-modal="label-form">
          <h1>{{if this.label.isNew "New label" "Edit label"}}</h1>
      </header>
      {{!-- disable mouseDown so it doesn't trigger focus-out validations --}}
      <button class="close" href title="Close" {{action "closeModal"}} {{action (optional this.noop) on="mouseDown"}}>
          {{svg-jar "close"}}
      </button>
  
      <div class="modal-body">
          <fieldset>
              <GhFormGroup @errors={{this.label.errors}} @hasValidated={{this.label.hasValidated}} @property="name">
                  <label for="label-name" class="fw6 dib">Label name</label>
                  <GhTextInput
                      @id="label-name"
                      @value={{this.label.name}}
                      @focus-out={{action "validate" "name" target=this.label}}
                      data-test-input="label-name"
                  />
                  {{#if this.label.errors}}
                      <GhErrorMessage @errors={{this.label.errors}} @property="name" data-test-error="label-name" />
                  {{/if}}
              </GhFormGroup>
          </fieldset>
      </div>
  
      <div class="modal-footer">
          {{#if this.label.isNew}}
              <button
                  class="gh-btn"
                  {{action "closeModal"}}
                  {{!-- disable mouseDown so it doesn't trigger focus-out validations --}}
                  {{action (optional this.noop) on="mouseDown"}}
                  data-test-button="cancel-label-form"
              >
                  <span>Cancel</span>
              </button>
          {{else}}
              <button
                  class="gh-btn gh-btn-red gh-btn-icon"
                  {{on "click" (action "toggleDeleteLabelModal")}}
                  {{on "mousedown" (optional this.noop)}}
                  data-test-button="delete-label"
              >
                  <span>{{svg-jar "trash"}} Delete</span>
              </button
              >
          {{/if}}
  
          <GhTaskButton
              @buttonText="Save"
              @runningText="Saving..."
              @successText="Saved"
              @autoReset={{true}}
              @task={{this.saveTask}}
              @taskArgs={{this.label}}
              @class="gh-btn gh-btn-green gh-btn-icon"
              data-test-button="save-label" />
      </div>
  {{/if}}
  */
  {"id":"Ea9NuGq5","block":"{\"symbols\":[],\"statements\":[[6,[37,4],[[32,0,[\"showDeleteLabelModal\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"    \"],[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n        \"],[10,\"h1\"],[12],[2,\"Are you sure you want to delete this label?\"],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,3],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n        \"],[10,\"p\"],[12],[2,\"\\n            You're about to delete label \\\"\"],[10,\"strong\"],[12],[1,[32,0,[\"label\",\"name\"]]],[13],[2,\"\\\". This is permanent! We warned you, k?\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n        \"],[11,\"button\"],[24,0,\"gh-btn\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[10,\"span\"],[12],[2,\"Cancel\"],[13],[13],[2,\"\\n        \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\"],[\"Delete\",\"Deleted\",[32,0,[\"deleteLabel\"]],\"gh-btn gh-btn-red gh-btn-icon\"]],null],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"\\n    \"],[10,\"header\"],[14,0,\"modal-header\"],[14,\"data-test-modal\",\"label-form\"],[12],[2,\"\\n        \"],[10,\"h1\"],[12],[1,[30,[36,4],[[32,0,[\"label\",\"isNew\"]],\"New label\",\"Edit label\"],null]],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[2,\"    \"],[11,\"button\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[4,[38,0],[[32,0],[30,[36,2],[[32,0,[\"noop\"]]],null]],[[\"on\"],[\"mouseDown\"]]],[12],[2,\"\\n        \"],[1,[30,[36,3],[\"close\"],null]],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n        \"],[10,\"fieldset\"],[12],[2,\"\\n            \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"label\",\"errors\"]],[32,0,[\"label\",\"hasValidated\"]],\"name\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"label\"],[14,\"for\",\"label-name\"],[14,0,\"fw6 dib\"],[12],[2,\"Label name\"],[13],[2,\"\\n                \"],[8,\"gh-text-input\",[[24,\"data-test-input\",\"label-name\"]],[[\"@id\",\"@value\",\"@focus-out\"],[\"label-name\",[32,0,[\"label\",\"name\"]],[30,[36,0],[[32,0],\"validate\",\"name\"],[[\"target\"],[[32,0,[\"label\"]]]]]]],null],[2,\"\\n\"],[6,[37,4],[[32,0,[\"label\",\"errors\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"label-name\"]],[[\"@errors\",\"@property\"],[[32,0,[\"label\",\"errors\"]],\"name\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"]],\"parameters\":[]}]]],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n\"],[6,[37,4],[[32,0,[\"label\",\"isNew\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"            \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-button\",\"cancel-label-form\"],[4,[38,0],[[32,0],\"closeModal\"],null],[4,[38,0],[[32,0],[30,[36,2],[[32,0,[\"noop\"]]],null]],[[\"on\"],[\"mouseDown\"]]],[12],[2,\"\\n                \"],[10,\"span\"],[12],[2,\"Cancel\"],[13],[2,\"\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"            \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-red gh-btn-icon\"],[24,\"data-test-button\",\"delete-label\"],[4,[38,1],[\"click\",[30,[36,0],[[32,0],\"toggleDeleteLabelModal\"],null]],null],[4,[38,1],[\"mousedown\",[30,[36,2],[[32,0,[\"noop\"]]],null]],null],[12],[2,\"\\n                \"],[10,\"span\"],[12],[1,[30,[36,3],[\"trash\"],null]],[2,\" Delete\"],[13],[2,\"\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n        \"],[8,\"gh-task-button\",[[24,\"data-test-button\",\"save-label\"]],[[\"@buttonText\",\"@runningText\",\"@successText\",\"@autoReset\",\"@task\",\"@taskArgs\",\"@class\"],[\"Save\",\"Saving...\",\"Saved\",true,[32,0,[\"saveTask\"]],[32,0,[\"label\"]],\"gh-btn gh-btn-green gh-btn-icon\"]],null],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"action\",\"on\",\"optional\",\"svg-jar\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/modal-members-label-form.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    router: Ember.inject.service(),
    notifications: Ember.inject.service(),
    model: null,
    showDeleteLabelModal: false,

    confirm() {},

    label: Ember.computed.and('model', 'model.label'),

    init() {
      this._super(...arguments);
    },

    willDestroyElement() {
      this._super(...arguments);

      this.label.errors.clear();
      this.label.rollbackAttributes();
    },

    actions: {
      toggleDeleteLabelModal() {
        this.label.rollbackAttributes();
        this.set('showDeleteLabelModal', true);
      },

      validate(property) {
        return this.label.validate({
          property
        });
      }

    },
    saveTask: (0, _emberConcurrency.task)(function* () {
      let label = this.model && this.model.label;
      let availableLabels = this.model && this.model.labels || [];

      if (!label) {
        return false;
      }

      try {
        yield label.validate();
        let duplicateLabel = availableLabels.find(existingLabel => {
          return existingLabel.name.trim().toLowerCase() === label.name.trim().toLowerCase() && existingLabel.slug !== label.slug;
        });

        if (duplicateLabel) {
          label.errors.add('name', 'A label with the same name already exists');
          label.hasValidated.pushObject('name'); // label.invalidate();

          return false;
        }

        let savedLabel = yield label.save();
        this.notifications.showNotification('Label saved'.htmlSafe());
        this.send('closeModal');
        return savedLabel;
      } catch (error) {
        if (error) {
          this.notifications.showAPIError(error, {
            key: 'label.save'
          });
        }
      }
    }),
    deleteLabel: (0, _emberConcurrency.task)(function* () {
      let label = this.model && this.model.label;

      if (!label) {
        return false;
      }

      try {
        yield label.destroyRecord();
        let routeName = this.router.currentRouteName;
        this.notifications.showNotification('Label deleted'.htmlSafe());
        this.send('closeModal');
        this.router.transitionTo(routeName, {
          queryParams: (0, _resetQueryParams.resetQueryParams)(routeName)
        });
      } catch (error) {
        if (error) {
          return this.notifications.showAPIError(error, {
            key: 'label.delete'
          });
        }
      }
    })
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-new-integration", ["exports", "ghost-admin/components/modal-base", "ember-ajax/errors", "ember-concurrency"], function (_exports, _modalBase, _errors, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header" data-test-modal="new-integration">
      <h1>New custom integration</h1>
  </header>
  {{!-- disable mouseDown so it doesn't trigger focus-out validations --}}
  <button class="close" href title="Close" {{action "closeModal"}} {{action (optional this.noop) on="mouseDown"}}>
      {{svg-jar "close"}}
  </button>
  
  <div class="modal-body">
      <fieldset>
          <GhFormGroup @errors={{this.integration.errors}} @hasValidated={{this.integration.hasValidated}} @property="name">
              <label for="new-integration-name" class="fw6">Name</label>
              <input type="text"
                  value={{this.integration.name}}
                  oninput={{action "updateName" value="target.value"}}
                  id="new-integration-name"
                  class="gh-input mt1"
                  placeholder="Integration name..."
                  name="integration-name"
                  autofocus="autofocus"
                  autocapitalize="off"
                  autocorrect="off"
                  data-test-input="new-integration-name">
              <GhErrorMessage @errors={{this.integration.errors}} @property="name" data-test-error="new-integration-name" />
          </GhFormGroup>
      </fieldset>
  </div>
  
  <div class="modal-footer">
      <button
          class="gh-btn"
          {{action "closeModal"}}
          {{!-- disable mouseDown so it doesn't trigger focus-out validations --}}
          {{action (optional this.noop) on="mouseDown"}}
          data-test-button="cancel-new-integration"
      >
          <span>Cancel</span>
      </button>
      <GhTaskButton @buttonText="Create"
          @successText="Created"
          @task={{this.createIntegration}}
          @class="gh-btn gh-btn-green gh-btn-icon"
          data-test-button="create-integration" />
  </div>
  
  */
  {"id":"+syFzWy9","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[14,\"data-test-modal\",\"new-integration\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"New custom integration\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"button\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[4,[38,0],[[32,0],[30,[36,1],[[32,0,[\"noop\"]]],null]],[[\"on\"],[\"mouseDown\"]]],[12],[2,\"\\n    \"],[1,[30,[36,2],[\"close\"],null]],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"fieldset\"],[12],[2,\"\\n        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"integration\",\"errors\"]],[32,0,[\"integration\",\"hasValidated\"]],\"name\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"label\"],[14,\"for\",\"new-integration-name\"],[14,0,\"fw6\"],[12],[2,\"Name\"],[13],[2,\"\\n            \"],[10,\"input\"],[15,2,[32,0,[\"integration\",\"name\"]]],[15,\"oninput\",[30,[36,0],[[32,0],\"updateName\"],[[\"value\"],[\"target.value\"]]]],[14,1,\"new-integration-name\"],[14,0,\"gh-input mt1\"],[14,\"placeholder\",\"Integration name...\"],[14,3,\"integration-name\"],[14,\"autofocus\",\"autofocus\"],[14,\"autocapitalize\",\"off\"],[14,\"autocorrect\",\"off\"],[14,\"data-test-input\",\"new-integration-name\"],[14,4,\"text\"],[12],[13],[2,\"\\n            \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"new-integration-name\"]],[[\"@errors\",\"@property\"],[[32,0,[\"integration\",\"errors\"]],\"name\"]],null],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-button\",\"cancel-new-integration\"],[4,[38,0],[[32,0],\"closeModal\"],null],[4,[38,0],[[32,0],[30,[36,1],[[32,0,[\"noop\"]]],null]],[[\"on\"],[\"mouseDown\"]]],[12],[2,\"\\n        \"],[10,\"span\"],[12],[2,\"Cancel\"],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[8,\"gh-task-button\",[[24,\"data-test-button\",\"create-integration\"]],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\"],[\"Create\",\"Created\",[32,0,[\"createIntegration\"]],\"gh-btn gh-btn-green gh-btn-icon\"]],null],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"optional\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-new-integration.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    router: Ember.inject.service(),

    confirm() {},

    integration: Ember.computed.alias('model'),
    actions: {
      updateName(name) {
        this.integration.set('name', name);
        this.integration.set('hasValidated', Ember.A());
        this.integration.errors.clear();
      },

      confirm() {
        return this.createIntegration.perform();
      }

    },
    createIntegration: (0, _emberConcurrency.task)(function* () {
      try {
        let integration = yield this.confirm();
        this.router.transitionTo('settings.integration', integration);
      } catch (error) {
        // TODO: server-side validation errors should be serialized
        // properly so that errors are added to model.errors automatically
        if (error && (0, _errors.isInvalidError)(error)) {
          let [firstError] = error.payload.errors;
          let {
            message
          } = firstError;

          if (message && message.match(/name/i)) {
            this.get('integration.errors').add('name', message);
            this.get('integration.hasValidated').pushObject('name');
            return;
          }
        } // bubble up to the global error handler


        if (error) {
          throw error;
        }
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-post-email-preview", ["exports", "ghost-admin/components/modal-base"], function (_exports, _modalBase) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header gh-pe-header {{if (eq this.type "desktop") "gh-pe-header-border"}}" data-test-modal="preview-email" style="display:flex">
      <h2 class="f6 fw6">{{this.subject}}</h2>
      <div class="gh-contentfilter gh-btn-group gh-pe-btn-group" style="display:flex;flex-grow:1;justify-content:center">
          <button class="gh-btn {{if (eq this.type "desktop") "gh-btn-group-selected"}}" {{action "changeType" "desktop"}}><span>Desktop</span></button>
          <button class="gh-btn {{if (eq this.type "mobile") "gh-btn-group-selected"}}" {{action "changeType" "mobile"}}><span>Mobile</span></button>
      </div>
      <div class="gh-pe-close">
          <button class="close" href title="Close" {{on "click" this.closeModal}}>
              {{svg-jar "close"}}
          </button>
      </div>
  </header>
  
  {{#if (eq this.type "mobile")}}
      <div class="modal-body modal-preview-email-content gh-pe-mobile-container" style="display: flex;justify-content: center;">
          <div class="gh-pe-mobile-bezel">
              <div class="gh-pe-mobile-screen">
                  <iframe class="bn gh-pe-iframe" {{did-insert this.renderEmailPreview}} sandbox="allow-same-origin"></iframe>
              </div>
          </div>
      </div>
  {{/if}}
  
  {{#if (eq this.type "desktop")}}
      <div class="modal-body modal-preview-email-content gh-pe-desktop-container">
          <iframe class="bn miw-100 gh-pe-iframe" style="height:100%;" {{did-insert this.renderEmailPreview}} sandbox="allow-same-origin"></iframe>
      </div>
  {{/if}}
  */
  {"id":"x7S6C3AK","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[15,0,[31,[\"modal-header gh-pe-header \",[30,[36,2],[[30,[36,1],[[32,0,[\"type\"]],\"desktop\"],null],\"gh-pe-header-border\"],null]]]],[14,\"data-test-modal\",\"preview-email\"],[14,5,\"display:flex\"],[12],[2,\"\\n    \"],[10,\"h2\"],[14,0,\"f6 fw6\"],[12],[1,[32,0,[\"subject\"]]],[13],[2,\"\\n    \"],[10,\"div\"],[14,0,\"gh-contentfilter gh-btn-group gh-pe-btn-group\"],[14,5,\"display:flex;flex-grow:1;justify-content:center\"],[12],[2,\"\\n        \"],[11,\"button\"],[16,0,[31,[\"gh-btn \",[30,[36,2],[[30,[36,1],[[32,0,[\"type\"]],\"desktop\"],null],\"gh-btn-group-selected\"],null]]]],[4,[38,3],[[32,0],\"changeType\",\"desktop\"],null],[12],[10,\"span\"],[12],[2,\"Desktop\"],[13],[13],[2,\"\\n        \"],[11,\"button\"],[16,0,[31,[\"gh-btn \",[30,[36,2],[[30,[36,1],[[32,0,[\"type\"]],\"mobile\"],null],\"gh-btn-group-selected\"],null]]]],[4,[38,3],[[32,0],\"changeType\",\"mobile\"],null],[12],[10,\"span\"],[12],[2,\"Mobile\"],[13],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[10,\"div\"],[14,0,\"gh-pe-close\"],[12],[2,\"\\n        \"],[11,\"button\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,4],[\"click\",[32,0,[\"closeModal\"]]],null],[12],[2,\"\\n            \"],[1,[30,[36,5],[\"close\"],null]],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[6,[37,2],[[30,[36,1],[[32,0,[\"type\"]],\"mobile\"],null]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[10,\"div\"],[14,0,\"modal-body modal-preview-email-content gh-pe-mobile-container\"],[14,5,\"display: flex;justify-content: center;\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-pe-mobile-bezel\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-pe-mobile-screen\"],[12],[2,\"\\n                \"],[11,\"iframe\"],[24,0,\"bn gh-pe-iframe\"],[24,\"sandbox\",\"allow-same-origin\"],[4,[38,0],[[32,0,[\"renderEmailPreview\"]]],null],[12],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,2],[[30,[36,1],[[32,0,[\"type\"]],\"desktop\"],null]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[10,\"div\"],[14,0,\"modal-body modal-preview-email-content gh-pe-desktop-container\"],[12],[2,\"\\n        \"],[11,\"iframe\"],[24,0,\"bn miw-100 gh-pe-iframe\"],[24,5,\"height:100%;\"],[24,\"sandbox\",\"allow-same-origin\"],[4,[38,0],[[32,0,[\"renderEmailPreview\"]]],null],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"did-insert\",\"eq\",\"if\",\"action\",\"on\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-post-email-preview.hbs"}});

  const INJECTED_CSS = `
html::-webkit-scrollbar {
    display: none;
    width: 0;
    background: transparent
}
html {
    scrollbar-width: none;
}
`;

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    ghostPaths: Ember.inject.service(),
    ajax: Ember.inject.service(),
    type: 'desktop',
    html: '',
    subject: '',
    post: Ember.computed.alias('model'),
    actions: {
      changeType(type) {
        this.set('type', type);
      }

    },
    renderEmailPreview: Ember._action(async function renderEmailPreview() {
      await this._fetchEmailData();
      let iframe = this.element.querySelector('iframe');

      if (iframe) {
        iframe.contentWindow.document.open();
        iframe.contentWindow.document.write(this.html);
        iframe.contentWindow.document.close();
      }
    }),

    async _fetchEmailData() {
      let {
        html,
        subject
      } = this;

      if (html && subject) {
        return {
          html,
          subject
        };
      }

      if (this.post.email) {
        // use sent email
        html = this.post.email.html;
        subject = this.post.email.subject;
      } else {
        // fetch email preview
        let url = this.get('ghostPaths.url').api('/email_preview/posts', this.post.id);
        let response = await this.ajax.request(url);
        let [emailPreview] = response.email_previews;
        html = emailPreview.html;
        subject = emailPreview.subject;
      } // inject extra CSS into the html for disabling links and scrollbars etc


      let domParser = new DOMParser();
      let htmlDoc = domParser.parseFromString(html, 'text/html');
      let stylesheet = htmlDoc.querySelector('style');
      let originalCss = stylesheet.innerHTML;
      stylesheet.innerHTML = `${originalCss}\n\n${INJECTED_CSS}`;
      html = htmlDoc.documentElement.innerHTML;
      this.setProperties({
        html,
        subject
      });
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-re-authenticate", ["exports", "jquery", "ghost-admin/components/modal-base", "ghost-admin/mixins/validation-engine", "ghost-admin/services/ajax", "ember-concurrency"], function (_exports, _jquery, _modalBase, _validationEngine, _ajax, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header">
      <h1>Please re-authenticate</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body {{if this.authenticationError 'error'}}">
  
      <form id="login" class="login-form" method="post" novalidate="novalidate" {{action "confirm" on="submit"}}>
          <GhValidationStatusContainer @class="password-wrap" @errors={{this.errors}} @property="password" @hasValidated={{this.hasValidated}}>
              <GhTextInput
                  @class="password"
                  @type="password"
                  @placeholder="Password"
                  @name="password"
                  @value={{readonly this.password}}
                  @input={{action (mut this.password) value="target.value"}} />
          </GhValidationStatusContainer>
          <div>
              <GhTaskButton @buttonText="Log in" @task={{this.reauthenticate}} @class="gh-btn gh-btn-blue gh-btn-icon" @type="submit" />
          </div>
      </form>
  
     {{#if this.authenticationError}}
       <p class="response">{{this.authenticationError}}</p>
     {{/if}}
  </div>
  
  */
  {"id":"ZIOjvS8a","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Please re-authenticate\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,1],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[15,0,[31,[\"modal-body \",[30,[36,2],[[32,0,[\"authenticationError\"]],\"error\"],null]]]],[12],[2,\"\\n\\n    \"],[11,\"form\"],[24,1,\"login\"],[24,0,\"login-form\"],[24,\"method\",\"post\"],[24,\"novalidate\",\"novalidate\"],[4,[38,0],[[32,0],\"confirm\"],[[\"on\"],[\"submit\"]]],[12],[2,\"\\n        \"],[8,\"gh-validation-status-container\",[],[[\"@class\",\"@errors\",\"@property\",\"@hasValidated\"],[\"password-wrap\",[32,0,[\"errors\"]],\"password\",[32,0,[\"hasValidated\"]]]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[8,\"gh-text-input\",[],[[\"@class\",\"@type\",\"@placeholder\",\"@name\",\"@value\",\"@input\"],[\"password\",\"password\",\"Password\",\"password\",[30,[36,3],[[32,0,[\"password\"]]],null],[30,[36,0],[[32,0],[30,[36,4],[[32,0,[\"password\"]]],null]],[[\"value\"],[\"target.value\"]]]]],null],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n        \"],[10,\"div\"],[12],[2,\"\\n            \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@task\",\"@class\",\"@type\"],[\"Log in\",[32,0,[\"reauthenticate\"]],\"gh-btn gh-btn-blue gh-btn-icon\",\"submit\"]],null],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n\"],[6,[37,2],[[32,0,[\"authenticationError\"]]],null,[[\"default\"],[{\"statements\":[[2,\"     \"],[10,\"p\"],[14,0,\"response\"],[12],[1,[32,0,[\"authenticationError\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\",\"if\",\"readonly\",\"mut\"]}","meta":{"moduleName":"ghost-admin/components/modal-re-authenticate.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend(_validationEngine.default, {
    config: Ember.inject.service(),
    notifications: Ember.inject.service(),
    session: Ember.inject.service(),
    validationType: 'signin',
    authenticationError: null,
    identification: Ember.computed.reads('session.user.email'),
    actions: {
      confirm() {
        this.reauthenticate.perform();
      }

    },

    _authenticate() {
      let session = this.session;
      let authStrategy = 'authenticator:cookie';
      let identification = this.identification;
      let password = this.password;
      session.set('skipAuthSuccessHandler', true);
      this.toggleProperty('submitting');
      return session.authenticate(authStrategy, identification, password).finally(() => {
        this.toggleProperty('submitting');
        session.set('skipAuthSuccessHandler', undefined);
      });
    },

    _passwordConfirm() {
      // Manually trigger events for input fields, ensuring legacy compatibility with
      // browsers and password managers that don't send proper events on autofill
      (0, _jquery.default)('#login').find('input').trigger('change');
      this.set('authenticationError', null);
      return this.validate({
        property: 'signin'
      }).then(() => this._authenticate().then(() => {
        this.notifications.closeAlerts();
        this.send('closeModal');
        return true;
      }).catch(error => {
        if (error && error.payload && error.payload.errors) {
          error.payload.errors.forEach(err => {
            if ((0, _ajax.isVersionMismatchError)(err)) {
              return this.notifications.showAPIError(error);
            }

            err.message = Ember.String.htmlSafe(err.context || err.message);
          });
          this.errors.add('password', 'Incorrect password');
          this.hasValidated.pushObject('password');
          this.set('authenticationError', error.payload.errors[0].message);
        }
      }), () => {
        this.hasValidated.pushObject('password');
        return false;
      });
    },

    reauthenticate: (0, _emberConcurrency.task)(function* () {
      return yield this._passwordConfirm();
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-regenerate-key", ["exports", "ghost-admin/components/modal-base", "ember-concurrency"], function (_exports, _modalBase, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header">
      <h1>Regenerate {{capitalize this.apiKey.type}} API Key</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body">
      <p>
          {{#if (eq this.internalIntegration "zapier")}}
              You will need to locate the Ghost App within your Zapier account and click on "Reconnect" to enter the new Admin API Key.
          {{else}}
              You can regenerate <strong>{{capitalize this.apiKey.type}} API Key</strong> any time, but any scripts or applications using it will need to be updated.
          {{/if}}
      </p>
      {{#if this.errorMessage}}
          <p class='red'> {{this.errorMessage}}</p>
      {{/if}}
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn"><span>Cancel</span></button>
      <GhTaskButton @buttonText="Regenerate {{capitalize this.apiKey.type}} API Key" @successText="Regenerated" @task={{this.regenerateKey}} @class="gh-btn gh-btn-icon gh-btn-red" />
  </div>
  
  */
  {"id":"roY9MZ/m","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Regenerate \"],[1,[30,[36,0],[[32,0,[\"apiKey\",\"type\"]]],null]],[2,\" API Key\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,1],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,2],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"p\"],[12],[2,\"\\n\"],[6,[37,4],[[30,[36,3],[[32,0,[\"internalIntegration\"]],\"zapier\"],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"            You will need to locate the Ghost App within your Zapier account and click on \\\"Reconnect\\\" to enter the new Admin API Key.\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"            You can regenerate \"],[10,\"strong\"],[12],[1,[30,[36,0],[[32,0,[\"apiKey\",\"type\"]]],null]],[2,\" API Key\"],[13],[2,\" any time, but any scripts or applications using it will need to be updated.\\n\"]],\"parameters\":[]}]]],[2,\"    \"],[13],[2,\"\\n\"],[6,[37,4],[[32,0,[\"errorMessage\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"p\"],[14,0,\"red\"],[12],[2,\" \"],[1,[32,0,[\"errorMessage\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[4,[38,1],[[32,0],\"closeModal\"],null],[12],[10,\"span\"],[12],[2,\"Cancel\"],[13],[13],[2,\"\\n    \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\"],[[31,[\"Regenerate \",[30,[36,0],[[32,0,[\"apiKey\",\"type\"]]],null],\" API Key\"]],\"Regenerated\",[32,0,[\"regenerateKey\"]],\"gh-btn gh-btn-icon gh-btn-red\"]],null],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"capitalize\",\"action\",\"svg-jar\",\"eq\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/modal-regenerate-key.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    ajax: Ember.inject.service(),
    store: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    errorMessage: null,
    // Allowed actions
    confirm: () => {},
    apiKey: Ember.computed.alias('model.apiKey'),
    integration: Ember.computed.alias('model.integration'),
    internalIntegration: Ember.computed.alias('model.internalIntegration'),
    actions: {
      confirm() {
        this.regenerateApiKey.perform();
      }

    },
    regenerateKey: (0, _emberConcurrency.task)(function* () {
      let url = this.get('ghostPaths.url').api('/integrations/', this.integration.id, 'api_key', this.apiKey.id, 'refresh');

      try {
        const response = yield this.ajax.post(url, {
          data: {
            integrations: [{
              id: this.integration.id
            }]
          }
        });
        this.store.pushPayload(response);
        yield this.confirm();
        this.send('closeModal');
      } catch (e) {
        let errMessage = `There was an error regenerating the ${Ember.String.capitalize(this.apiKey.type)} API Key. Please try again`;
        this.set('errorMessage', errMessage);
        return;
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-search", ["exports", "ghost-admin/components/modal-base"], function (_exports, _modalBase) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="gh-nav-search-modal">
      <GhSearchInput @class="gh-nav-search-input" @onSelected={{action "confirm"}} />
      <div class="gh-search-tips">Open with Ctrl/⌘ + K</div>
  </div>
  */
  {"id":"qf/3JPCN","block":"{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"gh-nav-search-modal\"],[12],[2,\"\\n    \"],[8,\"gh-search-input\",[],[[\"@class\",\"@onSelected\"],[\"gh-nav-search-input\",[30,[36,0],[[32,0],\"confirm\"],null]]],null],[2,\"\\n    \"],[10,\"div\"],[14,0,\"gh-search-tips\"],[12],[2,\"Open with Ctrl/⌘ + K\"],[13],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"action\"]}","meta":{"moduleName":"ghost-admin/components/modal-search.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    actions: {
      confirm() {
        this.closeModal();
      }

    },

    click() {
      let input = this.element.querySelector('input');

      if (input) {
        input.focus();
      }
    }

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-suspend-user", ["exports", "ghost-admin/components/modal-base", "ember-concurrency"], function (_exports, _modalBase, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header">
      <h1>Are you sure you want to suspend this user?</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body">
      <strong>WARNING:</strong> This user will no longer be able to log in but their posts will be kept.
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn"><span>Cancel</span></button>
      <GhTaskButton @buttonText="Suspend" @successText="Suspended" @task={{this.suspendUser}} @class="gh-btn gh-btn-red gh-btn-icon" data-test-modal-confirm="true" />
  </div>
  
  */
  {"id":"NFpYNrzM","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Are you sure you want to suspend this user?\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,1],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"strong\"],[12],[2,\"WARNING:\"],[13],[2,\" This user will no longer be able to log in but their posts will be kept.\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[10,\"span\"],[12],[2,\"Cancel\"],[13],[13],[2,\"\\n    \"],[8,\"gh-task-button\",[[24,\"data-test-modal-confirm\",\"true\"]],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\"],[\"Suspend\",\"Suspended\",[32,0,[\"suspendUser\"]],\"gh-btn gh-btn-red gh-btn-icon\"]],null],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-suspend-user.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    // Allowed actions
    confirm: () => {},
    user: Ember.computed.alias('model'),
    actions: {
      confirm() {
        return this.suspendUser.perform();
      }

    },
    suspendUser: (0, _emberConcurrency.task)(function* () {
      try {
        yield this.confirm();
      } finally {
        this.send('closeModal');
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-theme-warnings", ["exports", "ghost-admin/components/modal-base"], function (_exports, _modalBase) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="theme-validation-container">
      <header class="modal-header">
          <h1 data-test-theme-warnings-title>
              {{#unless this.canActivate}}
                  {{this.title}}
              {{else}}
                  {{this.title}} with {{#if this.errors}}errors{{else}}warnings{{/if}}
              {{/unless}}
          </h1>
      </header>
      <a class="close" href="#" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
      <div class="modal-body">
          {{#if this.fatalErrors}}
              <div>
                  <h2 class="mb0 mt4 f5 fw6 red">Fatal Errors</h2>
                  <p class="mb2 red">Must-fix to activate theme</p>
              </div>
              <ul class="pa0" data-test-theme-fatal-errors>
              {{#each this.fatalErrors as |error|}}
                  <li class="theme-validation-item theme-fatal-error">
                      <GhThemeErrorLi @error={{error}} />
                  </li>
              {{/each}}
              </ul>
          {{/if}}
  
          {{#if this.errors}}
              <div>
                  <h2 class="mb0 mt4 f5 fw6">Errors</h2>
                  <p class="mb2">Highly recommended to fix, functionality <span>could</span> be restricted</p>
              </div>
  
              <ul class="pa0" data-test-theme-errors>
              {{#each this.errors as |error|}}
                  <li class="theme-validation-item theme-error">
                      <GhThemeErrorLi @error={{error}} />
                  </li>
              {{/each}}
              </ul>
          {{/if}}
  
          {{#if (and this.warnings (or this.fatalErrors this.errors))}}
              <div>
                  <h2 class="mb0 mt4 f5 fw6">Warnings</h2>
              </div>
          {{/if}}
          {{#if this.warnings}}
              <ul class="pa0" data-test-theme-warnings>
              {{#each this.warnings as |error|}}
                  <li class="theme-validation-item theme-warning">
                      <GhThemeErrorLi @error={{error}} />
                  </li>
              {{/each}}
              </ul>
          {{/if}}
      </div>
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn" data-test-modal-close-button>
          <span>Ok</span>
      </button>
  </div>
  
  */
  {"id":"Rv6zZ8Xl","block":"{\"symbols\":[\"error\",\"error\",\"error\"],\"statements\":[[10,\"div\"],[14,0,\"theme-validation-container\"],[12],[2,\"\\n    \"],[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n        \"],[10,\"h1\"],[14,\"data-test-theme-warnings-title\",\"\"],[12],[2,\"\\n\"],[6,[37,3],[[32,0,[\"canActivate\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[1,[32,0,[\"title\"]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                \"],[1,[32,0,[\"title\"]]],[2,\" with \"],[6,[37,2],[[32,0,[\"errors\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"errors\"]],\"parameters\":[]},{\"statements\":[[2,\"warnings\"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[11,\"a\"],[24,0,\"close\"],[24,6,\"#\"],[24,\"title\",\"Close\"],[4,[38,4],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,5],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"fatalErrors\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"div\"],[12],[2,\"\\n                \"],[10,\"h2\"],[14,0,\"mb0 mt4 f5 fw6 red\"],[12],[2,\"Fatal Errors\"],[13],[2,\"\\n                \"],[10,\"p\"],[14,0,\"mb2 red\"],[12],[2,\"Must-fix to activate theme\"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"ul\"],[14,0,\"pa0\"],[14,\"data-test-theme-fatal-errors\",\"\"],[12],[2,\"\\n\"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,[\"fatalErrors\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"li\"],[14,0,\"theme-validation-item theme-fatal-error\"],[12],[2,\"\\n                    \"],[8,\"gh-theme-error-li\",[],[[\"@error\"],[[32,3]]],null],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[3]}]]],[2,\"            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,2],[[32,0,[\"errors\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"div\"],[12],[2,\"\\n                \"],[10,\"h2\"],[14,0,\"mb0 mt4 f5 fw6\"],[12],[2,\"Errors\"],[13],[2,\"\\n                \"],[10,\"p\"],[14,0,\"mb2\"],[12],[2,\"Highly recommended to fix, functionality \"],[10,\"span\"],[12],[2,\"could\"],[13],[2,\" be restricted\"],[13],[2,\"\\n            \"],[13],[2,\"\\n\\n            \"],[10,\"ul\"],[14,0,\"pa0\"],[14,\"data-test-theme-errors\",\"\"],[12],[2,\"\\n\"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,[\"errors\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"li\"],[14,0,\"theme-validation-item theme-error\"],[12],[2,\"\\n                    \"],[8,\"gh-theme-error-li\",[],[[\"@error\"],[[32,2]]],null],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[2]}]]],[2,\"            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,2],[[30,[36,7],[[32,0,[\"warnings\"]],[30,[36,6],[[32,0,[\"fatalErrors\"]],[32,0,[\"errors\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"div\"],[12],[2,\"\\n                \"],[10,\"h2\"],[14,0,\"mb0 mt4 f5 fw6\"],[12],[2,\"Warnings\"],[13],[2,\"\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[6,[37,2],[[32,0,[\"warnings\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"ul\"],[14,0,\"pa0\"],[14,\"data-test-theme-warnings\",\"\"],[12],[2,\"\\n\"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,[\"warnings\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"li\"],[14,0,\"theme-validation-item theme-warning\"],[12],[2,\"\\n                    \"],[8,\"gh-theme-error-li\",[],[[\"@error\"],[[32,1]]],null],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[1]}]]],[2,\"            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-modal-close-button\",\"\"],[4,[38,4],[[32,0],\"closeModal\"],null],[12],[2,\"\\n        \"],[10,\"span\"],[12],[2,\"Ok\"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"-track-array\",\"each\",\"if\",\"unless\",\"action\",\"svg-jar\",\"or\",\"and\"]}","meta":{"moduleName":"ghost-admin/components/modal-theme-warnings.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    'data-test-theme-warnings-modal': true,
    title: Ember.computed.reads('model.title'),
    message: Ember.computed.reads('model.message'),
    warnings: Ember.computed.reads('model.warnings'),
    errors: Ember.computed.reads('model.errors'),
    fatalErrors: Ember.computed.reads('model.fatalErrors'),
    canActivate: Ember.computed.reads('model.canActivate')
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-transfer-owner", ["exports", "ghost-admin/components/modal-base", "ember-concurrency"], function (_exports, _modalBase, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header">
      <h1>Transfer Ownership</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body">
      <p>
          Are you sure you want to transfer the ownership of this blog?
          You will not be able to undo this action.
      </p>
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn"><span>Cancel</span></button>
      <GhTaskButton @buttonText="Yep - I'm sure" @task={{this.transferOwnership}} @class="gh-btn gh-btn-red gh-btn-icon" />
  </div>
  
  */
  {"id":"YANs/kx/","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Transfer Ownership\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,1],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"p\"],[12],[2,\"\\n        Are you sure you want to transfer the ownership of this blog?\\n        You will not be able to undo this action.\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[10,\"span\"],[12],[2,\"Cancel\"],[13],[13],[2,\"\\n    \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@task\",\"@class\"],[\"Yep - I'm sure\",[32,0,[\"transferOwnership\"]],\"gh-btn gh-btn-red gh-btn-icon\"]],null],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-transfer-owner.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    user: null,
    // Allowed actions
    confirm: () => {},
    actions: {
      confirm() {
        this.transferOwnership.perform();
      }

    },
    transferOwnership: (0, _emberConcurrency.task)(function* () {
      try {
        yield this.confirm();
      } finally {
        this.send('closeModal');
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-unsuspend-user", ["exports", "ghost-admin/components/modal-base", "ember-concurrency"], function (_exports, _modalBase, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header">
      <h1>Are you sure you want to un-suspend this user?</h1>
  </header>
  <a class="close" href="" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
  <div class="modal-body">
      <strong>WARNING:</strong> This user will be able to log in again and will have the same permissions they had previously.
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn"><span>Cancel</span></button>
      <GhTaskButton @buttonText="Un-suspend" @successText="Suspended" @task={{this.unsuspendUser}} @class="gh-btn gh-btn-red gh-btn-icon" data-test-modal-confirm="true" />
  </div>
  
  */
  {"id":"kgTSsZ5i","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Are you sure you want to un-suspend this user?\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"a\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,1],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"strong\"],[12],[2,\"WARNING:\"],[13],[2,\" This user will be able to log in again and will have the same permissions they had previously.\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[10,\"span\"],[12],[2,\"Cancel\"],[13],[13],[2,\"\\n    \"],[8,\"gh-task-button\",[[24,\"data-test-modal-confirm\",\"true\"]],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\"],[\"Un-suspend\",\"Suspended\",[32,0,[\"unsuspendUser\"]],\"gh-btn gh-btn-red gh-btn-icon\"]],null],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-unsuspend-user.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    // Allowed actions
    confirm: () => {},
    user: Ember.computed.alias('model'),
    actions: {
      confirm() {
        return this.unsuspendUser.perform();
      }

    },
    unsuspendUser: (0, _emberConcurrency.task)(function* () {
      try {
        yield this.confirm();
      } finally {
        this.send('closeModal');
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-upgrade-host-limit", ["exports", "ghost-admin/components/modal-base"], function (_exports, _modalBase) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    
  <header class="modal-header" data-test-modal="delete-user">
      <h1>Upgrade your plan to continue</h1>
  </header>
  <button class="close" title="Close" {{on "click" this.closeModal}}>{{svg-jar "close"}}<span class="hidden">Close</span></button>
  
  <div class="modal-body">
      <p>
          Your current plan allows you to send posts by email to up to <strong>{{upgradeMessage.limit}}</strong> members, but you currently have <strong>{{upgradeMessage.total}}</strong> members.
      </p>
  </div>
  
  <div class="modal-footer">
      <button {{on "click" this.closeModal}} class="gh-btn" data-test-button="cancel-upgrade">
          <span>Cancel</span>
      </button>
  
      <button {{on "click" (action "upgrade")}} class="gh-btn gh-btn-green" data-test-button="upgrade-plan">
          <span>Upgrade</span>
      </button>
  </div>
  */
  {"id":"MUE7/wXr","block":"{\"symbols\":[],\"statements\":[[2,\"\\n\"],[10,\"header\"],[14,0,\"modal-header\"],[14,\"data-test-modal\",\"delete-user\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Upgrade your plan to continue\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"button\"],[24,0,\"close\"],[24,\"title\",\"Close\"],[4,[38,0],[\"click\",[32,0,[\"closeModal\"]]],null],[12],[1,[30,[36,1],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"p\"],[12],[2,\"\\n        Your current plan allows you to send posts by email to up to \"],[10,\"strong\"],[12],[1,[35,2,[\"limit\"]]],[13],[2,\" members, but you currently have \"],[10,\"strong\"],[12],[1,[35,2,[\"total\"]]],[13],[2,\" members.\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-button\",\"cancel-upgrade\"],[4,[38,0],[\"click\",[32,0,[\"closeModal\"]]],null],[12],[2,\"\\n        \"],[10,\"span\"],[12],[2,\"Cancel\"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-green\"],[24,\"data-test-button\",\"upgrade-plan\"],[4,[38,0],[\"click\",[30,[36,3],[[32,0],\"upgrade\"],null]],null],[12],[2,\"\\n        \"],[10,\"span\"],[12],[2,\"Upgrade\"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"on\",\"svg-jar\",\"upgradeMessage\",\"action\"]}","meta":{"moduleName":"ghost-admin/components/modal-upgrade-host-limit.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    upgradeMessage: Ember.computed('details', function () {
      const {
        limit,
        total
      } = this.model.details;
      return {
        limit,
        total
      };
    }),
    actions: {
      upgrade: function () {
        const upgradeLink = this.model.upgradeLink;
        window.open(upgradeLink);
        this.closeModal();
        return true;
      }
    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-upload-image", ["exports", "ghost-admin/components/modal-base", "ghost-admin/utils/caja-sanitizers", "ember-concurrency"], function (_exports, _modalBase, _cajaSanitizers, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="modal-body">
      {{#if this.url}}
          <div class="gh-image-uploader -with-image">
              <div><img src={{this.url}}></div>
              <a class="image-cancel" title="Delete" {{action 'removeImage'}}>
                  {{svg-jar "trash"}}
                  <span class="hidden">Delete</span>
              </a>
          </div>
      {{else}}
          <GhImageUploader
              @image={{this.newUrl}}
              @saveButton={{false}}
              @update={{action "fileUploaded"}}
              @uploadStarted={{action "isUploading"}}
              @uploadFinished={{action "isUploading"}}
              @accept={{this.model.accept}}
              @extensions={{this.model.extensions}}
              @uploadUrl={{this.model.uploadUrl}}
              @paramsHash={{this.model.paramsHas}}
          />
      {{/if}}
  </div>
  
  <div class="modal-footer">
      <button {{action "closeModal"}} class="gh-btn"><span>Cancel</span></button>
      {{#if this._isUploading}}
          <button class="gh-btn gh-btn-blue right gh-btn-icon disabled"><span>Save</span></button>
      {{else}}
          <GhTaskButton @task={{this.uploadImage}} @class="gh-btn gh-btn-blue right gh-btn-icon" data-test-modal-accept-button={{true}} />
      {{/if}}
  </div>
  
  */
  {"id":"WJfKFffB","block":"{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"url\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,0,\"gh-image-uploader -with-image\"],[12],[2,\"\\n            \"],[10,\"div\"],[12],[10,\"img\"],[15,\"src\",[32,0,[\"url\"]]],[12],[13],[13],[2,\"\\n            \"],[11,\"a\"],[24,0,\"image-cancel\"],[24,\"title\",\"Delete\"],[4,[38,0],[[32,0],\"removeImage\"],null],[12],[2,\"\\n                \"],[1,[30,[36,1],[\"trash\"],null]],[2,\"\\n                \"],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Delete\"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"        \"],[8,\"gh-image-uploader\",[],[[\"@image\",\"@saveButton\",\"@update\",\"@uploadStarted\",\"@uploadFinished\",\"@accept\",\"@extensions\",\"@uploadUrl\",\"@paramsHash\"],[[32,0,[\"newUrl\"]],false,[30,[36,0],[[32,0],\"fileUploaded\"],null],[30,[36,0],[[32,0],\"isUploading\"],null],[30,[36,0],[[32,0],\"isUploading\"],null],[32,0,[\"model\",\"accept\"]],[32,0,[\"model\",\"extensions\"]],[32,0,[\"model\",\"uploadUrl\"]],[32,0,[\"model\",\"paramsHas\"]]]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[10,\"span\"],[12],[2,\"Cancel\"],[13],[13],[2,\"\\n\"],[6,[37,2],[[32,0,[\"_isUploading\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"        \"],[10,\"button\"],[14,0,\"gh-btn gh-btn-blue right gh-btn-icon disabled\"],[12],[10,\"span\"],[12],[2,\"Save\"],[13],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"        \"],[8,\"gh-task-button\",[[16,\"data-test-modal-accept-button\",true]],[[\"@task\",\"@class\"],[[32,0,[\"uploadImage\"]],\"gh-btn gh-btn-blue right gh-btn-icon\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\",\"if\"]}","meta":{"moduleName":"ghost-admin/components/modal-upload-image.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    config: Ember.inject.service(),
    notifications: Ember.inject.service(),
    model: null,
    url: '',
    newUrl: '',
    _isUploading: false,
    image: Ember.computed('model.{model,imageProperty}', {
      get() {
        let imageProperty = this.get('model.imageProperty');
        return this.get(`model.model.${imageProperty}`);
      },

      set(key, value) {
        let model = this.get('model.model');
        let imageProperty = this.get('model.imageProperty');
        return model.set(imageProperty, value);
      }

    }),

    didReceiveAttrs() {
      let image = this.image;
      this.set('url', image);
      this.set('newUrl', image);
    },

    actions: {
      fileUploaded(url) {
        this.set('url', url);
        this.set('newUrl', url);
      },

      removeImage() {
        this.set('url', '');
        this.set('newUrl', '');
      },

      confirm() {
        this.uploadImage.perform();
      },

      isUploading() {
        this.toggleProperty('_isUploading');
      }

    },

    // TODO: should validation be handled in the gh-image-uploader component?
    //  pro - consistency everywhere, simplification here
    //  con - difficult if the "save" is happening externally as it does here
    //
    //  maybe it should be handled at the model level?
    //      - automatically present everywhere
    //      - file uploads should always result in valid urls so it should only
    //        affect the url input form
    keyDown() {
      this._setErrorState(false);
    },

    _setErrorState(state) {
      if (state) {
        this.element.querySelector('.url').classList.add('error');
      } else {
        this.element.querySelector('.url').classList.remove('error');
      }
    },

    _validateUrl(url) {
      if (!Ember.isEmpty(url) && !_cajaSanitizers.default.url(url)) {
        this._setErrorState(true);

        return {
          message: 'Image URI is not valid'
        };
      }

      return true;
    },

    // end validation
    uploadImage: (0, _emberConcurrency.task)(function* () {
      let model = this.get('model.model');
      let newUrl = this.newUrl;

      let result = this._validateUrl(newUrl);

      let notifications = this.notifications;

      if (result === true) {
        this.set('image', newUrl);

        try {
          yield model.save();
        } catch (e) {
          notifications.showAPIError(e, {
            key: 'image.upload'
          });
        } finally {
          this.send('closeModal');
        }
      }
    }).drop()
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-upload-theme", ["exports", "ghost-admin/components/modal-base", "ghost-admin/utils/ghost-paths", "ghost-admin/services/ajax"], function (_exports, _modalBase, _ghostPaths, _ajax) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <div class="theme-validation-container">
      <header class="modal-header" data-test-modal="upload-theme">
          <h1>
              {{#if this.theme}}
                  {{#if this.hasWarningsOrErrors}}
                      Upload successful with {{#if this.validationErrors}}errors{{else}}warnings{{/if}}
                  {{else}}
                      Upload successful!
                  {{/if}}
              {{else if (or this.validationErrors this.fatalValidationErrors)}}
                  Invalid theme
              {{else}}
                  Upload a theme
              {{/if}}
          </h1>
      </header>
      <a class="close" href="#" title="Close" {{action "closeModal"}}>{{svg-jar "close"}}<span class="hidden">Close</span></a>
  
      <div class="modal-body">
          {{#if this.theme}}
              {{#if this.hasWarningsOrErrors}}
                  <p>
                      {{#if this.canActivateTheme}}
                          The theme <strong>"{{this.themeName}}"</strong> was uploaded successfully but we detected some {{#if this.validationErrors}}errors{{else}}warnings{{/if}}. You are still able to activate and use the theme but it is recommended to fix these {{#if this.validationErrors}}errors{{else}}warnings{{/if}} before you do so.
                      {{else}}
                          The theme <strong>"{{this.themeName}}"</strong> was uploaded successfully but we detected some
                          {{#if this.validationErrors}}errors{{else}}warnings{{/if}}.
                      {{/if}}
                  </p>
  
                  {{#if this.validationErrors}}
                      <div>
                          <h2 class="mb0 mt4 f5 fw6">Errors</h2>
                          <p class="mb2">Highly recommended to fix, functionality <strong>could</strong> be restricted</p>
                      </div>
                      <ul class="pa0">
                      {{#each this.validationErrors as |error|}}
                          <li class="theme-validation-item theme-error">
                              <GhThemeErrorLi @error={{error}} />
                          </li>
                      {{/each}}
                      </ul>
                  {{/if}}
  
                  {{#if this.validationWarnings}}
                      <div>
                          <h2 class="mb0 mt4 f5 fw6">Warnings</h2>
                      </div>
                      <ul class="pa0">
                      {{#each this.validationWarnings as |error|}}
                          <li class="theme-validation-item theme-warning">
                              <GhThemeErrorLi @error={{error}} />
                          </li>
                      {{/each}}
                      </ul>
                  {{/if}}
              {{else}}
                  <p>
                      "{{this.themeName}}" uploaded successfully.
                      {{#if this.canActivateTheme}}Do you want to activate it now?{{/if}}
                  </p>
              {{/if}}
          {{else if this.displayOverwriteWarning}}
              <p>
                  The theme folder <strong>"{{this.fileThemeName}}"</strong> already exists. Do you want to overwrite it?
              </p>
          {{else if (or this.validationErrors this.fatalValidationErrors)}}
  
              <p>
                  This theme is invalid and cannot be activated. Fix the following errors and re-upload the theme.
              </p>
  
              {{#if this.fatalValidationErrors}}
                  <div>
                      <h2 class="mb0 mt4 f5 fw6">Fatal Errors</h2>
                      <p class="mb2">Must-fix to activate theme</p>
                  </div>
  
                  <ul class="pa0">
                  {{#each this.fatalValidationErrors as |error|}}
                      <li class="theme-validation-item theme-fatal-error">
                          <GhThemeErrorLi @error={{error}} />
                      </li>
                  {{/each}}
                  </ul>
              {{/if}}
  
              {{#if this.validationErrors}}
                  <div>
                      <h2 class="mb0 mt4 f5 fw6">Errors</h2>
                      <p class="mb2">Highly recommended to fix, functionality <strong>could</strong> be restricted</p>
                  </div>
                  <ul class="pa0">
                  {{#each this.validationErrors as |error|}}
                      <li class="theme-validation-item theme-error">
                          <GhThemeErrorLi @error={{error}} />
                      </li>
                  {{/each}}
                  </ul>
              {{/if}}
          {{else}}
              <GhFileUploader
                  @url={{this.uploadUrl}}
                  @paramName="file"
                  @accept={{this.accept}}
                  @labelText="Click to select or drag-and-drop your theme zip file here."
                  @validate={{action "validateTheme"}}
                  @uploadStarted={{action "uploadStarted"}}
                  @uploadFinished={{action "uploadFinished"}}
                  @uploadSuccess={{action "uploadSuccess"}}
                  @uploadFailed={{action "uploadFailed"}}
                  @listenTo="themeUploader" />
          {{/if}}
      </div>
  </div>
  
  <div class="modal-footer">
      <div class="flex items-center justify-between {{if (or this.displayOverwriteWarning this.canActivateTheme this.validationErrors this.fatalValidationErrors) "flex-auto"}}">
          <button {{action "closeModal"}} disabled={{this.closeDisabled}} class="gh-btn" data-test-close-button>
              <span>{{#if this.theme}}Close{{else}}Cancel{{/if}}</span>
          </button>
          <div class="flex items-center">
              {{#if this.displayOverwriteWarning}}
                  <button {{action "confirmOverwrite"}} class="gh-btn gh-btn-red" data-test-overwrite-button>
                      <span>Overwrite</span>
                  </button>
              {{/if}}
              {{#if this.canActivateTheme}}
                  <button {{action "activate"}} class="gh-btn" data-test-activate-now-button>
                      <span>Activate{{#if this.validationErrors}} with errors{{/if}}</span>
                  </button>
              {{/if}}
              {{#if (or this.validationErrors this.fatalValidationErrors)}}
                  <button {{action "reset"}} class="gh-btn gh-btn-blue ml2" data-test-try-again-button>
                      <span>Retry</span>
                  </button>
              {{/if}}
          </div>
      </div>
  </div>
  
  */
  {"id":"9Kf4c00M","block":"{\"symbols\":[\"error\",\"error\",\"error\",\"error\"],\"statements\":[[10,\"div\"],[14,0,\"theme-validation-container\"],[12],[2,\"\\n    \"],[10,\"header\"],[14,0,\"modal-header\"],[14,\"data-test-modal\",\"upload-theme\"],[12],[2,\"\\n        \"],[10,\"h1\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"theme\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[6,[37,1],[[32,0,[\"hasWarningsOrErrors\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                    Upload successful with \"],[6,[37,1],[[32,0,[\"validationErrors\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"errors\"]],\"parameters\":[]},{\"statements\":[[2,\"warnings\"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                    Upload successful!\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]},{\"statements\":[[6,[37,1],[[30,[36,4],[[32,0,[\"validationErrors\"]],[32,0,[\"fatalValidationErrors\"]]],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                Invalid theme\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                Upload a theme\\n            \"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[11,\"a\"],[24,0,\"close\"],[24,6,\"#\"],[24,\"title\",\"Close\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[1,[30,[36,5],[\"close\"],null]],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Close\"],[13],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"theme\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[6,[37,1],[[32,0,[\"hasWarningsOrErrors\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[10,\"p\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"canActivateTheme\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        The theme \"],[10,\"strong\"],[12],[2,\"\\\"\"],[1,[32,0,[\"themeName\"]]],[2,\"\\\"\"],[13],[2,\" was uploaded successfully but we detected some \"],[6,[37,1],[[32,0,[\"validationErrors\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"errors\"]],\"parameters\":[]},{\"statements\":[[2,\"warnings\"]],\"parameters\":[]}]]],[2,\". You are still able to activate and use the theme but it is recommended to fix these \"],[6,[37,1],[[32,0,[\"validationErrors\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"errors\"]],\"parameters\":[]},{\"statements\":[[2,\"warnings\"]],\"parameters\":[]}]]],[2,\" before you do so.\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        The theme \"],[10,\"strong\"],[12],[2,\"\\\"\"],[1,[32,0,[\"themeName\"]]],[2,\"\\\"\"],[13],[2,\" was uploaded successfully but we detected some\\n                        \"],[6,[37,1],[[32,0,[\"validationErrors\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"errors\"]],\"parameters\":[]},{\"statements\":[[2,\"warnings\"]],\"parameters\":[]}]]],[2,\".\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n\\n\"],[6,[37,1],[[32,0,[\"validationErrors\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"div\"],[12],[2,\"\\n                        \"],[10,\"h2\"],[14,0,\"mb0 mt4 f5 fw6\"],[12],[2,\"Errors\"],[13],[2,\"\\n                        \"],[10,\"p\"],[14,0,\"mb2\"],[12],[2,\"Highly recommended to fix, functionality \"],[10,\"strong\"],[12],[2,\"could\"],[13],[2,\" be restricted\"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"ul\"],[14,0,\"pa0\"],[12],[2,\"\\n\"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,[\"validationErrors\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"li\"],[14,0,\"theme-validation-item theme-error\"],[12],[2,\"\\n                            \"],[8,\"gh-theme-error-li\",[],[[\"@error\"],[[32,4]]],null],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[4]}]]],[2,\"                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,1],[[32,0,[\"validationWarnings\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"div\"],[12],[2,\"\\n                        \"],[10,\"h2\"],[14,0,\"mb0 mt4 f5 fw6\"],[12],[2,\"Warnings\"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"ul\"],[14,0,\"pa0\"],[12],[2,\"\\n\"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,[\"validationWarnings\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"li\"],[14,0,\"theme-validation-item theme-warning\"],[12],[2,\"\\n                            \"],[8,\"gh-theme-error-li\",[],[[\"@error\"],[[32,3]]],null],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[3]}]]],[2,\"                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]},{\"statements\":[[2,\"                \"],[10,\"p\"],[12],[2,\"\\n                    \\\"\"],[1,[32,0,[\"themeName\"]]],[2,\"\\\" uploaded successfully.\\n                    \"],[6,[37,1],[[32,0,[\"canActivateTheme\"]]],null,[[\"default\"],[{\"statements\":[[2,\"Do you want to activate it now?\"]],\"parameters\":[]}]]],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]},{\"statements\":[[6,[37,1],[[32,0,[\"displayOverwriteWarning\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"            \"],[10,\"p\"],[12],[2,\"\\n                The theme folder \"],[10,\"strong\"],[12],[2,\"\\\"\"],[1,[32,0,[\"fileThemeName\"]]],[2,\"\\\"\"],[13],[2,\" already exists. Do you want to overwrite it?\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,1],[[30,[36,4],[[32,0,[\"validationErrors\"]],[32,0,[\"fatalValidationErrors\"]]],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"\\n            \"],[10,\"p\"],[12],[2,\"\\n                This theme is invalid and cannot be activated. Fix the following errors and re-upload the theme.\\n            \"],[13],[2,\"\\n\\n\"],[6,[37,1],[[32,0,[\"fatalValidationErrors\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"div\"],[12],[2,\"\\n                    \"],[10,\"h2\"],[14,0,\"mb0 mt4 f5 fw6\"],[12],[2,\"Fatal Errors\"],[13],[2,\"\\n                    \"],[10,\"p\"],[14,0,\"mb2\"],[12],[2,\"Must-fix to activate theme\"],[13],[2,\"\\n                \"],[13],[2,\"\\n\\n                \"],[10,\"ul\"],[14,0,\"pa0\"],[12],[2,\"\\n\"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,[\"fatalValidationErrors\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"li\"],[14,0,\"theme-validation-item theme-fatal-error\"],[12],[2,\"\\n                        \"],[8,\"gh-theme-error-li\",[],[[\"@error\"],[[32,2]]],null],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[2]}]]],[2,\"                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,1],[[32,0,[\"validationErrors\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"div\"],[12],[2,\"\\n                    \"],[10,\"h2\"],[14,0,\"mb0 mt4 f5 fw6\"],[12],[2,\"Errors\"],[13],[2,\"\\n                    \"],[10,\"p\"],[14,0,\"mb2\"],[12],[2,\"Highly recommended to fix, functionality \"],[10,\"strong\"],[12],[2,\"could\"],[13],[2,\" be restricted\"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"ul\"],[14,0,\"pa0\"],[12],[2,\"\\n\"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,[\"validationErrors\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"li\"],[14,0,\"theme-validation-item theme-error\"],[12],[2,\"\\n                        \"],[8,\"gh-theme-error-li\",[],[[\"@error\"],[[32,1]]],null],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[1]}]]],[2,\"                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]},{\"statements\":[[2,\"            \"],[8,\"gh-file-uploader\",[],[[\"@url\",\"@paramName\",\"@accept\",\"@labelText\",\"@validate\",\"@uploadStarted\",\"@uploadFinished\",\"@uploadSuccess\",\"@uploadFailed\",\"@listenTo\"],[[32,0,[\"uploadUrl\"]],\"file\",[32,0,[\"accept\"]],\"Click to select or drag-and-drop your theme zip file here.\",[30,[36,0],[[32,0],\"validateTheme\"],null],[30,[36,0],[[32,0],\"uploadStarted\"],null],[30,[36,0],[[32,0],\"uploadFinished\"],null],[30,[36,0],[[32,0],\"uploadSuccess\"],null],[30,[36,0],[[32,0],\"uploadFailed\"],null],\"themeUploader\"]],null],[2,\"\\n        \"]],\"parameters\":[]}]]]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[10,\"div\"],[15,0,[31,[\"flex items-center justify-between \",[30,[36,1],[[30,[36,4],[[32,0,[\"displayOverwriteWarning\"]],[32,0,[\"canActivateTheme\"]],[32,0,[\"validationErrors\"]],[32,0,[\"fatalValidationErrors\"]]],null],\"flex-auto\"],null]]]],[12],[2,\"\\n        \"],[11,\"button\"],[16,\"disabled\",[32,0,[\"closeDisabled\"]]],[24,0,\"gh-btn\"],[24,\"data-test-close-button\",\"\"],[4,[38,0],[[32,0],\"closeModal\"],null],[12],[2,\"\\n            \"],[10,\"span\"],[12],[6,[37,1],[[32,0,[\"theme\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"Close\"]],\"parameters\":[]},{\"statements\":[[2,\"Cancel\"]],\"parameters\":[]}]]],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex items-center\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"displayOverwriteWarning\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-red\"],[24,\"data-test-overwrite-button\",\"\"],[4,[38,0],[[32,0],\"confirmOverwrite\"],null],[12],[2,\"\\n                    \"],[10,\"span\"],[12],[2,\"Overwrite\"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[6,[37,1],[[32,0,[\"canActivateTheme\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-activate-now-button\",\"\"],[4,[38,0],[[32,0],\"activate\"],null],[12],[2,\"\\n                    \"],[10,\"span\"],[12],[2,\"Activate\"],[6,[37,1],[[32,0,[\"validationErrors\"]]],null,[[\"default\"],[{\"statements\":[[2,\" with errors\"]],\"parameters\":[]}]]],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[6,[37,1],[[30,[36,4],[[32,0,[\"validationErrors\"]],[32,0,[\"fatalValidationErrors\"]]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-blue ml2\"],[24,\"data-test-try-again-button\",\"\"],[4,[38,0],[[32,0],\"reset\"],null],[12],[2,\"\\n                    \"],[10,\"span\"],[12],[2,\"Retry\"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"if\",\"-track-array\",\"each\",\"or\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-upload-theme.hbs"}});

  const DEFAULTS = {
    accept: ['application/zip', 'application/x-zip-compressed'],
    extensions: ['zip']
  };

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    eventBus: Ember.inject.service(),
    store: Ember.inject.service(),
    accept: null,
    extensions: null,
    themes: null,
    closeDisabled: false,
    file: null,
    theme: false,
    displayOverwriteWarning: false,
    hideUploader: Ember.computed.or('theme', 'displayOverwriteWarning'),
    currentThemeNames: Ember.computed.mapBy('model.themes', 'name'),
    uploadUrl: Ember.computed(function () {
      return `${(0, _ghostPaths.default)().apiRoot}/themes/upload/`;
    }),
    themeName: Ember.computed('theme.{name,package.name}', function () {
      let themePackage = this.get('theme.package');
      let name = this.get('theme.name');
      return themePackage ? `${themePackage.name} - ${themePackage.version}` : name;
    }),
    fileThemeName: Ember.computed('file', function () {
      let file = this.file;
      return file.name.replace(/\.zip$/, '');
    }),
    canActivateTheme: Ember.computed('theme', function () {
      let theme = this.theme;
      return theme && !theme.get('active');
    }),

    init() {
      this._super(...arguments);

      this.accept = this.accept || DEFAULTS.accept;
      this.extensions = this.extensions || DEFAULTS.extensions;
    },

    actions: {
      validateTheme(file) {
        let themeName = file.name.replace(/\.zip$/, '').replace(/[^\w@.]/gi, '-').toLowerCase();
        let currentThemeNames = this.currentThemeNames;
        this.set('file', file);
        let [, extension] = /(?:\.([^.]+))?$/.exec(file.name);
        let extensions = this.extensions;

        if (!extension || extensions.indexOf(extension.toLowerCase()) === -1) {
          return new _ajax.UnsupportedMediaTypeError();
        }

        if (file.name.match(/^casper\.zip$/i)) {
          return {
            payload: {
              errors: [{
                message: 'Sorry, the default Casper theme cannot be overwritten.<br>Please rename your zip file and try again.'
              }]
            }
          };
        }

        if (!this._allowOverwrite && currentThemeNames.includes(themeName)) {
          this.set('displayOverwriteWarning', true);
          return false;
        }

        return true;
      },

      confirmOverwrite() {
        this._allowOverwrite = true;
        this.set('displayOverwriteWarning', false); // we need to schedule afterRender so that the upload component is
        // displayed again in order to subscribe/respond to the event bus

        Ember.run.schedule('afterRender', this, function () {
          this.eventBus.publish('themeUploader:upload', this.file);
        });
      },

      uploadStarted() {
        this.set('closeDisabled', true);
      },

      uploadFinished() {
        this.set('closeDisabled', false);
      },

      uploadSuccess(response) {
        this.store.pushPayload(response);
        let theme = this.store.peekRecord('theme', response.themes[0].name);
        this.set('theme', theme);

        if (Ember.get(theme, 'warnings.length') > 0) {
          this.set('validationWarnings', Ember.get(theme, 'warnings'));
        } // Ghost differentiates between errors and fatal errors
        // You can't activate a theme with fatal errors, but with errors.


        if (Ember.get(theme, 'errors.length') > 0) {
          this.set('validationErrors', Ember.get(theme, 'errors'));
        }

        this.set('hasWarningsOrErrors', this.get('validationErrors.length') || this.get('validationWarnings.length')); // invoke the passed in confirm action

        this.get('model.uploadSuccess')(theme);
      },

      uploadFailed(error) {
        if ((0, _ajax.isThemeValidationError)(error)) {
          let errors = error.payload.errors[0].details.errors;
          let fatalErrors = [];
          let normalErrors = []; // to have a proper grouping of fatal errors and none fatal, we need to check
          // our errors for the fatal property

          if (errors && errors.length > 0) {
            for (let i = 0; i < errors.length; i += 1) {
              if (errors[i].fatal) {
                fatalErrors.push(errors[i]);
              } else {
                normalErrors.push(errors[i]);
              }
            }
          }

          this.set('fatalValidationErrors', fatalErrors);
          this.set('validationErrors', normalErrors);
        }
      },

      confirm() {// noop - we don't want the enter key doing anything
      },

      activate() {
        this.get('model.activate')(this.theme);
        this.closeModal();
      },

      closeModal() {
        if (!this.closeDisabled) {
          this._super(...arguments);
        }
      },

      reset() {
        this.set('theme', null);
        this.set('validationWarnings', []);
        this.set('validationErrors', []);
        this.set('fatalValidationErrors', []);
        this.set('hasWarningsOrErrors', false);
      }

    }
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-webhook-form", ["exports", "ghost-admin/components/modal-base", "ghost-admin/models/webhook", "ghost-admin/helpers/event-name", "ember-concurrency"], function (_exports, _modalBase, _webhook, _eventName, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header" data-test-modal="webhook-form">
      <h1 data-test-text="title">{{if this.webhook.isNew "New" "Edit"}} webhook</h1>
  </header>
  <button class="close" href title="Close" {{action "closeModal"}} {{action (optional this.noop) on="mouseDown"}}>
      {{svg-jar "close"}}
  </button>
  
  <div class="modal-body">
      <fieldset>
          <GhFormGroup @errors={{this.webhook.errors}} @hasValidated={{this.webhook.hasValidated}} @property="name">
              <label for="webhook-name" class="fw6">Name</label>
              <GhTextInput
                  @value={{readonly this.webhook.name}}
                  @input={{action (mut this.webhook.name) value="target.value"}}
                  @focus-out={{action "validate" "name" target=this.webhook}}
                  @id="webhook-name"
                  @name="name"
                  @class="gh-input mt1"
                  @placeholder="Webhook name..."
                  @shouldFocus={{true}}
                  @autocapitalize="off"
                  @autocorrect="off"
                  data-test-input="webhook-name" />
              <GhErrorMessage @errors={{this.webhook.errors}} @property="name" data-test-error="webhook-name" />
          </GhFormGroup>
      </fieldset>
      <fieldset>
          <GhFormGroup @errors={{this.webhook.errors}} @hasValidated={{this.webhook.hasValidated}} @property="event">
              <label for="webhook-event" class="fw6">Event</label>
              <span class="gh-select">
                  <OneWaySelect @value={{this.webhook.event}}
                      @options={{this.availableEvents}}
                      @optionValuePath="event"
                      @optionLabelPath="name"
                      @optionTargetPath="event"
                      @groupLabelPath="group"
                      @class="mt1"
                      @includeBlank={{true}}
                      @prompt="Select an event"
                      @update={{action "selectEvent"}}
                      @id="webhook-event"
                      @name="event"
                      data-test-select="webhook-event" />
                  {{svg-jar "arrow-down-small"}}
              </span>
              <GhErrorMessage @errors={{this.webhook.errors}} @property="event" data-test-error="webhook-event" />
          </GhFormGroup>
      </fieldset>
      <fieldset>
          <GhFormGroup @errors={{this.webhook.errors}} @hasValidated={{this.webhook.hasValidated}} @property="targetUrl">
              <label for="webhook-targetUrl" class="fw6">Target URL</label>
              <GhTextInput
                  @value={{readonly this.webhook.targetUrl}}
                  @input={{action (mut this.webhook.targetUrl) value="target.value"}}
                  @focus-out={{action "validate" "targetUrl" target=this.webhook}}
                  @id="webhook-targetUrl"
                  @name="targetUrl"
                  @class="gh-input mt1"
                  @placeholder="Webhook target URL..."
                  @shouldFocus={{true}}
                  @autocapitalize="off"
                  @autocorrect="off"
                  data-test-input="webhook-targetUrl" />
              <GhErrorMessage @errors={{this.webhook.errors}} @property="targetUrl" data-test-error="webhook-targetUrl" />
          </GhFormGroup>
      </fieldset>
      {{#if this.config.enableDeveloperExperiments}}
          <fieldset>
              <GhFormGroup @errors={{this.webhook.errors}} @hasValidated={{this.webhook.hasValidated}} @property="secret">
                  <label for="webhook-secret" class="fw6">Secret</label>
                  <GhTextInput
                      @value={{readonly this.webhook.secret}}
                      @oninput={{action (mut this.webhook.secret) value="target.value"}}
                      @focus-out={{action "validate" "secret" target=this.webhook}}
                      @id="webhook-secret"
                      @name="secret"
                      @class="gh-input mt1"
                      @placeholder="Webhook secret..."
                      @shouldFocus={{true}}
                      @autocapitalize="off"
                      @autocorrect="off"
                      data-test-input="webhook-secret" />
                  <GhErrorMessage @errors={{this.webhook.errors}} @property="secret" data-test-error="webhook-secret" />
              </GhFormGroup>
          </fieldset>
      {{/if}}
      {{#if this.error}}
          <p class="red">{{this.error}}</p>
      {{/if}}
  </div>
  
  <div class="modal-footer">
      <button
          class="gh-btn"
          {{action "closeModal"}}
          {{!-- disable mouseDown so it doesn't trigger focus-out validations --}}
          {{action (optional this.noop) on="mouseDown"}}
          data-test-button="cancel-webhook"
      >
          <span>Cancel</span>
      </button>
      <GhTaskButton @buttonText={{this.buttonText}}
          @successText={{this.successText}}
          @task={{this.saveWebhook}}
          @class="gh-btn gh-btn-green gh-btn-icon"
          data-test-button="save-webhook" />
  </div>
  
  */
  {"id":"Af3hRyo2","block":"{\"symbols\":[],\"statements\":[[10,\"header\"],[14,0,\"modal-header\"],[14,\"data-test-modal\",\"webhook-form\"],[12],[2,\"\\n    \"],[10,\"h1\"],[14,\"data-test-text\",\"title\"],[12],[1,[30,[36,3],[[32,0,[\"webhook\",\"isNew\"]],\"New\",\"Edit\"],null]],[2,\" webhook\"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[11,\"button\"],[24,0,\"close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,2],[[32,0],\"closeModal\"],null],[4,[38,2],[[32,0],[30,[36,4],[[32,0,[\"noop\"]]],null]],[[\"on\"],[\"mouseDown\"]]],[12],[2,\"\\n    \"],[1,[30,[36,5],[\"close\"],null]],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body\"],[12],[2,\"\\n    \"],[10,\"fieldset\"],[12],[2,\"\\n        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"webhook\",\"errors\"]],[32,0,[\"webhook\",\"hasValidated\"]],\"name\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"label\"],[14,\"for\",\"webhook-name\"],[14,0,\"fw6\"],[12],[2,\"Name\"],[13],[2,\"\\n            \"],[8,\"gh-text-input\",[[24,\"data-test-input\",\"webhook-name\"]],[[\"@value\",\"@input\",\"@focus-out\",\"@id\",\"@name\",\"@class\",\"@placeholder\",\"@shouldFocus\",\"@autocapitalize\",\"@autocorrect\"],[[30,[36,0],[[32,0,[\"webhook\",\"name\"]]],null],[30,[36,2],[[32,0],[30,[36,1],[[32,0,[\"webhook\",\"name\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,2],[[32,0],\"validate\",\"name\"],[[\"target\"],[[32,0,[\"webhook\"]]]]],\"webhook-name\",\"name\",\"gh-input mt1\",\"Webhook name...\",true,\"off\",\"off\"]],null],[2,\"\\n            \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"webhook-name\"]],[[\"@errors\",\"@property\"],[[32,0,[\"webhook\",\"errors\"]],\"name\"]],null],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n    \"],[13],[2,\"\\n    \"],[10,\"fieldset\"],[12],[2,\"\\n        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"webhook\",\"errors\"]],[32,0,[\"webhook\",\"hasValidated\"]],\"event\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"label\"],[14,\"for\",\"webhook-event\"],[14,0,\"fw6\"],[12],[2,\"Event\"],[13],[2,\"\\n            \"],[10,\"span\"],[14,0,\"gh-select\"],[12],[2,\"\\n                \"],[8,\"one-way-select\",[[24,\"data-test-select\",\"webhook-event\"]],[[\"@value\",\"@options\",\"@optionValuePath\",\"@optionLabelPath\",\"@optionTargetPath\",\"@groupLabelPath\",\"@class\",\"@includeBlank\",\"@prompt\",\"@update\",\"@id\",\"@name\"],[[32,0,[\"webhook\",\"event\"]],[32,0,[\"availableEvents\"]],\"event\",\"name\",\"event\",\"group\",\"mt1\",true,\"Select an event\",[30,[36,2],[[32,0],\"selectEvent\"],null],\"webhook-event\",\"event\"]],null],[2,\"\\n                \"],[1,[30,[36,5],[\"arrow-down-small\"],null]],[2,\"\\n            \"],[13],[2,\"\\n            \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"webhook-event\"]],[[\"@errors\",\"@property\"],[[32,0,[\"webhook\",\"errors\"]],\"event\"]],null],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n    \"],[13],[2,\"\\n    \"],[10,\"fieldset\"],[12],[2,\"\\n        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"webhook\",\"errors\"]],[32,0,[\"webhook\",\"hasValidated\"]],\"targetUrl\"]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"label\"],[14,\"for\",\"webhook-targetUrl\"],[14,0,\"fw6\"],[12],[2,\"Target URL\"],[13],[2,\"\\n            \"],[8,\"gh-text-input\",[[24,\"data-test-input\",\"webhook-targetUrl\"]],[[\"@value\",\"@input\",\"@focus-out\",\"@id\",\"@name\",\"@class\",\"@placeholder\",\"@shouldFocus\",\"@autocapitalize\",\"@autocorrect\"],[[30,[36,0],[[32,0,[\"webhook\",\"targetUrl\"]]],null],[30,[36,2],[[32,0],[30,[36,1],[[32,0,[\"webhook\",\"targetUrl\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,2],[[32,0],\"validate\",\"targetUrl\"],[[\"target\"],[[32,0,[\"webhook\"]]]]],\"webhook-targetUrl\",\"targetUrl\",\"gh-input mt1\",\"Webhook target URL...\",true,\"off\",\"off\"]],null],[2,\"\\n            \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"webhook-targetUrl\"]],[[\"@errors\",\"@property\"],[[32,0,[\"webhook\",\"errors\"]],\"targetUrl\"]],null],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n    \"],[13],[2,\"\\n\"],[6,[37,3],[[32,0,[\"config\",\"enableDeveloperExperiments\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"fieldset\"],[12],[2,\"\\n            \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"webhook\",\"errors\"]],[32,0,[\"webhook\",\"hasValidated\"]],\"secret\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"label\"],[14,\"for\",\"webhook-secret\"],[14,0,\"fw6\"],[12],[2,\"Secret\"],[13],[2,\"\\n                \"],[8,\"gh-text-input\",[[24,\"data-test-input\",\"webhook-secret\"]],[[\"@value\",\"@oninput\",\"@focus-out\",\"@id\",\"@name\",\"@class\",\"@placeholder\",\"@shouldFocus\",\"@autocapitalize\",\"@autocorrect\"],[[30,[36,0],[[32,0,[\"webhook\",\"secret\"]]],null],[30,[36,2],[[32,0],[30,[36,1],[[32,0,[\"webhook\",\"secret\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,2],[[32,0],\"validate\",\"secret\"],[[\"target\"],[[32,0,[\"webhook\"]]]]],\"webhook-secret\",\"secret\",\"gh-input mt1\",\"Webhook secret...\",true,\"off\",\"off\"]],null],[2,\"\\n                \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"webhook-secret\"]],[[\"@errors\",\"@property\"],[[32,0,[\"webhook\",\"errors\"]],\"secret\"]],null],[2,\"\\n            \"]],\"parameters\":[]}]]],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[6,[37,3],[[32,0,[\"error\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"p\"],[14,0,\"red\"],[12],[1,[32,0,[\"error\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-footer\"],[12],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-button\",\"cancel-webhook\"],[4,[38,2],[[32,0],\"closeModal\"],null],[4,[38,2],[[32,0],[30,[36,4],[[32,0,[\"noop\"]]],null]],[[\"on\"],[\"mouseDown\"]]],[12],[2,\"\\n        \"],[10,\"span\"],[12],[2,\"Cancel\"],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[8,\"gh-task-button\",[[24,\"data-test-button\",\"save-webhook\"]],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\"],[[32,0,[\"buttonText\"]],[32,0,[\"successText\"]],[32,0,[\"saveWebhook\"]],\"gh-btn gh-btn-green gh-btn-icon\"]],null],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"readonly\",\"mut\",\"action\",\"if\",\"optional\",\"svg-jar\"]}","meta":{"moduleName":"ghost-admin/components/modal-webhook-form.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    config: Ember.inject.service(),
    router: Ember.inject.service(),
    availableEvents: null,
    error: null,
    buttonText: 'Save',
    successText: 'Saved',

    confirm() {},

    webhook: Ember.computed.alias('model'),

    init() {
      this._super(...arguments);

      this.availableEvents = _eventName.AVAILABLE_EVENTS;
    },

    didReceiveAttrs() {
      if (this.webhook.isNew) {
        this.set('buttonText', 'Create');
        this.set('successText', 'Created');
      }
    },

    actions: {
      selectEvent(value) {
        this.webhook.set('event', value);
        this.webhook.validate({
          property: 'event'
        });
      },

      confirm() {
        this.saveWebhook.perform();
      }

    },
    saveWebhook: (0, _emberConcurrency.task)(function* () {
      this.set('error', null);

      try {
        let webhook = yield this.confirm();
        let integration = yield webhook.get('integration');
        this.router.transitionTo('settings.integration', integration);
      } catch (error) {
        // TODO: server-side validation errors should be serialized
        // properly so that errors are added to model.errors automatically
        if (error && error.payload && error.payload.errors) {
          let attrs = Array.from(_webhook.default.attributes.keys());
          error.payload.errors.forEach(error => {
            let {
              message,
              property = ''
            } = error;
            property = Ember.String.camelize(property);

            if (property && attrs.includes(property)) {
              this.webhook.errors.add(property, message);
              this.webhook.hasValidated.pushObject(property);
            } else {
              this.set('error', `Error: ${message}`);
            }
          });
          return;
        } // bubble up to the global error handler


        if (error) {
          throw error;
        }
      }
    })
  }));

  _exports.default = _default;
});
;define("ghost-admin/components/modal-whats-new", ["exports", "ghost-admin/components/modal-base"], function (_exports, _modalBase) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    <header class="modal-header gh-wn-header" data-test-modal="whats-new">
      <img src="assets/img/whats-new-header-bg.svg" class="background-img" />
      <span>{{svg-jar "gift" class="w5 h5 fill-white"}}</span>
      <h2>What's new?</h2>
  </header>
  
  <button class="close gh-wn-close" href title="Close" {{on "click" this.closeModal}}>
      {{svg-jar "close"}}
  </button>
  
  <div class="modal-body gh-wn-content">
      {{#each this.whatsNew.entries as |entry|}}
          <div class="gh-wn-entry">
              <h4>{{moment-format entry.published_at "DD MMMM YYYY"}}</h4>
              <h1 class="f1 fw6 ma0 pa0 mb3">{{entry.title}}</h1>
              {{#if entry.feature_image}}
                  <img class="mb5" src={{entry.feature_image}}>
              {{/if}}
              {{#if entry.custom_excerpt}}
                  <p>{{entry.custom_excerpt}}</p>
                  <a href={{entry.url}} class="dib fw6 mb6" target="_blank" rel="noopener noreferrer">Read the full post →</a>
              {{else}}
                  {{{entry.html}}}
              {{/if}}
          </div>
      {{/each}}
  </div>
  <div class="modal-footer gh-wn-footer">
      <a href={{this.whatsNew.changelogUrl}} target="_blank" rel="noopener noreferrer">
          See all past updates
      </a>
  </div>
  */
  {"id":"wUHUWpkx","block":"{\"symbols\":[\"entry\"],\"statements\":[[10,\"header\"],[14,0,\"modal-header gh-wn-header\"],[14,\"data-test-modal\",\"whats-new\"],[12],[2,\"\\n    \"],[10,\"img\"],[14,\"src\",\"assets/img/whats-new-header-bg.svg\"],[14,0,\"background-img\"],[12],[13],[2,\"\\n    \"],[10,\"span\"],[12],[1,[30,[36,2],[\"gift\"],[[\"class\"],[\"w5 h5 fill-white\"]]]],[13],[2,\"\\n    \"],[10,\"h2\"],[12],[2,\"What's new?\"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[11,\"button\"],[24,0,\"close gh-wn-close\"],[24,6,\"\"],[24,\"title\",\"Close\"],[4,[38,3],[\"click\",[32,0,[\"closeModal\"]]],null],[12],[2,\"\\n    \"],[1,[30,[36,2],[\"close\"],null]],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[14,0,\"modal-body gh-wn-content\"],[12],[2,\"\\n\"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,[\"whatsNew\",\"entries\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,0,\"gh-wn-entry\"],[12],[2,\"\\n            \"],[10,\"h4\"],[12],[1,[30,[36,0],[[32,1,[\"published_at\"]],\"DD MMMM YYYY\"],null]],[13],[2,\"\\n            \"],[10,\"h1\"],[14,0,\"f1 fw6 ma0 pa0 mb3\"],[12],[1,[32,1,[\"title\"]]],[13],[2,\"\\n\"],[6,[37,1],[[32,1,[\"feature_image\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"img\"],[14,0,\"mb5\"],[15,\"src\",[32,1,[\"feature_image\"]]],[12],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[6,[37,1],[[32,1,[\"custom_excerpt\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[10,\"p\"],[12],[1,[32,1,[\"custom_excerpt\"]]],[13],[2,\"\\n                \"],[10,\"a\"],[15,6,[32,1,[\"url\"]]],[14,0,\"dib fw6 mb6\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"Read the full post →\"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                \"],[2,[32,1,[\"html\"]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n\"]],\"parameters\":[1]}]]],[13],[2,\"\\n\"],[10,\"div\"],[14,0,\"modal-footer gh-wn-footer\"],[12],[2,\"\\n    \"],[10,\"a\"],[15,6,[32,0,[\"whatsNew\",\"changelogUrl\"]]],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"\\n        See all past updates\\n    \"],[13],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"moment-format\",\"if\",\"svg-jar\",\"on\",\"-track-array\",\"each\"]}","meta":{"moduleName":"ghost-admin/components/modal-whats-new.hbs"}});

  var _default = Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, _modalBase.default.extend({
    whatsNew: Ember.inject.service(),

    confirm() {}

  }));

  _exports.default = _default;
});
;define("ghost-admin/components/object-bin", ["exports", "ember-drag-drop/components/object-bin"], function (_exports, _objectBin) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = _objectBin.default;
  _exports.default = _default;
});
;define("ghost-admin/components/one-way-select", ["exports", "ember-one-way-select/components/one-way-select"], function (_exports, _oneWaySelect) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _oneWaySelect.default;
    }
  });
});
;define("ghost-admin/components/one-way-select/option", ["exports", "ember-one-way-select/components/one-way-select/option"], function (_exports, _option) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _option.default;
    }
  });
});
;define("ghost-admin/components/power-calendar-multiple", ["exports", "ember-power-calendar/components/power-calendar-multiple"], function (_exports, _powerCalendarMultiple) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _powerCalendarMultiple.default;
    }
  });
});
;define("ghost-admin/components/power-calendar-multiple/days", ["exports", "ember-power-calendar/components/power-calendar-multiple/days"], function (_exports, _days) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _days.default;
    }
  });
});
;define("ghost-admin/components/power-calendar-range", ["exports", "ember-power-calendar/components/power-calendar-range"], function (_exports, _powerCalendarRange) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _powerCalendarRange.default;
    }
  });
});
;define("ghost-admin/components/power-calendar-range/days", ["exports", "ember-power-calendar/components/power-calendar-range/days"], function (_exports, _days) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _days.default;
    }
  });
});
;define("ghost-admin/components/power-calendar", ["exports", "ember-power-calendar/components/power-calendar"], function (_exports, _powerCalendar) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _powerCalendar.default;
    }
  });
});
;define("ghost-admin/components/power-calendar/days", ["exports", "ember-power-calendar/components/power-calendar/days"], function (_exports, _days) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _days.default;
    }
  });
});
;define("ghost-admin/components/power-calendar/nav", ["exports", "ember-power-calendar/components/power-calendar/nav"], function (_exports, _nav) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _nav.default;
    }
  });
});
;define("ghost-admin/components/power-datepicker", ["exports", "ember-power-datepicker/components/power-datepicker"], function (_exports, _powerDatepicker) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _powerDatepicker.default;
    }
  });
});
;define("ghost-admin/components/power-select-multiple", ["exports", "ember-power-select/components/power-select-multiple"], function (_exports, _powerSelectMultiple) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _powerSelectMultiple.default;
    }
  });
});
;define("ghost-admin/components/power-select-multiple/trigger", ["exports", "ember-power-select/components/power-select-multiple/trigger"], function (_exports, _trigger) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _trigger.default;
    }
  });
});
;define("ghost-admin/components/power-select-vertical-collection-options", ["exports", "ember-power-select/components/power-select/options"], function (_exports, _options) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const __COLOCATED_TEMPLATE__ = Ember.HTMLBars.template(
  /*
    
  <ul role="listbox" aria-controls="ember-power-select-trigger-{{@select.uniqueId}}" {{did-insert this.addHandlers}} ...attributes>
      {{#if @select.loading}}
          {{#if @loadingMessage}}
              <li class="ember-power-select-option ember-power-select-option--loading-message" role="option">{{@loadingMessage}}</li>
          {{/if}}
      {{/if}}
  
      {{#vertical-collection @options minHeight=30 estimateHeight=6 bufferSize=10 as |opt index|}}
          <li class="ember-power-select-option"
              aria-selected="{{ember-power-select-is-selected opt @select.selected}}"
              aria-disabled={{if opt.disabled "true"}}
              aria-current="{{eq opt @select.highlighted}}"
              data-option-index="{{@groupIndex}}{{index}}"
              role="option">
              {{yield opt @select}}
          </li>
      {{/vertical-collection}}
  </ul>
  */
  {"id":"QepGcI4k","block":"{\"symbols\":[\"opt\",\"index\",\"@select\",\"@groupIndex\",\"&default\",\"@loadingMessage\",\"&attrs\",\"@options\"],\"statements\":[[2,\"\\n\"],[11,\"ul\"],[24,\"role\",\"listbox\"],[16,\"aria-controls\",[31,[\"ember-power-select-trigger-\",[32,3,[\"uniqueId\"]]]]],[17,7],[4,[38,3],[[32,0,[\"addHandlers\"]]],null],[12],[2,\"\\n\"],[6,[37,1],[[32,3,[\"loading\"]]],null,[[\"default\"],[{\"statements\":[[6,[37,1],[[32,6]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"li\"],[14,0,\"ember-power-select-option ember-power-select-option--loading-message\"],[14,\"role\",\"option\"],[12],[1,[32,6]],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,4],[[32,8]],[[\"minHeight\",\"estimateHeight\",\"bufferSize\"],[30,6,10]],[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"li\"],[14,0,\"ember-power-select-option\"],[15,\"aria-selected\",[31,[[30,[36,0],[[32,1],[32,3,[\"selected\"]]],null]]]],[15,\"aria-disabled\",[30,[36,1],[[32,1,[\"disabled\"]],\"true\"],null]],[15,\"aria-current\",[31,[[30,[36,2],[[32,1],[32,3,[\"highlighted\"]]],null]]]],[15,\"data-option-index\",[31,[[32,4],[32,2]]]],[14,\"role\",\"option\"],[12],[2,\"\\n            \"],[18,5,[[32,1],[32,3]]],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[1,2]}]]],[13]],\"hasEval\":false,\"upvars\":[\"ember-power-select-is-selected\",\"if\",\"eq\",\"did-insert\",\"vertical-collection\"]}","meta":{"moduleName":"ghost-admin/components/power-select-vertical-collection-options.hbs"}});

  class PowerSelectVerticalCollectionOptions extends _options.default {}

  _exports.default = PowerSelectVerticalCollectionOptions;

  Ember._setComponentTemplate(__COLOCATED_TEMPLATE__, PowerSelectVerticalCollectionOptions);
});
;define("ghost-admin/components/power-select", ["exports", "ember-power-select/components/power-select"], function (_exports, _powerSelect) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _powerSelect.default;
    }
  });
});
;define("ghost-admin/components/power-select/before-options", ["exports", "ember-power-select/components/power-select/before-options"], function (_exports, _beforeOptions) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _beforeOptions.default;
    }
  });
});
;define("ghost-admin/components/power-select/options", ["exports", "ember-power-select/components/power-select/options"], function (_exports, _options) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _options.default;
    }
  });
});
;define("ghost-admin/components/power-select/trigger", ["exports", "ember-power-select/components/power-select/trigger"], function (_exports, _trigger) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _trigger.default;
    }
  });
});
;define("ghost-admin/components/sortable-objects", ["exports", "ember-drag-drop/components/sortable-objects"], function (_exports, _sortableObjects) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = _sortableObjects.default;
  _exports.default = _default;
});
;define("ghost-admin/components/sticky-element", ["exports", "ember-sticky-element/components/sticky-element"], function (_exports, _stickyElement) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _stickyElement.default;
    }
  });
});
;define("ghost-admin/components/sticky-element/trigger", ["exports", "ember-sticky-element/components/sticky-element/trigger"], function (_exports, _trigger) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _trigger.default;
    }
  });
});
;define("ghost-admin/components/vertical-collection", ["exports", "@html-next/vertical-collection/components/vertical-collection/component"], function (_exports, _component) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _component.default;
    }
  });
});
;define("ghost-admin/components/x-file-input", ["exports", "emberx-file-input/components/x-file-input"], function (_exports, _xFileInput) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _xFileInput.default;
    }
  });
});
;define("ghost-admin/controllers/about", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable ghost/ember/alias-model-in-controller */
  var _default = Ember.Controller.extend({
    config: Ember.inject.service(),
    upgradeStatus: Ember.inject.service(),
    copyrightYear: Ember.computed(function () {
      let date = new Date();
      return date.getFullYear();
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/application", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    customViews: Ember.inject.service(),
    dropdown: Ember.inject.service(),
    router: Ember.inject.service(),
    session: Ember.inject.service(),
    settings: Ember.inject.service(),
    ui: Ember.inject.service(),
    showNavMenu: Ember.computed('router.currentRouteName', 'session.{isAuthenticated,user.isFulfilled}', 'ui.isFullScreen', function () {
      let {
        router,
        session,
        ui
      } = this; // if we're in fullscreen mode don't show the nav menu

      if (ui.isFullScreen) {
        return false;
      } // we need to defer showing the navigation menu until the session.user
      // promise has fulfilled so that gh-user-can-admin has the correct data


      if (!session.isAuthenticated || !session.user.isFulfilled) {
        return false;
      }

      return (router.currentRouteName !== 'error404' || session.isAuthenticated) && !router.currentRouteName.match(/(signin|signup|setup|reset)/);
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/billing", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    queryParams: ['action'],
    action: null,
    guid: Ember.computed.alias('model')
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/editor", ["exports", "ghost-admin/models/post", "ghost-admin/utils/bound-one-way", "ghost-admin/config/environment", "ghost-admin/utils/isNumber", "ghost-admin/services/ajax", "ember-ajax/errors", "ember-concurrency"], function (_exports, _post, _boundOneWay, _environment, _isNumber, _ajax, _errors, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  const DEFAULT_TITLE = '(Untitled)'; // time in ms to save after last content edit

  const AUTOSAVE_TIMEOUT = 3000; // time in ms to force a save if the user is continuously typing

  const TIMEDSAVE_TIMEOUT = 60000; // this array will hold properties we need to watch for this.hasDirtyAttributes

  let watchedProps = ['post.scratch', 'post.titleScratch', 'post.hasDirtyAttributes', 'post.tags.[]', 'post.isError']; // add all post model attrs to the watchedProps array, easier to do it this way
  // than remember to update every time we add a new attr

  _post.default.eachAttribute(function (name) {
    watchedProps.push(`post.${name}`);
  });

  const messageMap = {
    errors: {
      post: {
        published: {
          published: 'Update failed',
          draft: 'Saving failed',
          scheduled: 'Scheduling failed'
        },
        draft: {
          published: 'Publish failed',
          draft: 'Saving failed',
          scheduled: 'Scheduling failed'
        },
        scheduled: {
          scheduled: 'Update failed',
          draft: 'Unscheduling failed',
          published: 'Publish failed'
        }
      }
    },
    success: {
      post: {
        published: {
          published: 'Updated',
          draft: 'Saved',
          scheduled: 'Scheduled'
        },
        draft: {
          published: 'Published',
          draft: 'Saved',
          scheduled: 'Scheduled'
        },
        scheduled: {
          scheduled: 'Updated',
          draft: 'Unscheduled',
          published: 'Published'
        }
      }
    }
  };

  var _default = Ember.Controller.extend({
    application: Ember.inject.controller(),
    feature: Ember.inject.service(),
    notifications: Ember.inject.service(),
    router: Ember.inject.service(),
    slugGenerator: Ember.inject.service(),
    session: Ember.inject.service(),
    ui: Ember.inject.service(),

    /* public properties -----------------------------------------------------*/
    infoMessage: null,
    leaveEditorTransition: null,
    shouldFocusEditor: false,
    showDeletePostModal: false,
    showLeaveEditorModal: false,
    showReAuthenticateModal: false,
    showEmailPreviewModal: false,
    showUpgradeModal: false,
    hostLimitError: null,
    // koenig related properties
    wordcount: null,

    /* private properties ----------------------------------------------------*/
    // set by setPost and _postSaved, used in hasDirtyAttributes
    _previousTagNames: null,

    /* computed properties ---------------------------------------------------*/
    post: Ember.computed.alias('model'),
    // store the desired post status locally without updating the model,
    // the model will only be updated when a save occurs
    willPublish: (0, _boundOneWay.default)('post.isPublished'),
    willSchedule: (0, _boundOneWay.default)('post.isScheduled'),
    // updateSlug and save should always be enqueued so that we don't run into
    // problems with concurrency, for example when Cmd-S is pressed whilst the
    // cursor is in the slug field - that would previously trigger a simultaneous
    // slug update and save resulting in ember data errors and inconsistent save
    // results
    saveTasks: (0, _emberConcurrency.taskGroup)().enqueue(),
    _tagNames: Ember.computed.mapBy('post.tags', 'name'),
    hasDirtyAttributes: Ember.computed(...watchedProps, {
      get() {
        return this._hasDirtyAttributes();
      },

      set(key, value) {
        return value;
      }

    }),
    _autosaveRunning: Ember.computed('_autosave.isRunning', '_timedSave.isRunning', function () {
      let autosave = this.get('_autosave.isRunning');
      let timedsave = this.get('_timedSave.isRunning');
      return autosave || timedsave;
    }),
    _canAutosave: Ember.computed('post.isDraft', function () {
      return _environment.default.environment !== 'test' && this.get('post.isDraft');
    }),

    /* actions ---------------------------------------------------------------*/
    actions: {
      updateScratch(mobiledoc) {
        this.set('post.scratch', mobiledoc); // save 3 seconds after last edit

        this._autosave.perform(); // force save at 60 seconds


        this._timedSave.perform();
      },

      updateTitleScratch(title) {
        this.set('post.titleScratch', title);
      },

      // updates local willPublish/Schedule values, does not get applied to
      // the post's `status` value until a save is triggered
      setSaveType(newType) {
        if (newType === 'publish') {
          this.set('willPublish', true);
          this.set('willSchedule', false);
        } else if (newType === 'draft') {
          this.set('willPublish', false);
          this.set('willSchedule', false);
        } else if (newType === 'schedule') {
          this.set('willSchedule', true);
          this.set('willPublish', false);
        }
      },

      save(options) {
        return this.save.perform(options);
      },

      // used to prevent unexpected background saves. Triggered when opening
      // publish menu, starting a manual save, and when leaving the editor
      cancelAutosave() {
        this._autosave.cancelAll();

        this._timedSave.cancelAll();
      },

      toggleLeaveEditorModal(transition) {
        let leaveTransition = this.leaveEditorTransition; // "cancel" was clicked in the "are you sure?" modal so we just
        // reset the saved transition and remove the modal

        if (!transition && this.showLeaveEditorModal) {
          this.set('leaveEditorTransition', null);
          this.set('showLeaveEditorModal', false);
          return;
        }

        if (!leaveTransition || transition.targetName === leaveTransition.targetName) {
          this.set('leaveEditorTransition', transition); // if a save is running, wait for it to finish then transition

          if (this.get('saveTasks.isRunning')) {
            return this.get('saveTasks.last').then(() => {
              transition.retry();
            });
          } // if an autosave is scheduled, cancel it, save then transition


          if (this._autosaveRunning) {
            this.send('cancelAutosave');
            this.autosave.cancelAll();
            return this.autosave.perform().then(() => {
              transition.retry();
            });
          } // we genuinely have unsaved data, show the modal


          if (this.post) {
            Object.assign(this._leaveModalReason, {
              status: this.post.status
            });
          }

          console.log('showing leave editor modal', this._leaveModalReason); // eslint-disable-line

          this.set('showLeaveEditorModal', true);
        }
      },

      // called by the "are you sure?" modal
      leaveEditor() {
        let transition = this.leaveEditorTransition;

        if (!transition) {
          this.notifications.showAlert('Sorry, there was an error in the application. Please let the Ghost team know what happened.', {
            type: 'error'
          });
          return;
        } // perform cleanup and reset manually, ensures the transition will succeed


        this.reset();
        return transition.retry();
      },

      toggleDeletePostModal() {
        if (!this.get('post.isNew')) {
          this.toggleProperty('showDeletePostModal');
        }
      },

      toggleEmailPreviewModal() {
        this.toggleProperty('showEmailPreviewModal');
      },

      toggleReAuthenticateModal() {
        this.toggleProperty('showReAuthenticateModal');
      },

      openUpgradeModal() {
        this.set('showUpgradeModal', true);
      },

      closeUpgradeModal() {
        this.set('showUpgradeModal', false);
      },

      setKoenigEditor(koenig) {
        this._koenig = koenig; // remove any empty cards when displaying a draft post
        // - empty cards may be left in draft posts due to autosave occuring
        //   whilst an empty card is present then the user closing the browser
        //   or refreshing the page

        if (this.post.isDraft) {
          this._koenig.cleanup();
        }
      },

      updateWordCount(counts) {
        this.set('wordCount', counts);
      }

    },

    /* Public tasks ----------------------------------------------------------*/
    // separate task for autosave so that it doesn't override a manual save
    autosave: (0, _emberConcurrency.task)(function* () {
      if (!this.get('save.isRunning')) {
        return yield this.save.perform({
          silent: true,
          backgroundSave: true
        });
      }
    }).drop(),
    // save tasks cancels autosave before running, although this cancels the
    // _xSave tasks  that will also cancel the autosave task
    save: (0, _emberConcurrency.task)(function* (options = {}) {
      let prevStatus = this.get('post.status');
      let isNew = this.get('post.isNew');
      let status;
      this.send('cancelAutosave');

      if (options.backgroundSave && !this.hasDirtyAttributes) {
        return;
      }

      if (options.backgroundSave) {
        // do not allow a post's status to be set to published by a background save
        status = 'draft';
      } else {
        if (this.get('post.pastScheduledTime')) {
          status = !this.willSchedule && !this.willPublish ? 'draft' : 'published';
        } else {
          if (this.willPublish && !this.get('post.isScheduled')) {
            status = 'published';
          } else if (this.willSchedule && !this.get('post.isPublished')) {
            status = 'scheduled';
          } else {
            status = 'draft';
          }
        } // let the adapter know it should use the `?send_email_when_published` QP when saving


        let isPublishing = status === 'published' && !this.post.isPublished;
        let isScheduling = status === 'scheduled' && !this.post.isScheduled;

        if (options.sendEmailWhenPublished && (isPublishing || isScheduling)) {
          options.adapterOptions = Object.assign({}, options.adapterOptions, {
            sendEmailWhenPublished: true
          });
        }
      } // ensure we remove any blank cards when performing a full save


      if (!options.backgroundSave) {
        if (this._koenig) {
          this._koenig.cleanup();

          this.set('hasDirtyAttributes', true);
        }
      } // Set the properties that are indirected
      // set mobiledoc equal to what's in the editor but create a copy so that
      // nested objects/arrays don't keep references which can mean that both
      // scratch and mobiledoc get updated simultaneously


      this.set('post.mobiledoc', JSON.parse(JSON.stringify(this.post.scratch || null)));
      this.set('post.status', status); // Set a default title

      if (!this.get('post.titleScratch').trim()) {
        this.set('post.titleScratch', DEFAULT_TITLE);
      }

      this.set('post.title', this.get('post.titleScratch'));
      this.set('post.customExcerpt', this.get('post.customExcerptScratch'));
      this.set('post.footerInjection', this.get('post.footerExcerptScratch'));
      this.set('post.headerInjection', this.get('post.headerExcerptScratch'));
      this.set('post.metaTitle', this.get('post.metaTitleScratch'));
      this.set('post.metaDescription', this.get('post.metaDescriptionScratch'));
      this.set('post.ogTitle', this.get('post.ogTitleScratch'));
      this.set('post.ogDescription', this.get('post.ogDescriptionScratch'));
      this.set('post.twitterTitle', this.get('post.twitterTitleScratch'));
      this.set('post.twitterDescription', this.get('post.twitterDescriptionScratch'));
      this.set('post.emailSubject', this.get('post.emailSubjectScratch'));

      if (!this.get('post.slug')) {
        this.saveTitle.cancelAll();
        yield this.generateSlug.perform();
      }

      try {
        let post = yield this._savePost.perform(options);
        post.set('statusScratch', null);

        if (!options.silent) {
          this._showSaveNotification(prevStatus, post.get('status'), isNew ? true : false);
        } // redirect to edit route if saving a new record


        if (isNew && post.get('id')) {
          if (!this.leaveEditorTransition) {
            this.replaceRoute('editor.edit', post);
          }

          return true;
        }

        return post;
      } catch (error) {
        // trigger upgrade modal if forbidden(403) error
        if ((0, _ajax.isHostLimitError)(error)) {
          this.post.rollbackAttributes();
          this.set('hostLimitError', error.payload.errors[0]);
          this.set('showUpgradeModal', true);
          return;
        } // re-throw if we have a general server error


        if (error && !(0, _errors.isInvalidError)(error)) {
          this.send('error', error);
          return;
        }

        this.set('post.status', prevStatus);

        if (!options.silent) {
          let errorOrMessages = error || this.get('post.errors.messages');

          this._showErrorAlert(prevStatus, this.get('post.status'), errorOrMessages); // simulate a validation error for upstream tasks


          throw undefined;
        }

        return this.post;
      }
    }).group('saveTasks'),

    /*
     * triggered by a user manually changing slug
     */
    updateSlug: (0, _emberConcurrency.task)(function* (_newSlug) {
      let slug = this.get('post.slug');
      let newSlug, serverSlug;
      newSlug = _newSlug || slug;
      newSlug = newSlug && newSlug.trim(); // Ignore unchanged slugs or candidate slugs that are empty

      if (!newSlug || slug === newSlug) {
        // reset the input to its previous state
        this.set('slugValue', slug);
        return;
      }

      serverSlug = yield this.slugGenerator.generateSlug('post', newSlug); // If after getting the sanitized and unique slug back from the API
      // we end up with a slug that matches the existing slug, abort the change

      if (serverSlug === slug) {
        return;
      } // Because the server transforms the candidate slug by stripping
      // certain characters and appending a number onto the end of slugs
      // to enforce uniqueness, there are cases where we can get back a
      // candidate slug that is a duplicate of the original except for
      // the trailing incrementor (e.g., this-is-a-slug and this-is-a-slug-2)
      // get the last token out of the slug candidate and see if it's a number


      let slugTokens = serverSlug.split('-');
      let check = Number(slugTokens.pop()); // if the candidate slug is the same as the existing slug except
      // for the incrementor then the existing slug should be used

      if ((0, _isNumber.default)(check) && check > 0) {
        if (slug === slugTokens.join('-') && serverSlug !== newSlug) {
          this.set('slugValue', slug);
          return;
        }
      }

      this.set('post.slug', serverSlug); // If this is a new post.  Don't save the post.  Defer the save
      // to the user pressing the save button

      if (this.get('post.isNew')) {
        return;
      }

      return yield this._savePost.perform();
    }).group('saveTasks'),
    // used in the PSM so that saves are sequential and don't trigger collision
    // detection errors
    savePost: (0, _emberConcurrency.task)(function* () {
      try {
        return yield this._savePost.perform();
      } catch (error) {
        if (error) {
          let status = this.get('post.status');

          this._showErrorAlert(status, status, error);
        }

        throw error;
      }
    }).group('saveTasks'),
    // convenience method for saving the post and performing post-save cleanup
    _savePost: (0, _emberConcurrency.task)(function* (options) {
      let {
        post
      } = this;
      yield post.save(options); // remove any unsaved tags
      // NOTE: `updateTags` changes `hasDirtyAttributes => true`.
      // For a saved post it would otherwise be false.

      post.updateTags();
      this._previousTagNames = this._tagNames; // update the scratch property if it's `null` and we get a blank mobiledoc
      // back from the API - prevents "unsaved changes" modal on new+blank posts

      if (!post.scratch) {
        post.set('scratch', JSON.parse(JSON.stringify(post.get('mobiledoc'))));
      } // if the two "scratch" properties (title and content) match the post,
      // then it's ok to set hasDirtyAttributes to false
      // TODO: why is this necessary?


      let titlesMatch = post.get('titleScratch') === post.get('title');
      let bodiesMatch = JSON.stringify(post.get('scratch')) === JSON.stringify(post.get('mobiledoc'));

      if (titlesMatch && bodiesMatch) {
        this.set('hasDirtyAttributes', false);
      }

      return post;
    }),
    saveTitle: (0, _emberConcurrency.task)(function* () {
      let post = this.post;
      let currentTitle = post.get('title');
      let newTitle = post.get('titleScratch').trim();

      if (currentTitle && newTitle && newTitle === currentTitle) {
        return;
      } // this is necessary to force a save when the title is blank


      this.set('hasDirtyAttributes', true); // generate a slug if a post is new and doesn't have a title yet or
      // if the title is still '(Untitled)'

      if (post.get('isNew') && !currentTitle || currentTitle === DEFAULT_TITLE) {
        yield this.generateSlug.perform();
      }

      if (this.get('post.isDraft')) {
        yield this.autosave.perform();
      }

      this.ui.updateDocumentTitle();
    }),
    generateSlug: (0, _emberConcurrency.task)(function* () {
      let title = this.get('post.titleScratch'); // Only set an "untitled" slug once per post

      if (title === DEFAULT_TITLE && this.get('post.slug')) {
        return;
      }

      try {
        let slug = yield this.slugGenerator.generateSlug('post', title);

        if (!Ember.isBlank(slug)) {
          this.set('post.slug', slug);
        }
      } catch (error) {
        // Nothing to do (would be nice to log this somewhere though),
        // but a rejected promise needs to be handled here so that a resolved
        // promise is returned.
        if ((0, _ajax.isVersionMismatchError)(error)) {
          this.notifications.showAPIError(error);
        }
      }
    }).enqueue(),
    // load supplementel data such as the members count in the background
    backgroundLoader: (0, _emberConcurrency.task)(function* () {
      try {
        if (this.feature.members) {
          let membersResponse = yield this.store.query('member', {
            limit: 1,
            filter: 'subscribed:true'
          });
          this.set('memberCount', Ember.get(membersResponse, 'meta.pagination.total'));
        }
      } catch (error) {
        this.set('memberCount', 0);
      }
    }).restartable(),

    /* Public methods --------------------------------------------------------*/
    // called by the new/edit routes to change the post model
    setPost(post) {
      // don't do anything else if we're setting the same post
      if (post === this.post) {
        // set autofocus as change signal to the persistent editor on new->edit
        this.set('shouldFocusEditor', post.get('isNew'));
        return;
      } // reset everything ready for a new post


      this.reset();
      this.set('post', post);
      this.backgroundLoader.perform(); // autofocus the editor if we have a new post

      this.set('shouldFocusEditor', post.get('isNew')); // need to set scratch values because they won't be present on first
      // edit of the post
      // TODO: can these be `boundOneWay` on the model as per the other attrs?

      post.set('titleScratch', post.get('title'));
      post.set('scratch', post.get('mobiledoc'));
      this._previousTagNames = this._tagNames; // triggered any time the admin tab is closed, we need to use a native
      // dialog here instead of our custom modal

      window.onbeforeunload = () => {
        if (this.hasDirtyAttributes) {
          return '==============================\n\n' + 'Hey there! It looks like you\'re in the middle of writing' + ' something and you haven\'t saved all of your content.' + '\n\nSave before you go!\n\n' + '==============================';
        }
      };
    },

    // called by editor route's willTransition hook, fires for editor.new->edit,
    // editor.edit->edit, or editor->any. Triggers `toggleLeaveEditorModal` action
    // which will either finish autosave then retry transition or abort and show
    // the "are you sure?" modal
    willTransition(transition) {
      let post = this.post; // exit early and allow transition if we have no post, occurs if reset
      // has already been called as in the `leaveEditor` action

      if (!post) {
        return;
      } // clean up blank cards when leaving the editor if we have a draft post
      // - blank cards could be left around due to autosave triggering whilst
      //   a blank card is present then the user attempting to leave
      // - will mark the post as dirty so it gets saved when transitioning


      if (this._koenig && post.isDraft) {
        this._koenig.cleanup();
      }

      let hasDirtyAttributes = this.hasDirtyAttributes;
      let state = post.getProperties('isDeleted', 'isSaving', 'hasDirtyAttributes', 'isNew');
      let fromNewToEdit = this.get('router.currentRouteName') === 'editor.new' && transition.targetName === 'editor.edit' && transition.intent.contexts && transition.intent.contexts[0] && transition.intent.contexts[0].id === post.get('id');
      let deletedWithoutChanges = state.isDeleted && (state.isSaving || !state.hasDirtyAttributes); // controller is dirty and we aren't in a new->edit or delete->index
      // transition so show our "are you sure you want to leave?" modal

      if (!fromNewToEdit && !deletedWithoutChanges && hasDirtyAttributes) {
        transition.abort();
        this.send('toggleLeaveEditorModal', transition);
        return;
      } // the transition is now certain to complete so cleanup and reset if
      // we're exiting the editor. new->edit keeps everything around and
      // edit->edit will call reset in the setPost method if necessary


      if (!fromNewToEdit && transition.targetName !== 'editor.edit') {
        this.reset();
      }
    },

    // called when the editor route is left or the post model is swapped
    reset() {
      let post = this.post; // make sure the save tasks aren't still running in the background
      // after leaving the edit route

      this.send('cancelAutosave');

      if (post) {
        // clear post of any unsaved, client-generated tags
        post.updateTags(); // remove new+unsaved records from the store and rollback any unsaved changes

        if (post.get('isNew')) {
          post.deleteRecord();
        } else {
          post.rollbackAttributes();
        }
      }

      this._previousTagNames = [];
      this.set('post', null);
      this.set('hasDirtyAttributes', false);
      this.set('shouldFocusEditor', false);
      this.set('leaveEditorTransition', null);
      this.set('showLeaveEditorModal', false);
      this.set('infoMessage', null);
      this.set('wordCount', null); // remove the onbeforeunload handler as it's only relevant whilst on
      // the editor route

      window.onbeforeunload = null;
    },

    /* Private tasks ---------------------------------------------------------*/
    // save 3 seconds after the last edit
    _autosave: (0, _emberConcurrency.task)(function* () {
      if (!this._canAutosave) {
        return;
      } // force an instant save on first body edit for new posts


      if (this.get('post.isNew')) {
        return this.autosave.perform();
      }

      yield (0, _emberConcurrency.timeout)(AUTOSAVE_TIMEOUT);
      this.autosave.perform();
    }).restartable(),
    // save at 60 seconds even if the user doesn't stop typing
    _timedSave: (0, _emberConcurrency.task)(function* () {
      if (!this._canAutosave) {
        return;
      }

      while (_environment.default.environment !== 'test' && true) {
        yield (0, _emberConcurrency.timeout)(TIMEDSAVE_TIMEOUT);
        this.autosave.perform();
      }
    }).drop(),

    /* Private methods -------------------------------------------------------*/
    _hasDirtyAttributes() {
      let post = this.post;

      if (!post) {
        return false;
      } // if the Adapter failed to save the post isError will be true
      // and we should consider the post still dirty.


      if (post.get('isError')) {
        this._leaveModalReason = {
          reason: 'isError',
          context: post.errors.messages
        };
        return true;
      } // post.tags is an array so hasDirtyAttributes doesn't pick up
      // changes unless the array ref is changed


      let currentTags = (this._tagNames || []).join(', ');
      let previousTags = (this._previousTagNames || []).join(', ');

      if (currentTags !== previousTags) {
        this._leaveModalReason = {
          reason: 'tags are different',
          context: {
            currentTags,
            previousTags
          }
        };
        return true;
      } // titleScratch isn't an attr so needs a manual dirty check


      if (this.titleScratch !== this.title) {
        this._leaveModalReason = {
          reason: 'title is different',
          context: {
            current: this.title,
            scratch: this.titleScratch
          }
        };
        return true;
      } // scratch isn't an attr so needs a manual dirty check


      let mobiledoc = post.get('mobiledoc');
      let scratch = post.get('scratch'); // additional guard in case we are trying to compare null with undefined

      if (scratch || mobiledoc) {
        let mobiledocJSON = JSON.stringify(mobiledoc);
        let scratchJSON = JSON.stringify(scratch);

        if (scratchJSON !== mobiledocJSON) {
          this._leaveModalReason = {
            reason: 'mobiledoc is different',
            context: {
              current: mobiledocJSON,
              scratch: scratchJSON
            }
          };
          return true;
        }
      } // new+unsaved posts always return `hasDirtyAttributes: true`
      // so we need a manual check to see if any


      if (post.get('isNew')) {
        let changedAttributes = Object.keys(post.changedAttributes());

        if (changedAttributes.length) {
          this._leaveModalReason = {
            reason: 'post.changedAttributes.length > 0',
            context: post.changedAttributes()
          };
        }

        return changedAttributes.length ? true : false;
      } // we've covered all the non-tracked cases we care about so fall
      // back on Ember Data's default dirty attribute checks


      let {
        hasDirtyAttributes
      } = post;

      if (hasDirtyAttributes) {
        this._leaveModalReason = {
          reason: 'post.hasDirtyAttributes === true',
          context: post.changedAttributes()
        };
      }

      return hasDirtyAttributes;
    },

    _showSaveNotification(prevStatus, status, delay) {
      let message = messageMap.success.post[prevStatus][status];
      let notifications = this.notifications;
      let actions, type, path;

      if (status === 'published' || status === 'scheduled') {
        type = this.get('post.page') ? 'Page' : 'Post';
        path = this.get('post.url');
        actions = `<a href="${path}" target="_blank">View ${type}</a>`;
      } else {
        type = 'Preview';
        path = this.get('post.previewUrl');
        actions = `<a href="${path}" target="_blank">View ${type}</a>`;
      }

      notifications.showNotification(message, {
        type: 'success',
        actions: actions.htmlSafe(),
        delayed: delay
      });
    },

    _showErrorAlert(prevStatus, status, error, delay) {
      let message = messageMap.errors.post[prevStatus][status];
      let notifications = this.notifications;
      let errorMessage;

      function isString(str) {
        return toString.call(str) === '[object String]';
      }

      if (error && isString(error)) {
        errorMessage = error;
      } else if (error && Ember.isArray(error)) {
        // This is here because validation errors are returned as an array
        // TODO: remove this once validations are fixed
        errorMessage = error[0];
      } else if (error && error.payload && error.payload.errors && error.payload.errors[0].message) {
        return this.notifications.showAPIError(error, {
          key: 'post.save'
        });
      } else {
        errorMessage = 'Unknown Error';
      }

      message += `: ${errorMessage}`;
      message = Ember.String.htmlSafe(message);
      notifications.showAlert(message, {
        type: 'error',
        delayed: delay,
        key: 'post.save'
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/editor/edit-loading", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable ghost/ember/alias-model-in-controller */
  var _default = Ember.Controller.extend({
    ui: Ember.inject.service()
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/error", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    stack: false,
    error: Ember.computed.readOnly('model'),
    code: Ember.computed('error.status', function () {
      return this.get('error.status') > 200 ? this.get('error.status') : 500;
    }),
    message: Ember.computed('error.statusText', function () {
      if (this.code === 404) {
        return 'Page not found';
      }

      return this.get('error.statusText') !== 'error' ? this.get('error.statusText') : 'Internal Server Error';
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/member", ["exports", "ghost-admin/utils/bound-one-way", "moment", "ember-concurrency"], function (_exports, _boundOneWay, _moment, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  const SCRATCH_PROPS = ['name', 'email', 'note'];

  var _default = Ember.Controller.extend({
    members: Ember.inject.controller(),
    session: Ember.inject.service(),
    dropdown: Ember.inject.service(),
    notifications: Ember.inject.service(),
    router: Ember.inject.service(),
    store: Ember.inject.service(),
    showImpersonateMemberModal: false,
    member: Ember.computed.alias('model'),
    scratchMember: Ember.computed('member', function () {
      let scratchMember = Ember.Object.create({
        member: this.member
      });
      SCRATCH_PROPS.forEach(prop => Ember.defineProperty(scratchMember, prop, (0, _boundOneWay.default)(`member.${prop}`)));
      return scratchMember;
    }),
    subscribedAt: Ember.computed('member.createdAtUTC', function () {
      let memberSince = (0, _moment.default)(this.member.createdAtUTC).from((0, _moment.default)());
      let createdDate = (0, _moment.default)(this.member.createdAtUTC).format('MMM DD, YYYY');
      return `${createdDate} (${memberSince})`;
    }),
    actions: {
      setProperty(propKey, value) {
        this._saveMemberProperty(propKey, value);
      },

      toggleDeleteMemberModal() {
        this.toggleProperty('showDeleteMemberModal');
      },

      toggleImpersonateMemberModal() {
        this.toggleProperty('showImpersonateMemberModal');
      },

      save() {
        return this.save.perform();
      },

      deleteMember() {
        return this.member.destroyRecord().then(() => {
          return this.transitionToRoute('members');
        }, error => {
          return this.notifications.showAPIError(error, {
            key: 'member.delete'
          });
        });
      },

      toggleUnsavedChangesModal(transition) {
        let leaveTransition = this.leaveScreenTransition;

        if (!transition && this.showUnsavedChangesModal) {
          this.set('leaveScreenTransition', null);
          this.set('showUnsavedChangesModal', false);
          return;
        }

        if (!leaveTransition || transition.targetName === leaveTransition.targetName) {
          this.set('leaveScreenTransition', transition); // if a save is running, wait for it to finish then transition

          if (this.save.isRunning) {
            return this.save.last.then(() => {
              transition.retry();
            });
          } // we genuinely have unsaved data, show the modal


          this.set('showUnsavedChangesModal', true);
        }
      },

      leaveScreen() {
        this.member.rollbackAttributes();
        return this.leaveScreenTransition.retry();
      }

    },
    save: (0, _emberConcurrency.task)(function* () {
      let {
        member,
        scratchMember
      } = this; // if Cmd+S is pressed before the field loses focus make sure we're
      // saving the intended property values

      let scratchProps = scratchMember.getProperties(SCRATCH_PROPS);
      member.setProperties(scratchProps);

      try {
        yield member.save();
        member.updateLabels(); // replace 'member.new' route with 'member' route

        this.replaceRoute('member', member);
        return member;
      } catch (error) {
        if (error) {
          this.notifications.showAPIError(error, {
            key: 'member.save'
          });
        }
      }
    }).drop(),
    fetchMember: (0, _emberConcurrency.task)(function* (memberId) {
      this.set('isLoading', true);
      let member = yield this.store.findRecord('member', memberId, {
        reload: true
      });
      this.set('member', member);
      this.set('isLoading', false);
    }),

    _saveMemberProperty(propKey, newValue) {
      let currentValue = this.member.get(propKey);

      if (newValue) {
        newValue = newValue.trim();
      } // avoid modifying empty values and triggering inadvertant unsaved changes modals


      if (newValue !== false && !newValue && !currentValue) {
        return;
      }

      this.member.set(propKey, newValue);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/members", ["exports", "ghost-admin/utils/ghost-paths", "moment", "ember-inflector", "ember-concurrency"], function (_exports, _ghostPaths, _moment, _emberInflector, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable ghost/ember/alias-model-in-controller */
  var _default = Ember.Controller.extend({
    store: Ember.inject.service(),
    queryParams: ['label'],
    label: null,
    members: null,
    searchText: '',
    modalLabel: null,
    showLabelModal: false,
    _hasLoadedLabels: false,
    _availableLabels: null,

    init() {
      this._super(...arguments);

      this.set('members', this.store.peekAll('member'));
      this._availableLabels = this.store.peekAll('label');
    },

    showLoader: Ember.computed('filteredMembers.length', 'fetchMembers.isRunning', function () {
      return !this.get('filteredMembers.length') && this.get('fetchMembers.isRunning');
    }),
    listHeader: Ember.computed('selectedLabel', 'searchText', function () {
      let {
        searchText,
        selectedLabel,
        filteredMembers
      } = this;

      if (searchText) {
        return 'Search result';
      }

      if (this.fetchMembers.lastSuccessful) {
        let count = (0, _emberInflector.pluralize)(filteredMembers.length, 'member');

        if (selectedLabel && selectedLabel.slug) {
          if (filteredMembers.length > 1) {
            return `${count} match current filter`;
          } else {
            return `${count} matches current filter`;
          }
        }

        return count;
      }

      return 'Loading...';
    }),
    showingAll: Ember.computed('label', 'searchText', function () {
      let {
        searchText,
        label
      } = this;
      return !searchText && !label;
    }),
    availableLabels: Ember.computed('_availableLabels.@each.isNew', function () {
      let labels = this._availableLabels.filter(label => !label.get('isNew')).filter(label => label.get('id') !== null).sort((labelA, labelB) => labelA.name.localeCompare(labelB.name, undefined, {
        ignorePunctuation: true
      }));

      let options = labels.toArray();
      options.unshiftObject({
        name: 'All labels',
        slug: null
      });
      return options;
    }),
    selectedLabel: Ember.computed('label', 'availableLabels', function () {
      let label = this.get('label');
      let labels = this.get('availableLabels');
      return labels.findBy('slug', label);
    }),
    labelModalData: Ember.computed('modalLabel', 'availableLabels', function () {
      let label = this.get('modalLabel');
      let labels = this.get('availableLabels');
      return {
        label,
        labels
      };
    }),
    filteredMembers: Ember.computed('members.@each.{name,email}', 'searchText', 'label', function () {
      let {
        members,
        searchText,
        label
      } = this;
      searchText = searchText.toLowerCase();
      let filtered = members.filter(member => {
        if (!searchText) {
          return true;
        }

        let {
          name,
          email
        } = member;
        return name && name.toLowerCase().indexOf(searchText) >= 0 || email && email.toLowerCase().indexOf(searchText) >= 0;
      }).filter(member => {
        if (!label) {
          return true;
        }

        return !!member.labels.find(_label => {
          return _label.slug === label;
        });
      }).sort((a, b) => {
        return b.get('createdAtUTC').valueOf() - a.get('createdAtUTC').valueOf();
      });
      return filtered;
    }),
    actions: {
      exportData() {
        let exportUrl = (0, _ghostPaths.default)().url.api('members/csv');
        let downloadURL = `${exportUrl}?limit=all`;
        let iframe = document.getElementById('iframeDownload');

        if (!iframe) {
          iframe = document.createElement('iframe');
          iframe.id = 'iframeDownload';
          iframe.style.display = 'none';
          document.body.append(iframe);
        }

        iframe.setAttribute('src', downloadURL);
      },

      changeLabel(label, e) {
        if (e) {
          e.preventDefault();
          e.stopPropagation();
        }

        this.set('label', Ember.get(label, 'slug'));
      },

      addLabel(e) {
        if (e) {
          e.preventDefault();
          e.stopPropagation();
        }

        const newLabel = this.store.createRecord('label');
        this.set('modalLabel', newLabel);
        this.toggleProperty('showLabelModal');
      },

      editLabel(label, e) {
        if (e) {
          e.preventDefault();
          e.stopPropagation();
        }

        let labels = this.get('availableLabels');
        let modalLabel = labels.findBy('slug', label);
        this.set('modalLabel', modalLabel);
        this.toggleProperty('showLabelModal');
      },

      toggleLabelModal() {
        this.toggleProperty('showLabelModal');
      }

    },
    fetchMembers: (0, _emberConcurrency.task)(function* () {
      let newFetchDate = new Date();

      if (this._hasFetchedAll) {
        // fetch any records modified since last fetch
        yield this.store.query('member', {
          limit: 'all',
          filter: `updated_at:>='${_moment.default.utc(this._lastFetchDate).format('YYYY-MM-DD HH:mm:ss')}'`,
          order: 'created_at desc'
        });
      } else {
        // fetch all records
        yield this.store.query('member', {
          limit: 'all',
          order: 'created_at desc'
        });
        this._hasFetchedAll = true;
      }

      this._lastFetchDate = newFetchDate;
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/members/import", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable ghost/ember/alias-model-in-controller */
  var _default = Ember.Controller.extend({
    members: Ember.inject.controller(),
    router: Ember.inject.service(),
    actions: {
      fetchNewMembers() {
        this.members.fetchMembers.perform();
      },

      close() {
        this.router.transitionTo('members');
      }

    }
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/pages-loading", ["exports", "ghost-admin/controllers/posts-loading"], function (_exports, _postsLoading) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable ghost/ember/alias-model-in-controller */
  var _default = _postsLoading.default.extend({
    postsController: Ember.inject.controller('pages'),
    ui: Ember.inject.service()
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/pages", ["exports", "ghost-admin/controllers/posts"], function (_exports, _posts) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  const TYPES = [{
    name: 'All pages',
    value: null
  }, {
    name: 'Draft pages',
    value: 'draft'
  }, {
    name: 'Published pages',
    value: 'published'
  }, {
    name: 'Scheduled pages',
    value: 'scheduled'
  }, {
    name: 'Featured pages',
    value: 'featured'
  }];
  /* eslint-disable ghost/ember/alias-model-in-controller */

  var _default = _posts.default.extend({
    init() {
      this._super(...arguments);

      this.availableTypes = TYPES;
    },

    actions: {
      openEditor(page) {
        this.transitionToRoute('editor.edit', 'page', page.get('id'));
      }

    }
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/posts-loading", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable ghost/ember/alias-model-in-controller */
  var _default = Ember.Controller.extend({
    postsController: Ember.inject.controller('posts'),
    session: Ember.inject.service(),
    ui: Ember.inject.service(),
    availableTypes: Ember.computed.readOnly('postsController.availableTypes'),
    selectedType: Ember.computed.readOnly('postsController.selectedType'),
    availableTags: Ember.computed.readOnly('postsController.availableTags'),
    selectedTag: Ember.computed.readOnly('postsController.selectedTag'),
    availableAuthors: Ember.computed.readOnly('postsController.availableAuthors'),
    selectedAuthor: Ember.computed.readOnly('postsController.selectedAuthor'),
    availableOrders: Ember.computed.readOnly('postsController.availableOrders'),
    selectedOrder: Ember.computed.readOnly('postsController.selectedOrder')
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/posts", ["exports", "ghost-admin/helpers/reset-query-params"], function (_exports, _resetQueryParams) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  const TYPES = [{
    name: 'All posts',
    value: null
  }, {
    name: 'Draft posts',
    value: 'draft'
  }, {
    name: 'Published posts',
    value: 'published'
  }, {
    name: 'Scheduled posts',
    value: 'scheduled'
  }, {
    name: 'Featured posts',
    value: 'featured'
  }];
  const ORDERS = [{
    name: 'Newest',
    value: null
  }, {
    name: 'Oldest',
    value: 'published_at asc'
  }, {
    name: 'Recently updated',
    value: 'updated_at desc'
  }];

  var _default = Ember.Controller.extend({
    store: Ember.inject.service(),
    // default values for these are set in `init` and defined in `helpers/reset-query-params`
    queryParams: ['type', 'author', 'tag', 'order'],
    _hasLoadedTags: false,
    _hasLoadedAuthors: false,
    availableTypes: null,
    availableOrders: null,

    init() {
      this._super(...arguments);

      this.availableTypes = TYPES;
      this.availableOrders = ORDERS;
      this.setProperties(_resetQueryParams.DEFAULT_QUERY_PARAMS.posts);
    },

    postsInfinityModel: Ember.computed.alias('model'),
    showingAll: Ember.computed('type', 'author', 'tag', function () {
      let {
        type,
        author,
        tag
      } = this.getProperties(['type', 'author', 'tag']);
      return !type && !author && !tag;
    }),
    selectedType: Ember.computed('type', function () {
      let types = this.get('availableTypes');
      return types.findBy('value', this.get('type')) || {
        value: '!unknown'
      };
    }),
    selectedOrder: Ember.computed('order', function () {
      let orders = this.get('availableOrders');
      return orders.findBy('value', this.get('order')) || {
        value: '!unknown'
      };
    }),
    _availableTags: Ember.computed(function () {
      return this.get('store').peekAll('tag');
    }),
    availableTags: Ember.computed('_availableTags.[]', function () {
      let tags = this.get('_availableTags').filter(tag => tag.get('id') !== null).sort((tagA, tagB) => tagA.name.localeCompare(tagB.name, undefined, {
        ignorePunctuation: true
      }));
      let options = tags.toArray();
      options.unshiftObject({
        name: 'All tags',
        slug: null
      });
      return options;
    }),
    selectedTag: Ember.computed('tag', '_availableTags.[]', function () {
      let tag = this.get('tag');
      let tags = this.get('availableTags');
      return tags.findBy('slug', tag) || {
        slug: '!unknown'
      };
    }),
    _availableAuthors: Ember.computed(function () {
      return this.get('store').peekAll('user');
    }),
    availableAuthors: Ember.computed('_availableAuthors.[]', function () {
      let authors = this.get('_availableAuthors');
      let options = authors.toArray();
      options.unshiftObject({
        name: 'All authors',
        slug: null
      });
      return options;
    }),
    selectedAuthor: Ember.computed('author', 'availableAuthors.[]', function () {
      let author = this.get('author');
      let authors = this.get('availableAuthors');
      return authors.findBy('slug', author) || {
        slug: '!unknown'
      };
    }),
    actions: {
      changeType(type) {
        this.set('type', Ember.get(type, 'value'));
      },

      changeAuthor(author) {
        this.set('author', Ember.get(author, 'slug'));
      },

      changeTag(tag) {
        this.set('tag', Ember.get(tag, 'slug'));
      },

      changeOrder(order) {
        this.set('order', Ember.get(order, 'value'));
      },

      openEditor(post) {
        this.transitionToRoute('editor.edit', 'post', post.get('id'));
      }

    }
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/reset", ["exports", "ghost-admin/mixins/validation-engine", "ember-concurrency"], function (_exports, _validationEngine, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend(_validationEngine.default, {
    ghostPaths: Ember.inject.service(),
    notifications: Ember.inject.service(),
    session: Ember.inject.service(),
    ajax: Ember.inject.service(),
    config: Ember.inject.service(),
    newPassword: '',
    ne2Password: '',
    token: '',
    flowErrors: '',
    validationType: 'reset',
    email: Ember.computed('token', function () {
      // The token base64 encodes the email (and some other stuff),
      // each section is divided by a '|'. Email comes second.
      return atob(this.token).split('|')[1];
    }),
    actions: {
      submit() {
        return this.resetPassword.perform();
      }

    },

    // Used to clear sensitive information
    clearData() {
      this.setProperties({
        newPassword: '',
        ne2Password: '',
        token: ''
      });
    },

    resetPassword: (0, _emberConcurrency.task)(function* () {
      let credentials = this.getProperties('newPassword', 'ne2Password', 'token');
      let authUrl = this.get('ghostPaths.url').api('authentication', 'passwordreset');
      this.set('flowErrors', '');
      this.hasValidated.addObjects(['newPassword', 'ne2Password']);

      try {
        yield this.validate();

        try {
          let resp = yield this.ajax.put(authUrl, {
            data: {
              passwordreset: [credentials]
            }
          });
          this.notifications.showAlert(resp.passwordreset[0].message, {
            type: 'warn',
            delayed: true,
            key: 'password.reset'
          });
          this.session.authenticate('authenticator:cookie', this.email, credentials.newPassword);
          return true;
        } catch (error) {
          this.notifications.showAPIError(error, {
            key: 'password.reset'
          });
        }
      } catch (error) {
        if (this.get('errors.newPassword')) {
          this.set('flowErrors', this.get('errors.newPassword')[0].message);
        }

        if (this.get('errors.ne2Password')) {
          this.set('flowErrors', this.get('errors.ne2Password')[0].message);
        }

        if (error && this.get('errors.length') === 0) {
          throw error;
        }
      }
    }).drop()
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/settings/code-injection", ["exports", "ember-concurrency"], function (_exports, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    notifications: Ember.inject.service(),
    settings: Ember.inject.service(),
    actions: {
      save() {
        this.saveTask.perform();
      },

      toggleLeaveSettingsModal(transition) {
        let leaveTransition = this.leaveSettingsTransition;

        if (!transition && this.showLeaveSettingsModal) {
          this.set('leaveSettingsTransition', null);
          this.set('showLeaveSettingsModal', false);
          return;
        }

        if (!leaveTransition || transition.targetName === leaveTransition.targetName) {
          this.set('leaveSettingsTransition', transition); // if a save is running, wait for it to finish then transition

          if (this.save.isRunning) {
            return this.save.last.then(() => {
              transition.retry();
            });
          } // we genuinely have unsaved data, show the modal


          this.set('showLeaveSettingsModal', true);
        }
      },

      leaveSettings() {
        let transition = this.leaveSettingsTransition;
        let settings = this.settings;

        if (!transition) {
          this.notifications.showAlert('Sorry, there was an error in the application. Please let the Ghost team know what happened.', {
            type: 'error'
          });
          return;
        } // roll back changes on settings props


        settings.rollbackAttributes();
        return transition.retry();
      }

    },
    saveTask: (0, _emberConcurrency.task)(function* () {
      let notifications = this.notifications;

      try {
        return yield this.settings.save();
      } catch (error) {
        notifications.showAPIError(error, {
          key: 'code-injection.save'
        });
        throw error;
      }
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/settings/design", ["exports", "jquery", "ghost-admin/models/navigation-item", "ghost-admin/services/ajax", "ember-concurrency"], function (_exports, _jquery, _navigationItem, _ajax, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable ghost/ember/alias-model-in-controller */
  var _default = Ember.Controller.extend({
    config: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    notifications: Ember.inject.service(),
    session: Ember.inject.service(),
    settings: Ember.inject.service(),
    dirtyAttributes: false,
    newNavItem: null,
    newSecondaryNavItem: null,
    themes: null,
    themeToDelete: null,

    init() {
      this._super(...arguments);

      this.set('newNavItem', _navigationItem.default.create({
        isNew: true
      }));
      this.set('newSecondaryNavItem', _navigationItem.default.create({
        isNew: true,
        isSecondary: true
      }));
    },

    showDeleteThemeModal: Ember.computed.notEmpty('themeToDelete'),
    blogUrl: Ember.computed('config.blogUrl', function () {
      let url = this.get('config.blogUrl');
      return url.slice(-1) !== '/' ? `${url}/` : url;
    }),
    actions: {
      save() {
        this.save.perform();
      },

      addNavItem(item) {
        // If the url sent through is blank (user never edited the url)
        if (item.get('url') === '') {
          item.set('url', '/');
        }

        return item.validate().then(() => {
          this.addNewNavItem(item);
        });
      },

      deleteNavItem(item) {
        if (!item) {
          return;
        }

        let navItems = item.isSecondary ? this.get('settings.secondaryNavigation') : this.get('settings.navigation');
        navItems.removeObject(item);
        this.set('dirtyAttributes', true);
      },

      updateLabel(label, navItem) {
        if (!navItem) {
          return;
        }

        navItem.set('label', label);
        this.set('dirtyAttributes', true);
      },

      updateUrl(url, navItem) {
        if (!navItem) {
          return;
        }

        navItem.set('url', url);
        this.set('dirtyAttributes', true);
        return url;
      },

      toggleLeaveSettingsModal(transition) {
        let leaveTransition = this.leaveSettingsTransition;

        if (!transition && this.showLeaveSettingsModal) {
          this.set('leaveSettingsTransition', null);
          this.set('showLeaveSettingsModal', false);
          return;
        }

        if (!leaveTransition || transition.targetName === leaveTransition.targetName) {
          this.set('leaveSettingsTransition', transition); // if a save is running, wait for it to finish then transition

          if (this.save.isRunning) {
            return this.save.last.then(() => {
              transition.retry();
            });
          } // we genuinely have unsaved data, show the modal


          this.set('showLeaveSettingsModal', true);
        }
      },

      leaveSettings() {
        let transition = this.leaveSettingsTransition;
        let settings = this.settings;

        if (!transition) {
          this.notifications.showAlert('Sorry, there was an error in the application. Please let the Ghost team know what happened.', {
            type: 'error'
          });
          return;
        } // roll back changes on settings props


        settings.rollbackAttributes();
        this.set('dirtyAttributes', false);
        return transition.retry();
      },

      activateTheme(theme) {
        return theme.activate().then(theme => {
          if (!Ember.isEmpty(theme.get('warnings'))) {
            this.set('themeWarnings', theme.get('warnings'));
            this.set('showThemeWarningsModal', true);
          }

          if (!Ember.isEmpty(theme.get('errors'))) {
            this.set('themeErrors', theme.get('errors'));
            this.set('showThemeWarningsModal', true);
          }
        }).catch(error => {
          if ((0, _ajax.isThemeValidationError)(error)) {
            let errors = error.payload.errors[0].details.errors;
            let fatalErrors = [];
            let normalErrors = []; // to have a proper grouping of fatal errors and none fatal, we need to check
            // our errors for the fatal property

            if (errors.length > 0) {
              for (let i = 0; i < errors.length; i += 1) {
                if (errors[i].fatal) {
                  fatalErrors.push(errors[i]);
                } else {
                  normalErrors.push(errors[i]);
                }
              }
            }

            this.set('themeErrors', normalErrors);
            this.set('themeFatalErrors', fatalErrors);
            this.set('showThemeErrorsModal', true);
            return;
          }

          throw error;
        });
      },

      downloadTheme(theme) {
        let downloadURL = `${this.get('ghostPaths.apiRoot')}/themes/${theme.name}/download/`;
        let iframe = (0, _jquery.default)('#iframeDownload');

        if (iframe.length === 0) {
          iframe = (0, _jquery.default)('<iframe>', {
            id: 'iframeDownload'
          }).hide().appendTo('body');
        }

        iframe.attr('src', downloadURL);
      },

      deleteTheme(theme) {
        if (theme) {
          return this.set('themeToDelete', theme);
        }

        return this._deleteTheme();
      },

      hideDeleteThemeModal() {
        this.set('themeToDelete', null);
      },

      hideThemeWarningsModal() {
        this.set('themeWarnings', null);
        this.set('themeErrors', null);
        this.set('themeFatalErrors', null);
        this.set('showThemeWarningsModal', false);
        this.set('showThemeErrorsModal', false);
      },

      reset() {
        this.set('newNavItem', _navigationItem.default.create({
          isNew: true
        }));
        this.set('newSecondaryNavItem', _navigationItem.default.create({
          isNew: true,
          isSecondary: true
        }));
      }

    },
    save: (0, _emberConcurrency.task)(function* () {
      let navItems = this.get('settings.navigation');
      let secondaryNavItems = this.get('settings.secondaryNavigation');
      let notifications = this.notifications;
      let validationPromises = [];

      if (!this.newNavItem.get('isBlank')) {
        validationPromises.pushObject(this.send('addNavItem', this.newNavItem));
      }

      if (!this.newSecondaryNavItem.get('isBlank')) {
        validationPromises.pushObject(this.send('addNavItem', this.newSecondaryNavItem));
      }

      navItems.map(item => {
        validationPromises.pushObject(item.validate());
      });
      secondaryNavItems.map(item => {
        validationPromises.pushObject(item.validate());
      });

      try {
        yield Ember.RSVP.all(validationPromises);
        this.set('dirtyAttributes', false);
        return yield this.settings.save();
      } catch (error) {
        if (error) {
          notifications.showAPIError(error);
          throw error;
        }
      }
    }),

    addNewNavItem(item) {
      let navItems = item.isSecondary ? this.get('settings.secondaryNavigation') : this.get('settings.navigation');
      item.set('isNew', false);
      navItems.pushObject(item);
      this.set('dirtyAttributes', true);

      if (item.isSecondary) {
        this.set('newSecondaryNavItem', _navigationItem.default.create({
          isNew: true,
          isSecondary: true
        }));
        (0, _jquery.default)('.gh-blognav-container:last .gh-blognav-line:last input:first').focus();
      } else {
        this.set('newNavItem', _navigationItem.default.create({
          isNew: true
        }));
        (0, _jquery.default)('.gh-blognav-container:first .gh-blognav-line:last input:first').focus();
      }
    },

    _deleteTheme() {
      let theme = this.store.peekRecord('theme', this.themeToDelete.name);

      if (!theme) {
        return;
      }

      return theme.destroyRecord().then(() => {
        // HACK: this is a private method, we need to unload from the store
        // here so that uploading another theme with the same "id" doesn't
        // attempt to update the deleted record
        theme.unloadRecord();
      }).catch(error => {
        this.notifications.showAPIError(error);
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/settings/general", ["exports", "jquery", "ghost-admin/utils/password-generator", "validator", "ghost-admin/components/gh-image-uploader", "ember-concurrency"], function (_exports, _jquery, _passwordGenerator, _validator, _ghImageUploader, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable ghost/ember/alias-model-in-controller */
  const ICON_EXTENSIONS = ['ico', 'png'];

  function randomPassword() {
    let word = (0, _passwordGenerator.default)(6);
    let randomN = Math.floor(Math.random() * 1000);
    return word + randomN;
  }

  var _default = Ember.Controller.extend({
    config: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    notifications: Ember.inject.service(),
    session: Ember.inject.service(),
    settings: Ember.inject.service(),
    ui: Ember.inject.service(),
    availableTimezones: null,
    iconExtensions: null,
    iconMimeTypes: 'image/png,image/x-icon',
    imageExtensions: _ghImageUploader.IMAGE_EXTENSIONS,
    imageMimeTypes: _ghImageUploader.IMAGE_MIME_TYPES,
    _scratchFacebook: null,
    _scratchTwitter: null,

    init() {
      this._super(...arguments);

      this.iconExtensions = ICON_EXTENSIONS;
    },

    privateRSSUrl: Ember.computed('config.blogUrl', 'settings.publicHash', function () {
      let blogUrl = this.get('config.blogUrl');
      let publicHash = this.get('settings.publicHash');
      return `${blogUrl}/${publicHash}/rss`;
    }),
    backgroundStyle: Ember.computed('settings.brand.primaryColor', function () {
      let color = this.get('settings.brand.primaryColor') || '#ffffff';
      return Ember.String.htmlSafe(`background-color: ${color}`);
    }),
    brandColor: Ember.computed('settings.brand.primaryColor', function () {
      let color = this.get('settings.brand.primaryColor');

      if (color && color[0] === '#') {
        return color.slice(1);
      }

      return color;
    }),
    actions: {
      save() {
        this.save.perform();
      },

      setTimezone(timezone) {
        this.set('settings.activeTimezone', timezone.name);
      },

      removeImage(image) {
        // setting `null` here will error as the server treats it as "null"
        this.settings.set(image, '');
      },

      /**
       * Opens a file selection dialog - Triggered by "Upload Image" buttons,
       * searches for the hidden file input within the .gh-setting element
       * containing the clicked button then simulates a click
       * @param  {MouseEvent} event - MouseEvent fired by the button click
       */
      triggerFileDialog(event) {
        // simulate click to open file dialog
        // using jQuery because IE11 doesn't support MouseEvent
        (0, _jquery.default)(event.target).closest('.gh-setting-action').find('input[type="file"]').click();
      },

      /**
       * Fired after an image upload completes
       * @param  {string} property - Property name to be set on `this.settings`
       * @param  {UploadResult[]} results - Array of UploadResult objects
       * @return {string} The URL that was set on `this.settings.property`
       */
      imageUploaded(property, results) {
        if (results[0]) {
          return this.settings.set(property, results[0].url);
        }
      },

      toggleIsPrivate(isPrivate) {
        let settings = this.settings;
        settings.set('isPrivate', isPrivate);
        settings.get('errors').remove('password');
        let changedAttrs = settings.changedAttributes(); // set a new random password when isPrivate is enabled

        if (isPrivate && changedAttrs.isPrivate) {
          settings.set('password', randomPassword()); // reset the password when isPrivate is disabled
        } else if (changedAttrs.password) {
          settings.set('password', changedAttrs.password[0]);
        }
      },

      toggleLeaveSettingsModal(transition) {
        let leaveTransition = this.leaveSettingsTransition;

        if (!transition && this.showLeaveSettingsModal) {
          this.set('leaveSettingsTransition', null);
          this.set('showLeaveSettingsModal', false);
          return;
        }

        if (!leaveTransition || transition.targetName === leaveTransition.targetName) {
          this.set('leaveSettingsTransition', transition); // if a save is running, wait for it to finish then transition

          if (this.save.isRunning) {
            return this.save.last.then(() => {
              transition.retry();
            });
          } // we genuinely have unsaved data, show the modal


          this.set('showLeaveSettingsModal', true);
        }
      },

      leaveSettings() {
        let transition = this.leaveSettingsTransition;
        let settings = this.settings;

        if (!transition) {
          this.notifications.showAlert('Sorry, there was an error in the application. Please let the Ghost team know what happened.', {
            type: 'error'
          });
          return;
        } // roll back changes on settings props


        settings.rollbackAttributes();
        return transition.retry();
      },

      validateFacebookUrl() {
        let newUrl = this._scratchFacebook;
        let oldUrl = this.get('settings.facebook');
        let errMessage = ''; // reset errors and validation

        this.get('settings.errors').remove('facebook');
        this.get('settings.hasValidated').removeObject('facebook');

        if (newUrl === '') {
          // Clear out the Facebook url
          this.set('settings.facebook', '');
          return;
        } // _scratchFacebook will be null unless the user has input something


        if (!newUrl) {
          newUrl = oldUrl;
        }

        try {
          // strip any facebook URLs out
          newUrl = newUrl.replace(/(https?:\/\/)?(www\.)?facebook\.com/i, ''); // don't allow any non-facebook urls

          if (newUrl.match(/^(http|\/\/)/i)) {
            throw 'invalid url';
          } // strip leading / if we have one then concat to full facebook URL


          newUrl = newUrl.replace(/^\//, '');
          newUrl = `https://www.facebook.com/${newUrl}`; // don't allow URL if it's not valid

          if (!_validator.default.isURL(newUrl)) {
            throw 'invalid url';
          }

          this.set('settings.facebook', '');
          Ember.run.schedule('afterRender', this, function () {
            this.set('settings.facebook', newUrl);
          });
        } catch (e) {
          if (e === 'invalid url') {
            errMessage = 'The URL must be in a format like ' + 'https://www.facebook.com/yourPage';
            this.get('settings.errors').add('facebook', errMessage);
            return;
          }

          throw e;
        } finally {
          this.get('settings.hasValidated').pushObject('facebook');
        }
      },

      validateTwitterUrl() {
        let newUrl = this._scratchTwitter;
        let oldUrl = this.get('settings.twitter');
        let errMessage = ''; // reset errors and validation

        this.get('settings.errors').remove('twitter');
        this.get('settings.hasValidated').removeObject('twitter');

        if (newUrl === '') {
          // Clear out the Twitter url
          this.set('settings.twitter', '');
          return;
        } // _scratchTwitter will be null unless the user has input something


        if (!newUrl) {
          newUrl = oldUrl;
        }

        if (newUrl.match(/(?:twitter\.com\/)(\S+)/) || newUrl.match(/([a-z\d.]+)/i)) {
          let username = [];

          if (newUrl.match(/(?:twitter\.com\/)(\S+)/)) {
            [, username] = newUrl.match(/(?:twitter\.com\/)(\S+)/);
          } else {
            [username] = newUrl.match(/([^/]+)\/?$/mi);
          } // check if username starts with http or www and show error if so


          if (username.match(/^(http|www)|(\/)/) || !username.match(/^[a-z\d._]{1,15}$/mi)) {
            errMessage = !username.match(/^[a-z\d._]{1,15}$/mi) ? 'Your Username is not a valid Twitter Username' : 'The URL must be in a format like https://twitter.com/yourUsername';
            this.get('settings.errors').add('twitter', errMessage);
            this.get('settings.hasValidated').pushObject('twitter');
            return;
          }

          newUrl = `https://twitter.com/${username}`;
          this.get('settings.hasValidated').pushObject('twitter');
          this.set('settings.twitter', '');
          Ember.run.schedule('afterRender', this, function () {
            this.set('settings.twitter', newUrl);
          });
        } else {
          errMessage = 'The URL must be in a format like ' + 'https://twitter.com/yourUsername';
          this.get('settings.errors').add('twitter', errMessage);
          this.get('settings.hasValidated').pushObject('twitter');
          return;
        }
      },

      validateBrandColor() {
        let newColor = this.get('brandColor');
        let oldColor = this.get('settings.brand.primaryColor');
        let errMessage = ''; // reset errors and validation

        this.get('settings.errors').remove('brandColor');
        this.get('settings.hasValidated').removeObject('brandColor');

        if (newColor === '') {
          // Clear out the brand color
          this.set('settings.brand.primaryColor', '');
          return;
        } // brandColor will be null unless the user has input something


        if (!newColor) {
          newColor = oldColor;
        }

        if (newColor[0] !== '#') {
          newColor = `#${newColor}`;
        }

        if (newColor.match(/#[0-9A-Fa-f]{6}$/)) {
          this.set('settings.brand.primaryColor', '');
          Ember.run.schedule('afterRender', this, function () {
            this.set('settings.brand.primaryColor', newColor);
          });
        } else {
          errMessage = 'The color should be in valid hex format';
          this.get('settings.errors').add('brandColor', errMessage);
          this.get('settings.hasValidated').pushObject('brandColor');
          return;
        }
      }

    },

    _deleteTheme() {
      let theme = this.store.peekRecord('theme', this.themeToDelete.name);

      if (!theme) {
        return;
      }

      return theme.destroyRecord().catch(error => {
        this.notifications.showAPIError(error);
      });
    },

    save: (0, _emberConcurrency.task)(function* () {
      let notifications = this.notifications;
      let config = this.config;

      try {
        let settings = yield this.settings.save();
        config.set('blogTitle', settings.get('title')); // this forces the document title to recompute after a blog title change

        this.ui.updateDocumentTitle();
        return settings;
      } catch (error) {
        if (error) {
          notifications.showAPIError(error, {
            key: 'settings.save'
          });
        }

        throw error;
      }
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/settings/integration", ["exports", "ghost-admin/config/environment", "ghost-admin/utils/copy-text-to-clipboard", "ghost-admin/components/gh-image-uploader", "ember-concurrency"], function (_exports, _environment, _copyTextToClipboard, _ghImageUploader, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    config: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    imageExtensions: _ghImageUploader.IMAGE_EXTENSIONS,
    imageMimeTypes: _ghImageUploader.IMAGE_MIME_TYPES,
    showRegenerateKeyModal: false,
    selectedApiKey: null,
    isApiKeyRegenerated: false,

    init() {
      this._super(...arguments);

      if (this.isTesting === undefined) {
        this.isTesting = _environment.default.environment === 'test';
      }
    },

    integration: Ember.computed.alias('model'),
    apiUrl: Ember.computed(function () {
      let origin = window.location.origin;
      let subdir = this.ghostPaths.subdir;
      let url = this.ghostPaths.url.join(origin, subdir);
      return url.replace(/\/$/, '');
    }),
    regeneratedKeyType: Ember.computed('isApiKeyRegenerated', 'selectedApiKey', function () {
      if (this.isApiKeyRegenerated) {
        return this.get('selectedApiKey.type');
      }

      return null;
    }),
    allWebhooks: Ember.computed(function () {
      return this.store.peekAll('webhook');
    }),
    filteredWebhooks: Ember.computed('integration.id', 'allWebhooks.@each.{isNew,isDeleted}', function () {
      return this.allWebhooks.filter(webhook => {
        let matchesIntegration = webhook.belongsTo('integration').id() === this.integration.id;
        return matchesIntegration && !webhook.isNew && !webhook.isDeleted;
      });
    }),
    iconImageStyle: Ember.computed('integration.iconImage', function () {
      let url = this.integration.iconImage;

      if (url) {
        let styles = [`background-image: url(${url})`, 'background-size: 50%', 'background-position: 50%', 'background-repeat: no-repeat'];
        return Ember.String.htmlSafe(styles.join('; '));
      }

      return Ember.String.htmlSafe('');
    }),
    actions: {
      triggerIconFileDialog() {
        let input = document.querySelector('input[type="file"][name="iconImage"]');
        input.click();
      },

      setIconImage([image]) {
        this.integration.set('iconImage', image.url);
      },

      save() {
        return this.save.perform();
      },

      toggleUnsavedChangesModal(transition) {
        let leaveTransition = this.leaveScreenTransition;

        if (!transition && this.showUnsavedChangesModal) {
          this.set('leaveScreenTransition', null);
          this.set('showUnsavedChangesModal', false);
          return;
        }

        if (!leaveTransition || transition.targetName === leaveTransition.targetName) {
          this.set('leaveScreenTransition', transition); // if a save is running, wait for it to finish then transition

          if (this.save.isRunning) {
            return this.save.last.then(() => {
              transition.retry();
            });
          } // we genuinely have unsaved data, show the modal


          this.set('showUnsavedChangesModal', true);
        }
      },

      leaveScreen() {
        let transition = this.leaveScreenTransition;

        if (!transition) {
          this.notifications.showAlert('Sorry, there was an error in the application. Please let the Ghost team know what happened.', {
            type: 'error'
          });
          return;
        } // roll back changes on model props


        this.integration.rollbackAttributes();
        return transition.retry();
      },

      deleteIntegration() {
        this.integration.destroyRecord();
      },

      confirmIntegrationDeletion() {
        this.set('showDeleteIntegrationModal', true);
      },

      cancelIntegrationDeletion() {
        this.set('showDeleteIntegrationModal', false);
      },

      confirmRegenerateKeyModal(apiKey) {
        this.set('showRegenerateKeyModal', true);
        this.set('isApiKeyRegenerated', false);
        this.set('selectedApiKey', apiKey);
      },

      cancelRegenerateKeyModal() {
        this.set('showRegenerateKeyModal', false);
      },

      regenerateKey() {
        this.set('isApiKeyRegenerated', true);
      },

      confirmWebhookDeletion(webhook) {
        this.set('webhookToDelete', webhook);
      },

      cancelWebhookDeletion() {
        this.set('webhookToDelete', null);
      },

      deleteWebhook() {
        return this.webhookToDelete.destroyRecord();
      }

    },
    save: (0, _emberConcurrency.task)(function* () {
      return yield this.integration.save();
    }),
    copyContentKey: (0, _emberConcurrency.task)(function* () {
      (0, _copyTextToClipboard.default)(this.integration.contentKey.secret);
      yield (0, _emberConcurrency.timeout)(this.isTesting ? 50 : 3000);
    }),
    copyAdminKey: (0, _emberConcurrency.task)(function* () {
      (0, _copyTextToClipboard.default)(this.integration.adminKey.secret);
      yield (0, _emberConcurrency.timeout)(this.isTesting ? 50 : 3000);
    }),
    copyApiUrl: (0, _emberConcurrency.task)(function* () {
      (0, _copyTextToClipboard.default)(this.apiUrl);
      yield (0, _emberConcurrency.timeout)(this.isTesting ? 50 : 3000);
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/settings/integration/webhooks/edit", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    webhook: Ember.computed.alias('model'),
    actions: {
      save() {
        return this.webhook.save();
      },

      cancel() {
        // 'new' route's dectivate hook takes care of rollback
        return this.webhook.get('integration').then(integration => {
          this.transitionToRoute('settings.integration', integration);
        });
      }

    },

    reset() {
      this.webhook.rollbackAttributes();
      this.webhook.errors.clear();
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/settings/integration/webhooks/new", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    webhook: Ember.computed.alias('model'),
    actions: {
      save() {
        return this.webhook.save();
      },

      cancel() {
        // 'new' route's dectivate hook takes care of rollback
        return this.webhook.get('integration').then(integration => {
          this.transitionToRoute('settings.integration', integration);
        });
      }

    }
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/settings/integrations", ["exports", "ember-concurrency"], function (_exports, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    settings: Ember.inject.service(),
    store: Ember.inject.service(),
    _allIntegrations: null,

    init() {
      this._super(...arguments);

      this._allIntegrations = this.store.peekAll('integration');
    },

    // filter over the live query so that the list is automatically updated
    // as integrations are added/removed
    integrations: Ember.computed('_allIntegrations.@each.{isNew,type}', function () {
      return this._allIntegrations.reject(integration => {
        return integration.isNew || integration.type !== 'custom';
      });
    }),
    // use ember-concurrency so that we can use the derived state to show
    // a spinner only in the integrations list and avoid delaying the whole
    // screen display
    fetchIntegrations: (0, _emberConcurrency.task)(function* () {
      return yield this.store.findAll('integration');
    }),

    // used by individual integration routes' `model` hooks
    integrationModelHook(prop, value, route, transition) {
      let integration = this.store.peekAll('integration').findBy(prop, value);

      if (integration) {
        return integration;
      }

      return this.fetchIntegrations.perform().then(integrations => {
        let integration = integrations.findBy(prop, value);

        if (!integration) {
          let path = transition.intent.url.replace(/^\//, '');
          return route.replaceWith('error404', {
            path,
            status: 404
          });
        }

        return integration;
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/settings/integrations/amp", ["exports", "ember-concurrency"], function (_exports, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    notifications: Ember.inject.service(),
    settings: Ember.inject.service(),
    leaveSettingsTransition: null,
    ampSettings: Ember.computed.alias('settings.amp'),
    actions: {
      update(value) {
        this.set('ampSettings', value);
      },

      save() {
        this.save.perform();
      },

      toggleLeaveSettingsModal(transition) {
        let leaveTransition = this.leaveSettingsTransition;

        if (!transition && this.showLeaveSettingsModal) {
          this.set('leaveSettingsTransition', null);
          this.set('showLeaveSettingsModal', false);
          return;
        }

        if (!leaveTransition || transition.targetName === leaveTransition.targetName) {
          this.set('leaveSettingsTransition', transition); // if a save is running, wait for it to finish then transition

          if (this.save.isRunning) {
            return this.save.last.then(() => {
              transition.retry();
            });
          } // we genuinely have unsaved data, show the modal


          this.set('showLeaveSettingsModal', true);
        }
      },

      leaveSettings() {
        let transition = this.leaveSettingsTransition;
        let settings = this.settings;

        if (!transition) {
          this.notifications.showAlert('Sorry, there was an error in the application. Please let the Ghost team know what happened.', {
            type: 'error'
          });
          return;
        } // roll back changes on settings model


        settings.rollbackAttributes();
        return transition.retry();
      }

    },
    save: (0, _emberConcurrency.task)(function* () {
      let amp = this.ampSettings;
      let settings = this.settings;
      settings.set('amp', amp);

      try {
        return yield settings.save();
      } catch (error) {
        this.notifications.showAPIError(error);
        throw error;
      }
    }).drop()
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/settings/integrations/new", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    integration: Ember.computed.alias('model'),
    actions: {
      save() {
        return this.integration.save();
      },

      cancel() {
        // 'new' route's dectivate hook takes care of rollback
        this.transitionToRoute('settings.integrations');
      }

    }
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/settings/integrations/slack", ["exports", "ghost-admin/utils/bound-one-way", "ember-ajax/errors", "ember-concurrency"], function (_exports, _boundOneWay, _errors, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    ghostPaths: Ember.inject.service(),
    ajax: Ember.inject.service(),
    notifications: Ember.inject.service(),
    settings: Ember.inject.service(),
    leaveSettingsTransition: null,
    slackArray: null,

    init() {
      this._super(...arguments);

      this.slackArray = [];
    },

    slackSettings: (0, _boundOneWay.default)('settings.slack.firstObject'),
    testNotificationDisabled: Ember.computed.empty('slackSettings.url'),
    actions: {
      save() {
        this.save.perform();
      },

      updateURL(value) {
        value = typeof value === 'string' ? value.trim() : value;
        this.set('slackSettings.url', value);
        this.get('slackSettings.errors').clear();
      },

      updateUsername(value) {
        value = typeof value === 'string' ? value.trimLeft() : value;
        this.set('slackSettings.username', value);
        this.get('slackSettings.errors').clear();
      },

      triggerDirtyState() {
        let slack = this.slackSettings;
        let slackArray = this.slackArray;
        let settings = this.settings; // Hack to trigger the `isDirty` state on the settings model by setting a new Array
        // for slack rather that replacing the existing one which would still point to the
        // same reference and therfore not setting the model into a dirty state

        slackArray.clear().pushObject(slack);
        settings.set('slack', slackArray);
      },

      toggleLeaveSettingsModal(transition) {
        let leaveTransition = this.leaveSettingsTransition;

        if (!transition && this.showLeaveSettingsModal) {
          this.set('leaveSettingsTransition', null);
          this.set('showLeaveSettingsModal', false);
          return;
        }

        if (!leaveTransition || transition.targetName === leaveTransition.targetName) {
          this.set('leaveSettingsTransition', transition); // if a save is running, wait for it to finish then transition

          if (this.save.isRunning) {
            return this.save.last.then(() => {
              transition.retry();
            });
          } // we genuinely have unsaved data, show the modal


          this.set('showLeaveSettingsModal', true);
        }
      },

      leaveSettings() {
        let transition = this.leaveSettingsTransition;
        let settings = this.settings;
        let slackArray = this.slackArray;

        if (!transition) {
          this.notifications.showAlert('Sorry, there was an error in the application. Please let the Ghost team know what happened.', {
            type: 'error'
          });
          return;
        } // roll back changes on model props


        settings.rollbackAttributes();
        slackArray.clear();
        return transition.retry();
      }

    },
    save: (0, _emberConcurrency.task)(function* () {
      let slack = this.slackSettings;
      let settings = this.settings;
      let slackArray = this.slackArray;

      try {
        yield slack.validate(); // clear existing objects in slackArray to make sure we only push the validated one

        slackArray.clear().pushObject(slack);
        yield settings.set('slack', slackArray);
        return yield settings.save();
      } catch (error) {
        if (error) {
          this.notifications.showAPIError(error);
          throw error;
        }
      }
    }).drop(),
    sendTestNotification: (0, _emberConcurrency.task)(function* () {
      let notifications = this.notifications;
      let slackApi = this.get('ghostPaths.url').api('slack', 'test');

      try {
        yield this.save.perform();
        yield this.ajax.post(slackApi);
        notifications.showNotification('Test notification sent', {
          type: 'info',
          key: 'slack-test.send.success',
          description: 'Check your Slack channel for the test message'
        });
        return true;
      } catch (error) {
        notifications.showAPIError(error, {
          key: 'slack-test:send'
        });

        if (!(0, _errors.isInvalidError)(error)) {
          throw error;
        }
      }
    }).drop()
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/settings/integrations/unsplash", ["exports", "ember-concurrency"], function (_exports, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    notifications: Ember.inject.service(),
    settings: Ember.inject.service(),
    dirtyAttributes: null,
    rollbackValue: null,
    leaveSettingsTransition: null,
    unsplashSettings: Ember.computed.alias('settings.unsplash'),
    actions: {
      save() {
        this.save.perform();
      },

      update(value) {
        if (!this.dirtyAttributes) {
          this.set('rollbackValue', this.get('unsplashSettings.isActive'));
        }

        this.set('unsplashSettings.isActive', value);
        this.set('dirtyAttributes', true);
      },

      toggleLeaveSettingsModal(transition) {
        let leaveTransition = this.leaveSettingsTransition;

        if (!transition && this.showLeaveSettingsModal) {
          this.set('leaveSettingsTransition', null);
          this.set('showLeaveSettingsModal', false);
          return;
        }

        if (!leaveTransition || transition.targetName === leaveTransition.targetName) {
          this.set('leaveSettingsTransition', transition); // if a save is running, wait for it to finish then transition

          if (this.save.isRunning) {
            return this.save.last.then(() => {
              transition.retry();
            });
          } // we genuinely have unsaved data, show the modal


          this.set('showLeaveSettingsModal', true);
        }
      },

      leaveSettings() {
        let transition = this.leaveSettingsTransition;

        if (!transition) {
          this.notifications.showAlert('Sorry, there was an error in the application. Please let the Ghost team know what happened.', {
            type: 'error'
          });
          return;
        } // roll back changes on model props


        this.set('unsplashSettings.isActive', this.rollbackValue);
        this.set('dirtyAttributes', false);
        this.set('rollbackValue', null);
        return transition.retry();
      }

    },
    save: (0, _emberConcurrency.task)(function* () {
      let unsplash = this.unsplashSettings;
      let settings = this.settings;

      try {
        settings.set('unsplash', unsplash);
        this.set('dirtyAttributes', false);
        this.set('rollbackValue', null);
        return yield settings.save();
      } catch (error) {
        if (error) {
          this.notifications.showAPIError(error);
          throw error;
        }
      }
    }).drop()
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/settings/integrations/zapier", ["exports", "ghost-admin/config/environment", "ghost-admin/utils/copy-text-to-clipboard", "ember-concurrency"], function (_exports, _environment, _copyTextToClipboard, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    ghostPaths: Ember.inject.service(),
    selectedApiKey: null,
    isApiKeyRegenerated: false,

    init() {
      this._super(...arguments);

      if (this.isTesting === undefined) {
        this.isTesting = _environment.default.environment === 'test';
      }
    },

    integration: Ember.computed.alias('model'),
    apiUrl: Ember.computed(function () {
      let origin = window.location.origin;
      let subdir = this.ghostPaths.subdir;
      let url = this.ghostPaths.url.join(origin, subdir);
      return url.replace(/\/$/, '');
    }),
    regeneratedKeyType: Ember.computed('isApiKeyRegenerated', 'selectedApiKey', function () {
      if (this.isApiKeyRegenerated) {
        return this.get('selectedApiKey.type');
      }

      return null;
    }),
    actions: {
      confirmRegenerateKeyModal(apiKey) {
        this.set('showRegenerateKeyModal', true);
        this.set('isApiKeyRegenerated', false);
        this.set('selectedApiKey', apiKey);
      },

      cancelRegenerateKeyModal() {
        this.set('showRegenerateKeyModal', false);
      },

      regenerateKey() {
        this.set('isApiKeyRegenerated', true);
      }

    },
    copyAdminKey: (0, _emberConcurrency.task)(function* () {
      (0, _copyTextToClipboard.default)(this.integration.adminKey.secret);
      yield (0, _emberConcurrency.timeout)(this.isTesting ? 50 : 3000);
    }),
    copyApiUrl: (0, _emberConcurrency.task)(function* () {
      (0, _copyTextToClipboard.default)(this.apiUrl);
      yield (0, _emberConcurrency.timeout)(this.isTesting ? 50 : 3000);
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/settings/labs", ["exports", "jquery", "ghost-admin/config/environment", "ghost-admin/services/ajax", "ember-concurrency"], function (_exports, _jquery, _environment, _ajax, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable ghost/ember/alias-model-in-controller */
  const {
    Promise
  } = Ember.RSVP;
  const IMPORT_MIME_TYPES = ['application/json', 'application/zip', 'application/x-zip-compressed'];
  const JSON_EXTENSION = ['json'];
  const JSON_MIME_TYPE = ['application/json'];
  const YAML_EXTENSION = ['yaml'];
  const YAML_MIME_TYPE = ['text/vnd.yaml', 'application/vnd.yaml', 'text/x-yaml', 'application/x-yaml'];

  var _default = Ember.Controller.extend({
    ajax: Ember.inject.service(),
    config: Ember.inject.service(),
    feature: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    notifications: Ember.inject.service(),
    session: Ember.inject.service(),
    settings: Ember.inject.service(),
    importErrors: null,
    importSuccessful: false,
    showDeleteAllModal: false,
    submitting: false,
    uploadButtonText: 'Import',
    importMimeType: null,
    jsonExtension: null,
    jsonMimeType: null,
    yamlExtension: null,
    yamlMimeType: null,
    yamlAccept: null,

    init() {
      this._super(...arguments);

      this.importMimeType = IMPORT_MIME_TYPES;
      this.jsonExtension = JSON_EXTENSION;
      this.jsonMimeType = JSON_MIME_TYPE;
      this.yamlExtension = YAML_EXTENSION;
      this.yamlMimeType = YAML_MIME_TYPE; // (macOS) Safari only allows files with the `yml` extension to be selected with the specified MIME types
      // so explicitly allow the `yaml` extension.

      this.yamlAccept = [...this.yamlMimeType, ...Array.from(this.yamlExtension, extension => '.' + extension)];
    },

    actions: {
      onUpload(file) {
        let formData = new FormData();
        let notifications = this.notifications;
        let currentUserId = this.get('session.user.id');
        let dbUrl = this.get('ghostPaths.url').api('db');
        this.set('uploadButtonText', 'Importing');
        this.set('importErrors', null);
        this.set('importSuccessful', false);
        return this._validate(file).then(() => {
          formData.append('importfile', file);
          return this.ajax.post(dbUrl, {
            data: formData,
            dataType: 'json',
            cache: false,
            contentType: false,
            processData: false
          });
        }).then(response => {
          let store = this.store;
          this.set('importSuccessful', true);

          if (response.problems) {
            this.set('importErrors', response.problems);
          } // Clear the store, so that all the new data gets fetched correctly.


          store.unloadAll(); // NOTE: workaround for behaviour change in Ember 2.13
          // store.unloadAll has some async tendencies so we need to schedule
          // the reload of the current user once the unload has finished
          // https://github.com/emberjs/data/issues/4963

          Ember.run.schedule('destroy', this, () => {
            // Reload currentUser and set session
            this.set('session.user', store.findRecord('user', currentUserId)); // TODO: keep as notification, add link to view content

            notifications.showNotification('Import successful', {
              key: 'import.upload.success'
            }); // reload settings

            return this.settings.reload().then(settings => {
              this.feature.fetch();
              this.config.set('blogTitle', settings.get('title'));
            });
          });
        }).catch(response => {
          if ((0, _ajax.isUnsupportedMediaTypeError)(response) || (0, _ajax.isRequestEntityTooLargeError)(response)) {
            this.set('importErrors', [response]);
          } else if (response && response.payload.errors && Ember.isArray(response.payload.errors)) {
            this.set('importErrors', response.payload.errors);
          } else {
            this.set('importErrors', [{
              message: 'Import failed due to an unknown error. Check the Web Inspector console and network tabs for errors.'
            }]);
          }

          throw response;
        }).finally(() => {
          this.set('uploadButtonText', 'Import');
        });
      },

      downloadFile(endpoint) {
        let downloadURL = this.get('ghostPaths.url').api(endpoint);
        let iframe = (0, _jquery.default)('#iframeDownload');

        if (iframe.length === 0) {
          iframe = (0, _jquery.default)('<iframe>', {
            id: 'iframeDownload'
          }).hide().appendTo('body');
        }

        iframe.attr('src', downloadURL);
      },

      toggleDeleteAllModal() {
        this.toggleProperty('showDeleteAllModal');
      },

      /**
       * Opens a file selection dialog - Triggered by "Upload x" buttons,
       * searches for the hidden file input within the .gh-setting element
       * containing the clicked button then simulates a click
       * @param  {MouseEvent} event - MouseEvent fired by the button click
       */
      triggerFileDialog(event) {
        // simulate click to open file dialog
        // using jQuery because IE11 doesn't support MouseEvent
        (0, _jquery.default)(event.target).closest('.gh-setting-action').find('input[type="file"]').click();
      },

      setDefaultContentVisibility(value) {
        this.set('settings.defaultContentVisibility', value);
      },

      setMembersSubscriptionSettings(subscriptionSettings) {
        this.set('settings.membersSubscriptionSettings', JSON.stringify(subscriptionSettings));
      },

      setBulkEmailSettings(bulkEmailSettings) {
        this.set('settings.bulkEmailSettings', bulkEmailSettings);
      }

    },

    // TODO: convert to ember-concurrency task
    _validate(file) {
      // Windows doesn't have mime-types for json files by default, so we
      // need to have some additional checking
      if (file.type === '') {
        // First check file extension so we can early return
        let [, extension] = /(?:\.([^.]+))?$/.exec(file.name);

        if (!extension || extension.toLowerCase() !== 'json') {
          return Ember.RSVP.reject(new _ajax.UnsupportedMediaTypeError());
        }

        return new Promise((resolve, reject) => {
          // Extension is correct, so check the contents of the file
          let reader = new FileReader();

          reader.onload = function () {
            let {
              result
            } = reader;

            try {
              JSON.parse(result);
              return resolve();
            } catch (e) {
              return reject(new _ajax.UnsupportedMediaTypeError());
            }
          };

          reader.readAsText(file);
        });
      }

      let accept = this.importMimeType;

      if (!Ember.isBlank(accept) && file && accept.indexOf(file.type) === -1) {
        return Ember.RSVP.reject(new _ajax.UnsupportedMediaTypeError());
      }

      return Ember.RSVP.resolve();
    },

    sendTestEmail: (0, _emberConcurrency.task)(function* () {
      let notifications = this.notifications;
      let emailUrl = this.get('ghostPaths.url').api('mail', 'test');

      try {
        yield this.ajax.post(emailUrl);
        notifications.showAlert('Check your email for the test message.', {
          type: 'info',
          key: 'test-email.send.success'
        });
        return true;
      } catch (error) {
        notifications.showAPIError(error, {
          key: 'test-email:send'
        });
      }
    }).drop(),
    saveSettings: (0, _emberConcurrency.task)(function* () {
      return yield this.settings.save();
    }).drop(),
    redirectUploadResult: (0, _emberConcurrency.task)(function* (success) {
      this.set('redirectSuccess', success);
      this.set('redirectFailure', !success);
      yield (0, _emberConcurrency.timeout)(_environment.default.environment === 'test' ? 100 : 5000);
      this.set('redirectSuccess', null);
      this.set('redirectFailure', null);
      return true;
    }).drop(),
    routesUploadResult: (0, _emberConcurrency.task)(function* (success) {
      this.set('routesSuccess', success);
      this.set('routesFailure', !success);
      yield (0, _emberConcurrency.timeout)(_environment.default.environment === 'test' ? 100 : 5000);
      this.set('routesSuccess', null);
      this.set('routesFailure', null);
      return true;
    }).drop(),

    reset() {
      this.set('importErrors', null);
      this.set('importSuccessful', false);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/setup", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    ghostPaths: Ember.inject.service(),
    router: Ember.inject.service(),
    showBackLink: Ember.computed.match('router.currentRouteName', /^setup\.(two|three)$/),
    backRoute: Ember.computed('router.currentRouteName', function () {
      let currentRoute = this.router.currentRouteName;
      return currentRoute === 'setup.two' ? 'setup.one' : 'setup.two';
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/setup/three", ["exports", "ember-data", "validator", "ember-ajax/errors", "ember-concurrency"], function (_exports, _emberData, _validator, _errors, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  // TODO: remove usage of Ember Data's private `Errors` class when refactoring validations
  // eslint-disable-next-line
  const {
    Errors
  } = _emberData.default;

  var _default = Ember.Controller.extend({
    two: Ember.inject.controller('setup/two'),
    notifications: Ember.inject.service(),
    users: '',
    errors: Errors.create(),
    hasValidated: Ember.A(),
    ownerEmail: Ember.computed.alias('two.email'),
    usersArray: Ember.computed('users', function () {
      let errors = this.errors;
      let users = this.users.split('\n').filter(function (email) {
        return email.trim().length > 0;
      }); // remove "no users to invite" error if we have users

      if (users.uniq().length > 0 && errors.get('users.length') === 1) {
        if (errors.get('users.firstObject').message.match(/no users/i)) {
          errors.remove('users');
        }
      }

      return users.uniq();
    }),
    validUsersArray: Ember.computed('usersArray', 'ownerEmail', function () {
      let ownerEmail = this.ownerEmail;
      return this.usersArray.filter(function (user) {
        return _validator.default.isEmail(user || '') && user !== ownerEmail;
      });
    }),
    invalidUsersArray: Ember.computed('usersArray', 'ownerEmail', function () {
      let ownerEmail = this.ownerEmail;
      return this.usersArray.reject(user => _validator.default.isEmail(user || '') || user === ownerEmail);
    }),
    validationResult: Ember.computed('invalidUsersArray', function () {
      let errors = [];
      this.invalidUsersArray.forEach(user => {
        errors.push({
          user,
          error: 'email'
        });
      });

      if (errors.length === 0) {
        // ensure we aren't highlighting fields when everything is fine
        this.errors.clear();
        return true;
      } else {
        return errors;
      }
    }),
    buttonText: Ember.computed('errors.users', 'validUsersArray', 'invalidUsersArray', function () {
      let usersError = this.get('errors.users.firstObject.message');
      let validNum = this.validUsersArray.length;
      let invalidNum = this.invalidUsersArray.length;
      let userCount;

      if (usersError && usersError.match(/no users/i)) {
        return usersError;
      }

      if (invalidNum > 0) {
        userCount = invalidNum === 1 ? 'email address' : 'email addresses';
        return `${invalidNum} invalid ${userCount}`;
      }

      if (validNum > 0) {
        userCount = validNum === 1 ? 'user' : 'users';
        userCount = `${validNum} ${userCount}`;
      } else {
        userCount = 'some users';
      }

      return `Invite ${userCount}`;
    }),
    buttonClass: Ember.computed('validationResult', 'usersArray.length', function () {
      if (this.validationResult === true && this.get('usersArray.length') > 0) {
        return 'gh-btn-green';
      } else {
        return 'gh-btn-minor';
      }
    }),
    authorRole: Ember.computed(function () {
      return this.store.findAll('role', {
        reload: true
      }).then(roles => roles.findBy('name', 'Author'));
    }),
    actions: {
      validate() {
        this.validate();
      },

      invite() {
        this.invite.perform();
      },

      skipInvite() {
        this.send('loadServerNotifications');
        this.transitionToRoute('home');
      }

    },

    validate() {
      let errors = this.errors;
      let validationResult = this.validationResult;
      let property = 'users';
      errors.clear(); // If property isn't in the `hasValidated` array, add it to mark that this field can show a validation result

      this.hasValidated.addObject(property);

      if (validationResult === true) {
        return true;
      }

      validationResult.forEach(error => {
        // Only one error type here so far, but one day the errors might be more detailed
        switch (error.error) {
          case 'email':
            errors.add(property, `${error.user} is not a valid email.`);
        }
      });
      return false;
    },

    _transitionAfterSubmission() {
      if (!this._hasTransitioned) {
        this._hasTransitioned = true;
        this.transitionToRoute('home');
      }
    },

    invite: (0, _emberConcurrency.task)(function* () {
      let users = this.validUsersArray;

      if (this.validate() && users.length > 0) {
        this._hasTransitioned = false;

        this._slowSubmissionTimeout.perform();

        let authorRole = yield this.authorRole;
        let invites = yield this._saveInvites(authorRole);

        this._slowSubmissionTimeout.cancelAll();

        this._showNotifications(invites);

        Ember.run.schedule('actions', this, function () {
          this.send('loadServerNotifications');

          this._transitionAfterSubmission();
        });
      } else if (users.length === 0) {
        this.errors.add('users', 'No users to invite');
      }
    }).drop(),
    _slowSubmissionTimeout: (0, _emberConcurrency.task)(function* () {
      yield (0, _emberConcurrency.timeout)(4000);

      this._transitionAfterSubmission();
    }).drop(),

    _saveInvites(authorRole) {
      let users = this.validUsersArray;
      return Ember.RSVP.Promise.all(users.map(user => {
        let invite = this.store.createRecord('invite', {
          email: user,
          role: authorRole
        });
        return invite.save().then(() => ({
          email: user,
          success: invite.get('status') === 'sent'
        })).catch(error => ({
          error,
          email: user,
          success: false
        }));
      }));
    },

    _showNotifications(invites) {
      let notifications = this.notifications;
      let erroredEmails = [];
      let successCount = 0;
      let invitationsString, message;
      invites.forEach(invite => {
        if (invite.success) {
          successCount += 1;
        } else if ((0, _errors.isInvalidError)(invite.error)) {
          message = `${invite.email} was invalid: ${invite.error.payload.errors[0].message}`;
          notifications.showAlert(message, {
            type: 'error',
            delayed: true,
            key: `signup.send-invitations.${invite.email}`
          });
        } else {
          erroredEmails.push(invite.email);
        }
      });

      if (erroredEmails.length > 0) {
        invitationsString = erroredEmails.length > 1 ? ' invitations: ' : ' invitation: ';
        message = `Failed to send ${erroredEmails.length} ${invitationsString}`;
        message += Ember.Handlebars.Utils.escapeExpression(erroredEmails.join(', '));
        message += '. Please check your email configuration, see <a href=\'https://ghost.org/docs/concepts/config/#mail\' target=\'_blank\'>https://ghost.org/docs/concepts/config/#mail</a> for instructions';
        message = Ember.String.htmlSafe(message);
        notifications.showAlert(message, {
          type: 'error',
          delayed: successCount > 0,
          key: 'signup.send-invitations.failed'
        });
      }

      if (successCount > 0) {
        // pluralize
        invitationsString = successCount > 1 ? 'invitations' : 'invitation';
        notifications.showAlert(`${successCount} ${invitationsString} sent!`, {
          type: 'success',
          delayed: true,
          key: 'signup.send-invitations.success'
        });
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/setup/two", ["exports", "ghost-admin/mixins/validation-engine", "ember-ajax/errors", "ghost-admin/services/ajax", "ember-concurrency"], function (_exports, _validationEngine, _errors, _ajax, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend(_validationEngine.default, {
    application: Ember.inject.controller(),
    ajax: Ember.inject.service(),
    config: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    notifications: Ember.inject.service(),
    session: Ember.inject.service(),
    settings: Ember.inject.service(),
    // ValidationEngine settings
    validationType: 'setup',
    blogCreated: false,
    blogTitle: null,
    email: '',
    flowErrors: '',
    profileImage: null,
    name: null,
    password: null,
    actions: {
      setup() {
        this.setup.perform();
      },

      preValidate(model) {
        // Only triggers validation if a value has been entered, preventing empty errors on focusOut
        if (this.get(model)) {
          return this.validate({
            property: model
          });
        }
      },

      setImage(image) {
        this.set('profileImage', image);
      }

    },
    setup: (0, _emberConcurrency.task)(function* () {
      return yield this._passwordSetup();
    }),
    authenticate: (0, _emberConcurrency.task)(function* (authStrategy, authentication) {
      // we don't want to redirect after sign-in during setup
      this.set('session.skipAuthSuccessHandler', true);

      try {
        let authResult = yield this.session.authenticate(authStrategy, ...authentication);
        this.errors.remove('session');
        return authResult;
      } catch (error) {
        if (error && error.payload && error.payload.errors) {
          if ((0, _ajax.isVersionMismatchError)(error)) {
            return this.notifications.showAPIError(error);
          }

          error.payload.errors.forEach(err => {
            err.message = err.message.htmlSafe();
          });
          this.set('flowErrors', error.payload.errors[0].message.string);
        } else {
          // Connection errors don't return proper status message, only req.body
          this.notifications.showAlert('There was a problem on the server.', {
            type: 'error',
            key: 'session.authenticate.failed'
          });
        }
      }
    }),

    /**
     * Uploads the given data image, then sends the changed user image property to the server
     * @param  {Object} user User object, returned from the 'setup' api call
     * @return {RSVP.Promise} A promise that takes care of both calls
     */
    _sendImage(user) {
      let formData = new FormData();
      let imageFile = this.profileImage;
      let uploadUrl = this.get('ghostPaths.url').api('images', 'upload');
      formData.append('file', imageFile, imageFile.name);
      formData.append('purpose', 'profile_image');
      return this.ajax.post(uploadUrl, {
        data: formData,
        processData: false,
        contentType: false,
        dataType: 'text'
      }).then(response => {
        let [image] = Ember.get(JSON.parse(response), 'images');
        let imageUrl = image.url;
        let usersUrl = this.get('ghostPaths.url').api('users', user.id.toString());
        user.profile_image = imageUrl;
        return this.ajax.put(usersUrl, {
          data: {
            users: [user]
          }
        });
      });
    },

    _passwordSetup() {
      let setupProperties = ['blogTitle', 'name', 'email', 'password'];
      let data = this.getProperties(setupProperties);
      let config = this.config;
      let method = this.blogCreated ? 'put' : 'post';
      this.set('flowErrors', '');
      this.hasValidated.addObjects(setupProperties);
      return this.validate().then(() => {
        let authUrl = this.get('ghostPaths.url').api('authentication', 'setup');
        return this.ajax[method](authUrl, {
          data: {
            setup: [{
              name: data.name,
              email: data.email,
              password: data.password,
              blogTitle: data.blogTitle
            }]
          }
        }).then(result => {
          config.set('blogTitle', data.blogTitle); // don't try to login again if we are already logged in

          if (this.get('session.isAuthenticated')) {
            return this._afterAuthentication(result);
          } // Don't call the success handler, otherwise we will be redirected to admin


          this.set('session.skipAuthSuccessHandler', true);
          return this.session.authenticate('authenticator:cookie', data.email, data.password).then(() => {
            this.set('blogCreated', true);
            return this._afterAuthentication(result);
          }).catch(error => {
            this._handleAuthenticationError(error);
          }).finally(() => {
            this.set('session.skipAuthSuccessHandler', undefined);
          });
        }).catch(error => {
          this._handleSaveError(error);
        });
      }).catch(() => {
        this.set('flowErrors', 'Please fill out the form to setup your blog.');
      });
    },

    _handleSaveError(resp) {
      if ((0, _errors.isInvalidError)(resp)) {
        let [error] = resp.payload.errors;
        this.set('flowErrors', [error.message, error.context].join(' '));
      } else {
        this.notifications.showAPIError(resp, {
          key: 'setup.blog-details'
        });
      }
    },

    _handleAuthenticationError(error) {
      if (error && error.payload && error.payload.errors) {
        let [apiError] = error.payload.errors;
        this.set('flowErrors', [apiError.message, apiError.context].join(' '));
      } else {
        // Connection errors don't return proper status message, only req.body
        this.notifications.showAlert('There was a problem on the server.', {
          type: 'error',
          key: 'setup.authenticate.failed'
        });
      }
    },

    _afterAuthentication(result) {
      // fetch settings and private config for synchronous access before transitioning
      let fetchSettingsAndConfig = Ember.RSVP.all([this.settings.fetch()]);

      if (this.profileImage) {
        return this._sendImage(result.users[0]).then(() => fetchSettingsAndConfig).then(() => this.transitionToRoute('setup.three')).catch(resp => {
          this.notifications.showAPIError(resp, {
            key: 'setup.blog-details'
          });
        });
      } else {
        return fetchSettingsAndConfig.then(() => this.transitionToRoute('setup.three'));
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/signin", ["exports", "jquery", "ghost-admin/mixins/validation-engine", "ghost-admin/services/ajax", "ember-concurrency"], function (_exports, _jquery, _validationEngine, _ajax, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend(_validationEngine.default, {
    application: Ember.inject.controller(),
    ajax: Ember.inject.service(),
    config: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    notifications: Ember.inject.service(),
    session: Ember.inject.service(),
    settings: Ember.inject.service(),
    submitting: false,
    loggingIn: false,
    authProperties: null,
    flowErrors: '',
    passwordResetEmailSent: false,
    // ValidationEngine settings
    validationType: 'signin',

    init() {
      this._super(...arguments);

      this.authProperties = ['identification', 'password'];
    },

    signin: Ember.computed.alias('model'),
    actions: {
      authenticate() {
        return this.validateAndAuthenticate.perform();
      }

    },
    authenticate: (0, _emberConcurrency.task)(function* (authStrategy, authentication) {
      try {
        return yield this.session.authenticate(authStrategy, ...authentication).then(() => true); // ensure task button transitions to "success" state
      } catch (error) {
        if ((0, _ajax.isVersionMismatchError)(error)) {
          return this.notifications.showAPIError(error);
        }

        if (error && error.payload && error.payload.errors) {
          let [mainError] = error.payload.errors;
          mainError.message = (mainError.message || '').htmlSafe();
          mainError.context = (mainError.context || '').htmlSafe();
          this.set('flowErrors', mainError.context.string || mainError.message.string);

          if (mainError.type === 'PasswordResetRequiredError') {
            this.set('passwordResetEmailSent', true);
          }

          if (mainError.context.string.match(/user with that email/i)) {
            this.get('signin.errors').add('identification', '');
          }

          if (mainError.context.string.match(/password is incorrect/i)) {
            this.get('signin.errors').add('password', '');
          }
        } else {
          console.error(error); // eslint-disable-line no-console
          // Connection errors don't return proper status message, only req.body

          this.notifications.showAlert('There was a problem on the server.', {
            type: 'error',
            key: 'session.authenticate.failed'
          });
        }
      }
    }).drop(),
    validateAndAuthenticate: (0, _emberConcurrency.task)(function* () {
      let signin = this.signin;
      let authStrategy = 'authenticator:cookie';
      this.set('flowErrors', ''); // Manually trigger events for input fields, ensuring legacy compatibility with
      // browsers and password managers that don't send proper events on autofill

      (0, _jquery.default)('#login').find('input').trigger('change'); // This is a bit dirty, but there's no other way to ensure the properties are set as well as 'signin'

      this.hasValidated.addObjects(this.authProperties);

      try {
        yield this.validate({
          property: 'signin'
        });
        return yield this.authenticate.perform(authStrategy, [signin.get('identification'), signin.get('password')]).then(() => true);
      } catch (error) {
        this.set('flowErrors', 'Please fill out the form to sign in.');
      }
    }).drop(),
    forgotten: (0, _emberConcurrency.task)(function* () {
      let email = this.get('signin.identification');
      let forgottenUrl = this.get('ghostPaths.url').api('authentication', 'passwordreset');
      let notifications = this.notifications;
      this.set('flowErrors', ''); // This is a bit dirty, but there's no other way to ensure the properties are set as well as 'forgotPassword'

      this.hasValidated.addObject('identification');

      try {
        yield this.validate({
          property: 'forgotPassword'
        });
        yield this.ajax.post(forgottenUrl, {
          data: {
            passwordreset: [{
              email
            }]
          }
        });
        notifications.showAlert('Please check your email for instructions.', {
          type: 'info',
          key: 'forgot-password.send.success'
        });
        return true;
      } catch (error) {
        // ValidationEngine throws "undefined" for failed validation
        if (!error) {
          return this.set('flowErrors', 'We need your email address to reset your password!');
        }

        if ((0, _ajax.isVersionMismatchError)(error)) {
          return notifications.showAPIError(error);
        }

        if (error && error.payload && error.payload.errors && Ember.isArray(error.payload.errors)) {
          let [{
            message
          }] = error.payload.errors;
          this.set('flowErrors', message);

          if (message.match(/no user|not found/)) {
            this.get('signin.errors').add('identification', '');
          }
        } else {
          notifications.showAPIError(error, {
            defaultErrorText: 'There was a problem with the reset, please try again.',
            key: 'forgot-password.send'
          });
        }
      }
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/signup", ["exports", "ghost-admin/services/ajax", "ember-concurrency"], function (_exports, _ajax, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    ajax: Ember.inject.service(),
    config: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    notifications: Ember.inject.service(),
    session: Ember.inject.service(),
    settings: Ember.inject.service(),
    flowErrors: '',
    profileImage: null,
    signupDetails: Ember.computed.alias('model'),
    actions: {
      validate(property) {
        return this.signupDetails.validate({
          property
        });
      },

      setImage(image) {
        this.set('profileImage', image);
      },

      submit(event) {
        event.preventDefault();
        this.signup.perform();
      }

    },
    signup: (0, _emberConcurrency.task)(function* () {
      let setupProperties = ['name', 'email', 'password', 'token'];
      let notifications = this.notifications;
      this.set('flowErrors', '');
      this.get('signupDetails.hasValidated').addObjects(setupProperties);

      try {
        yield this.signupDetails.validate();
        yield this._completeInvitation();

        try {
          yield this._authenticateWithPassword();
          yield this._sendImage.perform();
        } catch (error) {
          notifications.showAPIError(error, {
            key: 'signup.complete'
          });
        }
      } catch (error) {
        // ValidationEngine throws undefined
        if (!error) {
          this.set('flowErrors', 'Please fill out the form to complete your sign-up');
          return false;
        }

        if (error && error.payload && error.payload.errors && Ember.isArray(error.payload.errors)) {
          if ((0, _ajax.isVersionMismatchError)(error)) {
            notifications.showAPIError(error);
          }

          this.set('flowErrors', error.payload.errors[0].message);
        } else {
          notifications.showAPIError(error, {
            key: 'signup.complete'
          });
        }
      }
    }).drop(),

    _completeInvitation() {
      let authUrl = this.get('ghostPaths.url').api('authentication', 'invitation');
      let signupDetails = this.signupDetails;
      return this.ajax.post(authUrl, {
        dataType: 'json',
        data: {
          invitation: [{
            name: signupDetails.get('name'),
            email: signupDetails.get('email'),
            password: signupDetails.get('password'),
            token: signupDetails.get('token')
          }]
        }
      });
    },

    _authenticateWithPassword() {
      let email = this.get('signupDetails.email');
      let password = this.get('signupDetails.password');
      return this.session.authenticate('authenticator:cookie', email, password);
    },

    _sendImage: (0, _emberConcurrency.task)(function* () {
      let formData = new FormData();
      let imageFile = this.profileImage;
      let uploadUrl = this.get('ghostPaths.url').api('images', 'upload');

      if (imageFile) {
        formData.append('file', imageFile, imageFile.name);
        formData.append('purpose', 'profile_image');
        let user = yield this.get('session.user');
        let response = yield this.ajax.post(uploadUrl, {
          data: formData,
          processData: false,
          contentType: false,
          dataType: 'text'
        });
        let [image] = Ember.get(JSON.parse(response), 'images');
        let imageUrl = image.url;
        user.set('profileImage', imageUrl);
        return yield user.save();
      }
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/site", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    guid: Ember.computed.alias('model')
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/staff/index", ["exports", "ember-concurrency"], function (_exports, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    session: Ember.inject.service(),
    store: Ember.inject.service(),
    showInviteUserModal: false,
    inviteOrder: null,
    userOrder: null,

    init() {
      this._super(...arguments);

      this.inviteOrder = ['email'];
      this.userOrder = ['name', 'email'];
    },

    currentUser: Ember.computed.alias('model'),
    sortedInvites: Ember.computed.sort('filteredInvites', 'inviteOrder'),
    sortedActiveUsers: Ember.computed.sort('activeUsers', 'userOrder'),
    sortedSuspendedUsers: Ember.computed.sort('suspendedUsers', 'userOrder'),
    invites: Ember.computed(function () {
      return this.store.peekAll('invite');
    }),
    filteredInvites: Ember.computed('invites.@each.isNew', function () {
      return this.invites.filterBy('isNew', false);
    }),
    allUsers: Ember.computed(function () {
      return this.store.peekAll('user');
    }),
    activeUsers: Ember.computed('allUsers.@each.status', function () {
      return this.allUsers.filter(user => {
        return user.status !== 'inactive';
      });
    }),
    suspendedUsers: Ember.computed('allUsers.@each.status', function () {
      return this.allUsers.filter(user => {
        return user.status === 'inactive';
      });
    }),
    actions: {
      toggleInviteUserModal() {
        this.toggleProperty('showInviteUserModal');
      }

    },
    backgroundUpdate: (0, _emberConcurrency.task)(function* () {
      let users = this.fetchUsers.perform();
      let invites = this.fetchInvites.perform();

      try {
        yield Ember.RSVP.all([users, invites]);
      } catch (error) {
        this.send('error', error);
      }
    }),
    fetchUsers: (0, _emberConcurrency.task)(function* () {
      yield this.store.query('user', {
        limit: 'all'
      });
    }),
    fetchInvites: (0, _emberConcurrency.task)(function* () {
      if (this.currentUser.isAuthorOrContributor) {
        return;
      } // ensure roles are loaded before invites. Invites do not have embedded
      // role records which means Ember Data will throw errors when trying to
      // read the invite.role data when the role has not yet been loaded


      yield this.store.query('role', {
        limit: 'all'
      });
      return yield this.store.query('invite', {
        limit: 'all'
      });
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/staff/user", ["exports", "ghost-admin/utils/bound-one-way", "ghost-admin/utils/isNumber", "validator", "ghost-admin/utils/window-proxy", "ember-concurrency"], function (_exports, _boundOneWay, _isNumber, _validator, _windowProxy, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    ajax: Ember.inject.service(),
    config: Ember.inject.service(),
    dropdown: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    notifications: Ember.inject.service(),
    session: Ember.inject.service(),
    slugGenerator: Ember.inject.service(),
    leaveSettingsTransition: null,
    dirtyAttributes: false,
    showDeleteUserModal: false,
    showSuspendUserModal: false,
    showTransferOwnerModal: false,
    showUploadCoverModal: false,
    showUplaodImageModal: false,
    _scratchFacebook: null,
    _scratchTwitter: null,
    saveHandlers: (0, _emberConcurrency.taskGroup)().enqueue(),
    user: Ember.computed.alias('model'),
    currentUser: Ember.computed.alias('session.user'),
    email: Ember.computed.readOnly('user.email'),
    slugValue: (0, _boundOneWay.default)('user.slug'),
    canChangeEmail: Ember.computed.not('isAdminUserOnOwnerProfile'),
    canChangePassword: Ember.computed.not('isAdminUserOnOwnerProfile'),
    canMakeOwner: Ember.computed.and('currentUser.isOwner', 'isNotOwnProfile', 'user.isAdmin', 'isNotSuspended'),
    isAdminUserOnOwnerProfile: Ember.computed.and('currentUser.isAdmin', 'user.isOwner'),
    isNotOwnersProfile: Ember.computed.not('user.isOwner'),
    isNotSuspended: Ember.computed.not('user.isSuspended'),
    rolesDropdownIsVisible: Ember.computed.and('currentUser.isOwnerOrAdmin', 'isNotOwnProfile', 'isNotOwnersProfile'),
    userActionsAreVisible: Ember.computed.or('deleteUserActionIsVisible', 'canMakeOwner'),
    isNotOwnProfile: Ember.computed.not('isOwnProfile'),
    isOwnProfile: Ember.computed('user.id', 'currentUser.id', function () {
      return this.get('user.id') === this.get('currentUser.id');
    }),
    deleteUserActionIsVisible: Ember.computed('currentUser.{isOwnerOrAdmin,isEditor}', 'user.{isOwner,isAuthorOrContributor}', 'isOwnProfile', function () {
      // users can't delete themselves
      if (this.isOwnProfile) {
        return false;
      }

      if ( // owners/admins can delete any non-owner user
      this.currentUser.get('isOwnerOrAdmin') && !this.user.isOwner || // editors can delete any author or contributor
      this.currentUser.get('isEditor') && this.user.isAuthorOrContributor) {
        return true;
      }

      return false;
    }),
    coverTitle: Ember.computed('user.name', function () {
      return `${this.get('user.name')}'s Cover Image`;
    }),
    roles: Ember.computed(function () {
      return this.store.query('role', {
        permissions: 'assign'
      });
    }),
    actions: {
      changeRole(newRole) {
        this.user.set('role', newRole);
        this.set('dirtyAttributes', true);
      },

      toggleDeleteUserModal() {
        if (this.deleteUserActionIsVisible) {
          this.toggleProperty('showDeleteUserModal');
        }
      },

      suspendUser() {
        this.user.set('status', 'inactive');
        return this.save.perform();
      },

      toggleSuspendUserModal() {
        if (this.deleteUserActionIsVisible) {
          this.toggleProperty('showSuspendUserModal');
        }
      },

      unsuspendUser() {
        this.user.set('status', 'active');
        return this.save.perform();
      },

      toggleUnsuspendUserModal() {
        if (this.deleteUserActionIsVisible) {
          this.toggleProperty('showUnsuspendUserModal');
        }
      },

      validateFacebookUrl() {
        let newUrl = this._scratchFacebook;
        let oldUrl = this.get('user.facebook');
        let errMessage = ''; // reset errors and validation

        this.get('user.errors').remove('facebook');
        this.get('user.hasValidated').removeObject('facebook');

        if (newUrl === '') {
          // Clear out the Facebook url
          this.set('user.facebook', '');
          return;
        } // _scratchFacebook will be null unless the user has input something


        if (!newUrl) {
          newUrl = oldUrl;
        }

        try {
          // strip any facebook URLs out
          newUrl = newUrl.replace(/(https?:\/\/)?(www\.)?facebook\.com/i, ''); // don't allow any non-facebook urls

          if (newUrl.match(/^(http|\/\/)/i)) {
            throw 'invalid url';
          } // strip leading / if we have one then concat to full facebook URL


          newUrl = newUrl.replace(/^\//, '');
          newUrl = `https://www.facebook.com/${newUrl}`; // don't allow URL if it's not valid

          if (!_validator.default.isURL(newUrl)) {
            throw 'invalid url';
          }

          this.set('user.facebook', '');
          Ember.run.schedule('afterRender', this, function () {
            this.set('user.facebook', newUrl);
          });
        } catch (e) {
          if (e === 'invalid url') {
            errMessage = 'The URL must be in a format like ' + 'https://www.facebook.com/yourPage';
            this.get('user.errors').add('facebook', errMessage);
            return;
          }

          throw e;
        } finally {
          this.get('user.hasValidated').pushObject('facebook');
        }
      },

      validateTwitterUrl() {
        let newUrl = this._scratchTwitter;
        let oldUrl = this.get('user.twitter');
        let errMessage = ''; // reset errors and validation

        this.get('user.errors').remove('twitter');
        this.get('user.hasValidated').removeObject('twitter');

        if (newUrl === '') {
          // Clear out the Twitter url
          this.set('user.twitter', '');
          return;
        } // _scratchTwitter will be null unless the user has input something


        if (!newUrl) {
          newUrl = oldUrl;
        }

        if (newUrl.match(/(?:twitter\.com\/)(\S+)/) || newUrl.match(/([a-z\d.]+)/i)) {
          let username = [];

          if (newUrl.match(/(?:twitter\.com\/)(\S+)/)) {
            [, username] = newUrl.match(/(?:twitter\.com\/)(\S+)/);
          } else {
            [username] = newUrl.match(/([^/]+)\/?$/mi);
          } // check if username starts with http or www and show error if so


          if (username.match(/^(http|www)|(\/)/) || !username.match(/^[a-z\d._]{1,15}$/mi)) {
            errMessage = !username.match(/^[a-z\d._]{1,15}$/mi) ? 'Your Username is not a valid Twitter Username' : 'The URL must be in a format like https://twitter.com/yourUsername';
            this.get('user.errors').add('twitter', errMessage);
            this.get('user.hasValidated').pushObject('twitter');
            return;
          }

          newUrl = `https://twitter.com/${username}`;
          this.get('user.hasValidated').pushObject('twitter');
          this.set('user.twitter', '');
          Ember.run.schedule('afterRender', this, function () {
            this.set('user.twitter', newUrl);
          });
        } else {
          errMessage = 'The URL must be in a format like ' + 'https://twitter.com/yourUsername';
          this.get('user.errors').add('twitter', errMessage);
          this.get('user.hasValidated').pushObject('twitter');
          return;
        }
      },

      transferOwnership() {
        let user = this.user;
        let url = this.get('ghostPaths.url').api('users', 'owner');
        this.dropdown.closeDropdowns();
        return this.ajax.put(url, {
          data: {
            owner: [{
              id: user.get('id')
            }]
          }
        }).then(response => {
          // manually update the roles for the users that just changed roles
          // because store.pushPayload is not working with embedded relations
          if (response && Ember.isArray(response.users)) {
            response.users.forEach(userJSON => {
              let user = this.store.peekRecord('user', userJSON.id);
              let role = this.store.peekRecord('role', userJSON.roles[0].id);
              user.set('role', role);
            });
          }

          this.notifications.showAlert(`Ownership successfully transferred to ${user.get('name')}`, {
            type: 'success',
            key: 'owner.transfer.success'
          });
        }).catch(error => {
          this.notifications.showAPIError(error, {
            key: 'owner.transfer'
          });
        });
      },

      toggleLeaveSettingsModal(transition) {
        let leaveTransition = this.leaveSettingsTransition;

        if (!transition && this.showLeaveSettingsModal) {
          this.set('leaveSettingsTransition', null);
          this.set('showLeaveSettingsModal', false);
          return;
        }

        if (!leaveTransition || transition.targetName === leaveTransition.targetName) {
          this.set('leaveSettingsTransition', transition); // if a save is running, wait for it to finish then transition

          if (this.get('saveHandlers.isRunning')) {
            return this.get('saveHandlers.last').then(() => {
              transition.retry();
            });
          } // we genuinely have unsaved data, show the modal


          this.set('showLeaveSettingsModal', true);
        }
      },

      leaveSettings() {
        let transition = this.leaveSettingsTransition;
        let user = this.user;

        if (!transition) {
          this.notifications.showAlert('Sorry, there was an error in the application. Please let the Ghost team know what happened.', {
            type: 'error'
          });
          return;
        } // roll back changes on user props


        user.rollbackAttributes(); // roll back the slugValue property

        if (this.dirtyAttributes) {
          this.set('slugValue', user.get('slug'));
          this.set('dirtyAttributes', false);
        }

        return transition.retry();
      },

      toggleTransferOwnerModal() {
        if (this.canMakeOwner) {
          this.toggleProperty('showTransferOwnerModal');
        }
      },

      toggleUploadCoverModal() {
        this.toggleProperty('showUploadCoverModal');
      },

      toggleUploadImageModal() {
        this.toggleProperty('showUploadImageModal');
      },

      // TODO: remove those mutation actions once we have better
      // inline validations that auto-clear errors on input
      updatePassword(password) {
        this.set('user.password', password);
        this.get('user.hasValidated').removeObject('password');
        this.get('user.errors').remove('password');
      },

      updateNewPassword(password) {
        this.set('user.newPassword', password);
        this.get('user.hasValidated').removeObject('newPassword');
        this.get('user.errors').remove('newPassword');
      },

      updateNe2Password(password) {
        this.set('user.ne2Password', password);
        this.get('user.hasValidated').removeObject('ne2Password');
        this.get('user.errors').remove('ne2Password');
      }

    },

    _exportDb(filename) {
      let exportUrl = this.get('ghostPaths.url').api('db');
      let downloadURL = `${exportUrl}?filename=${filename}`;
      let iframe = document.getElementById('iframeDownload');

      if (!iframe) {
        iframe = document.createElement('iframe');
        iframe.id = 'iframeDownload';
        iframe.style.display = 'none';
        document.body.append(iframe);
      }

      iframe.setAttribute('src', downloadURL);
    },

    deleteUser: (0, _emberConcurrency.task)(function* () {
      try {
        const result = yield this.user.destroyRecord();

        if (result._meta && result._meta.filename) {
          this._exportDb(result._meta.filename); // give the iframe some time to trigger the download before
          // it's removed from the dom when transitioning


          yield (0, _emberConcurrency.timeout)(300);
        }

        this.notifications.closeAlerts('user.delete');
        this.store.unloadAll('post');
        this.transitionToRoute('staff');
      } catch (error) {
        this.notifications.showAlert('The user could not be deleted. Please try again.', {
          type: 'error',
          key: 'user.delete.failed'
        });
        throw error;
      }
    }),
    updateSlug: (0, _emberConcurrency.task)(function* (newSlug) {
      let slug = this.get('user.slug');
      newSlug = newSlug || slug;
      newSlug = newSlug.trim(); // Ignore unchanged slugs or candidate slugs that are empty

      if (!newSlug || slug === newSlug) {
        this.set('slugValue', slug);
        return true;
      }

      let serverSlug = yield this.slugGenerator.generateSlug('user', newSlug); // If after getting the sanitized and unique slug back from the API
      // we end up with a slug that matches the existing slug, abort the change

      if (serverSlug === slug) {
        return true;
      } // Because the server transforms the candidate slug by stripping
      // certain characters and appending a number onto the end of slugs
      // to enforce uniqueness, there are cases where we can get back a
      // candidate slug that is a duplicate of the original except for
      // the trailing incrementor (e.g., this-is-a-slug and this-is-a-slug-2)
      // get the last token out of the slug candidate and see if it's a number


      let slugTokens = serverSlug.split('-');
      let check = Number(slugTokens.pop()); // if the candidate slug is the same as the existing slug except
      // for the incrementor then the existing slug should be used

      if ((0, _isNumber.default)(check) && check > 0) {
        if (slug === slugTokens.join('-') && serverSlug !== newSlug) {
          this.set('slugValue', slug);
          return true;
        }
      }

      this.set('slugValue', serverSlug);
      this.set('dirtyAttributes', true);
      return true;
    }).group('saveHandlers'),
    save: (0, _emberConcurrency.task)(function* () {
      let user = this.user;
      let slugValue = this.slugValue;
      let slugChanged;

      if (user.get('slug') !== slugValue) {
        slugChanged = true;
        user.set('slug', slugValue);
      }

      try {
        user = yield user.save({
          format: false
        }); // If the user's slug has changed, change the URL and replace
        // the history so refresh and back button still work

        if (slugChanged) {
          let currentPath = window.location.hash;
          let newPath = currentPath.split('/');
          newPath[newPath.length - 1] = user.get('slug');
          newPath = newPath.join('/');

          _windowProxy.default.replaceState({
            path: newPath
          }, '', newPath);
        }

        this.set('dirtyAttributes', false);
        this.notifications.closeAlerts('user.update');
        return user;
      } catch (error) {
        // validation engine returns undefined so we have to check
        // before treating the failure as an API error
        if (error) {
          this.notifications.showAPIError(error, {
            key: 'user.update'
          });
        }
      }
    }).group('saveHandlers')
  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/tag", ["exports", "ghost-admin/utils/bound-one-way", "@tryghost/string", "ember-concurrency"], function (_exports, _boundOneWay, _string, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  const SCRATCH_PROPS = ['name', 'slug', 'description', 'metaTitle', 'metaDescription'];

  var _default = Ember.Controller.extend({
    notifications: Ember.inject.service(),
    router: Ember.inject.service(),
    showDeleteTagModal: false,
    tag: Ember.computed.alias('model'),
    scratchTag: Ember.computed('tag', function () {
      let scratchTag = Ember.Object.create({
        tag: this.tag
      });
      SCRATCH_PROPS.forEach(prop => Ember.defineProperty(scratchTag, prop, (0, _boundOneWay.default)(`tag.${prop}`)));
      return scratchTag;
    }),
    actions: {
      setProperty(propKey, value) {
        this._saveTagProperty(propKey, value);
      },

      toggleDeleteTagModal() {
        this.toggleProperty('showDeleteTagModal');
      },

      deleteTag() {
        return this.tag.destroyRecord().then(() => {
          return this.transitionToRoute('tags');
        }, error => {
          return this.notifications.showAPIError(error, {
            key: 'tag.delete'
          });
        });
      },

      save() {
        return this.save.perform();
      },

      toggleUnsavedChangesModal(transition) {
        let leaveTransition = this.leaveScreenTransition;

        if (!transition && this.showUnsavedChangesModal) {
          this.set('leaveScreenTransition', null);
          this.set('showUnsavedChangesModal', false);
          return;
        }

        if (!leaveTransition || transition.targetName === leaveTransition.targetName) {
          this.set('leaveScreenTransition', transition); // if a save is running, wait for it to finish then transition

          if (this.save.isRunning) {
            return this.save.last.then(() => {
              transition.retry();
            });
          } // we genuinely have unsaved data, show the modal


          this.set('showUnsavedChangesModal', true);
        }
      },

      leaveScreen() {
        this.tag.rollbackAttributes();
        return this.leaveScreenTransition.retry();
      }

    },
    save: (0, _emberConcurrency.task)(function* () {
      let {
        tag,
        scratchTag
      } = this; // if Cmd+S is pressed before the field loses focus make sure we're
      // saving the intended property values

      let scratchProps = scratchTag.getProperties(SCRATCH_PROPS);
      tag.setProperties(scratchProps);

      try {
        yield tag.save(); // replace 'new' route with 'tag' route

        this.replaceRoute('tag', tag);
        return tag;
      } catch (error) {
        if (error) {
          this.notifications.showAPIError(error, {
            key: 'tag.save'
          });
        }
      }
    }).drop(),
    fetchTag: (0, _emberConcurrency.task)(function* (slug) {
      this.set('isLoading', true);
      yield this.store.queryRecord('tag', {
        slug
      }).then(tag => {
        this.set('tag', tag);
        this.set('isLoading', false);
        return tag;
      });
    }),

    _saveTagProperty(propKey, newValue) {
      let tag = this.tag;
      let currentValue = tag.get(propKey);

      if (newValue) {
        newValue = newValue.trim();
      } // avoid modifying empty values and triggering inadvertant unsaved changes modals


      if (newValue !== false && !newValue && !currentValue) {
        return;
      } // Quit if there was no change


      if (newValue === currentValue) {
        return;
      }

      tag.set(propKey, newValue); // Generate slug based on name for new tag when empty

      if (propKey === 'name' && !tag.slug && tag.isNew) {
        let slugValue = (0, _string.slugify)(newValue);

        if (/^#/.test(newValue)) {
          slugValue = 'hash-' + slugValue;
        }

        tag.set('slug', slugValue);
      } // TODO: This is required until .validate/.save mark fields as validated


      tag.get('hasValidated').addObject(propKey);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/controllers/tags", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Controller.extend({
    queryParams: ['type'],
    type: 'public',
    tags: Ember.computed.alias('model'),
    filteredTags: Ember.computed('tags.@each.isNew', 'type', function () {
      return this.tags.filter(tag => {
        return !tag.isNew && (!this.type || tag.visibility === this.type);
      });
    }),
    // tags are sorted by name
    sortedTags: Ember.computed.sort('filteredTags', function (tagA, tagB) {
      // ignorePunctuation means the # in internal tag names is ignored
      return tagA.name.localeCompare(tagB.name, undefined, {
        ignorePunctuation: true
      });
    }),
    actions: {
      changeType(type) {
        this.set('type', type);
      }

    }
  });

  _exports.default = _default;
});
;define("ghost-admin/data-adapter", ["exports", "@ember-data/debug"], function (_exports, _debug) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _debug.default;
    }
  });
});
;define("ghost-admin/errors/email-failed-error", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  class EmailFailedError extends Error {
    constructor(message) {
      super(message);
      this.name = 'EmailFailedError';
    }

  }

  _exports.default = EmailFailedError;
});
;define("ghost-admin/helpers/-element", ["exports", "ember-element-helper/helpers/-element"], function (_exports, _element) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _element.default;
    }
  });
});
;define("ghost-admin/helpers/and", ["exports", "ember-truth-helpers/helpers/and"], function (_exports, _and) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _and.default;
    }
  });
  Object.defineProperty(_exports, "and", {
    enumerable: true,
    get: function () {
      return _and.and;
    }
  });
});
;define("ghost-admin/helpers/app-version", ["exports", "ghost-admin/config/environment", "ember-cli-app-version/utils/regexp"], function (_exports, _environment, _regexp) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.appVersion = appVersion;
  _exports.default = void 0;

  function appVersion(_, hash = {}) {
    const version = _environment.default.APP.version; // e.g. 1.0.0-alpha.1+4jds75hf
    // Allow use of 'hideSha' and 'hideVersion' For backwards compatibility

    let versionOnly = hash.versionOnly || hash.hideSha;
    let shaOnly = hash.shaOnly || hash.hideVersion;
    let match = null;

    if (versionOnly) {
      if (hash.showExtended) {
        match = version.match(_regexp.versionExtendedRegExp); // 1.0.0-alpha.1
      } // Fallback to just version


      if (!match) {
        match = version.match(_regexp.versionRegExp); // 1.0.0
      }
    }

    if (shaOnly) {
      match = version.match(_regexp.shaRegExp); // 4jds75hf
    }

    return match ? match[0] : version;
  }

  var _default = Ember.Helper.helper(appVersion);

  _exports.default = _default;
});
;define("ghost-admin/helpers/assign", ["exports", "ember-assign-helper/helpers/assign"], function (_exports, _assign) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _assign.default;
    }
  });
  Object.defineProperty(_exports, "assign", {
    enumerable: true,
    get: function () {
      return _assign.assign;
    }
  });
});
;define("ghost-admin/helpers/author-names", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.authorNames = authorNames;
  _exports.default = void 0;

  function authorNames([authors]
  /*, hash*/
  ) {
    if (!authors || Ember.isEmpty(authors)) {
      return;
    }

    return authors.mapBy('name').join(', ');
  }

  var _default = Ember.Helper.helper(authorNames);

  _exports.default = _default;
});
;define("ghost-admin/helpers/background-image-style", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.backgroundImageStyle = backgroundImageStyle;
  _exports.default = void 0;

  function backgroundImageStyle([url]
  /*, hash*/
  ) {
    if (url) {
      let safeUrl = encodeURI(decodeURI(url));
      return Ember.String.htmlSafe(`background-image: url(${safeUrl});`);
    }

    return '';
  }

  var _default = Ember.Helper.helper(backgroundImageStyle);

  _exports.default = _default;
});
;define("ghost-admin/helpers/camelize", ["exports", "ember-cli-string-helpers/helpers/camelize"], function (_exports, _camelize) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _camelize.default;
    }
  });
  Object.defineProperty(_exports, "camelize", {
    enumerable: true,
    get: function () {
      return _camelize.camelize;
    }
  });
});
;define("ghost-admin/helpers/cancel-all", ["exports", "ember-concurrency/helpers/cancel-all"], function (_exports, _cancelAll) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _cancelAll.default;
    }
  });
});
;define("ghost-admin/helpers/capitalize", ["exports", "ember-cli-string-helpers/helpers/capitalize"], function (_exports, _capitalize) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _capitalize.default;
    }
  });
  Object.defineProperty(_exports, "capitalize", {
    enumerable: true,
    get: function () {
      return _capitalize.capitalize;
    }
  });
});
;define("ghost-admin/helpers/classify", ["exports", "ember-cli-string-helpers/helpers/classify"], function (_exports, _classify) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _classify.default;
    }
  });
  Object.defineProperty(_exports, "classify", {
    enumerable: true,
    get: function () {
      return _classify.classify;
    }
  });
});
;define("ghost-admin/helpers/clean-basic-html", ["exports", "koenig-editor/helpers/clean-basic-html"], function (_exports, _cleanBasicHtml) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _cleanBasicHtml.default;
    }
  });
});
;define("ghost-admin/helpers/dasherize", ["exports", "ember-cli-string-helpers/helpers/dasherize"], function (_exports, _dasherize) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _dasherize.default;
    }
  });
  Object.defineProperty(_exports, "dasherize", {
    enumerable: true,
    get: function () {
      return _dasherize.dasherize;
    }
  });
});
;define("ghost-admin/helpers/ember-power-calendar-day-classes", ["exports", "ember-power-calendar/helpers/ember-power-calendar-day-classes"], function (_exports, _emberPowerCalendarDayClasses) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _emberPowerCalendarDayClasses.default;
    }
  });
  Object.defineProperty(_exports, "emberPowerCalendarDayClasses", {
    enumerable: true,
    get: function () {
      return _emberPowerCalendarDayClasses.emberPowerCalendarDayClasses;
    }
  });
});
;define("ghost-admin/helpers/ember-power-select-is-group", ["exports", "ember-power-select/helpers/ember-power-select-is-group"], function (_exports, _emberPowerSelectIsGroup) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _emberPowerSelectIsGroup.default;
    }
  });
  Object.defineProperty(_exports, "emberPowerSelectIsGroup", {
    enumerable: true,
    get: function () {
      return _emberPowerSelectIsGroup.emberPowerSelectIsGroup;
    }
  });
});
;define("ghost-admin/helpers/ember-power-select-is-selected", ["exports", "ember-power-select/helpers/ember-power-select-is-selected"], function (_exports, _emberPowerSelectIsSelected) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _emberPowerSelectIsSelected.default;
    }
  });
  Object.defineProperty(_exports, "emberPowerSelectIsSelected", {
    enumerable: true,
    get: function () {
      return _emberPowerSelectIsSelected.emberPowerSelectIsSelected;
    }
  });
});
;define("ghost-admin/helpers/eq", ["exports", "ember-truth-helpers/helpers/equal"], function (_exports, _equal) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _equal.default;
    }
  });
  Object.defineProperty(_exports, "equal", {
    enumerable: true,
    get: function () {
      return _equal.equal;
    }
  });
});
;define("ghost-admin/helpers/event-name", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.eventName = eventName;
  _exports.default = _exports.AVAILABLE_EVENTS = void 0;
  const AVAILABLE_EVENTS = [// GROUPNAME: Global
  {
    event: 'site.changed',
    name: 'Site changed (rebuild)',
    group: 'Global'
  }, // GROUPNAME: Posts
  {
    event: 'post.added',
    name: 'Post created',
    group: 'Posts'
  }, {
    event: 'post.deleted',
    name: 'Post deleted',
    group: 'Posts'
  }, {
    event: 'post.edited',
    name: 'Post updated',
    group: 'Posts'
  }, {
    event: 'post.published',
    name: 'Post published',
    group: 'Posts'
  }, {
    event: 'post.published.edited',
    name: 'Published post updated',
    group: 'Posts'
  }, {
    event: 'post.unpublished',
    name: 'Post unpublished',
    group: 'Posts'
  }, {
    event: 'post.tag.attached',
    name: 'Tag added to post',
    group: 'Posts'
  }, {
    event: 'post.tag.detached',
    name: 'Tag removed from post',
    group: 'Posts'
  }, // GROUPNAME: Pages
  {
    event: 'page.added',
    name: 'Page created',
    group: 'Pages'
  }, {
    event: 'page.deleted',
    name: 'Page deleted',
    group: 'Pages'
  }, {
    event: 'page.edited',
    name: 'Page updated',
    group: 'Pages'
  }, {
    event: 'page.published',
    name: 'Page published',
    group: 'Pages'
  }, {
    event: 'page.published.edited',
    name: 'Published page updated',
    group: 'Pages'
  }, {
    event: 'page.unpublished',
    name: 'Page unpublished',
    group: 'Pages'
  }, {
    event: 'page.tag.attached',
    name: 'Tag added to page',
    group: 'Pages'
  }, {
    event: 'page.tag.detached',
    name: 'Tag removed from page',
    group: 'Pages'
  }, // GROUPNAME: Tags
  {
    event: 'tag.added',
    name: 'Tag created',
    group: 'Tags'
  }, {
    event: 'tag.edited',
    name: 'Tag updated',
    group: 'Tags'
  }, {
    event: 'tag.deleted',
    name: 'Tag deleted',
    group: 'Tags'
  }, // GROUPNAME: Members
  {
    event: 'member.added',
    name: 'Member added',
    group: 'Members'
  }, {
    event: 'member.edited',
    name: 'Member updated',
    group: 'Members'
  }, {
    event: 'member.deleted',
    name: 'Member deleted',
    group: 'Members'
  }];
  _exports.AVAILABLE_EVENTS = AVAILABLE_EVENTS;

  function eventName([event]
  /*, hash*/
  ) {
    let match = AVAILABLE_EVENTS.findBy('event', event);
    return match ? match.name : event;
  }

  var _default = Ember.Helper.helper(eventName);

  _exports.default = _default;
});
;define("ghost-admin/helpers/gh-count-characters", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.countCharacters = countCharacters;
  _exports.default = void 0;

  function countCharacters(params) {
    if (!params || !params.length) {
      return;
    }

    let el = document.createElement('span');
    let content = params[0] || ''; // convert to array so that we get accurate symbol counts for multibyte chars
    // this will still count emoji+modifer as two chars

    let {
      length
    } = Array.from(content);
    el.className = 'word-count';

    if (length > 180) {
      el.style.color = '#f05230';
    } else {
      el.style.color = '#738a94';
    }

    el.innerHTML = 200 - length;
    return Ember.String.htmlSafe(el.outerHTML);
  }

  var _default = Ember.Helper.helper(function (params) {
    return countCharacters(params);
  });

  _exports.default = _default;
});
;define("ghost-admin/helpers/gh-count-down-characters", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.countDownCharacters = countDownCharacters;
  _exports.default = void 0;

  function countDownCharacters(params) {
    if (!params || params.length < 2) {
      return;
    }

    let el = document.createElement('span');
    let [content, maxCharacters] = params; // convert to array so that we get accurate symbol counts for multibyte chars
    // this will still count emoji+modifer as two chars

    let {
      length
    } = Array.from(content || '');
    el.className = 'word-count';

    if (length > maxCharacters) {
      el.style.color = '#E25440';
    } else {
      el.style.color = '#9FBB58';
    }

    el.innerHTML = length;
    return Ember.String.htmlSafe(el.outerHTML);
  }

  var _default = Ember.Helper.helper(function (params) {
    return countDownCharacters(params);
  });

  _exports.default = _default;
});
;define("ghost-admin/helpers/gh-format-post-time", ["exports", "moment"], function (_exports, _moment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Helper.extend({
    settings: Ember.inject.service(),

    compute([timeago], {
      draft,
      scheduled,
      published
    }) {
      (true && !(timeago) && Ember.assert('You must pass a time to the gh-format-post-time helper', timeago));

      if (draft) {
        // No special handling for drafts, just use moment.from
        return (0, _moment.default)(timeago).from(_moment.default.utc());
      }

      let timezone = this.get('settings.activeTimezone');

      let time = _moment.default.tz(timeago, timezone);

      let now = _moment.default.tz(_moment.default.utc(), timezone); // If not a draft and post was published <= 15 minutes ago
      // or scheduled to be published <= 15 minutes from now, use moment.from


      if (Math.abs(now.diff(time, 'minutes')) <= 15) {
        return time.from(now);
      } // If scheduled for or published on the same day, render the time + Today


      if (time.isSame(now, 'day')) {
        let formatted = time.format('HH:mm [Today]');
        return scheduled ? `at ${formatted}` : formatted;
      } // if published yesterday, render time + yesterday
      // This check comes before scheduled, because there are likely to be more published
      // posts than scheduled posts.


      if (published && time.isSame(now.clone().subtract(1, 'days').startOf('day'), 'day')) {
        return time.format('HH:mm [Yesterday]');
      } // if scheduled for tomorrow, render the time + Tomorrow


      if (scheduled && time.isSame(now.clone().add(1, 'days').startOf('day'), 'day')) {
        return time.format('[at] HH:mm [Tomorrow]');
      } // Else, render just the date if published, or the time & date if scheduled


      let format = scheduled ? '[at] HH:mm [on] DD MMM YYYY' : 'DD MMM YYYY';
      return time.format(format);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/helpers/gh-user-can-admin", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.ghUserCanAdmin = ghUserCanAdmin;
  _exports.default = void 0;

  // Handlebars Helper {{gh-user-can-admin}} group users by admin and owner using if, or group them author using unless
  // Usage: call helper as with aparameter of session.user
  // e.g - {{#if (gh-user-can-admin session.user)}} 'block content' {{/if}}
  // @param session.user
  function ghUserCanAdmin(params) {
    return !!params[0].get('isOwnerOrAdmin');
  }

  var _default = Ember.Helper.helper(function (params) {
    return ghUserCanAdmin(params);
  });

  _exports.default = _default;
});
;define("ghost-admin/helpers/gravatar", ["exports", "blueimp-md5"], function (_exports, _blueimpMd) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Helper.extend({
    config: Ember.inject.service(),

    compute([email], {
      size = 180,
      d = 'blank'
    }
    /*, hash*/
    ) {
      if (!this.get('config.useGravatar')) {
        return;
      }

      if (!email || Ember.isEmpty(email)) {
        return;
      }

      return `https://www.gravatar.com/avatar/${(0, _blueimpMd.default)(email)}?s=${size}&d=${d}`;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/helpers/gt", ["exports", "ember-truth-helpers/helpers/gt"], function (_exports, _gt) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _gt.default;
    }
  });
  Object.defineProperty(_exports, "gt", {
    enumerable: true,
    get: function () {
      return _gt.gt;
    }
  });
});
;define("ghost-admin/helpers/gte", ["exports", "ember-truth-helpers/helpers/gte"], function (_exports, _gte) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _gte.default;
    }
  });
  Object.defineProperty(_exports, "gte", {
    enumerable: true,
    get: function () {
      return _gte.gte;
    }
  });
});
;define("ghost-admin/helpers/highlighted-text", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.highlightedText = highlightedText;
  _exports.default = void 0;

  function highlightedText([text, termToHighlight]) {
    // replace any non-word character with an escaped character
    let sanitisedTerm = termToHighlight.replace(new RegExp(/\W/ig), '\\$&');
    return Ember.String.htmlSafe(text.replace(new RegExp(sanitisedTerm, 'ig'), '<span class="highlight">$&</span>'));
  }

  var _default = Ember.Helper.helper(highlightedText);

  _exports.default = _default;
});
;define("ghost-admin/helpers/html-safe", ["exports", "ember-cli-string-helpers/helpers/html-safe"], function (_exports, _htmlSafe) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _htmlSafe.default;
    }
  });
  Object.defineProperty(_exports, "htmlSafe", {
    enumerable: true,
    get: function () {
      return _htmlSafe.htmlSafe;
    }
  });
});
;define("ghost-admin/helpers/humanize", ["exports", "ember-cli-string-helpers/helpers/humanize"], function (_exports, _humanize) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _humanize.default;
    }
  });
  Object.defineProperty(_exports, "humanize", {
    enumerable: true,
    get: function () {
      return _humanize.humanize;
    }
  });
});
;define("ghost-admin/helpers/integration-icon-style", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.integrationLogoStyle = integrationLogoStyle;
  _exports.default = void 0;

  function integrationLogoStyle([integration]
  /*, hash*/
  ) {
    if (integration.iconImage) {
      let style = `background-image:url(${integration.iconImage});background-size:36px;`;
      return Ember.String.htmlSafe(style);
    }
  }

  var _default = Ember.Helper.helper(integrationLogoStyle);

  _exports.default = _default;
});
;define("ghost-admin/helpers/is-after", ["exports", "ember-moment/helpers/is-after"], function (_exports, _isAfter) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _isAfter.default;
    }
  });
});
;define("ghost-admin/helpers/is-array", ["exports", "ember-truth-helpers/helpers/is-array"], function (_exports, _isArray) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _isArray.default;
    }
  });
  Object.defineProperty(_exports, "isArray", {
    enumerable: true,
    get: function () {
      return _isArray.isArray;
    }
  });
});
;define("ghost-admin/helpers/is-before", ["exports", "ember-moment/helpers/is-before"], function (_exports, _isBefore) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _isBefore.default;
    }
  });
});
;define("ghost-admin/helpers/is-between", ["exports", "ember-moment/helpers/is-between"], function (_exports, _isBetween) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _isBetween.default;
    }
  });
});
;define("ghost-admin/helpers/is-empty", ["exports", "ember-truth-helpers/helpers/is-empty"], function (_exports, _isEmpty) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _isEmpty.default;
    }
  });
});
;define("ghost-admin/helpers/is-equal", ["exports", "ember-truth-helpers/helpers/is-equal"], function (_exports, _isEqual) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _isEqual.default;
    }
  });
  Object.defineProperty(_exports, "isEqual", {
    enumerable: true,
    get: function () {
      return _isEqual.isEqual;
    }
  });
});
;define("ghost-admin/helpers/is-same-or-after", ["exports", "ember-moment/helpers/is-same-or-after"], function (_exports, _isSameOrAfter) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _isSameOrAfter.default;
    }
  });
});
;define("ghost-admin/helpers/is-same-or-before", ["exports", "ember-moment/helpers/is-same-or-before"], function (_exports, _isSameOrBefore) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _isSameOrBefore.default;
    }
  });
});
;define("ghost-admin/helpers/is-same", ["exports", "ember-moment/helpers/is-same"], function (_exports, _isSame) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _isSame.default;
    }
  });
});
;define("ghost-admin/helpers/kg-style", ["exports", "koenig-editor/helpers/kg-style"], function (_exports, _kgStyle) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _kgStyle.default;
    }
  });
  Object.defineProperty(_exports, "kgStyle", {
    enumerable: true,
    get: function () {
      return _kgStyle.kgStyle;
    }
  });
});
;define("ghost-admin/helpers/lf-lock-model", ["exports", "liquid-fire/helpers/lf-lock-model"], function (_exports, _lfLockModel) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _lfLockModel.default;
    }
  });
  Object.defineProperty(_exports, "lfLockModel", {
    enumerable: true,
    get: function () {
      return _lfLockModel.lfLockModel;
    }
  });
});
;define("ghost-admin/helpers/lf-or", ["exports", "liquid-fire/helpers/lf-or"], function (_exports, _lfOr) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _lfOr.default;
    }
  });
  Object.defineProperty(_exports, "lfOr", {
    enumerable: true,
    get: function () {
      return _lfOr.lfOr;
    }
  });
});
;define("ghost-admin/helpers/lowercase", ["exports", "ember-cli-string-helpers/helpers/lowercase"], function (_exports, _lowercase) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _lowercase.default;
    }
  });
  Object.defineProperty(_exports, "lowercase", {
    enumerable: true,
    get: function () {
      return _lowercase.lowercase;
    }
  });
});
;define("ghost-admin/helpers/lt", ["exports", "ember-truth-helpers/helpers/lt"], function (_exports, _lt) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _lt.default;
    }
  });
  Object.defineProperty(_exports, "lt", {
    enumerable: true,
    get: function () {
      return _lt.lt;
    }
  });
});
;define("ghost-admin/helpers/lte", ["exports", "ember-truth-helpers/helpers/lte"], function (_exports, _lte) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _lte.default;
    }
  });
  Object.defineProperty(_exports, "lte", {
    enumerable: true,
    get: function () {
      return _lte.lte;
    }
  });
});
;define("ghost-admin/helpers/moment-add", ["exports", "ember-moment/helpers/moment-add"], function (_exports, _momentAdd) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _momentAdd.default;
    }
  });
});
;define("ghost-admin/helpers/moment-calendar", ["exports", "ember-moment/helpers/moment-calendar"], function (_exports, _momentCalendar) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _momentCalendar.default;
    }
  });
});
;define("ghost-admin/helpers/moment-diff", ["exports", "ember-moment/helpers/moment-diff"], function (_exports, _momentDiff) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _momentDiff.default;
    }
  });
});
;define("ghost-admin/helpers/moment-duration", ["exports", "ember-moment/helpers/moment-duration"], function (_exports, _momentDuration) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _momentDuration.default;
    }
  });
});
;define("ghost-admin/helpers/moment-format", ["exports", "ember-moment/helpers/moment-format"], function (_exports, _momentFormat) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _momentFormat.default;
    }
  });
});
;define("ghost-admin/helpers/moment-from-now", ["exports", "ember-moment/helpers/moment-from-now"], function (_exports, _momentFromNow) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _momentFromNow.default;
    }
  });
});
;define("ghost-admin/helpers/moment-from", ["exports", "ember-moment/helpers/moment-from"], function (_exports, _momentFrom) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _momentFrom.default;
    }
  });
});
;define("ghost-admin/helpers/moment-subtract", ["exports", "ember-moment/helpers/moment-subtract"], function (_exports, _momentSubtract) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _momentSubtract.default;
    }
  });
});
;define("ghost-admin/helpers/moment-to-date", ["exports", "ember-moment/helpers/moment-to-date"], function (_exports, _momentToDate) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _momentToDate.default;
    }
  });
});
;define("ghost-admin/helpers/moment-to-now", ["exports", "ember-moment/helpers/moment-to-now"], function (_exports, _momentToNow) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _momentToNow.default;
    }
  });
});
;define("ghost-admin/helpers/moment-to", ["exports", "ember-moment/helpers/moment-to"], function (_exports, _momentTo) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _momentTo.default;
    }
  });
});
;define("ghost-admin/helpers/moment-unix", ["exports", "ember-moment/helpers/unix"], function (_exports, _unix) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _unix.default;
    }
  });
});
;define("ghost-admin/helpers/moment", ["exports", "ember-moment/helpers/moment"], function (_exports, _moment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _moment.default;
    }
  });
});
;define("ghost-admin/helpers/not-eq", ["exports", "ember-truth-helpers/helpers/not-equal"], function (_exports, _notEqual) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _notEqual.default;
    }
  });
  Object.defineProperty(_exports, "notEq", {
    enumerable: true,
    get: function () {
      return _notEqual.notEq;
    }
  });
});
;define("ghost-admin/helpers/not", ["exports", "ember-truth-helpers/helpers/not"], function (_exports, _not) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _not.default;
    }
  });
  Object.defineProperty(_exports, "not", {
    enumerable: true,
    get: function () {
      return _not.not;
    }
  });
});
;define("ghost-admin/helpers/now", ["exports", "ember-moment/helpers/now"], function (_exports, _now) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _now.default;
    }
  });
});
;define("ghost-admin/helpers/one-way-select/contains", ["exports", "ember-one-way-select/helpers/one-way-select/contains"], function (_exports, _contains) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _contains.default;
    }
  });
  Object.defineProperty(_exports, "contains", {
    enumerable: true,
    get: function () {
      return _contains.contains;
    }
  });
});
;define("ghost-admin/helpers/optional", ["exports", "ember-composable-helpers/helpers/optional"], function (_exports, _optional) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _optional.default;
    }
  });
  Object.defineProperty(_exports, "optional", {
    enumerable: true,
    get: function () {
      return _optional.optional;
    }
  });
});
;define("ghost-admin/helpers/or", ["exports", "ember-truth-helpers/helpers/or"], function (_exports, _or) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _or.default;
    }
  });
  Object.defineProperty(_exports, "or", {
    enumerable: true,
    get: function () {
      return _or.or;
    }
  });
});
;define("ghost-admin/helpers/perform", ["exports", "ember-concurrency/helpers/perform"], function (_exports, _perform) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _perform.default;
    }
  });
});
;define("ghost-admin/helpers/pluralize", ["exports", "ember-inflector/lib/helpers/pluralize"], function (_exports, _pluralize) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = _pluralize.default;
  _exports.default = _default;
});
;define("ghost-admin/helpers/power-calendar-format-date", ["exports", "ember-power-calendar/helpers/power-calendar-format-date"], function (_exports, _powerCalendarFormatDate) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _powerCalendarFormatDate.default;
    }
  });
  Object.defineProperty(_exports, "powerCalendarFormatDate", {
    enumerable: true,
    get: function () {
      return _powerCalendarFormatDate.powerCalendarFormatDate;
    }
  });
});
;define("ghost-admin/helpers/reset-query-params", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.resetQueryParams = resetQueryParams;
  _exports.default = _exports.DEFAULT_QUERY_PARAMS = void 0;
  const DEFAULT_QUERY_PARAMS = {
    posts: {
      type: null,
      author: null,
      tag: null,
      order: null
    },
    'members.index': {
      label: null
    }
  }; // in order to reset query params to their defaults when using <LinkTo> or
  // `transitionTo` it's necessary to explicitly set each param. This helper makes
  // it easier to provide a "resetting" link, especially when used with custom views

  _exports.DEFAULT_QUERY_PARAMS = DEFAULT_QUERY_PARAMS;

  function resetQueryParams(routeName, newParams) {
    return Object.assign({}, DEFAULT_QUERY_PARAMS[routeName], newParams);
  }

  var _default = Ember.Helper.helper(function (params
  /*, hash*/
  ) {
    return resetQueryParams(...params);
  });

  _exports.default = _default;
});
;define("ghost-admin/helpers/route-action", ["exports", "ember-route-action-helper/helpers/route-action"], function (_exports, _routeAction) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _routeAction.default;
    }
  });
});
;define("ghost-admin/helpers/sanitize-html", ["exports", "koenig-editor/helpers/sanitize-html"], function (_exports, _sanitizeHtml) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _sanitizeHtml.default;
    }
  });
  Object.defineProperty(_exports, "sanitizeHtml", {
    enumerable: true,
    get: function () {
      return _sanitizeHtml.sanitizeHtml;
    }
  });
});
;define("ghost-admin/helpers/singularize", ["exports", "ember-inflector/lib/helpers/singularize"], function (_exports, _singularize) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = _singularize.default;
  _exports.default = _default;
});
;define("ghost-admin/helpers/svg-jar", ["exports", "ember-svg-jar/utils/make-helper", "ember-svg-jar/utils/make-svg"], function (_exports, _makeHelper, _makeSvg) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.svgJar = svgJar;
  _exports.default = void 0;

  function getInlineAsset(assetId) {
    try {
      /* eslint-disable global-require */
      return require(`ember-svg-jar/inlined/${assetId}`).default;
    } catch (err) {
      return null;
    }
  }

  function svgJar(assetId, svgAttrs) {
    return (0, _makeSvg.default)(assetId, svgAttrs, getInlineAsset);
  }

  var _default = (0, _makeHelper.default)(svgJar);

  _exports.default = _default;
});
;define("ghost-admin/helpers/task", ["exports", "ember-concurrency/helpers/task"], function (_exports, _task) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _task.default;
    }
  });
});
;define("ghost-admin/helpers/titleize", ["exports", "ember-cli-string-helpers/helpers/titleize"], function (_exports, _titleize) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _titleize.default;
    }
  });
  Object.defineProperty(_exports, "titleize", {
    enumerable: true,
    get: function () {
      return _titleize.titleize;
    }
  });
});
;define("ghost-admin/helpers/toggle", ["exports", "ember-composable-helpers/helpers/toggle"], function (_exports, _toggle) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _toggle.default;
    }
  });
  Object.defineProperty(_exports, "toggle", {
    enumerable: true,
    get: function () {
      return _toggle.toggle;
    }
  });
});
;define("ghost-admin/helpers/trim", ["exports", "ember-cli-string-helpers/helpers/trim"], function (_exports, _trim) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _trim.default;
    }
  });
  Object.defineProperty(_exports, "trim", {
    enumerable: true,
    get: function () {
      return _trim.trim;
    }
  });
});
;define("ghost-admin/helpers/truncate", ["exports", "ember-cli-string-helpers/helpers/truncate"], function (_exports, _truncate) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _truncate.default;
    }
  });
  Object.defineProperty(_exports, "truncate", {
    enumerable: true,
    get: function () {
      return _truncate.truncate;
    }
  });
});
;define("ghost-admin/helpers/ui-btn-span", ["exports", "ghost-admin/helpers/ui-btn"], function (_exports, _uiBtn) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.uiBtnSpan = uiBtnSpan;
  _exports.default = void 0;

  function uiBtnSpan([style], hash) {
    return (0, _uiBtn.btnStyles)(Object.assign({}, {
      style
    }, hash)).span;
  }

  var _default = Ember.Helper.helper(uiBtnSpan);

  _exports.default = _default;
});
;define("ghost-admin/helpers/ui-btn", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.btnStyles = btnStyles;
  _exports.uiBtn = uiBtn;
  _exports.default = void 0;

  function btnStyles(options = {}) {
    let button = 'dib midgrey btn-base br3 ba b--lightgrey-l1 pointer glow';
    let span = 'f8 fw5 tracked-2 dib pt0 pb0 tc'; // Set style

    if (options.style) {
      switch (options.style) {
        case 'outline-white':
        case 'outline-white--s':
          button = 'bg-transparent dib white btn-base br3 ba b--white-60 pointer highlight-white';
          span = 'f8 fw5 tracked-2 dib pt0 pb0 tc';
          break;

        case 'outline-blue':
        case 'outline-blue--s':
          button = 'bg-transparent dib blue btn-base br3 ba b--lightgrey pointer glow';
          span = 'f8 fw5 tracked-2 dib pt0 pb0 tc';
          break;

        case 'blue':
        case 'blue--s':
          button = 'dib bw0 white br3 btn-base btn-blue pointer';
          span = 'f8 fw5 tracked-2 dib pt0 pb0 tc';
          break;

        case 'green':
        case 'green--s':
          button = 'dib bw0 white br3 btn-base btn-green pointer';
          span = 'f8 fw5 tracked-2 dib pt0 pb0 tc';
          break;

        case 'red':
        case 'red--s':
          button = 'dib bw0 white br3 btn-base btn-red pointer';
          span = 'f8 fw5 tracked-2 dib pt0 pb0 tc';
          break;
      } // Style ending with '--s' means small button


      if (options.style.substr(options.style.length - 3) === '--s') {
        button = `${button} btn-small`;
      }
    }

    if (options.class) {
      button = `${button} ${options.class}`;
    }

    button = `sans-serif ${button} flex-shrink-0`;
    span = `${span} inline-flex items-center`;
    return {
      button: button,
      span: span
    };
  }

  function uiBtn([style], hash) {
    return btnStyles(Object.assign({}, {
      style
    }, hash)).button;
  }

  var _default = Ember.Helper.helper(uiBtn);

  _exports.default = _default;
});
;define("ghost-admin/helpers/ui-text", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.uiText = uiText;
  _exports.default = void 0;

  function uiText([style]) {
    let cssClass = '';

    switch (style) {
      case 'h1':
        cssClass = 'f-subheadline fw7 tracked-3 lh-heading ma0 pa0';
        break;

      case 'h2':
        cssClass = 'f2 fw6 tracked-2 tracked-3 lh-title ma0 pa0';
        break;

      case 'h3':
        cssClass = 'f5 fw6 tracked-2 lh-title ma0 pa0';
        break;

      case 'h4':
        cssClass = 'f7 fw6 tracked-2 lh-copy ma0 pa0';
        break;

      case 'h5':
        cssClass = 'f8 fw6 tracked-2 lh-copy ma0 pa0';
        break;

      case 'h6':
        cssClass = 'f-small ttu fw4 tracked-3 lh-copy ma0 pa0';
        break;

      case 'tl':
        cssClass = 'f6 fw3 lh-copy tracked-1 ma0 pa0';
        break;

      case 't':
        cssClass = 'f7 fw3 lh-copy tracked-1 ma0 pa0';
        break;

      case 'ts':
        cssClass = 'f8 fw3 lh-copy tracked-2 ma0 pa0';
        break;

      case 'txs':
        cssClass = 'f-small fw3 lh-copy tracked-3 ma0 pa0';
        break;
    }

    return cssClass;
  }

  var _default = Ember.Helper.helper(uiText);

  _exports.default = _default;
});
;define("ghost-admin/helpers/underscore", ["exports", "ember-cli-string-helpers/helpers/underscore"], function (_exports, _underscore) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _underscore.default;
    }
  });
  Object.defineProperty(_exports, "underscore", {
    enumerable: true,
    get: function () {
      return _underscore.underscore;
    }
  });
});
;define("ghost-admin/helpers/unix", ["exports", "ember-moment/helpers/unix"], function (_exports, _unix) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _unix.default;
    }
  });
});
;define("ghost-admin/helpers/uppercase", ["exports", "ember-cli-string-helpers/helpers/uppercase"], function (_exports, _uppercase) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _uppercase.default;
    }
  });
  Object.defineProperty(_exports, "uppercase", {
    enumerable: true,
    get: function () {
      return _uppercase.uppercase;
    }
  });
});
;define("ghost-admin/helpers/user-agent", ["exports", "ember-useragent/helpers/user-agent"], function (_exports, _userAgent) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _userAgent.default;
    }
  });
});
;define("ghost-admin/helpers/utc", ["exports", "ember-moment/helpers/utc"], function (_exports, _utc) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _utc.default;
    }
  });
  Object.defineProperty(_exports, "utc", {
    enumerable: true,
    get: function () {
      return _utc.utc;
    }
  });
});
;define("ghost-admin/helpers/w", ["exports", "ember-cli-string-helpers/helpers/w"], function (_exports, _w) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _w.default;
    }
  });
  Object.defineProperty(_exports, "w", {
    enumerable: true,
    get: function () {
      return _w.w;
    }
  });
});
;define("ghost-admin/helpers/xor", ["exports", "ember-truth-helpers/helpers/xor"], function (_exports, _xor) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _xor.default;
    }
  });
  Object.defineProperty(_exports, "xor", {
    enumerable: true,
    get: function () {
      return _xor.xor;
    }
  });
});
;define("ghost-admin/initializers/app-version", ["exports", "ember-cli-app-version/initializer-factory", "ghost-admin/config/environment"], function (_exports, _initializerFactory, _environment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  let name, version;

  if (_environment.default.APP) {
    name = _environment.default.APP.name;
    version = _environment.default.APP.version;
  }

  var _default = {
    name: 'App Version',
    initialize: (0, _initializerFactory.default)(name, version)
  };
  _exports.default = _default;
});
;define("ghost-admin/initializers/container-debug-adapter", ["exports", "ember-resolver/resolvers/classic/container-debug-adapter"], function (_exports, _containerDebugAdapter) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = {
    name: 'container-debug-adapter',

    initialize() {
      let app = arguments[1] || arguments[0];
      app.register('container-debug-adapter:main', _containerDebugAdapter.default);
      app.inject('container-debug-adapter:main', 'namespace', 'application:main');
    }

  };
  _exports.default = _default;
});
;define("ghost-admin/initializers/coordinator-setup", ["exports", "ghost-admin/models/coordinator"], function (_exports, _coordinator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = {
    name: "setup coordinator",
    initialize: function () {
      let app = arguments[1] || arguments[0];
      app.register("drag:coordinator", _coordinator.default);
      app.inject("component", "coordinator", "drag:coordinator");
    }
  };
  _exports.default = _default;
});
;define("ghost-admin/initializers/debug", ["exports", "@html-next/vertical-collection/-debug"], function (_exports, _debug) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = {
    name: 'vertical-collection-debug',

    initialize() {}

  };
  _exports.default = _default;
});
;define("ghost-admin/initializers/ember-cli-mirage", ["exports", "ghost-admin/config/environment", "ghost-admin/mirage/config", "ember-cli-mirage/get-rfc232-test-context", "ember-cli-mirage/start-mirage"], function (_exports, _environment, _config, _getRfc232TestContext, _startMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.startMirage = startMirage;
  _exports.default = void 0;
  //
  // This initializer does two things:
  //
  // 1. Pulls the mirage config objects from the application's config and
  //    registers them in the container so `ember-cli-mirage/start-mirage` can
  //    find them (since it doesn't have access to the app's namespace).
  // 2. Provides legacy support for auto-starting mirage in pre-rfc268 acceptance
  //    tests.
  //
  var _default = {
    name: 'ember-cli-mirage',

    initialize(application) {
      if (_config.default) {
        application.register('mirage:base-config', _config.default, {
          instantiate: false
        });
      }

      if (_config.testConfig) {
        application.register('mirage:test-config', _config.testConfig, {
          instantiate: false
        });
      }

      _environment.default['ember-cli-mirage'] = _environment.default['ember-cli-mirage'] || {};

      if (_shouldUseMirage(_environment.default.environment, _environment.default['ember-cli-mirage'])) {
        startMirage(_environment.default);
      }
    }

  };
  _exports.default = _default;

  function startMirage(env = _environment.default) {
    return (0, _startMirage.default)(null, {
      env,
      baseConfig: _config.default,
      testConfig: _config.testConfig
    });
  }

  function _shouldUseMirage(env, addonConfig) {
    if (typeof FastBoot !== 'undefined') {
      return false;
    }

    if ((0, _getRfc232TestContext.default)()) {
      return false;
    }

    let userDeclaredEnabled = typeof addonConfig.enabled !== 'undefined';

    let defaultEnabled = _defaultEnabled(env, addonConfig);

    return userDeclaredEnabled ? addonConfig.enabled : defaultEnabled;
  }
  /*
    Returns a boolean specifying the default behavior for whether
    to initialize Mirage.
  */


  function _defaultEnabled(env, addonConfig) {
    let usingInDev = env === 'development' && !addonConfig.usingProxy;
    let usingInTest = env === 'test';
    return usingInDev || usingInTest;
  }
});
;define("ghost-admin/initializers/ember-concurrency", ["exports", "ember-concurrency/initializers/ember-concurrency"], function (_exports, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _emberConcurrency.default;
    }
  });
});
;define("ghost-admin/initializers/ember-data-data-adapter", ["exports", "@ember-data/debug/setup"], function (_exports, _setup) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _setup.default;
    }
  });
});
;define("ghost-admin/initializers/ember-data", ["exports", "ember-data", "ember-data/setup-container"], function (_exports, _emberData, _setupContainer) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /*
    This code initializes EmberData in an Ember application.
  
    It ensures that the `store` service is automatically injected
    as the `store` property on all routes and controllers.
  */
  var _default = {
    name: 'ember-data',
    initialize: _setupContainer.default
  };
  _exports.default = _default;
});
;define("ghost-admin/initializers/ember-simple-auth", ["exports", "ember-simple-auth/configuration", "ghost-admin/config/environment", "ghost-admin/utils/ghost-paths", "ember-simple-auth/initializers/setup-session", "ember-simple-auth/initializers/setup-session-restoration", "ember-simple-auth/initializers/setup-session-service"], function (_exports, _configuration, _environment, _ghostPaths, _setupSession, _setupSessionRestoration, _setupSessionService) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = {
    name: 'ember-simple-auth',

    initialize(registry) {
      let config = _environment.default['ember-simple-auth'] || {};
      config.rootURL = (0, _ghostPaths.default)().adminRoot;

      _configuration.default.load(config);

      (0, _setupSession.default)(registry);
      (0, _setupSessionService.default)(registry);
      (0, _setupSessionRestoration.default)(registry);
    }

  };
  _exports.default = _default;
});
;define("ghost-admin/initializers/export-application-global", ["exports", "ghost-admin/config/environment"], function (_exports, _environment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.initialize = initialize;
  _exports.default = void 0;

  function initialize() {
    var application = arguments[1] || arguments[0];

    if (_environment.default.exportApplicationGlobal !== false) {
      var theGlobal;

      if (typeof window !== 'undefined') {
        theGlobal = window;
      } else if (typeof global !== 'undefined') {
        theGlobal = global;
      } else if (typeof self !== 'undefined') {
        theGlobal = self;
      } else {
        // no reasonable global, just bail
        return;
      }

      var value = _environment.default.exportApplicationGlobal;
      var globalName;

      if (typeof value === 'string') {
        globalName = value;
      } else {
        globalName = Ember.String.classify(_environment.default.modulePrefix);
      }

      if (!theGlobal[globalName]) {
        theGlobal[globalName] = application;
        application.reopen({
          willDestroy: function () {
            this._super.apply(this, arguments);

            delete theGlobal[globalName];
          }
        });
      }
    }
  }

  var _default = {
    name: 'export-application-global',
    initialize: initialize
  };
  _exports.default = _default;
});
;define("ghost-admin/initializers/hide-loading-screen", ["exports", "ghost-admin/instance-initializers/hide-loading-screen"], function (_exports, _hideLoadingScreen) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.initialize = initialize;
  _exports.default = void 0;
  const EMBER_VERSION_REGEX = /^([0-9]+)\.([0-9]+)\.([0-9]+)(?:(?:-(alpha|beta)\.([0-9]+)(?:\.([0-9]+))?)?)?(?:\+(canary))?(?:\.([0-9abcdef]+))?(?:-([A-Za-z0-9.-]+))?(?:\+([A-Za-z0-9.-]+))?$/;
  /**
   * VERSION_INFO[i] is as follows:
   *
   * 0  complete version string
   * 1  major version
   * 2  minor version
   * 3  trivial version
   * 4  pre-release type (optional: "alpha" or "beta" or undefined for stable releases)
   * 5  pre-release version (optional)
   * 6  pre-release sub-version (optional)
   * 7  canary (optional: "canary", or undefined for stable releases)
   * 8  SHA (optional)
   *
   * @private
   */

  const VERSION_INFO = EMBER_VERSION_REGEX.exec(Ember.VERSION);
  const isPre111 = parseInt(VERSION_INFO[1], 10) < 2 && parseInt(VERSION_INFO[2], 10) < 12;

  function initialize() {
    if (isPre111) {
      let [registry, application] = arguments;

      _hideLoadingScreen.default.initialize(registry, application);
    }
  }

  var _default = {
    name: 'hide-loading-screen',
    initialize
  };
  _exports.default = _default;
});
;define("ghost-admin/initializers/liquid-fire", ["exports", "liquid-fire/velocity-ext"], function (_exports, _velocityExt) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = {
    name: 'liquid-fire',
    initialize: function () {}
  };
  _exports.default = _default;
});
;define("ghost-admin/initializers/trailing-hash", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  let trailingHash = Ember.HashLocation.extend({
    formatURL() {
      let url = this._super(...arguments);

      if (url.indexOf('?') > 0) {
        return url.replace(/([^/])\?/, '$1/?');
      } else {
        return url.replace(/\/?$/, '/');
      }
    }

  });
  var _default = {
    name: 'registerTrailingHashLocation',

    initialize(application) {
      application.register('location:trailing-hash', trailingHash);
    }

  };
  _exports.default = _default;
});
;define("ghost-admin/initializers/upgrade-status", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.initialize = initialize;
  _exports.default = void 0;

  function initialize(application) {
    application.inject('route', 'upgradeStatus', 'service:upgrade-status');
  }

  var _default = {
    name: 'upgrade-status',
    initialize
  };
  _exports.default = _default;
});
;define("ghost-admin/initializers/user-agent", ["exports", "ember-useragent/initializers/user-agent"], function (_exports, _userAgent) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _userAgent.default;
    }
  });
  Object.defineProperty(_exports, "initialize", {
    enumerable: true,
    get: function () {
      return _userAgent.initialize;
    }
  });
});
;define("ghost-admin/initializers/viewport-config", ["exports", "ember-in-viewport/initializers/viewport-config"], function (_exports, _viewportConfig) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _viewportConfig.default;
    }
  });
  Object.defineProperty(_exports, "initialize", {
    enumerable: true,
    get: function () {
      return _viewportConfig.initialize;
    }
  });
});
;define("ghost-admin/instance-initializers/ember-cli-mirage-autostart", ["exports", "ember-cli-mirage/instance-initializers/ember-cli-mirage-autostart"], function (_exports, _emberCliMirageAutostart) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _emberCliMirageAutostart.default;
    }
  });
});
;define("ghost-admin/instance-initializers/ember-data", ["exports", "ember-data/initialize-store-service"], function (_exports, _initializeStoreService) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = {
    name: 'ember-data',
    initialize: _initializeStoreService.default
  };
  _exports.default = _default;
});
;define("ghost-admin/instance-initializers/ember-simple-auth", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  // This is only needed for backwards compatibility and will be removed in the
  // next major release of ember-simple-auth. Unfortunately, there is no way to
  // deprecate this without hooking into Ember's internals…
  var _default = {
    name: 'ember-simple-auth',

    initialize() {}

  };
  _exports.default = _default;
});
;define("ghost-admin/instance-initializers/hide-loading-screen", ["exports", "ghost-admin/config/environment"], function (_exports, _environment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.initialize = initialize;
  _exports.default = void 0;
  const userConfig = _environment.default['ember-load'] || {};

  function initialize() {
    let instance = arguments[1] || arguments[0];
    let container = arguments[1] ? arguments[0] : instance.container;

    if (Ember.View) {
      let ApplicationView = container.lookupFactory ? container.lookupFactory('view:application') : instance.resolveRegistration('view:application');
      ApplicationView.reopen({
        didInsertElement() {
          this._super(...arguments);

          let loadingIndicatorClass = userConfig.loadingIndicatorClass || 'ember-load-indicator';
          document.querySelectorAll(`.${loadingIndicatorClass}`).forEach(e => e.remove());
        }

      });
    }
  }

  var _default = {
    name: 'hide-loading-screen-instance',
    initialize
  };
  _exports.default = _default;
});
;define("ghost-admin/instance-initializers/user-agent", ["exports", "ember-useragent/instance-initializers/user-agent"], function (_exports, _userAgent) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _userAgent.default;
    }
  });
  Object.defineProperty(_exports, "initialize", {
    enumerable: true,
    get: function () {
      return _userAgent.initialize;
    }
  });
});
;define("ghost-admin/koenig-editor/tests/addon.lint-test", [], function () {
  "use strict";

  describe('ESLint | addon', function () {
    it('addon/components/kg-action-bar.js', function () {// test passed
    });
    it('addon/components/koenig-alt-input.js', function () {// test passed
    });
    it('addon/components/koenig-basic-html-input.js', function () {// test passed
    });
    it('addon/components/koenig-caption-input.js', function () {// test passed
    });
    it('addon/components/koenig-card-bookmark.js', function () {// test passed
    });
    it('addon/components/koenig-card-code.js', function () {// test passed
    });
    it('addon/components/koenig-card-email.js', function () {// test passed
    });
    it('addon/components/koenig-card-embed.js', function () {// test passed
    });
    it('addon/components/koenig-card-gallery.js', function () {// test passed
    });
    it('addon/components/koenig-card-hr.js', function () {// test passed
    });
    it('addon/components/koenig-card-html.js', function () {// test passed
    });
    it('addon/components/koenig-card-image.js', function () {// test passed
    });
    it('addon/components/koenig-card-markdown.js', function () {// test passed
    });
    it('addon/components/koenig-card.js', function () {// test passed
    });
    it('addon/components/koenig-editor.js', function () {// test passed
    });
    it('addon/components/koenig-link-input.js', function () {// test passed
    });
    it('addon/components/koenig-link-toolbar.js', function () {// test passed
    });
    it('addon/components/koenig-menu-content.js', function () {// test passed
    });
    it('addon/components/koenig-plus-menu.js', function () {// test passed
    });
    it('addon/components/koenig-slash-menu.js', function () {// test passed
    });
    it('addon/components/koenig-text-replacement-html-input.js', function () {// test passed
    });
    it('addon/components/koenig-toolbar.js', function () {// test passed
    });
    it('addon/helpers/clean-basic-html.js', function () {// test passed
    });
    it('addon/helpers/kg-style.js', function () {// test passed
    });
    it('addon/helpers/sanitize-html.js', function () {// test passed
    });
    it('addon/lib/clean-text-replacement-html.js', function () {// test passed
    });
    it('addon/lib/dnd/constants.js', function () {// test passed
    });
    it('addon/lib/dnd/container.js', function () {// test passed
    });
    it('addon/lib/dnd/scroll-handler.js', function () {// test passed
    });
    it('addon/lib/dnd/utils.js', function () {// test passed
    });
    it('addon/lib/relative-to-absolute.js', function () {// test passed
    });
    it('addon/options/atoms.js', function () {// test passed
    });
    it('addon/options/basic-html-parser-plugins.js', function () {// test passed
    });
    it('addon/options/cards.js', function () {// test passed
    });
    it('addon/options/key-commands.js', function () {// test passed
    });
    it('addon/options/text-expansions.js', function () {// test passed
    });
    it('addon/services/koenig-drag-drop-handler.js', function () {// test passed
    });
    it('addon/services/koenig-ui.js', function () {// test passed
    });
    it('addon/utils/create-component-card.js', function () {// test passed
    });
    it('addon/utils/markup-utils.js', function () {// test passed
    });
    it('addon/utils/oembed.js', function () {// test passed
    });
    it('addon/utils/reading-time.js', function () {// test passed
    });
  });
});
;define("ghost-admin/koenig-editor/tests/app.lint-test", [], function () {
  "use strict";

  describe('ESLint | app', function () {
    it('app/components/kg-action-bar.js', function () {// test passed
    });
    it('app/components/koenig-alt-input.js', function () {// test passed
    });
    it('app/components/koenig-basic-html-input.js', function () {// test passed
    });
    it('app/components/koenig-caption-input.js', function () {// test passed
    });
    it('app/components/koenig-card-bookmark.js', function () {// test passed
    });
    it('app/components/koenig-card-code.js', function () {// test passed
    });
    it('app/components/koenig-card-email.js', function () {// test passed
    });
    it('app/components/koenig-card-embed.js', function () {// test passed
    });
    it('app/components/koenig-card-gallery.js', function () {// test passed
    });
    it('app/components/koenig-card-hr.js', function () {// test passed
    });
    it('app/components/koenig-card-html.js', function () {// test passed
    });
    it('app/components/koenig-card-image.js', function () {// test passed
    });
    it('app/components/koenig-card-markdown.js', function () {// test passed
    });
    it('app/components/koenig-card.js', function () {// test passed
    });
    it('app/components/koenig-editor.js', function () {// test passed
    });
    it('app/components/koenig-link-input.js', function () {// test passed
    });
    it('app/components/koenig-link-toolbar.js', function () {// test passed
    });
    it('app/components/koenig-menu-content.js', function () {// test passed
    });
    it('app/components/koenig-plus-menu.js', function () {// test passed
    });
    it('app/components/koenig-slash-menu.js', function () {// test passed
    });
    it('app/components/koenig-text-replacement-html-input.js', function () {// test passed
    });
    it('app/components/koenig-toolbar.js', function () {// test passed
    });
    it('app/helpers/clean-basic-html.js', function () {// test passed
    });
    it('app/helpers/kg-style.js', function () {// test passed
    });
    it('app/helpers/sanitize-html.js', function () {// test passed
    });
    it('app/services/koenig-drag-drop-handler.js', function () {// test passed
    });
    it('app/services/koenig-ui.js', function () {// test passed
    });
  });
});
;define("ghost-admin/mirage/config", ["exports", "ghost-admin/mirage/config/api-keys", "ghost-admin/mirage/config/authentication", "ghost-admin/mirage/config/config", "ghost-admin/mirage/config/emails", "ghost-admin/mirage/config/integrations", "ghost-admin/mirage/config/invites", "ghost-admin/mirage/config/labels", "ghost-admin/mirage/config/members", "ghost-admin/mirage/config/pages", "ghost-admin/mirage/config/posts", "ghost-admin/mirage/config/roles", "ghost-admin/mirage/config/settings", "ghost-admin/mirage/config/site", "ghost-admin/mirage/config/slugs", "ghost-admin/mirage/config/tags", "ghost-admin/mirage/config/themes", "ghost-admin/mirage/config/uploads", "ghost-admin/mirage/config/users", "ghost-admin/mirage/config/webhooks"], function (_exports, _apiKeys, _authentication, _config, _emails, _integrations, _invites, _labels, _members, _pages, _posts, _roles, _settings, _site, _slugs, _tags, _themes, _uploads, _users, _webhooks) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = _default;
  _exports.testConfig = testConfig;

  // import {versionMismatchResponse} from 'utils';
  function _default() {
    // allow any local requests outside of the namespace (configured below) to hit the real server
    // _must_ be called before the namespace property is set
    this.passthrough('/ghost/assets/**'); // this.urlPrefix = '';    // make this `http://localhost:8080`, for example, if your API is on a different server

    this.namespace = '/ghost/api/v3/admin'; // make this `api`, for example, if your API is namespaced

    this.timing = 1000; // delay for each request, automatically set to 0 during testing

    this.logging = true; // Mock endpoints here to override real API requests during development, eg...
    // this.put('/posts/:id/', versionMismatchResponse);
    // mockTags(this);
    // this.loadFixtures('settings');
    // mockMembers(this);
    // keep this line, it allows all other API requests to hit the real server

    this.passthrough(); // add any external domains to make sure those get passed through too

    this.passthrough('http://www.gravatar.com/**');
    this.passthrough('https://cdn.jsdelivr.net/**');
    this.passthrough('https://api.unsplash.com/**');
    this.passthrough('https://ghost.org/**');
  } // Mock all endpoints here as there is no real API during testing


  function testConfig() {
    // this.urlPrefix = '';    // make this `http://localhost:8080`, for example, if your API is on a different server
    this.namespace = '/ghost/api/v3/admin'; // make this `api`, for example, if your API is namespaced
    // this.timing = 400;      // delay for each request, automatically set to 0 during testing

    this.logging = false;
    (0, _apiKeys.default)(this);
    (0, _authentication.default)(this);
    (0, _config.default)(this);
    (0, _emails.default)(this);
    (0, _integrations.default)(this);
    (0, _invites.default)(this);
    (0, _members.default)(this);
    (0, _labels.default)(this);
    (0, _pages.default)(this);
    (0, _posts.default)(this);
    (0, _roles.default)(this);
    (0, _settings.default)(this);
    (0, _site.default)(this);
    (0, _slugs.default)(this);
    (0, _tags.default)(this);
    (0, _themes.default)(this);
    (0, _uploads.default)(this);
    (0, _users.default)(this);
    (0, _webhooks.default)(this);
    /* Notifications -------------------------------------------------------- */

    this.get('/notifications/');
    /* Integrations - Slack Test Notification ------------------------------- */

    this.post('/slack/test', function () {
      return {};
    });
    /* External sites ------------------------------------------------------- */

    this.head('http://www.gravatar.com/avatar/:md5', function () {
      return '';
    }, 200);
    this.get('http://www.gravatar.com/avatar/:md5', function () {
      return '';
    }, 200);
    this.get('https://ghost.org/changelog.json', function () {
      return {
        changelog: [{
          title: 'Custom image alt tags',
          custom_excerpt: null,
          html: '<p>We just shipped custom image alt tag support in the Ghost editor. This is one of our most requested features - and great news for accessibility and search engine optimisation for your Ghost publication.</p><p>Previously, you\'d need to use a Markdown card to add an image alt tag. Now you can create alt tags on the go directly from the editor, without the need to add any additional cards or custom tags.</p><!--kg-card-begin: image--><figure class="kg-card kg-image-card"><img src="https://mainframe.ghost.io/content/images/2019/08/image-alt-tag.gif" class="kg-image"></figure><!--kg-card-end: image--><p>To write your alt tag, hit the <code>alt</code> button on the right in the caption line, type your alt text and then hit the button again to return to the caption text. </p><p><em><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><a href="https://ghost.org/pricing/">Ghost(Pro)</a></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong> users already have access to custom image alt tags. Self hosted developers can use <a href="https://ghost.org/docs/api/ghost-cli/">Ghost-CLI</a> to install the latest release!</em></p>',
          slug: 'image-alt-text-support',
          published_at: '2019-08-05T07:46:16.000+00:00',
          url: 'https://ghost.org/blog/image-alt-text-support/'
        }],
        changelogMajor: [],
        changelogUrl: 'https://ghost.org/blog/'
      };
    });
  }
});
;define("ghost-admin/mirage/config/api-keys", ["exports", "ghost-admin/mirage/utils"], function (_exports, _utils) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockApiKeys;

  function mockApiKeys(server) {
    server.get('/api-keys/', (0, _utils.paginatedResponse)('api-keys'));
    server.post('/api-keys/');
    server.put('/api-keys/:id/');
    server.del('/api-keys/:id/');
  }
});
;define("ghost-admin/mirage/config/authentication", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockAuthentication;

  /* eslint-disable camelcase */
  function mockAuthentication(server) {
    server.post('/session', function () {
      // Password sign-in
      return new _emberCliMirage.Response(201);
    });
    server.post('/authentication/passwordreset', function (schema, request) {
      let {
        passwordreset
      } = JSON.parse(request.requestBody);
      let email = passwordreset[0].email;

      if (email === 'unknown@example.com') {
        return new _emberCliMirage.Response(404, {}, {
          errors: [{
            message: 'There is no user with that email address.',
            type: 'NotFoundError'
          }]
        });
      } else {
        return {
          passwordreset: [{
            message: 'Check your email for further instructions.'
          }]
        };
      }
    });
    server.get('/authentication/invitation/', function (schema, request) {
      let {
        email
      } = request.queryParams;
      let invite = schema.invites.findBy({
        email
      });
      let valid = !!invite;
      return {
        invitation: [{
          valid
        }]
      };
    });
    /* Setup ---------------------------------------------------------------- */

    server.post('/authentication/setup', function ({
      roles,
      users
    }, request) {
      let attrs = JSON.parse(request.requestBody).setup;
      let role = roles.findBy({
        name: 'Owner'
      }); // create owner role unless already exists

      if (!role) {
        role = roles.create({
          name: 'Owner'
        });
      }

      attrs.roles = [role];

      if (!Ember.isBlank(attrs.email)) {
        attrs.slug = attrs.email.split('@')[0].dasherize();
      } // NOTE: server does not use the user factory to fill in blank fields


      return users.create(attrs);
    });
    server.get('/authentication/setup/', function () {
      return {
        setup: [{
          status: true
        }]
      };
    });
  }
});
;define("ghost-admin/mirage/config/config", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockConfig;

  function mockConfig(server) {
    server.get('/config/', function ({
      db
    }) {
      if (Ember.isEmpty(db.configs)) {
        server.loadFixtures('configs');
      }

      return {
        config: db.configs.find(1)
      };
    });
  }
});
;define("ghost-admin/mirage/config/emails", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockEmails;

  function mockEmails()
  /* server */
  {// emails are currently only returned as an embedded record in post models
  }
});
;define("ghost-admin/mirage/config/integrations", ["exports", "moment", "ember-cli-mirage", "ghost-admin/mirage/utils"], function (_exports, _moment, _emberCliMirage, _utils) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockIntegrations;

  function mockIntegrations(server) {
    server.get('/integrations/', (0, _utils.paginatedResponse)('integrations'));
    server.post('/integrations/', function ({
      integrations
    }, {
      requestBody
    }) {
      let body = JSON.parse(requestBody);
      let [params] = body.integrations; // all integrations created via the API have a type of 'custom'

      params.type = 'custom';

      if (!params.name) {
        return new _emberCliMirage.Response(422, {}, {
          errors: [{
            type: 'ValidationError',
            message: 'Name is required',
            property: 'name'
          }]
        });
      }

      if (integrations.findBy({
        name: params.name
      }) || params.name.match(/Duplicate/i)) {
        return new _emberCliMirage.Response(422, {}, {
          errors: [{
            type: 'ValidationError',
            message: 'Name has already been used',
            property: 'name'
          }]
        });
      } // allow factory to create defaults


      if (!params.slug) {
        delete params.slug;
      } // use factory creation to auto-create api keys


      return server.create('integration', params);
    });
    server.put('/integrations/:id/', function (schema, {
      params
    }) {
      let {
        integrations,
        apiKeys,
        webhooks
      } = schema;
      let attrs = this.normalizedRequestAttrs();
      let integration = integrations.find(params.id);
      let _apiKeys = [];
      let _webhooks = []; // this is required to work around an issue with ember-cli-mirage and
      // embedded records. The `attrs` object will contain POJOs of the
      // embedded apiKeys and webhooks but mirage expects schema model
      // objects for relations so we need to fetch model records and replace
      // the relationship keys

      attrs.apiKeys.forEach(apiKey => {
        _apiKeys.push(apiKeys.find(apiKey.id));
      });
      attrs.webhooks.forEach(webhook => {
        _webhooks.push(webhooks.find(webhook.id));
      });
      attrs.apiKeys = _apiKeys;
      attrs.webhooks = _webhooks;
      attrs.updatedAt = _moment.default.utc().format();
      return integration.update(attrs);
    });
    server.del('/integrations/:id/');
  }
});
;define("ghost-admin/mirage/config/invites", ["exports", "moment", "ember-cli-mirage", "ghost-admin/mirage/utils"], function (_exports, _moment, _emberCliMirage, _utils) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockInvites;

  function mockInvites(server) {
    server.get('/invites/', (0, _utils.paginatedResponse)('invites'));
    server.get('/invites/:id', function (schema, request) {
      let {
        id
      } = request.params;
      let invite = schema.invites.find(id);
      return invite || new _emberCliMirage.Response(404, {}, {
        errors: [{
          type: 'NotFoundError',
          message: 'Invite not found.'
        }]
      });
    });
    server.post('/invites/', function ({
      invites
    }) {
      let attrs = this.normalizedRequestAttrs();
      let oldInvite = invites.findBy({
        email: attrs.email
      });

      if (oldInvite) {
        oldInvite.destroy();
      }
      /* eslint-disable camelcase */


      attrs.token = `${invites.all().models.length}-token`;
      attrs.expires = _moment.default.utc().add(1, 'day').valueOf();
      attrs.createdAt = _moment.default.utc().format();
      attrs.createdBy = 1;
      attrs.updatedAt = _moment.default.utc().format();
      attrs.updatedBy = 1;
      attrs.status = 'sent';
      /* eslint-enable camelcase */

      return invites.create(attrs);
    });
    server.del('/invites/:id/');
  }
});
;define("ghost-admin/mirage/config/labels", ["exports", "ghost-admin/mirage/utils"], function (_exports, _utils) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockLabels;

  function mockLabels(server) {
    server.post('/labels/', function ({
      labels
    }) {
      let attrs = this.normalizedRequestAttrs();
      return labels.create(Object.assign({}, attrs, {
        id: 99
      }));
    });
    server.get('/labels/', (0, _utils.paginatedResponse)('labels'));
    server.get('/labels/:id/', function ({
      labels
    }, {
      params
    }) {
      let {
        id
      } = params;
      let label = labels.find(id);
      return label || new Response(404, {}, {
        errors: [{
          type: 'NotFoundError',
          message: 'Label not found.'
        }]
      });
    });
    server.put('/labels/:id/');
    server.del('/labels/:id/');
  }
});
;define("ghost-admin/mirage/config/members", ["exports", "ghost-admin/mirage/utils"], function (_exports, _utils) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockMembers;

  function mockMembers(server) {
    server.post('/members/', function ({
      members
    }) {
      let attrs = this.normalizedRequestAttrs();
      return members.create(Object.assign({}, attrs, {
        id: 99
      }));
    });
    server.get('/members/', (0, _utils.paginatedResponse)('members'));
    server.get('/members/:id/', function ({
      members
    }, {
      params
    }) {
      let {
        id
      } = params;
      let member = members.find(id);
      return member || new Response(404, {}, {
        errors: [{
          type: 'NotFoundError',
          message: 'Member not found.'
        }]
      });
    });
    server.put('/members/:id/');
    server.del('/members/:id/');
  }
});
;define("ghost-admin/mirage/config/pages", ["exports", "moment", "ember-cli-mirage", "ghost-admin/mirage/utils"], function (_exports, _moment, _emberCliMirage, _utils) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockPages;

  function normalizeBooleanParams(arr) {
    if (!Ember.isArray(arr)) {
      return arr;
    }

    return arr.map(i => {
      if (i === 'true') {
        return true;
      } else if (i === 'false') {
        return false;
      } else {
        return i;
      }
    });
  } // TODO: use GQL to parse filter string?


  function extractFilterParam(param, filter) {
    let filterRegex = new RegExp(`${param}:(.*?)(?:\\+|$)`);
    let match;
    let [, result] = filter.match(filterRegex) || [];

    if (result && result.startsWith('[')) {
      match = result.replace(/^\[|\]$/g, '').split(',');
    } else if (result) {
      match = [result];
    }

    return normalizeBooleanParams(match);
  } // NOTE: mirage requires Model objects when saving relationships, however the
  // `attrs` on POST/PUT requests will contain POJOs for authors and tags so we
  // need to replace them


  function extractAuthors(pageAttrs, users) {
    return pageAttrs.authors.map(author => users.find(author.id));
  }

  function extractTags(pageAttrs, tags) {
    return pageAttrs.tags.map(requestTag => {
      let tag = tags.find(requestTag.id);

      if (!tag) {
        tag = tag.create(requestTag);
      }

      return tag;
    });
  }

  function mockPages(server) {
    server.post('/pages', function ({
      pages,
      users,
      tags
    }) {
      let attrs = this.normalizedRequestAttrs();
      attrs.authors = extractAuthors(attrs, users);
      attrs.tags = extractTags(attrs, tags);

      if (Ember.isBlank(attrs.slug) && !Ember.isBlank(attrs.title)) {
        attrs.slug = Ember.String.dasherize(attrs.title);
      }

      return pages.create(attrs);
    }); // TODO: handle authors filter

    server.get('/pages/', function ({
      pages
    }, {
      queryParams
    }) {
      let {
        filter,
        page,
        limit
      } = queryParams;
      page = +page || 1;
      limit = +limit || 15;
      let statusFilter = extractFilterParam('status', filter);
      let collection = pages.all().filter(page => {
        let matchesStatus = true;

        if (!Ember.isEmpty(statusFilter)) {
          matchesStatus = statusFilter.includes(page.status);
        }

        return matchesStatus;
      });
      return (0, _utils.paginateModelCollection)('pages', collection, page, limit);
    });
    server.get('/pages/:id/', function ({
      pages
    }, {
      params
    }) {
      let {
        id
      } = params;
      let page = pages.find(id);
      return page || new _emberCliMirage.Response(404, {}, {
        errors: [{
          type: 'NotFoundError',
          message: 'Page not found.'
        }]
      });
    });
    server.put('/pages/:id/', function ({
      pages,
      users,
      tags
    }, {
      params
    }) {
      let attrs = this.normalizedRequestAttrs();
      let page = pages.find(params.id);
      attrs.authors = extractAuthors(attrs, users);
      attrs.tags = extractTags(attrs, tags);
      attrs.updatedAt = _moment.default.utc().toDate();
      return page.update(attrs);
    });
    server.del('/pages/:id/');
  }
});
;define("ghost-admin/mirage/config/posts", ["exports", "moment", "ember-cli-mirage", "ghost-admin/mirage/utils"], function (_exports, _moment, _emberCliMirage, _utils) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockPosts;

  function normalizeBooleanParams(arr) {
    if (!Ember.isArray(arr)) {
      return arr;
    }

    return arr.map(i => {
      if (i === 'true') {
        return true;
      } else if (i === 'false') {
        return false;
      } else {
        return i;
      }
    });
  } // TODO: use GQL to parse filter string?


  function extractFilterParam(param, filter) {
    let filterRegex = new RegExp(`${param}:(.*?)(?:\\+|$)`);
    let match;
    let [, result] = filter.match(filterRegex) || [];

    if (result.startsWith('[')) {
      match = result.replace(/^\[|\]$/g, '').split(',');
    } else if (result) {
      match = [result];
    }

    return normalizeBooleanParams(match);
  } // NOTE: mirage requires Model objects when saving relationships, however the
  // `attrs` on POST/PUT requests will contain POJOs for authors and tags so we
  // need to replace them


  function extractAuthors(postAttrs, users) {
    return postAttrs.authors.map(author => users.find(author.id));
  }

  function extractTags(postAttrs, tags) {
    return postAttrs.tags.map(requestTag => {
      let tag = tags.find(requestTag.id);

      if (!tag) {
        tag = tag.create(requestTag);
      }

      return tag;
    });
  }

  function mockPosts(server) {
    server.post('/posts', function ({
      posts,
      users,
      tags
    }) {
      let attrs = this.normalizedRequestAttrs();
      attrs.authors = extractAuthors(attrs, users);
      attrs.tags = extractTags(attrs, tags);

      if (Ember.isBlank(attrs.slug) && !Ember.isBlank(attrs.title)) {
        attrs.slug = Ember.String.dasherize(attrs.title);
      }

      return posts.create(attrs);
    }); // TODO: handle authors filter

    server.get('/posts/', function ({
      posts
    }, {
      queryParams
    }) {
      let {
        filter,
        page,
        limit
      } = queryParams;
      page = +page || 1;
      limit = +limit || 15;
      let statusFilter = extractFilterParam('status', filter);
      let collection = posts.all().filter(post => {
        let matchesStatus = true;

        if (!Ember.isEmpty(statusFilter)) {
          matchesStatus = statusFilter.includes(post.status);
        }

        return matchesStatus;
      });
      return (0, _utils.paginateModelCollection)('posts', collection, page, limit);
    });
    server.get('/posts/:id/', function ({
      posts
    }, {
      params
    }) {
      let {
        id
      } = params;
      let post = posts.find(id);
      return post || new _emberCliMirage.Response(404, {}, {
        errors: [{
          type: 'NotFoundError',
          message: 'Post not found.'
        }]
      });
    });
    server.put('/posts/:id/', function ({
      posts,
      users,
      tags
    }, {
      params
    }) {
      let attrs = this.normalizedRequestAttrs();
      let post = posts.find(params.id);
      attrs.authors = extractAuthors(attrs, users);
      attrs.tags = extractTags(attrs, tags);
      attrs.updatedAt = _moment.default.utc().toDate();
      return post.update(attrs);
    });
    server.del('/posts/:id/');
  }
});
;define("ghost-admin/mirage/config/roles", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockRoles;

  function mockRoles(server) {
    server.get('/roles/', function ({
      roles
    }, {
      queryParams
    }) {
      if (queryParams.permissions === 'assign') {
        return roles.find([1, 2, 3]);
      }

      return roles.all();
    });
  }
});
;define("ghost-admin/mirage/config/settings", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockSettings;

  function mockSettings(server) {
    server.get('/settings/', function ({
      db
    }, {
      queryParams
    }) {
      let {
        type
      } = queryParams;
      let filters = type.split(',');
      let settings = [];

      if (!db.settings.length) {
        server.loadFixtures('settings');
      }

      filters.forEach(type => {
        settings.pushObjects(db.settings.where({
          type
        }));
      });
      return {
        settings,
        meta: {
          filters: {
            type
          }
        }
      };
    });
    server.put('/settings/', function ({
      db
    }, {
      requestBody
    }) {
      let newSettings = JSON.parse(requestBody).settings;
      newSettings.forEach(newSetting => {
        let {
          key
        } = newSetting;

        if (db.settings.where({
          key
        }).length > 0) {
          db.settings.update({
            key
          }, newSetting);
        } else {
          newSetting.type = newSetting.type || 'blog';
          db.settings.insert(newSetting);
        }
      });
      return {
        meta: {},
        settings: db.settings
      };
    });
  }
});
;define("ghost-admin/mirage/config/site", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockSite;

  function mockSite(server) {
    server.get('/site/', function ({
      db
    }) {
      if (Ember.isEmpty(db.sites)) {
        server.loadFixtures('sites');
      }

      return {
        site: db.sites.find(1)
      };
    });
  }
});
;define("ghost-admin/mirage/config/slugs", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockSlugs;

  function mockSlugs(server) {
    server.get('/slugs/post/:slug/', function (schema, request) {
      return {
        slugs: [{
          slug: Ember.String.dasherize(decodeURIComponent(request.params.slug))
        }]
      };
    });
    server.get('/slugs/user/:slug/', function (schema, request) {
      return {
        slugs: [{
          slug: Ember.String.dasherize(decodeURIComponent(request.params.slug))
        }]
      };
    });
  }
});
;define("ghost-admin/mirage/config/tags", ["exports", "ghost-admin/mirage/utils"], function (_exports, _utils) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockTags;

  function mockTags(server) {
    server.post('/tags/', function ({
      tags
    }) {
      let attrs = this.normalizedRequestAttrs();

      if (Ember.isBlank(attrs.slug) && !Ember.isBlank(attrs.name)) {
        attrs.slug = Ember.String.dasherize(attrs.name);
      } // NOTE: this does not use the tag factory to fill in blank fields


      return tags.create(attrs);
    });
    server.get('/tags/', (0, _utils.paginatedResponse)('tags'));
    server.get('/tags/slug/:slug/', function ({
      tags
    }, {
      params: {
        slug
      }
    }) {
      // TODO: remove post_count unless requested?
      return tags.findBy({
        slug
      });
    });
    server.put('/tags/:id/');
    server.del('/tags/:id/');
  }
});
;define("ghost-admin/mirage/config/themes", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockThemes;
  let themeCount = 1;

  function mockThemes(server) {
    server.get('/themes');
    server.post('/themes/upload/', function ({
      themes
    }) {
      // pretender/mirage doesn't currently process FormData so we can't use
      // any info passed in through the request
      let theme = {
        name: `test-${themeCount}`,
        package: {
          name: `Test ${themeCount}`,
          version: '0.1'
        }
      };
      themeCount += 1;
      theme = themes.create(theme);
      return {
        themes: [theme]
      };
    });
    server.del('/themes/:theme/', function ({
      themes
    }, {
      params
    }) {
      themes.findBy({
        name: params.theme
      }).destroy();
      return new _emberCliMirage.Response(204);
    });
    server.put('/themes/:theme/activate/', function ({
      themes
    }, {
      params
    }) {
      themes.all().update('active', false);
      let theme = themes.findBy({
        name: params.theme
      }).update({
        active: true
      });
      return {
        themes: [theme]
      };
    });
  }
});
;define("ghost-admin/mirage/config/uploads", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockUploads;

  const fileUploadResponse = function (db, {
    requestBody
  }) {
    // let [ref] = requestBody.getAll('ref');
    let [purpose] = requestBody.getAll('purpose');
    let [file] = requestBody.getAll('file');
    let now = new Date();
    let year = now.getFullYear();
    let month = `${now.getMonth()}`;

    if (month.length === 1) {
      month = `0${month}`;
    }

    if (['image', 'profile_image', 'icon'].includes(purpose)) {
      return {
        images: [{
          url: `/content/images/${year}/${month}/${file.name}`
        }]
      };
    }
  };

  function mockUploads(server) {
    server.post('/images/upload/', fileUploadResponse, 200, {
      timing: 100
    });
  }
});
;define("ghost-admin/mirage/config/users", ["exports", "ember-cli-mirage", "ghost-admin/mirage/utils"], function (_exports, _emberCliMirage, _utils) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockUsers;

  function mockUsers(server) {
    // /users/me = Always return the user with ID=1
    server.get('/users/me/', function ({
      users
    }) {
      let user = users.find(1);

      if (user) {
        return user;
      } else {
        return new _emberCliMirage.Response(404, {}, {
          errors: [{
            message: 'Not found',
            type: 'NotFoundError'
          }]
        });
      }
    });
    server.get('/users/', function ({
      users
    }, {
      queryParams
    }) {
      let page = +queryParams.page || 1; // NOTE: this is naive and only set up to work with queries that are
      // actually used - if you use a different filter in the app, add it here!

      let collection = users.where(function (user) {
        let statusMatch = true;

        if (queryParams.filter === 'status:-inactive') {
          statusMatch = user.status !== 'inactive';
        } else if (queryParams.filter === 'status:inactive') {
          statusMatch = user.status === 'inactive';
        } else if (queryParams.status && queryParams.status !== 'all') {
          statusMatch = user.status === queryParams.status;
        }

        return statusMatch;
      });
      return (0, _utils.paginateModelCollection)('users', collection, page, queryParams.limit);
    });
    server.get('/users/slug/:slug/', function ({
      users
    }, {
      params,
      queryParams
    }) {
      let user = users.findBy({
        slug: params.slug
      });
      user.postCount = queryParams.include.match(/count\.posts/);
      return user;
    });
    server.get('/users/:id', function ({
      users
    }, {
      params,
      queryParams
    }) {
      let user = users.find(params.id);
      user.postCount = queryParams.include.match(/count\.posts/);
      return user;
    });
    server.put('/users/:id/', function ({
      users
    }, {
      params
    }) {
      let {
        id
      } = params;

      if (id === 'password') {
        return {
          password: [{
            message: 'Password changed successfully.'
          }]
        };
      } else {
        let attrs = this.normalizedRequestAttrs(); // TODO: why is our custom serializer causing .update to throw
        // children.update is not a function?
        // https://github.com/samselikoff/ember-cli-mirage/issues/964

        delete attrs.roles;
        return users.find(id).update(attrs);
      }
    });
    server.del('/users/:id/');
  }
});
;define("ghost-admin/mirage/config/webhooks", ["exports", "ember-cli-mirage", "ghost-admin/mirage/utils"], function (_exports, _emberCliMirage, _utils) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = mockWebhooks;

  function mockWebhooks(server) {
    server.get('/webhooks/', (0, _utils.paginatedResponse)('webhooks'));
    server.post('/webhooks/', function ({
      webhooks
    }) {
      let attrs = this.normalizedRequestAttrs();
      let errors = [];

      if (!attrs.name) {
        errors.push({
          type: 'ValidationError',
          message: 'Name is required',
          property: 'name'
        });
      }

      if (!attrs.event) {
        errors.push({
          type: 'ValidationError',
          message: 'Event is required',
          property: 'event'
        });
      }

      if (!attrs.targetUrl) {
        errors.push({
          type: 'ValidationError',
          message: 'Target URL is required',
          property: 'target_url'
        });
      }

      if (attrs.name && (webhooks.findBy({
        name: attrs.name,
        integrationId: attrs.integrationId
      }) || attrs.name.match(/Duplicate/i))) {
        errors.push({
          type: 'ValidationError',
          message: 'Name has already been used',
          property: 'name'
        });
      } // TODO: check server-side validation


      if (webhooks.findBy({
        targetUrl: attrs.targetUrl,
        event: attrs.event
      })) {
        errors.push({
          type: 'ValidationError',
          message: 'Target URL has already been used for this event',
          property: 'target_url'
        });
      }

      if (!Ember.isEmpty(errors)) {
        return new _emberCliMirage.Response(422, {}, {
          errors
        });
      }

      return webhooks.create(attrs);
    });
    server.put('/webhooks/:id/');
    server.del('/webhooks/:id/');
  }
});
;define("ghost-admin/mirage/factories/api-key", ["exports", "moment", "ember-cli-mirage"], function (_exports, _moment, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Factory.extend({
    type: 'content',

    secret() {
      if (this.integration) {
        return `${this.integration.slug}_${this.type}_key-12345`;
      }

      return `${this.type}_key-12345`;
    },

    lastSeenAt() {
      return _moment.default.utc().format();
    },

    createdAt() {
      return _moment.default.utc().format();
    },

    createdBy: 1,

    updatedAt() {
      return _moment.default.utc().format();
    },

    updatedBy: 1
  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/factories/email", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Factory.extend({
    emailCount: 0,
    error: null,
    html: null,
    plaintext: null,
    stats: null,
    status: 'sending',
    subject: null,
    submittedAtUTC: '2019-11-06T12:44:30.000Z',

    uuid(i) {
      return `email-${i}`;
    },

    createdAtUTC: '2019-11-06T12:44:30.000Z',
    createdBy: 1,
    updatedAtUTC: '2019-11-06T12:44:30.000Z',
    updatedBy: 1,
    sent: (0, _emberCliMirage.trait)({
      status: 'sent',
      stats: JSON.stringify({
        delivered: 0,
        failed: 0,
        opened: 0,
        clicked: 0,
        unsubscribed: 0,
        complaints: 0
      })
    }),
    failed: (0, _emberCliMirage.trait)({
      status: 'failed',
      error: 'Narp! This was an expected test failure',
      stats: null
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/factories/integration", ["exports", "moment", "ember-cli-mirage"], function (_exports, _moment, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Factory.extend({
    name(i) {
      return `Integration ${i + 1}`;
    },

    slug() {
      return this.name.toLowerCase().replace(' ', '-');
    },

    description: null,
    iconImage: null,
    type: 'custom',

    createdAt() {
      return _moment.default.utc().format();
    },

    createdBy: 1,

    updatedAt() {
      return _moment.default.utc().format();
    },

    updatedBy: 1,

    afterCreate(integration, server) {
      let contentKey = server.create('api-key', {
        type: 'content',
        integration
      });
      let adminKey = server.create('api-key', {
        type: 'admin',
        integration
      });
      integration.apiKeyIds = [contentKey.id, adminKey.id];
      integration.save();
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/factories/invite", ["exports", "moment", "ember-cli-mirage"], function (_exports, _moment, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Factory.extend({
    token(i) {
      return `${i}-token`;
    },

    email(i) {
      return `invited-user-${i}@example.com`;
    },

    expires() {
      return _moment.default.utc().add(1, 'day').valueOf();
    },

    createdAt() {
      return _moment.default.utc().format();
    },

    createdBy() {
      return 1;
    },

    updatedAt() {
      return _moment.default.utc().format();
    },

    updatedBy() {
      return 1;
    },

    status() {
      return 'sent';
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/factories/member", ["exports", "faker", "moment", "ember-cli-mirage"], function (_exports, _faker, _moment, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  let randomDate = function randomDate(start = (0, _moment.default)().subtract(30, 'days').toDate(), end = new Date()) {
    return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));
  };

  var _default = _emberCliMirage.Factory.extend({
    name() {
      return `${_faker.default.name.firstName()} ${_faker.default.name.lastName()}`;
    },

    email: _faker.default.internet.email,

    createdAt() {
      return randomDate();
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/factories/notification", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Factory.extend({
    dismissible: true,
    message: 'This is an alert',
    status: 'alert',
    type: 'error'
  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/factories/post", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Factory.extend({
    codeinjectionFoot: null,
    codeinjectionHead: null,
    createdAt: '2015-09-11T09:44:29.871Z',
    createdBy: 1,
    customExcerpt: null,
    customTemplate: null,

    description(i) {
      return `Title for post ${i}.`;
    },

    featured: false,

    featureImage(i) {
      return `/content/images/2015/10/post-${i}.jpg`;
    },

    html(i) {
      return `<p>HTML for post ${i}.</p>`;
    },

    locale: null,
    visibility: 'public',

    metaDescription(i) {
      return `Meta description for post ${i}.`;
    },

    metaTitle(i) {
      return `Meta Title for post ${i}`;
    },

    ogDescription: null,
    ogImage: null,
    ogTitle: null,

    excerpt(i) {
      return `Excerpt for post ${i}.`;
    },

    plaintext(i) {
      return `Plaintext for post ${i}.`;
    },

    publishedAt: '2015-12-19T16:25:07.000Z',
    publishedBy: 1,

    status(i) {
      let statuses = ['draft', 'published', 'scheduled'];
      return statuses[i % statuses.length];
    },

    title(i) {
      return `Post ${i}`;
    },

    twitterDescription: null,
    twitterImage: null,
    twitterTitle: null,
    emailSubject: null,
    updatedAt: '2015-10-19T16:25:07.756Z',
    updatedBy: 1,

    uuid(i) {
      return `post-${i}`;
    },

    authors() {
      return [];
    },

    tags() {
      return [];
    },

    afterCreate(post, server) {
      if (Ember.isEmpty(post.authors)) {
        let user = server.schema.users.find(1);

        if (!user) {
          let role = server.schema.roles.find({
            name: 'Administrator'
          }) || server.create('role', {
            name: 'Administrator'
          });
          user = server.create('user', {
            roles: [role]
          });
        }

        post.authors = [user];
        post.save();
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/factories/role", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Factory.extend({
    createdAt: '2013-11-25T14:48:11.000Z',
    createdBy: 1,

    description(i) {
      return `Role ${i}`;
    },

    name: '',
    updatedAt: '2013-11-25T14:48:11.000Z',
    updatedBy: 1
  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/factories/tag", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Factory.extend({
    createdAt: '2015-09-11T09:44:29.871Z',
    createdBy: 1,

    description(i) {
      return `Description for tag ${i}.`;
    },

    visibility: 'public',

    featureImage(i) {
      return `/content/images/2015/10/tag-${i}.jpg`;
    },

    metaDescription(i) {
      return `Meta description for tag ${i}.`;
    },

    metaTitle(i) {
      return `Meta Title for tag ${i}`;
    },

    name(i) {
      return `Tag ${i}`;
    },

    parent: null,

    slug(i) {
      return `tag-${i}`;
    },

    updatedAt: '2015-10-19T16:25:07.756Z',
    updatedBy: 1,

    count() {
      // this gets updated automatically by the tag serializer
      return {
        posts: 0
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/factories/user", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Factory.extend({
    accessibility: null,
    bio: null,
    coverImage: null,
    createdAt: '2015-09-02T13:41:50.000Z',
    createdBy: null,

    email(i) {
      return `user-${i}@example.com`;
    },

    profileImage: '//www.gravatar.com/avatar/3ae045bc198a157401827c8455cd7c99?s=250&d=mm&r=x',
    lastLogin: '2015-11-02T16:12:05.000Z',
    location: null,
    metaDescription: null,
    metaTitle: null,

    name(i) {
      return `User ${i}`;
    },

    slug(i) {
      return `user-${i}`;
    },

    status: 'active',
    tour: null,
    updatedAt: '2015-11-02T16:12:05.000Z',
    updatedBy: '1',
    website: 'http://example.com',

    posts() {
      return [];
    },

    roles() {
      return [];
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/factories/webhook", ["exports", "moment", "ghost-admin/helpers/event-name", "ember-cli-mirage"], function (_exports, _moment, _eventName, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Factory.extend({
    name(i) {
      return `Integration ${i + 1}`;
    },

    event(i) {
      let event = _eventName.AVAILABLE_EVENTS[i % 3];
      return event.event;
    },

    target(i) {
      return `https://example.com/${i + 1}`;
    },

    lastTriggeredAt: null,

    createdAt() {
      return _moment.default.utc().format();
    },

    createdBy: 1,

    updatedAt() {
      return _moment.default.utc().format();
    },

    updatedBy: 1
  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/fixtures/configs", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = [{
    clientExtensions: {},
    database: 'mysql',
    enableDeveloperExperiments: true,
    environment: 'development',
    labs: {},
    mail: 'SMTP',
    version: '2.15.0',
    useGravatar: 'true'
  }];
  _exports.default = _default;
});
;define("ghost-admin/mirage/fixtures/roles", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable camelcase */
  var _default = [{
    id: 1,
    name: 'Administrator',
    description: 'Administrators',
    created_at: '2015-11-13T16:01:29.131Z',
    created_by: 1,
    updated_at: '2015-11-13T16:01:29.131Z',
    updated_by: 1
  }, {
    id: 2,
    name: 'Editor',
    description: 'Editors',
    created_at: '2015-11-13T16:01:29.131Z',
    created_by: 1,
    updated_at: '2015-11-13T16:01:29.131Z',
    updated_by: 1
  }, {
    id: 3,
    name: 'Author',
    description: 'Authors',
    created_at: '2015-11-13T16:01:29.131Z',
    created_by: 1,
    updated_at: '2015-11-13T16:01:29.131Z',
    updated_by: 1
  }, {
    id: 4,
    name: 'Owner',
    description: 'Blog Owner',
    created_at: '2015-11-13T16:01:29.132Z',
    created_by: 1,
    updated_at: '2015-11-13T16:01:29.132Z',
    updated_by: 1
  }, {
    id: 5,
    name: 'Contributor',
    description: 'Contributors',
    created_at: '2015-11-13T16:01:29.132Z',
    created_by: 1,
    updated_at: '2015-11-13T16:01:29.132Z',
    updated_by: 1
  }];
  _exports.default = _default;
});
;define("ghost-admin/mirage/fixtures/settings", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable camelcase */
  var _default = [{
    id: 1,
    created_at: '2015-09-11T09:44:30.805Z',
    created_by: 1,
    key: 'title',
    type: 'blog',
    updated_at: '2015-10-04T16:26:05.195Z',
    updated_by: 1,
    value: 'Test Blog'
  }, {
    id: 2,
    created_at: '2015-09-11T09:44:30.806Z',
    created_by: 1,
    key: 'description',
    type: 'blog',
    updated_at: '2015-10-04T16:26:05.198Z',
    updated_by: 1,
    value: 'Thoughts, stories and ideas.'
  }, {
    id: 3,
    key: 'logo',
    value: '/content/images/2013/Nov/logo.png',
    type: 'blog',
    created_at: '2013-11-25T14:48:11.000Z',
    created_by: 1,
    updated_at: '2015-10-27T17:39:58.273Z',
    updated_by: 1
  }, {
    id: 4,
    key: 'cover_image',
    value: '/content/images/2014/Feb/cover.jpg',
    type: 'blog',
    created_at: '2013-11-25T14:48:11.000Z',
    created_by: 1,
    updated_at: '2015-10-27T17:39:58.276Z',
    updated_by: 1
  }, {
    id: 5,
    key: 'default_lang',
    value: 'en_US',
    type: 'blog',
    created_at: '2013-11-25T14:48:11.000Z',
    created_by: 1,
    updated_at: '2015-10-27T17:39:58.278Z',
    updated_by: 1
  }, {
    id: 10,
    created_at: '2015-09-11T09:44:30.809Z',
    created_by: 1,
    key: 'codeinjection_head',
    type: 'blog',
    updated_at: '2015-09-23T13:32:49.858Z',
    updated_by: 1,
    value: ''
  }, {
    id: 11,
    created_at: '2015-09-11T09:44:30.809Z',
    created_by: 1,
    key: 'codeinjection_foot',
    type: 'blog',
    updated_at: '2015-09-23T13:32:49.858Z',
    updated_by: 1,
    value: ''
  }, {
    id: 12,
    key: 'labs',
    value: '{}',
    type: 'blog',
    created_at: '2015-01-12T18:29:01.000Z',
    created_by: 1,
    updated_at: '2015-10-27T17:39:58.288Z',
    updated_by: 1
  }, {
    id: 13,
    created_at: '2015-09-11T09:44:30.810Z',
    created_by: 1,
    key: 'navigation',
    type: 'blog',
    updated_at: '2015-09-23T13:32:49.868Z',
    updated_by: 1,
    value: JSON.stringify([{
      label: 'Home',
      url: '/'
    }, {
      label: 'About',
      url: '/about'
    }])
  }, {
    id: 14,
    created_at: '2015-09-11T09:44:30.810Z',
    created_by: 1,
    key: 'is_private',
    type: 'private',
    updated_at: '2015-09-23T13:32:49.868Z',
    updated_by: 1,
    value: false
  }, {
    id: 15,
    created_at: '2015-09-11T09:44:30.810Z',
    created_by: 1,
    key: 'password',
    type: 'private',
    updated_at: '2015-09-23T13:32:49.868Z',
    updated_by: 1,
    value: ''
  }, {
    id: 16,
    created_at: '2016-05-05T15:04:03.115Z',
    created_by: 1,
    key: 'slack',
    type: 'blog',
    updated_at: '2016-05-05T18:33:09.168Z',
    updated_by: 1,
    value: '[{"url":"", "username":"Ghost"}]'
  }, {
    id: 17,
    created_at: '2016-05-05T15:40:12.133Z',
    created_by: 1,
    key: 'facebook',
    type: 'blog',
    updated_at: '2016-05-08T15:20:25.953Z',
    updated_by: 1,
    value: 'test'
  }, {
    id: 18,
    created_at: '2016-05-05T15:40:12.134Z',
    created_by: 1,
    key: 'twitter',
    type: 'blog',
    updated_at: '2016-05-08T15:20:25.954Z',
    updated_by: 1,
    value: '@test'
  }, {
    id: 19,
    created_at: '2015-09-11T09:44:30.810Z',
    created_by: 1,
    key: 'active_timezone',
    type: 'blog',
    updated_at: '2015-09-23T13:32:49.868Z',
    updated_by: 1,
    value: 'Etc/UTC'
  }, {
    id: 21,
    created_at: '2017-01-09T08:40:59.000Z',
    created_by: 1,
    key: 'amp',
    type: 'blog',
    updated_at: '2017-01-09T08:49:42.991Z',
    updated_by: 1,
    value: 'true'
  }, {
    id: 22,
    key: 'icon',
    value: '/content/images/2014/Feb/favicon.ico',
    type: 'blog',
    created_at: '2013-11-25T14:48:11.000Z',
    created_by: 1,
    updated_at: '2015-10-27T17:39:58.276Z',
    updated_by: 1
  }, {
    id: 23,
    type: 'members',
    key: 'members_subscription_settings',
    value: '{"allowSelfSignup":true,"fromAddress":"noreply","paymentProcessors":[{"adapter":"stripe","config":{"secret_token":"","public_token":"","product":{"name":"Ghost Subscription"},"plans":[{"name":"Monthly","currency":"usd","interval":"month","amount":""},{"name":"Yearly","currency":"usd","interval":"year","amount":""}]}}]}',
    created_at: '2019-10-09T09:49:00.000Z',
    created_by: 1,
    updated_at: '2019-10-09T09:49:00.000Z',
    updated_by: 1
  }, {
    id: 24,
    type: 'bulk_email',
    key: 'bulk_email_settings',
    value: '{"provider":"mailgun","apiKey":"","domain":"","baseUrl":""}',
    created_at: '2019-10-09T09:49:00.000Z',
    created_by: 1,
    updated_at: '2019-10-09T09:49:00.000Z',
    updated_by: 1
  }, {
    id: 25,
    key: 'secondary_navigation',
    type: 'blog',
    created_at: '2019-11-20T09:44:30.810Z',
    created_by: 1,
    updated_at: '2019-11-20T13:32:49.868Z',
    updated_by: 1,
    value: JSON.stringify([])
  }];
  _exports.default = _default;
});
;define("ghost-admin/mirage/fixtures/sites", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = [{
    title: 'Test Blog',
    url: `${window.location.origin}/`
  }];
  _exports.default = _default;
});
;define("ghost-admin/mirage/fixtures/themes", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = [{
    name: 'casper',
    package: {
      name: 'Blog',
      version: '1.0'
    },
    active: true
  }, {
    name: 'foo',
    package: {
      name: 'Foo',
      version: '0.1'
    }
  }, {
    name: 'bar'
  }];
  _exports.default = _default;
});
;define("ghost-admin/mirage/fixtures/timezones", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = [{
    name: 'Pacific/Pago_Pago',
    label: '(GMT -11:00) Midway Island, Samoa'
  }, {
    name: 'Pacific/Honolulu',
    label: '(GMT -10:00) Hawaii'
  }, {
    name: 'America/Anchorage',
    label: '(GMT -9:00) Alaska'
  }, {
    name: 'America/Tijuana',
    label: '(GMT -8:00) Chihuahua, La Paz, Mazatlan'
  }, {
    name: 'America/Los_Angeles',
    label: '(GMT -8:00) Pacific Time (US & Canada); Tijuana'
  }, {
    name: 'America/Phoenix',
    label: '(GMT -7:00) Arizona'
  }, {
    name: 'America/Denver',
    label: '(GMT -7:00) Mountain Time (US & Canada)'
  }, {
    name: 'America/Costa_Rica',
    label: '(GMT -6:00) Central America'
  }, {
    name: 'America/Chicago',
    label: '(GMT -6:00) Central Time (US & Canada)'
  }, {
    name: 'America/Mexico_City',
    label: '(GMT -6:00) Guadalajara, Mexico City, Monterrey'
  }, {
    name: 'America/Regina',
    label: '(GMT -6:00) Saskatchewan'
  }, {
    name: 'America/Bogota',
    label: '(GMT -5:00) Bogota, Lima, Quito'
  }, {
    name: 'America/New_York',
    label: '(GMT -5:00) Eastern Time (US & Canada)'
  }, {
    name: 'America/Fort_Wayne',
    label: '(GMT -5:00) Indiana (East)'
  }, {
    name: 'America/Caracas',
    label: '(GMT -4:00) Caracas, La Paz'
  }, {
    name: 'America/Halifax',
    label: '(GMT -4:00) Atlantic Time (Canada); Brasilia, Greenland'
  }, {
    name: 'America/Santiago',
    label: '(GMT -4:00) Santiago'
  }, {
    name: 'America/St_Johns',
    label: '(GMT -3:30) Newfoundland'
  }, {
    name: 'America/Argentina/Buenos_Aires',
    label: '(GMT -3:00) Buenos Aires, Georgetown'
  }, {
    name: 'America/Noronha',
    label: '(GMT -2:00) Fernando de Noronha'
  }, {
    name: 'Atlantic/Azores',
    label: '(GMT -1:00) Azores'
  }, {
    name: 'Atlantic/Cape_Verde',
    label: '(GMT -1:00) Cape Verde Is.'
  }, {
    name: 'Etc/UTC',
    label: '(GMT) UTC'
  }, {
    name: 'Africa/Casablanca',
    label: '(GMT +0:00) Casablanca, Monrovia'
  }, {
    name: 'Europe/Dublin',
    label: '(GMT +0:00) Dublin, Edinburgh, London'
  }, {
    name: 'Europe/Amsterdam',
    label: '(GMT +1:00) Amsterdam, Berlin, Rome, Stockholm, Vienna'
  }, {
    name: 'Europe/Prague',
    label: '(GMT +1:00) Belgrade, Bratislava, Budapest, Prague'
  }, {
    name: 'Europe/Paris',
    label: '(GMT +1:00) Brussels, Copenhagen, Madrid, Paris'
  }, {
    name: 'Europe/Warsaw',
    label: '(GMT +1:00) Sarajevo, Skopje, Warsaw, Zagreb'
  }, {
    name: 'Africa/Lagos',
    label: '(GMT +1:00) West Central Africa'
  }, {
    name: 'Europe/Istanbul',
    label: '(GMT +2:00) Athens, Beirut, Bucharest, Istanbul'
  }, {
    name: 'Africa/Cairo',
    label: '(GMT +2:00) Cairo, Egypt'
  }, {
    name: 'Africa/Maputo',
    label: '(GMT +2:00) Harare'
  }, {
    name: 'Europe/Kiev',
    label: '(GMT +2:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius'
  }, {
    name: 'Asia/Jerusalem',
    label: '(GMT +2:00) Jerusalem'
  }, {
    name: 'Africa/Johannesburg',
    label: '(GMT +2:00) Pretoria'
  }, {
    name: 'Asia/Baghdad',
    label: '(GMT +3:00) Baghdad'
  }, {
    name: 'Asia/Riyadh',
    label: '(GMT +3:00) Kuwait, Nairobi, Riyadh'
  }, {
    name: 'Europe/Moscow',
    label: '(GMT +3:00) Moscow, St. Petersburg, Volgograd'
  }, {
    name: 'Asia/Tehran',
    label: '(GMT +3:30) Tehran'
  }, {
    name: 'Asia/Dubai',
    label: '(GMT +4:00) Abu Dhabi, Muscat'
  }, {
    name: 'Asia/Baku',
    label: '(GMT +4:00) Baku, Tbilisi, Yerevan'
  }, {
    name: 'Asia/Kabul',
    label: '(GMT +4:30) Kabul'
  }, {
    name: 'Asia/Karachi',
    label: '(GMT +5:00) Islamabad, Karachi, Tashkent'
  }, {
    name: 'Asia/Yekaterinburg',
    label: '(GMT +5:00) Yekaterinburg'
  }, {
    name: 'Asia/Kolkata',
    label: '(GMT +5:30) Chennai, Calcutta, Mumbai, New Delhi'
  }, {
    name: 'Asia/Kathmandu',
    label: '(GMT +5:45) Katmandu'
  }, {
    name: 'Asia/Almaty',
    label: '(GMT +6:00) Almaty, Novosibirsk'
  }, {
    name: 'Asia/Dhaka',
    label: '(GMT +6:00) Astana, Dhaka, Sri Jayawardenepura'
  }, {
    name: 'Asia/Rangoon',
    label: '(GMT +6:30) Rangoon'
  }, {
    name: 'Asia/Bangkok',
    label: '(GMT +7:00) Bangkok, Hanoi, Jakarta'
  }, {
    name: 'Asia/Krasnoyarsk',
    label: '(GMT +7:00) Krasnoyarsk'
  }, {
    name: 'Asia/Hong_Kong',
    label: '(GMT +8:00) Beijing, Chongqing, Hong Kong, Urumqi'
  }, {
    name: 'Asia/Irkutsk',
    label: '(GMT +8:00) Irkutsk, Ulaan Bataar'
  }, {
    name: 'Asia/Singapore',
    label: '(GMT +8:00) Kuala Lumpur, Perth, Singapore, Taipei'
  }, {
    name: 'Asia/Tokyo',
    label: '(GMT +9:00) Osaka, Sapporo, Tokyo'
  }, {
    name: 'Asia/Seoul',
    label: '(GMT +9:00) Seoul'
  }, {
    name: 'Asia/Yakutsk',
    label: '(GMT +9:00) Yakutsk'
  }, {
    name: 'Australia/Adelaide',
    label: '(GMT +9:30) Adelaide'
  }, {
    name: 'Australia/Darwin',
    label: '(GMT +9:30) Darwin'
  }, {
    name: 'Australia/Brisbane',
    label: '(GMT +10:00) Brisbane, Guam, Port Moresby'
  }, {
    name: 'Australia/Sydney',
    label: '(GMT +10:00) Canberra, Hobart, Melbourne, Sydney, Vladivostok'
  }, {
    name: 'Asia/Magadan',
    label: '(GMT +11:00) Magadan, Soloman Is., New Caledonia'
  }, {
    name: 'Pacific/Auckland',
    label: '(GMT +12:00) Auckland, Wellington'
  }, {
    name: 'Pacific/Fiji',
    label: '(GMT +12:00) Fiji, Kamchatka, Marshall Is.'
  }, {
    name: 'Pacific/Kwajalein',
    label: '(GMT +12:00) International Date Line West'
  }];
  _exports.default = _default;
});
;define("ghost-admin/mirage/models/api-key", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Model.extend({
    integration: (0, _emberCliMirage.belongsTo)()
  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/models/config", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Model.extend({});

  _exports.default = _default;
});
;define("ghost-admin/mirage/models/email", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Model.extend({
    post: (0, _emberCliMirage.belongsTo)()
  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/models/integration", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Model.extend({
    apiKeys: (0, _emberCliMirage.hasMany)(),
    webhooks: (0, _emberCliMirage.hasMany)()
  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/models/invite", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Model.extend({
    role: (0, _emberCliMirage.belongsTo)()
  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/models/member", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Model.extend({});

  _exports.default = _default;
});
;define("ghost-admin/mirage/models/notification", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Model.extend({});

  _exports.default = _default;
});
;define("ghost-admin/mirage/models/page", ["exports", "ghost-admin/mirage/models/post"], function (_exports, _post) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _post.default.extend({});

  _exports.default = _default;
});
;define("ghost-admin/mirage/models/post", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Model.extend({
    tags: (0, _emberCliMirage.hasMany)(),
    authors: (0, _emberCliMirage.hasMany)('user'),
    email: (0, _emberCliMirage.belongsTo)()
  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/models/role", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Model.extend({});

  _exports.default = _default;
});
;define("ghost-admin/mirage/models/site", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Model.extend({});

  _exports.default = _default;
});
;define("ghost-admin/mirage/models/subscriber", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Model.extend({});

  _exports.default = _default;
});
;define("ghost-admin/mirage/models/tag", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Model.extend({
    posts: (0, _emberCliMirage.hasMany)()
  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/models/theme", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Model.extend({});

  _exports.default = _default;
});
;define("ghost-admin/mirage/models/user", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Model.extend({
    // used by the serializer to determine whether
    // or not to include the post count
    postCount: false,
    roles: (0, _emberCliMirage.hasMany)(),
    posts: (0, _emberCliMirage.hasMany)()
  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/models/webhook", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.Model.extend({
    integration: (0, _emberCliMirage.belongsTo)()
  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/scenarios/default", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = _default;

  function _default(server) {
    // Seed your development database using your factories. This
    // data will not be loaded in your tests.
    // server.createList('contact', 10);
    server.createList('tag', 100);
    server.create('integration', {
      name: 'Demo'
    });
    server.createList('member', 125);
  }
});
;define("ghost-admin/mirage/serializers/application", ["exports", "ember-cli-mirage", "ember-cli-mirage/utils/inflector"], function (_exports, _emberCliMirage, _inflector) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _emberCliMirage.RestSerializer.extend({
    keyForCollection(collection) {
      return Ember.String.underscore((0, _inflector.pluralize)(collection));
    },

    keyForAttribute(attr) {
      return Ember.String.underscore(attr);
    },

    keyForRelationship(relationship) {
      return Ember.String.underscore(relationship);
    },

    keyForEmbeddedRelationship(relationship) {
      return Ember.String.underscore(relationship);
    },

    keyForForeignKey(relationshipName) {
      return `${Ember.String.underscore(relationshipName)}_id`;
    },

    serialize(object, request) {
      // Ember expects pluralized responses for the post, user, and invite models,
      // and this shortcut will ensure that those models are pluralized
      if (this.isModel(object) && ['post', 'user', 'invite'].includes(object.modelName)) {
        object = new _emberCliMirage.Collection(object.modelName, [object]);
      }

      let json = _emberCliMirage.RestSerializer.prototype.serialize.call(this, object, request);

      if (this.isCollection(object) && object.meta) {
        json.meta = object.meta;
      }

      return json;
    },

    // POST and PUT request send data in pluralized attributes for all models,
    // so we extract it here - this allows #normalizedRequestAttrs to work
    // in route functions
    normalize(body, modelName) {
      // sometimes mirage doesn't include a modelName, so we extrapolate it from
      // the first element of Object.keys
      modelName = (0, _inflector.pluralize)(modelName) || Object.keys(body)[0];
      let [attributes] = body[modelName] || [{}];
      return {
        data: {
          attributes
        }
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/serializers/integration", ["exports", "ghost-admin/mirage/serializers/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    embed: true,

    include(request) {
      if (!request.queryParams.include) {
        return;
      }

      return request.queryParams.include.split(',').map(Ember.String.camelize);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/serializers/page", ["exports", "ghost-admin/mirage/serializers/post"], function (_exports, _post) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _post.default.extend({});

  _exports.default = _default;
});
;define("ghost-admin/mirage/serializers/post", ["exports", "ghost-admin/mirage/serializers/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    embed: true,

    include()
    /*request*/
    {
      let includes = [];
      includes.push('tags');
      includes.push('authors');
      return includes;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/serializers/tag", ["exports", "ghost-admin/mirage/serializers/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    // make the tag.count.posts value dynamic
    serialize(tagModelOrCollection, request) {
      let updatePostCount = tag => {
        tag.update('count', {
          posts: tag.postIds.length
        });
      };

      if (this.isModel(tagModelOrCollection)) {
        updatePostCount(tagModelOrCollection);
      } else {
        tagModelOrCollection.models.forEach(updatePostCount);
      }

      return _application.default.prototype.serialize.call(this, tagModelOrCollection, request);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/serializers/user", ["exports", "ghost-admin/mirage/serializers/application", "ember-cli-mirage"], function (_exports, _application, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    embed: true,

    include(request) {
      if (request.queryParams.include && request.queryParams.include.indexOf('roles') >= 0) {
        return ['roles'];
      }

      return [];
    },

    serialize(object, request) {
      if (this.isCollection(object)) {
        return _application.default.prototype.serialize.call(this, object, request);
      }

      let {
        user
      } = _emberCliMirage.RestSerializer.prototype.serialize.call(this, object, request);

      if (object.postCount) {
        let posts = object.posts.models.length;
        user.count = {
          posts
        };
      }

      return {
        users: [user]
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mirage/utils", ["exports", "ember-cli-mirage"], function (_exports, _emberCliMirage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.paginatedResponse = paginatedResponse;
  _exports.paginateModelCollection = paginateModelCollection;
  _exports.maintenanceResponse = maintenanceResponse;
  _exports.versionMismatchResponse = versionMismatchResponse;

  /* eslint-disable max-statements-per-line */
  function paginatedResponse(modelName) {
    return function (schema, request) {
      let page = +request.queryParams.page || 1;
      let limit = request.queryParams.limit;
      let collection = schema[modelName].all();

      if (limit !== 'all') {
        limit = +request.queryParams.limit || 15;
      }

      return paginateModelCollection(modelName, collection, page, limit);
    };
  }

  function paginateModelCollection(modelName, collection, page, limit) {
    let pages, next, prev, models;

    if (limit === 'all') {
      pages = 1;
    } else {
      limit = +limit;
      let start = (page - 1) * limit;
      let end = start + limit;
      pages = Math.ceil(collection.models.length / limit);
      models = collection.models.slice(start, end);

      if (start > 0) {
        prev = page - 1;
      }

      if (end < collection.models.length) {
        next = page + 1;
      }
    }

    collection.meta = {
      pagination: {
        page,
        limit,
        pages,
        total: collection.models.length,
        next: next || null,
        prev: prev || null
      }
    };

    if (models) {
      collection.models = models;
    }

    return collection;
  }

  function maintenanceResponse() {
    return new _emberCliMirage.Response(503, {}, {
      errors: [{
        type: 'Maintenance'
      }]
    });
  }

  function versionMismatchResponse() {
    return new _emberCliMirage.Response(400, {}, {
      errors: [{
        type: 'VersionMismatchError'
      }]
    });
  }
});
;define("ghost-admin/mixins/body-event-listener", ["exports", "jquery"], function (_exports, _jquery) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  function K() {
    return this;
  } // Code modified from Addepar/ember-widgets
  // https://github.com/Addepar/ember-widgets/blob/master/src/mixins.coffee#L39


  var _default = Ember.Mixin.create({
    bodyElementSelector: 'html',
    bodyClick: K,

    init() {
      this._super(...arguments);

      return Ember.run.next(this, this._setupDocumentHandlers);
    },

    willDestroy() {
      this._super(...arguments);

      return this._removeDocumentHandlers();
    },

    _setupDocumentHandlers() {
      if (this._clickHandler) {
        return;
      }

      this._clickHandler = event => this.bodyClick(event);

      return (0, _jquery.default)(this.bodyElementSelector).on('click', this._clickHandler);
    },

    _removeDocumentHandlers() {
      (0, _jquery.default)(this.bodyElementSelector).off('click', this._clickHandler);
      this._clickHandler = null;
    },

    // http://stackoverflow.com/questions/152975/how-to-detect-a-click-outside-an-element
    click(event) {
      return event.stopPropagation();
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mixins/current-user-settings", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Mixin.create({
    transitionAuthor() {
      return user => {
        if (user.get('isAuthorOrContributor')) {
          return this.transitionTo('staff.user', user);
        }

        return user;
      };
    },

    transitionEditor() {
      return user => {
        if (user.get('isEditor')) {
          return this.transitionTo('staff');
        }

        return user;
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mixins/dropdown-mixin", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /*
    Dropdowns and their buttons are evented and do not propagate clicks.
  */
  var _default = Ember.Mixin.create(Ember.Evented, {
    classNameBindings: ['isOpen:open:closed'],
    isOpen: false,

    click(event) {
      this._super(event);

      return event.stopPropagation();
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mixins/settings-menu-component", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Mixin.create({
    showSettingsMenu: false,
    isViewingSubview: Ember.computed('showSettingsMenu', {
      get() {
        return false;
      },

      set(key, value) {
        // Not viewing a subview if we can't even see the PSM
        if (!this.showSettingsMenu) {
          return false;
        }

        return value;
      }

    }),
    actions: {
      showSubview() {
        this.set('isViewingSubview', true);
      },

      closeSubview() {
        this.set('isViewingSubview', false);
      }

    }
  });

  _exports.default = _default;
});
;define("ghost-admin/mixins/shortcuts-route", ["exports", "ghost-admin/mixins/shortcuts"], function (_exports, _shortcuts) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /**
   * Only routes can implement shortcuts.
   * If you need to trigger actions on the controller,
   * simply call them with `this.get('controller').send('action')`.
   *
   * To implement shortcuts, add this mixin to your `extend()`,
   * and implement a `shortcuts` hash.
   * In this hash, keys are shortcut combinations and values are route action names.
   *  (see [keymaster docs](https://github.com/madrobby/keymaster/blob/master/README.markdown)),
   *
   * ```javascript
   * shortcuts: {
   *     'ctrl+s, command+s': 'save'
   * }
   * ```
   * For more complex actions, shortcuts can instead have their value
   * be an object like {action, options}
   * ```javascript
   * shortcuts: {
   *      'ctrl+k': {action: 'markdownShortcut', options: 'createLink'}
   * }
   * ```
   * You can set the scope of your shortcut by passing a scope property.
   * ```javascript
   * shortcuts : {
   *   'enter': {action : 'confirmModal', scope: 'modal'}
   * }
   * ```
   * If you don't specify a scope, we use a default scope called "default".
   * To have all your shortcut work in all scopes, give it the scope "all".
   * Find out more at the keymaster docs
   */
  var _default = Ember.Mixin.create(_shortcuts.default, {
    activate() {
      this._super(...arguments);

      this.registerShortcuts();
    },

    deactivate() {
      this._super(...arguments);

      this.removeShortcuts();
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mixins/shortcuts", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  // Configure KeyMaster to respond to all shortcuts,
  // even inside of
  // input, textarea, and select.
  key.filter = function () {
    return true;
  };

  key.setScope('default');
  /**
   * Only routes can implement shortcuts.
   * If you need to trigger actions on the controller,
   * simply call them with `this.get('controller').send('action')`.
   *
   * To implement shortcuts, add this mixin to your `extend()`,
   * and implement a `shortcuts` hash.
   * In this hash, keys are shortcut combinations and values are route action names.
   *  (see [keymaster docs](https://github.com/madrobby/keymaster/blob/master/README.markdown)),
   *
   * ```javascript
   * shortcuts: {
   *     'ctrl+s, command+s': 'save'
   * }
   * ```
   * For more complex actions, shortcuts can instead have their value
   * be an object like {action, options}
   * ```javascript
   * shortcuts: {
   *      'ctrl+k': {action: 'markdownShortcut', options: 'createLink'}
   * }
   * ```
   * You can set the scope of your shortcut by passing a scope property.
   * ```javascript
   * shortcuts : {
   *   'enter': {action : 'confirmModal', scope: 'modal'}
   * }
   * ```
   * If you don't specify a scope, we use a default scope called "default".
   * To have all your shortcut work in all scopes, give it the scope "all".
   * Find out more at the keymaster docs
   */

  var _default = Ember.Mixin.create({
    registerShortcuts() {
      let shortcuts = this.shortcuts;
      Object.keys(shortcuts).forEach(shortcut => {
        let scope = shortcuts[shortcut].scope || 'default';
        let action = shortcuts[shortcut];
        let options;

        if (Ember.typeOf(action) !== 'string') {
          options = action.options;
          action = action.action;
        }

        key(shortcut, scope, event => {
          // stop things like ctrl+s from actually opening a save dialogue
          event.preventDefault();
          Ember.run(this, function () {
            this.send(action, options);
          });
        });
      });
    },

    removeShortcuts() {
      let shortcuts = this.shortcuts;
      Object.keys(shortcuts).forEach(shortcut => {
        let scope = shortcuts[shortcut].scope || 'default';
        key.unbind(shortcut, scope);
      });
    },

    willDestroy() {
      this._super(...arguments);

      this.removeShortcuts();
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mixins/slug-url", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Mixin.create({
    buildURL(_modelName, _id, _snapshot, _requestType, query) {
      let url = this._super(...arguments);

      if (query && !Ember.isBlank(query.slug)) {
        url += `slug/${query.slug}/`;
        delete query.slug;
      }

      return url;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mixins/text-input", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  const keyCodes = {
    13: 'Enter',
    9: 'Tab'
  };

  var _default = Ember.Mixin.create({
    userAgent: Ember.inject.service(),
    attributeBindings: ['autofocus'],
    selectOnClick: false,
    shouldFocus: false,
    stopEnterKeyDownPropagation: false,
    autofocus: Ember.computed(function () {
      if (this.shouldFocus) {
        return this.userAgent.os.isIOS ? false : 'autofocus';
      }

      return false;
    }),

    didInsertElement() {
      this._super(...arguments);

      this._focus();
    },

    click(event) {
      if (this.selectOnClick) {
        event.currentTarget.select();
      }
    },

    keyDown(event) {
      // stop event propagation when pressing "enter"
      // most useful in the case when undesired (global) keyboard shortcuts
      // are getting triggered while interacting with this particular input element.
      if (event.keyCode === 13 && this.stopEnterKeyDownPropagation) {
        event.stopPropagation();
        return true;
      } // prevent default TAB behaviour if we have a keyEvent for it


      if (event.keyCode === 9 && typeof this.get('keyEvents.Tab') === 'function') {
        event.preventDefault();
      }

      this._super(...arguments);
    },

    keyPress(event) {
      // prevent default ENTER behaviour if we have a keyEvent for it
      if (event.keyCode === 13 && typeof this.get('keyEvents.Enter') === 'function') {
        event.preventDefault();
      }

      this._super(...arguments);
    },

    keyUp(event) {
      if (event.keyCode) {
        let methodName = this._getMethodFromKeyCode(event.keyCode);

        let method = this.get(`keyEvents.${methodName}`);

        if (method) {
          method(event.target.value);
        }
      }
    },

    _focus() {
      // Until mobile safari has better support
      // for focusing, we just ignore it
      if (this.shouldFocus && !this.userAgent.os.isIOS) {
        this.element.focus();
      }
    },

    _getMethodFromKeyCode(keyCode) {
      let methodName = keyCodes[keyCode.toString()];
      return methodName;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mixins/unauthenticated-route-mixin", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Mixin.create({
    ajax: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    session: Ember.inject.service(),
    routeIfAlreadyAuthenticated: 'home',

    beforeModel() {
      let authUrl = this.get('ghostPaths.url').api('authentication', 'setup'); // check the state of the setup process via the API

      return this.ajax.request(authUrl).then(result => {
        let [setup] = result.setup;

        if (setup.status !== true) {
          this.transitionTo('setup');
        } else {
          // NOTE: this is the same as ESA's UnauthenticatedRouteMixin,
          // adding that mixin to this and calling _super wasn't calling
          // the ESA mixin's beforeModel method
          if (this.session.get('isAuthenticated')) {
            let routeIfAlreadyAuthenticated = this.routeIfAlreadyAuthenticated;
            return this.transitionTo(routeIfAlreadyAuthenticated);
          } else {
            return this._super(...arguments);
          }
        }
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/mixins/validation-engine", ["exports", "ghost-admin/validators/custom-view", "ember-data", "ghost-admin/validators/integration", "ghost-admin/validators/invite-user", "ghost-admin/validators/label", "ghost-admin/validators/member", "@ember-data/model", "ghost-admin/validators/nav-item", "ghost-admin/validators/post", "ghost-admin/validators/reset", "ghost-admin/validators/setting", "ghost-admin/validators/setup", "ghost-admin/validators/signin", "ghost-admin/validators/signup", "ghost-admin/validators/slack-integration", "ghost-admin/validators/tag-settings", "ghost-admin/validators/user", "ghost-admin/validators/webhook"], function (_exports, _customView, _emberData, _integration, _inviteUser, _label, _member, _model, _navItem, _post, _reset, _setting, _setup, _signin, _signup, _slackIntegration, _tagSettings, _user, _webhook) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  // TODO: remove usage of Ember Data's private `Errors` class when refactoring validations
  // eslint-disable-next-line
  // eslint-disable-line
  const {
    Errors
  } = _emberData.default;
  /**
  * The class that gets this mixin will receive these properties and functions.
  * It will be able to validate any properties on itself (or the model it passes to validate())
  * with the use of a declared validator.
  */

  var _default = Ember.Mixin.create({
    // these validators can be passed a model to validate when the class that
    // mixes in the ValidationEngine declares a validationType equal to a key on this object.
    // the model is either passed in via `this.validate({ model: object })`
    // or by calling `this.validate()` without the model property.
    // in that case the model will be the class that the ValidationEngine
    // was mixed into, i.e. the controller or Ember Data model.
    validators: {
      customView: _customView.default,
      inviteUser: _inviteUser.default,
      navItem: _navItem.default,
      post: _post.default,
      reset: _reset.default,
      setting: _setting.default,
      setup: _setup.default,
      signin: _signin.default,
      signup: _signup.default,
      slackIntegration: _slackIntegration.default,
      tag: _tagSettings.default,
      user: _user.default,
      member: _member.default,
      integration: _integration.default,
      webhook: _webhook.default,
      label: _label.default
    },
    // This adds the Errors object to the validation engine, and shouldn't affect
    // ember-data models because they essentially use the same thing
    errors: null,
    // Store whether a property has been validated yet, so that we know whether or not
    // to show error / success validation for a field
    hasValidated: null,

    init() {
      this._super(...arguments);

      this.set('errors', Errors.create());
      this.set('hasValidated', Ember.A());
    },

    /**
    * Passes the model to the validator specified by validationType.
    * Returns a promise that will resolve if validation succeeds, and reject if not.
    * Some options can be specified:
    *
    * `model: Object` - you can specify the model to be validated, rather than pass the default value of `this`,
    *                   the class that mixes in this mixin.
    *
    * `property: String` - you can specify a specific property to validate. If
    * 					   no property is specified, the entire model will be
    * 					   validated
    */
    validate(opts) {
      let model = this;
      let hasValidated, type, validator;
      opts = opts || {};

      if (opts.model) {
        model = opts.model;
      } else if (this instanceof _model.default) {
        model = this;
      } else if (this.model) {
        model = this.model;
      }

      type = this.validationType || model.get('validationType');
      validator = this.get(`validators.${type}`) || model.get(`validators.${type}`);
      hasValidated = this.hasValidated;
      opts.validationType = type;
      return new Ember.RSVP.Promise((resolve, reject) => {
        let passed;

        if (!type || !validator) {
          return reject([`The validator specified, "${type}", did not exist!`]);
        }

        if (opts.property) {
          // If property isn't in `hasValidated`, add it to mark that this field can show a validation result
          hasValidated.addObject(opts.property);
          model.get('errors').remove(opts.property);
        } else {
          model.get('errors').clear();
        }

        passed = validator.check(model, opts.property);
        return passed ? resolve() : reject();
      });
    },

    /**
    * The primary goal of this method is to override the `save` method on Ember Data models.
    * This allows us to run validation before actually trying to save the model to the server.
    * You can supply options to be passed into the `validate` method, since the ED `save` method takes no options.
    */
    save(options) {
      let {
        _super
      } = this;
      options = options || {};
      options.wasSave = true; // model.destroyRecord() calls model.save() behind the scenes.
      // in that case, we don't need validation checks or error propagation,
      // because the model itself is being destroyed.

      if (this.isDeleted) {
        return this._super(...arguments);
      } // If validation fails, reject with validation errors.
      // If save to the server fails, reject with server response.


      return this.validate(options).then(() => {
        if (typeof this.beforeSave === 'function') {
          this.beforeSave();
        }

        return _super.call(this, options);
      }).catch(result => {
        // server save failed or validator type doesn't exist
        if (result && !Ember.isArray(result)) {
          throw result;
        }

        return Ember.RSVP.reject(result);
      });
    },

    actions: {
      validate(property) {
        this.validate({
          property
        });
      }

    }
  });

  _exports.default = _default;
});
;define("ghost-admin/mixins/validation-state", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Mixin.create({
    errors: null,
    property: '',
    hasValidated: Ember.A(),
    hasError: false,

    setHasError() {
      let property = this.property;
      let errors = this.errors;
      let hasValidated = this.hasValidated; // if we aren't looking at a specific property we always want an error class

      if (!property && errors && !errors.get('isEmpty')) {
        this.set('hasError', true);
        return;
      } // If we haven't yet validated this field, there is no validation class needed


      if (!hasValidated || !hasValidated.includes(property)) {
        this.set('hasError', false);
        return;
      }

      if (errors && !Ember.isEmpty(errors.errorsFor(property))) {
        this.set('hasError', true);
        return;
      }

      this.set('hasError', false);
    },

    // eslint-disable-next-line ghost/ember/no-observers
    hasErrorObserver: Ember.on('init', Ember.observer('errors.[]', 'property', 'hasValidated.[]', function () {
      Ember.run.once(this, 'setHasError');
    }))
  });

  _exports.default = _default;
});
;define("ghost-admin/models/action", ["exports", "@ember-data/model"], function (_exports, _model) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _model.default.extend({
    resourceId: (0, _model.attr)('string'),
    resourceType: (0, _model.attr)('string'),
    actorId: (0, _model.attr)('string'),
    actorType: (0, _model.attr)('string'),
    event: (0, _model.attr)('string'),
    context: (0, _model.attr)('json-string'),
    createdAtUTC: (0, _model.attr)('moment-utc')
  });

  _exports.default = _default;
});
;define("ghost-admin/models/api-key", ["exports", "@ember-data/model"], function (_exports, _model) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _model.default.extend({
    type: (0, _model.attr)('string'),
    secret: (0, _model.attr)('string'),
    lastSeenAtUTC: (0, _model.attr)('moment-utc'),
    createdAtUTC: (0, _model.attr)('moment-utc'),
    createdBy: (0, _model.attr)('number'),
    updatedAtUTC: (0, _model.attr)('moment-utc'),
    updatedBy: (0, _model.attr)('number'),
    integration: (0, _model.belongsTo)('integration')
  });

  _exports.default = _default;
});
;define("ghost-admin/models/base", ["exports", "@ember-data/model"], function (_exports, _model) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _model.default.extend({
    // this is a hack that gives us access to meta data in single resource responses
    // allows similar response.get('_meta') as with multi-resource responses but can
    // suffer from race conditions
    // TODO: review once the record links and meta RFC lands
    // https://github.com/emberjs/rfcs/blob/master/text/0332-ember-data-record-links-and-meta.md
    get _meta() {
      return this._internalModel.type.___meta;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/models/coordinator", ["exports", "ghost-admin/models/obj-hash"], function (_exports, _objHash) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Object.extend(Ember.Evented, {
    objectMap: Ember.computed(function () {
      return _objHash.default.create();
    }),
    getObject: function (id, ops) {
      ops = ops || {};
      var payload = this.get('objectMap').getObj(id);

      if (payload.ops.source) {
        payload.ops.source.sendAction('action', payload.obj);
      }

      if (payload.ops.target) {
        payload.ops.target.sendAction('action', payload.obj);
      }

      this.trigger("objectMoved", {
        obj: payload.obj,
        source: payload.ops.source,
        target: ops.target
      });
      return payload.obj;
    },
    setObject: function (obj, ops) {
      ops = ops || {};
      return this.get('objectMap').add({
        obj: obj,
        ops: ops
      });
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/models/email", ["exports", "@ember-data/model"], function (_exports, _model) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _model.default.extend({
    emailCount: (0, _model.attr)('number'),
    error: (0, _model.attr)('string'),
    html: (0, _model.attr)('string'),
    plaintext: (0, _model.attr)('string'),
    stats: (0, _model.attr)('json-string'),
    status: (0, _model.attr)('string'),
    subject: (0, _model.attr)('string'),
    submittedAtUTC: (0, _model.attr)('moment-utc'),
    uuid: (0, _model.attr)('string'),
    createdAtUTC: (0, _model.attr)('moment-utc'),
    createdBy: (0, _model.attr)('string'),
    updatedAtUTC: (0, _model.attr)('moment-utc'),
    updatedBy: (0, _model.attr)('string'),
    post: (0, _model.belongsTo)('post'),
    isSuccess: Ember.computed.equal('status', 'submitted'),
    isFailure: Ember.computed.equal('status', 'failed'),

    retry() {
      return this.store.adapterFor('email').retry(this);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/models/integration", ["exports", "@ember-data/model", "ghost-admin/mixins/validation-engine"], function (_exports, _model, _validationEngine) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _model.default.extend(_validationEngine.default, {
    validationType: 'integration',
    name: (0, _model.attr)('string'),
    slug: (0, _model.attr)('string'),
    type: (0, _model.attr)('string'),
    iconImage: (0, _model.attr)('string'),
    description: (0, _model.attr)('string'),
    createdAtUTC: (0, _model.attr)('moment-utc'),
    createdBy: (0, _model.attr)('number'),
    updatedAtUTC: (0, _model.attr)('moment-utc'),
    updatedBy: (0, _model.attr)('number'),
    apiKeys: (0, _model.hasMany)('api-key', {
      embedded: 'always',
      async: false
    }),
    webhooks: (0, _model.hasMany)('webhook', {
      embedded: 'always',
      async: false
    }),
    adminKey: Ember.computed('apiKeys.[]', function () {
      return this.apiKeys.findBy('type', 'admin');
    }),
    contentKey: Ember.computed('apiKeys.[]', function () {
      return this.apiKeys.findBy('type', 'content');
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/models/invite", ["exports", "@ember-data/model"], function (_exports, _model) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _model.default.extend({
    token: (0, _model.attr)('string'),
    email: (0, _model.attr)('string'),
    expires: (0, _model.attr)('number'),
    createdAtUTC: (0, _model.attr)('moment-utc'),
    createdBy: (0, _model.attr)('number'),
    updatedAtUTC: (0, _model.attr)('moment-utc'),
    updatedBy: (0, _model.attr)('number'),
    status: (0, _model.attr)('string'),
    role: (0, _model.belongsTo)('role', {
      async: false
    }),
    ajax: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),

    resend() {
      let inviteData = {
        email: this.email,
        role_id: this.role.id
      };
      let inviteUrl = this.get('ghostPaths.url').api('invites');
      return this.ajax.post(inviteUrl, {
        data: JSON.stringify({
          invites: [inviteData]
        }),
        contentType: 'application/json'
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/models/label", ["exports", "@ember-data/model", "ghost-admin/mixins/validation-engine"], function (_exports, _model, _validationEngine) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _model.default.extend(_validationEngine.default, {
    validationType: 'label',
    name: (0, _model.attr)('string'),
    slug: (0, _model.attr)('string'),
    createdAtUTC: (0, _model.attr)('moment-utc'),
    updatedAtUTC: (0, _model.attr)('moment-utc'),
    createdBy: (0, _model.attr)('number'),
    updatedBy: (0, _model.attr)('number'),
    count: (0, _model.attr)('raw'),
    feature: Ember.inject.service()
  });

  _exports.default = _default;
});
;define("ghost-admin/models/member-subscription", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Object.extend({
    customer: 'customer_id',
    subscription: 'subscription_id',
    plan: 'plan_id',
    status: 'subscription status',
    name: 'plan nickname e.g. "Monthly"',
    interval: 'how often plan charges e.g "month", "year"',
    amount: 'amount in smallest denomination e.g. cents, so value for 5 dollars would be 500',
    currency: 'e.g. usd',
    last4: 'last four digits of card OR null',
    validUntil: 'epoch timestamp of when current interval ends IN SECONDS'
  });

  _exports.default = _default;
});
;define("ghost-admin/models/member", ["exports", "@ember-data/model", "ghost-admin/mixins/validation-engine", "ember-concurrency"], function (_exports, _model, _validationEngine, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _model.default.extend(_validationEngine.default, {
    validationType: 'member',
    name: (0, _model.attr)('string'),
    email: (0, _model.attr)('string'),
    note: (0, _model.attr)('string'),
    createdAtUTC: (0, _model.attr)('moment-utc'),
    stripe: (0, _model.attr)('member-subscription'),
    subscribed: (0, _model.attr)('boolean', {
      defaultValue: true
    }),
    labels: (0, _model.hasMany)('label', {
      embedded: 'always',
      async: false
    }),
    comped: (0, _model.attr)('boolean', {
      defaultValue: false
    }),
    geolocation: (0, _model.attr)('json-string'),
    ghostPaths: Ember.inject.service(),
    ajax: Ember.inject.service(),

    // remove client-generated labels, which have `id: null`.
    // Ember Data won't recognize/update them automatically
    // when returned from the server with ids.
    // https://github.com/emberjs/data/issues/1829
    updateLabels() {
      let labels = this.labels;
      let oldLabels = labels.filterBy('id', null);
      labels.removeObjects(oldLabels);
      oldLabels.invoke('deleteRecord');
    },

    fetchSigninUrl: (0, _emberConcurrency.task)(function* () {
      let url = this.get('ghostPaths.url').api('members', this.get('id'), 'signin_urls');
      let response = yield this.ajax.request(url);
      return response.member_signin_urls[0];
    }).drop()
  });

  _exports.default = _default;
});
;define("ghost-admin/models/navigation-item", ["exports", "ghost-admin/mixins/validation-engine"], function (_exports, _validationEngine) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Object.extend(_validationEngine.default, {
    label: '',
    url: '',
    isNew: false,
    isSecondary: false,
    validationType: 'navItem',
    isComplete: Ember.computed('label', 'url', function () {
      let {
        label,
        url
      } = this;
      return !Ember.isBlank(label) && !Ember.isBlank(url);
    }),
    isBlank: Ember.computed('label', 'url', function () {
      let {
        label,
        url
      } = this;
      return Ember.isBlank(label) && Ember.isBlank(url);
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/models/notification", ["exports", "@ember-data/model"], function (_exports, _model) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _model.default.extend({
    custom: (0, _model.attr)('boolean'),
    dismissible: (0, _model.attr)('boolean'),
    key: (0, _model.attr)('string'),
    message: (0, _model.attr)('string'),
    status: (0, _model.attr)('string'),
    type: (0, _model.attr)('string')
  });

  _exports.default = _default;
});
;define("ghost-admin/models/obj-hash", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Object.extend({
    contentLength: 0,
    length: Ember.computed.alias('contentLength'),
    init: function () {
      this._super();

      this.content = {};
    },
    add: function (obj) {
      var id = this.generateId();
      this.get('content')[id] = obj;
      this.incrementProperty("contentLength");
      return id;
    },
    getObj: function (key) {
      var res = this.get('content')[key];

      if (!res) {
        throw "no obj for key " + key;
      }

      return res;
    },
    generateId: function () {
      var num = Math.random() * 1000000000000.0;
      num = parseInt(num);
      num = "" + num;
      return num;
    },
    keys: function () {
      var res = [];

      for (var key in this.get('content')) {
        res.push(key);
      }

      return Ember.A(res);
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/models/page", ["exports", "ghost-admin/models/post"], function (_exports, _post) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _post.default.extend({
    displayName: 'page'
  });

  _exports.default = _default;
});
;define("ghost-admin/models/post", ["exports", "@ember-data/model", "ghost-admin/mixins/validation-engine", "ghost-admin/utils/bound-one-way", "moment"], function (_exports, _model, _validationEngine, _boundOneWay, _moment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  // ember-cli-shims doesn't export these so we must get them manually
  const {
    Comparable
  } = Ember;

  function statusCompare(postA, postB) {
    let status1 = postA.get('status');
    let status2 = postB.get('status'); // if any of those is empty

    if (!status1 && !status2) {
      return 0;
    }

    if (!status1 && status2) {
      return -1;
    }

    if (!status2 && status1) {
      return 1;
    } // We have to make sure, that scheduled posts will be listed first
    // after that, draft and published will be sorted alphabetically and don't need
    // any manual comparison.


    if (status1 === 'scheduled' && (status2 === 'draft' || status2 === 'published')) {
      return -1;
    }

    if (status2 === 'scheduled' && (status1 === 'draft' || status1 === 'published')) {
      return 1;
    }

    return Ember.compare(status1.valueOf(), status2.valueOf());
  }

  function publishedAtCompare(postA, postB) {
    let published1 = postA.get('publishedAtUTC');
    let published2 = postB.get('publishedAtUTC');

    if (!published1 && !published2) {
      return 0;
    }

    if (!published1 && published2) {
      return -1;
    }

    if (!published2 && published1) {
      return 1;
    }

    return Ember.compare(published1.valueOf(), published2.valueOf());
  }

  var _default = _model.default.extend(Comparable, _validationEngine.default, {
    config: Ember.inject.service(),
    feature: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    clock: Ember.inject.service(),
    settings: Ember.inject.service(),
    displayName: 'post',
    validationType: 'post',
    createdAtUTC: (0, _model.attr)('moment-utc'),
    excerpt: (0, _model.attr)('string'),
    customExcerpt: (0, _model.attr)('string'),
    featured: (0, _model.attr)('boolean', {
      defaultValue: false
    }),
    featureImage: (0, _model.attr)('string'),
    canonicalUrl: (0, _model.attr)('string'),
    codeinjectionFoot: (0, _model.attr)('string', {
      defaultValue: ''
    }),
    codeinjectionHead: (0, _model.attr)('string', {
      defaultValue: ''
    }),
    customTemplate: (0, _model.attr)('string'),
    ogImage: (0, _model.attr)('string'),
    ogTitle: (0, _model.attr)('string'),
    ogDescription: (0, _model.attr)('string'),
    twitterImage: (0, _model.attr)('string'),
    twitterTitle: (0, _model.attr)('string'),
    twitterDescription: (0, _model.attr)('string'),
    emailSubject: (0, _model.attr)('string'),
    html: (0, _model.attr)('string'),
    locale: (0, _model.attr)('string'),
    visibility: (0, _model.attr)('string'),
    metaDescription: (0, _model.attr)('string'),
    metaTitle: (0, _model.attr)('string'),
    mobiledoc: (0, _model.attr)('json-string'),
    plaintext: (0, _model.attr)('string'),
    publishedAtUTC: (0, _model.attr)('moment-utc'),
    slug: (0, _model.attr)('string'),
    status: (0, _model.attr)('string', {
      defaultValue: 'draft'
    }),
    title: (0, _model.attr)('string', {
      defaultValue: ''
    }),
    updatedAtUTC: (0, _model.attr)('moment-utc'),
    updatedBy: (0, _model.attr)('number'),
    url: (0, _model.attr)('string'),
    uuid: (0, _model.attr)('string'),
    sendEmailWhenPublished: (0, _model.attr)('boolean', {
      defaultValue: false
    }),
    authors: (0, _model.hasMany)('user', {
      embedded: 'always',
      async: false
    }),
    createdBy: (0, _model.belongsTo)('user', {
      async: true
    }),
    email: (0, _model.belongsTo)('email', {
      async: false
    }),
    publishedBy: (0, _model.belongsTo)('user', {
      async: true
    }),
    tags: (0, _model.hasMany)('tag', {
      embedded: 'always',
      async: false
    }),
    primaryAuthor: Ember.computed.reads('authors.firstObject'),
    scratch: null,
    titleScratch: null,
    // HACK: used for validation so that date/time can be validated based on
    // eventual status rather than current status
    statusScratch: null,
    // For use by date/time pickers - will be validated then converted to UTC
    // on save. Updated by an observer whenever publishedAtUTC changes.
    // Everything that revolves around publishedAtUTC only cares about the saved
    // value so this should be almost entirely internal
    publishedAtBlogDate: '',
    publishedAtBlogTime: '',
    canonicalUrlScratch: (0, _boundOneWay.default)('canonicalUrl'),
    customExcerptScratch: (0, _boundOneWay.default)('customExcerpt'),
    codeinjectionFootScratch: (0, _boundOneWay.default)('codeinjectionFoot'),
    codeinjectionHeadScratch: (0, _boundOneWay.default)('codeinjectionHead'),
    metaDescriptionScratch: (0, _boundOneWay.default)('metaDescription'),
    metaTitleScratch: (0, _boundOneWay.default)('metaTitle'),
    ogDescriptionScratch: (0, _boundOneWay.default)('ogDescription'),
    ogTitleScratch: (0, _boundOneWay.default)('ogTitle'),
    twitterDescriptionScratch: (0, _boundOneWay.default)('twitterDescription'),
    twitterTitleScratch: (0, _boundOneWay.default)('twitterTitle'),
    emailSubjectScratch: (0, _boundOneWay.default)('emailSubject'),
    isPublished: Ember.computed.equal('status', 'published'),
    isDraft: Ember.computed.equal('status', 'draft'),
    internalTags: Ember.computed.filterBy('tags', 'isInternal', true),
    isScheduled: Ember.computed.equal('status', 'scheduled'),
    previewUrl: Ember.computed('uuid', 'ghostPaths.url', 'config.blogUrl', function () {
      let blogUrl = this.get('config.blogUrl');
      let uuid = this.uuid; // routeKeywords.preview: 'p'

      let previewKeyword = 'p'; // New posts don't have a preview

      if (!uuid) {
        return '';
      }

      return this.get('ghostPaths.url').join(blogUrl, previewKeyword, uuid);
    }),
    // check every second to see if we're past the scheduled time
    // will only re-compute if this property is being observed elsewhere
    pastScheduledTime: Ember.computed('isScheduled', 'publishedAtUTC', 'clock.second', function () {
      if (this.isScheduled) {
        let now = _moment.default.utc();

        let publishedAtUTC = this.publishedAtUTC || now;
        let pastScheduledTime = publishedAtUTC.diff(now, 'hours', true) < 0; // force a recompute

        this.get('clock.second');
        return pastScheduledTime;
      } else {
        return false;
      }
    }),
    publishedAtBlogTZ: Ember.computed('publishedAtBlogDate', 'publishedAtBlogTime', 'settings.activeTimezone', {
      get() {
        return this._getPublishedAtBlogTZ();
      },

      set(key, value) {
        let momentValue = value ? (0, _moment.default)(value) : null;

        this._setPublishedAtBlogStrings(momentValue);

        return this._getPublishedAtBlogTZ();
      }

    }),

    _getPublishedAtBlogTZ() {
      let publishedAtUTC = this.publishedAtUTC;
      let publishedAtBlogDate = this.publishedAtBlogDate;
      let publishedAtBlogTime = this.publishedAtBlogTime;
      let blogTimezone = this.get('settings.activeTimezone');

      if (!publishedAtUTC && Ember.isBlank(publishedAtBlogDate) && Ember.isBlank(publishedAtBlogTime)) {
        return null;
      }

      if (publishedAtBlogDate && publishedAtBlogTime) {
        let publishedAtBlog = _moment.default.tz(`${publishedAtBlogDate} ${publishedAtBlogTime}`, blogTimezone);
        /**
         * Note:
         * If you create a post and publish it, we send seconds to the database.
         * If you edit the post afterwards, ember would send the date without seconds, because
         * the `publishedAtUTC` is based on `publishedAtBlogTime`, which is only in seconds.
         * The date time picker doesn't use seconds.
         *
         * This condition prevents the case:
         *   - you edit a post, but you don't change the published_at time
         *   - we keep the original date with seconds
         *
         * See https://github.com/TryGhost/Ghost/issues/8603#issuecomment-309538395.
         */


        if (publishedAtUTC && publishedAtBlog.diff(publishedAtUTC.clone().startOf('minutes')) === 0) {
          return publishedAtUTC;
        }

        return publishedAtBlog;
      } else {
        return _moment.default.tz(this.publishedAtUTC, blogTimezone);
      }
    },

    // TODO: is there a better way to handle this?
    // eslint-disable-next-line ghost/ember/no-observers
    _setPublishedAtBlogTZ: Ember.on('init', Ember.observer('publishedAtUTC', 'settings.activeTimezone', function () {
      let publishedAtUTC = this.publishedAtUTC;

      this._setPublishedAtBlogStrings(publishedAtUTC);
    })),

    _setPublishedAtBlogStrings(momentDate) {
      if (momentDate) {
        let blogTimezone = this.get('settings.activeTimezone');

        let publishedAtBlog = _moment.default.tz(momentDate, blogTimezone);

        this.set('publishedAtBlogDate', publishedAtBlog.format('YYYY-MM-DD'));
        this.set('publishedAtBlogTime', publishedAtBlog.format('HH:mm'));
      } else {
        this.set('publishedAtBlogDate', '');
        this.set('publishedAtBlogTime', '');
      }
    },

    // remove client-generated tags, which have `id: null`.
    // Ember Data won't recognize/update them automatically
    // when returned from the server with ids.
    // https://github.com/emberjs/data/issues/1829
    updateTags() {
      let tags = this.tags;
      let oldTags = tags.filterBy('id', null);
      tags.removeObjects(oldTags);
      oldTags.invoke('deleteRecord');
    },

    isAuthoredByUser(user) {
      return this.authors.includes(user);
    },

    // a custom sort function is needed in order to sort the posts list the same way the server would:
    //     status: scheduled, draft, published
    //     publishedAt: DESC
    //     updatedAt: DESC
    //     id: DESC
    compare(postA, postB) {
      let updated1 = postA.get('updatedAtUTC');
      let updated2 = postB.get('updatedAtUTC');
      let idResult, publishedAtResult, statusResult, updatedAtResult; // when `updatedAt` is undefined, the model is still
      // being written to with the results from the server

      if (postA.get('isNew') || !updated1) {
        return -1;
      }

      if (postB.get('isNew') || !updated2) {
        return 1;
      } // TODO: revisit the ID sorting because we no longer have auto-incrementing IDs


      idResult = Ember.compare(postA.get('id'), postB.get('id'));
      statusResult = statusCompare(postA, postB);
      updatedAtResult = Ember.compare(updated1.valueOf(), updated2.valueOf());
      publishedAtResult = publishedAtCompare(postA, postB);

      if (statusResult === 0) {
        if (publishedAtResult === 0) {
          if (updatedAtResult === 0) {
            // This should be DESC
            return idResult * -1;
          } // This should be DESC


          return updatedAtResult * -1;
        } // This should be DESC


        return publishedAtResult * -1;
      }

      return statusResult;
    },

    // this is a hook added by the ValidationEngine mixin and is called after
    // successful validation and before this.save()
    //
    // the publishedAtBlog{Date/Time} strings are set separately so they can be
    // validated, grab that time if it exists and set the publishedAtUTC
    beforeSave() {
      let publishedAtBlogTZ = this.publishedAtBlogTZ;
      let publishedAtUTC = publishedAtBlogTZ ? publishedAtBlogTZ.utc() : null;
      this.set('publishedAtUTC', publishedAtUTC);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/models/role", ["exports", "@ember-data/model"], function (_exports, _model) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable camelcase */
  var _default = _model.default.extend({
    name: (0, _model.attr)('string'),
    description: (0, _model.attr)('string'),
    createdAtUTC: (0, _model.attr)('moment-utc'),
    updatedAtUTC: (0, _model.attr)('moment-utc'),
    createdBy: (0, _model.attr)('number'),
    updatedBy: (0, _model.attr)('number'),
    lowerCaseName: Ember.computed('name', function () {
      return (this.name || '').toLocaleLowerCase();
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/models/setting", ["exports", "@ember-data/model", "ghost-admin/mixins/validation-engine"], function (_exports, _model, _validationEngine) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable camelcase */
  var _default = _model.default.extend(_validationEngine.default, {
    validationType: 'setting',
    title: (0, _model.attr)('string'),
    description: (0, _model.attr)('string'),
    logo: (0, _model.attr)('string'),
    coverImage: (0, _model.attr)('string'),
    icon: (0, _model.attr)('string'),
    brand: (0, _model.attr)('json-string'),
    defaultLocale: (0, _model.attr)('string'),
    activeTimezone: (0, _model.attr)('string', {
      defaultValue: 'Etc/UTC'
    }),
    codeinjectionHead: (0, _model.attr)('string'),
    codeinjectionFoot: (0, _model.attr)('string'),
    facebook: (0, _model.attr)('facebook-url-user'),
    twitter: (0, _model.attr)('twitter-url-user'),
    labs: (0, _model.attr)('string'),
    navigation: (0, _model.attr)('navigation-settings'),
    secondaryNavigation: (0, _model.attr)('navigation-settings', {
      isSecondary: true
    }),
    isPrivate: (0, _model.attr)('boolean'),
    publicHash: (0, _model.attr)('string'),
    password: (0, _model.attr)('string'),
    slack: (0, _model.attr)('slack-settings'),
    amp: (0, _model.attr)('boolean'),
    unsplash: (0, _model.attr)('unsplash-settings', {
      defaultValue() {
        return {
          isActive: true
        };
      }

    }),
    defaultContentVisibility: (0, _model.attr)('string'),
    membersSubscriptionSettings: (0, _model.attr)('string'),
    metaTitle: (0, _model.attr)('string'),
    metaDescription: (0, _model.attr)('string'),
    twitterTitle: (0, _model.attr)('string'),
    twitterDescription: (0, _model.attr)('string'),
    twitterImage: (0, _model.attr)('string'),
    ogTitle: (0, _model.attr)('string'),
    ogDescription: (0, _model.attr)('string'),
    ogImage: (0, _model.attr)('string'),
    bulkEmailSettings: (0, _model.attr)('json-string')
  });

  _exports.default = _default;
});
;define("ghost-admin/models/slack-integration", ["exports", "ghost-admin/mixins/validation-engine"], function (_exports, _validationEngine) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Object.extend(_validationEngine.default, {
    // values entered here will act as defaults
    url: '',
    username: '',
    validationType: 'slackIntegration',
    isActive: Ember.computed('url', function () {
      let url = this.url;
      return !Ember.isBlank(url);
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/models/tag", ["exports", "@ember-data/model", "ghost-admin/mixins/validation-engine"], function (_exports, _model, _validationEngine) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _model.default.extend(_validationEngine.default, {
    validationType: 'tag',
    name: (0, _model.attr)('string'),
    slug: (0, _model.attr)('string'),
    description: (0, _model.attr)('string'),
    parent: (0, _model.attr)('string'),
    // unused
    metaTitle: (0, _model.attr)('string'),
    metaDescription: (0, _model.attr)('string'),
    featureImage: (0, _model.attr)('string'),
    visibility: (0, _model.attr)('string', {
      defaultValue: 'public'
    }),
    createdAtUTC: (0, _model.attr)('moment-utc'),
    updatedAtUTC: (0, _model.attr)('moment-utc'),
    createdBy: (0, _model.attr)('number'),
    updatedBy: (0, _model.attr)('number'),
    count: (0, _model.attr)('raw'),
    isInternal: Ember.computed.equal('visibility', 'internal'),
    isPublic: Ember.computed.equal('visibility', 'public'),
    feature: Ember.inject.service(),

    updateVisibility() {
      let internalRegex = /^#.?/;
      this.set('visibility', internalRegex.test(this.name) ? 'internal' : 'public');
    },

    save() {
      if (this.get('changedAttributes.name') && !this.isDeleted) {
        this.updateVisibility();
      }

      return this._super(...arguments);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/models/theme", ["exports", "@ember-data/model"], function (_exports, _model) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _model.default.extend({
    active: (0, _model.attr)('boolean'),
    errors: (0, _model.attr)('raw'),
    name: (0, _model.attr)('string'),
    package: (0, _model.attr)('raw'),
    templates: (0, _model.attr)('raw', {
      defaultValue: () => []
    }),
    warnings: (0, _model.attr)('raw'),
    customTemplates: Ember.computed('templates.[]', function () {
      let templates = this.templates || [];
      return templates.filter(function (template) {
        return Ember.isBlank(template.slug);
      });
    }),
    slugTemplates: Ember.computed('templates.[]', function () {
      let templates = this.templates || [];
      return templates.filter(function (template) {
        return !Ember.isBlank(template.slug);
      });
    }),

    activate() {
      let adapter = this.store.adapterFor(this.constructor.modelName);
      return adapter.activate(this).then(() => {
        // the server only gives us the newly active theme back so we need
        // to manually mark other themes as inactive in the store
        let activeThemes = this.store.peekAll('theme').filterBy('active', true);
        activeThemes.forEach(theme => {
          if (theme !== this) {
            // store.push is necessary to avoid dirty records that cause
            // problems when we get new data back in subsequent requests
            this.store.push({
              data: {
                id: theme.id,
                type: 'theme',
                attributes: {
                  active: false
                }
              }
            });
          }
        });
        return this;
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/models/unsplash-integration", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Object.extend({
    isActive: false
  });

  _exports.default = _default;
});
;define("ghost-admin/models/user", ["exports", "ghost-admin/models/base", "ghost-admin/mixins/validation-engine", "@ember-data/model", "ember-concurrency"], function (_exports, _base, _validationEngine, _model, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable camelcase */
  var _default = _base.default.extend(_validationEngine.default, {
    validationType: 'user',
    name: (0, _model.attr)('string'),
    slug: (0, _model.attr)('string'),
    email: (0, _model.attr)('string'),
    profileImage: (0, _model.attr)('string'),
    coverImage: (0, _model.attr)('string'),
    bio: (0, _model.attr)('string'),
    website: (0, _model.attr)('string'),
    location: (0, _model.attr)('string'),
    accessibility: (0, _model.attr)('string'),
    status: (0, _model.attr)('string'),
    locale: (0, _model.attr)('string'),
    metaTitle: (0, _model.attr)('string'),
    metaDescription: (0, _model.attr)('string'),
    lastLoginUTC: (0, _model.attr)('moment-utc'),
    createdAtUTC: (0, _model.attr)('moment-utc'),
    createdBy: (0, _model.attr)('number'),
    updatedAtUTC: (0, _model.attr)('moment-utc'),
    updatedBy: (0, _model.attr)('number'),
    roles: (0, _model.hasMany)('role', {
      embedded: 'always',
      async: false
    }),
    count: (0, _model.attr)('raw'),
    facebook: (0, _model.attr)('facebook-url-user'),
    twitter: (0, _model.attr)('twitter-url-user'),
    tour: (0, _model.attr)('json-string'),
    ghostPaths: Ember.inject.service(),
    ajax: Ember.inject.service(),
    session: Ember.inject.service(),
    notifications: Ember.inject.service(),
    config: Ember.inject.service(),
    // TODO: Once client-side permissions are in place,
    // remove the hard role check.
    isContributor: Ember.computed.equal('role.name', 'Contributor'),
    isAuthor: Ember.computed.equal('role.name', 'Author'),
    isEditor: Ember.computed.equal('role.name', 'Editor'),
    isAdmin: Ember.computed.equal('role.name', 'Administrator'),
    isOwner: Ember.computed.equal('role.name', 'Owner'),
    // These are used in enough places that it's useful to throw them here
    isOwnerOrAdmin: Ember.computed.or('isOwner', 'isAdmin'),
    isAuthorOrContributor: Ember.computed.or('isAuthor', 'isContributor'),
    isLoggedIn: Ember.computed('id', 'session.user.id', function () {
      return this.id === this.get('session.user.id');
    }),
    isActive: Ember.computed('status', function () {
      // TODO: review "locked" as an "active" status
      return ['active', 'warn-1', 'warn-2', 'warn-3', 'warn-4', 'locked'].indexOf(this.status) > -1;
    }),
    isSuspended: Ember.computed.equal('status', 'inactive'),
    isLocked: Ember.computed.equal('status', 'locked'),
    role: Ember.computed('roles', {
      get() {
        return this.get('roles.firstObject');
      },

      set(key, value) {
        // Only one role per user, so remove any old data.
        this.roles.clear();
        this.roles.pushObject(value);
        return value;
      }

    }),
    profileImageUrl: Ember.computed('ghostPaths.assetRoot', 'profileImage', function () {
      // keep path separate so asset rewriting correctly picks it up
      let defaultImage = '/img/user-image.png';
      let defaultPath = this.ghostPaths.assetRoot.replace(/\/$/, '') + defaultImage;
      return this.profileImage || defaultPath;
    }),
    coverImageUrl: Ember.computed('ghostPaths.assetRoot', 'coverImage', function () {
      // keep path separate so asset rewriting correctly picks it up
      let defaultImage = '/img/user-cover.png';
      let defaultPath = this.ghostPaths.assetRoot.replace(/\/$/, '') + defaultImage;
      return this.coverImage || defaultPath;
    }),
    saveNewPassword: (0, _emberConcurrency.task)(function* () {
      let validation = this.isLoggedIn ? 'ownPasswordChange' : 'passwordChange';

      try {
        yield this.validate({
          property: validation
        });
      } catch (e) {
        // validation error, don't do anything
        return;
      }

      try {
        let url = this.get('ghostPaths.url').api('users', 'password');
        yield this.ajax.put(url, {
          data: {
            password: [{
              user_id: this.id,
              oldPassword: this.password,
              newPassword: this.newPassword,
              ne2Password: this.ne2Password
            }]
          }
        });
        this.setProperties({
          password: '',
          newPassword: '',
          ne2Password: ''
        });
        this.notifications.showNotification('Password updated', {
          type: 'success',
          key: 'user.change-password.success'
        }); // clear errors manually for ne2password because validation
        // engine only clears the "validated proeprty"
        // TODO: clean up once we have a better validations library

        this.errors.remove('ne2Password');
        return true;
      } catch (error) {
        this.notifications.showAPIError(error, {
          key: 'user.change-password'
        });
      }
    }).drop()
  });

  _exports.default = _default;
});
;define("ghost-admin/models/webhook", ["exports", "@ember-data/model", "ghost-admin/mixins/validation-engine"], function (_exports, _model, _validationEngine) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _model.default.extend(_validationEngine.default, {
    validationType: 'webhook',
    name: (0, _model.attr)('string'),
    event: (0, _model.attr)('string'),
    targetUrl: (0, _model.attr)('string'),
    secret: (0, _model.attr)('string'),
    lastTriggeredAtUTC: (0, _model.attr)('moment-utc'),
    createdAtUTC: (0, _model.attr)('moment-utc'),
    createdBy: (0, _model.attr)('number'),
    updatedAtUTC: (0, _model.attr)('moment-utc'),
    updatedBy: (0, _model.attr)('number'),
    integration: (0, _model.belongsTo)('integration')
  });

  _exports.default = _default;
});
;define("ghost-admin/modifiers/autofocus", ["exports", "ember-modifier"], function (_exports, _emberModifier) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = (0, _emberModifier.modifier)(element => element.focus());

  _exports.default = _default;
});
;define("ghost-admin/modifiers/did-insert", ["exports", "@ember/render-modifiers/modifiers/did-insert"], function (_exports, _didInsert) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _didInsert.default;
    }
  });
});
;define("ghost-admin/modifiers/did-update", ["exports", "@ember/render-modifiers/modifiers/did-update"], function (_exports, _didUpdate) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _didUpdate.default;
    }
  });
});
;define("ghost-admin/modifiers/will-destroy", ["exports", "@ember/render-modifiers/modifiers/will-destroy"], function (_exports, _willDestroy) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _willDestroy.default;
    }
  });
});
;define("ghost-admin/router", ["exports", "ghost-admin/config/environment", "ghost-admin/utils/ghost-paths"], function (_exports, _environment, _ghostPaths) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  const Router = Ember.Router.extend({
    location: _environment.default.locationType,
    // use HTML5 History API instead of hash-tag based URLs
    rootURL: (0, _ghostPaths.default)().adminRoot // admin interface lives under sub-directory /ghost

  });
  Router.map(function () {
    this.route('home', {
      path: '/'
    });
    this.route('setup', function () {
      this.route('one');
      this.route('two');
      this.route('three');
    });
    this.route('signin');
    this.route('signout');
    this.route('signup', {
      path: '/signup/:token'
    });
    this.route('reset', {
      path: '/reset/:token'
    });
    this.route('about');
    this.route('site');
    this.route('billing');
    this.route('posts');
    this.route('pages');
    this.route('editor', function () {
      this.route('new', {
        path: ':type'
      });
      this.route('edit', {
        path: ':type/:post_id'
      });
    });
    this.route('staff', function () {
      this.route('user', {
        path: ':user_slug'
      });
    });
    this.route('tags');
    this.route('tag.new', {
      path: '/tags/new'
    });
    this.route('tag', {
      path: '/tags/:tag_slug'
    });
    this.route('settings.general', {
      path: '/settings/general'
    });
    this.route('settings.labs', {
      path: '/settings/labs'
    });
    this.route('settings.code-injection', {
      path: '/settings/code-injection'
    });
    this.route('settings.design', {
      path: '/settings/design'
    }, function () {
      this.route('uploadtheme');
    });
    this.route('settings.integrations', {
      path: '/settings/integrations'
    }, function () {
      this.route('new');
    });
    this.route('settings.integration', {
      path: '/settings/integrations/:integration_id'
    }, function () {
      this.route('webhooks.new', {
        path: 'webhooks/new'
      });
      this.route('webhooks.edit', {
        path: 'webhooks/:webhook_id'
      });
    });
    this.route('settings.integrations.slack', {
      path: '/settings/integrations/slack'
    });
    this.route('settings.integrations.amp', {
      path: '/settings/integrations/amp'
    });
    this.route('settings.integrations.unsplash', {
      path: '/settings/integrations/unsplash'
    });
    this.route('settings.integrations.zapier', {
      path: '/settings/integrations/zapier'
    });
    this.route('members', function () {
      this.route('import');
    });
    this.route('member.new', {
      path: '/members/new'
    });
    this.route('member', {
      path: '/members/:member_id'
    });
    this.route('error404', {
      path: '/*path'
    });
  });
  var _default = Router;
  _exports.default = _default;
});
;define("ghost-admin/routes/about", ["exports", "ghost-admin/routes/authenticated"], function (_exports, _authenticated) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend({
    buildRouteInfoMetadata() {
      return {
        titleToken: 'About'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/application", ["exports", "ember-simple-auth/mixins/application-route-mixin", "ember-simple-auth/configuration", "ghost-admin/mixins/shortcuts-route", "ghost-admin/utils/ctrl-or-cmd", "ghost-admin/utils/window-proxy", "ember-ajax/errors", "ghost-admin/services/ajax"], function (_exports, _applicationRouteMixin, _configuration, _shortcutsRoute, _ctrlOrCmd, _windowProxy, _errors, _ajax) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  function K() {
    return this;
  }

  let shortcuts = {};
  shortcuts.esc = {
    action: 'closeMenus',
    scope: 'default'
  };
  shortcuts[`${_ctrlOrCmd.default}+s`] = {
    action: 'save',
    scope: 'all'
  };

  var _default = Ember.Route.extend(_applicationRouteMixin.default, _shortcutsRoute.default, {
    ajax: Ember.inject.service(),
    config: Ember.inject.service(),
    feature: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    notifications: Ember.inject.service(),
    router: Ember.inject.service(),
    settings: Ember.inject.service(),
    tour: Ember.inject.service(),
    ui: Ember.inject.service(),
    whatsNew: Ember.inject.service(),
    shortcuts,
    routeAfterAuthentication: 'home',

    init() {
      this._super(...arguments);

      this.router.on('routeDidChange', () => {
        this.notifications.displayDelayed();
      });
    },

    beforeModel() {
      return this.config.fetchUnauthenticated();
    },

    afterModel(model, transition) {
      this._super(...arguments);

      if (this.get('session.isAuthenticated')) {
        this.set('appLoadTransition', transition);
        transition.send('loadServerNotifications'); // return the feature/settings load promises so that we block until
        // they are loaded to enable synchronous access everywhere

        return Ember.RSVP.all([this.config.fetchAuthenticated(), this.feature.fetch(), this.settings.fetch(), this.tour.fetchViewed()]).then(results => {
          this._appLoaded = true; // kick off background update of "whats new"
          // - we don't want to block the router for this
          // - we need the user details to know what the user has seen

          this.whatsNew.fetchLatest.perform();
          return results;
        });
      }

      this._appLoaded = true;
    },

    actions: {
      closeMenus() {
        this.ui.closeMenus();
      },

      didTransition() {
        this.set('appLoadTransition', null);
        this.send('closeMenus');
      },

      signedIn() {
        this.notifications.clearAll();
        this.send('loadServerNotifications', true);
      },

      authorizationFailed() {
        _windowProxy.default.replaceLocation(_configuration.default.rootURL);
      },

      loadServerNotifications(isDelayed) {
        if (this.get('session.isAuthenticated')) {
          this.get('session.user').then(user => {
            if (!user.get('isAuthorOrContributor')) {
              this.store.findAll('notification', {
                reload: true
              }).then(serverNotifications => {
                serverNotifications.forEach(notification => {
                  if (notification.get('top') || notification.get('custom')) {
                    this.notifications.handleNotification(notification, isDelayed);
                  } else {
                    this.upgradeStatus.handleUpgradeNotification(notification);
                  }
                });
              });
            }
          });
        }
      },

      // noop default for unhandled save (used from shortcuts)
      save: K,

      error(error, transition) {
        // unauthoirized errors are already handled in the ajax service
        if ((0, _errors.isUnauthorizedError)(error)) {
          return false;
        }

        if ((0, _errors.isNotFoundError)(error)) {
          if (transition) {
            transition.abort();
          }

          let routeInfo = transition.to;
          let router = this.router;
          let params = [];

          for (let key of Object.keys(routeInfo.params)) {
            params.push(routeInfo.params[key]);
          }

          let url = router.urlFor(routeInfo.name, ...params).replace(/^#\//, '').replace(/^\//, '').replace(/^ghost\//, '');
          return this.replaceWith('error404', url);
        }

        if ((0, _ajax.isVersionMismatchError)(error)) {
          if (transition) {
            transition.abort();
          }

          this.upgradeStatus.requireUpgrade();

          if (this._appLoaded) {
            return false;
          }
        }

        if ((0, _ajax.isMaintenanceError)(error)) {
          if (transition) {
            transition.abort();
          }

          this.upgradeStatus.maintenanceAlert();

          if (this._appLoaded) {
            return false;
          }
        }

        if ((0, _errors.isAjaxError)(error) || error && error.payload && Ember.isArray(error.payload.errors)) {
          this.notifications.showAPIError(error); // don't show the 500 page if we weren't navigating

          if (!transition) {
            return false;
          }
        } // fallback to 500 error page


        return true;
      }

    },

    sessionAuthenticated() {
      if (this.get('session.skipAuthSuccessHandler')) {
        return;
      } // standard ESA post-sign-in redirect


      this._super(...arguments); // trigger post-sign-in background behaviour


      this.get('session.user').then(user => {
        this.send('signedIn', user);
      });
    },

    sessionInvalidated() {
      let transition = this.appLoadTransition;

      if (transition) {
        transition.send('authorizationFailed');
      } else {
        Ember.run.scheduleOnce('routerTransitions', this, 'send', 'authorizationFailed');
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/authenticated", ["exports", "ember-simple-auth/mixins/authenticated-route-mixin"], function (_exports, _authenticatedRouteMixin) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Route.extend(_authenticatedRouteMixin.default, {
    authenticationRoute: 'signin'
  });

  _exports.default = _default;
});
;define("ghost-admin/routes/billing", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Route.extend({
    billing: Ember.inject.service(),
    queryParams: {
      action: {
        refreshModel: true
      }
    },

    model(params) {
      if (params.action) {
        this.billing.set('action', params.action);
      }

      this.billing.set('billingWindowOpen', true); // NOTE: if this route is ever triggered it was opened through external link because
      //       the route has no underlying templates to render we redirect to root route

      this.transitionTo('/');
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/editor", ["exports", "jquery", "ghost-admin/routes/authenticated", "ghost-admin/mixins/shortcuts-route", "ghost-admin/utils/ctrl-or-cmd"], function (_exports, _jquery, _authenticated, _shortcutsRoute, _ctrlOrCmd) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  let generalShortcuts = {};
  generalShortcuts[`${_ctrlOrCmd.default}+shift+p`] = 'publish';

  var _default = _authenticated.default.extend(_shortcutsRoute.default, {
    feature: Ember.inject.service(),
    notifications: Ember.inject.service(),
    userAgent: Ember.inject.service(),
    ui: Ember.inject.service(),
    classNames: ['editor'],
    shortcuts: generalShortcuts,

    activate() {
      this._super(...arguments);

      this.ui.set('isFullScreen', true);
    },

    setupController() {
      this._super(...arguments); // edge has known issues


      if (this.userAgent.browser.isEdge && this.userAgent.parser.getEngine().name === 'EdgeHTML') {
        this.notifications.showAlert(Ember.String.htmlSafe('Microsoft Edge is not currently supported. Please switch to <a href="https://ghost.org/downloads/" target="_blank" rel="noopener">Ghost Desktop</a> or a recent version of Chrome/Firefox/Safari.'), {
          type: 'info',
          key: 'koenig.browserSupport'
        });
      } // mobile browsers are not currently supported


      if (this.userAgent.device.isMobile || this.userAgent.device.isTablet) {
        this.notifications.showAlert(Ember.String.htmlSafe('Mobile editing is not currently supported. Please use a desktop browser or <a href="https://ghost.org/downloads/" target="_blank" rel="noopener">Ghost Desktop</a>.'), {
          type: 'info',
          key: 'koenig.browserSupport'
        });
      }
    },

    deactivate() {
      this._super(...arguments);

      this.ui.set('isFullScreen', false);
    },

    actions: {
      save() {
        this._blurAndScheduleAction(function () {
          this.controller.send('save');
        });
      },

      publish() {
        this._blurAndScheduleAction(function () {
          this.controller.send('setSaveType', 'publish');
          this.controller.send('save');
        });
      },

      authorizationFailed() {
        this.controller.send('toggleReAuthenticateModal');
      },

      redirectToContentScreen(displayName) {
        this.transitionTo(displayName === 'page' ? 'pages' : 'posts');
      },

      willTransition(transition) {
        // exit early if an upgrade is required because our extended route
        // class will abort the transition and show an error
        if (this.get('upgradeStatus.isRequired')) {
          return this._super(...arguments);
        }

        this.controller.willTransition(transition);
      }

    },

    buildRouteInfoMetadata() {
      return {
        titleToken: () => {
          return this.get('controller.post.title') || 'Editor';
        },
        mainClasses: ['gh-main-white']
      };
    },

    _blurAndScheduleAction(func) {
      let selectedElement = (0, _jquery.default)(document.activeElement); // TODO: we should trigger a blur for textareas as well as text inputs

      if (selectedElement.is('input[type="text"]')) {
        selectedElement.trigger('focusout');
      } // wait for actions triggered by the focusout to finish before saving


      Ember.run.scheduleOnce('actions', this, func);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/editor/edit", ["exports", "ghost-admin/routes/authenticated", "ember-inflector"], function (_exports, _authenticated, _emberInflector) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend({
    beforeModel(transition) {
      this._super(...arguments); // if the transition is not new->edit, reset the post on the controller
      // so that the editor view is cleared before showing the loading state


      if (transition.urlMethod !== 'replace') {
        let editor = this.controllerFor('editor');
        editor.set('post', null);
        editor.reset();
      }
    },

    model(params, transition) {
      // eslint-disable-next-line camelcase
      let {
        type: modelName,
        post_id
      } = params;

      if (!['post', 'page'].includes(modelName)) {
        let path = transition.intent.url.replace(/^\//, '');
        return this.replaceWith('error404', {
          path,
          status: 404
        });
      }

      let query = {
        id: post_id
      };
      return this.store.query(modelName, query).then(records => records.get('firstObject'));
    },

    // the API will return a post even if the logged in user doesn't have
    // permission to edit it (all posts are public) so we need to do our
    // own permissions check and redirect if necessary
    afterModel(post) {
      this._super(...arguments);

      return this.get('session.user').then(user => {
        let returnRoute = (0, _emberInflector.pluralize)(post.constructor.modelName);

        if (user.get('isAuthorOrContributor') && !post.isAuthoredByUser(user)) {
          return this.replaceWith(returnRoute);
        } // If the post is not a draft and user is contributor, redirect to index


        if (user.get('isContributor') && !post.get('isDraft')) {
          return this.replaceWith(returnRoute);
        }
      });
    },

    serialize(model) {
      return {
        type: model.constructor.modelName,
        post_id: model.id
      };
    },

    // there's no specific controller for this route, instead all editor
    // handling is done on the editor route/controler
    setupController(controller, post) {
      let editor = this.controllerFor('editor');
      editor.setPost(post);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/editor/index", ["exports", "ghost-admin/routes/authenticated"], function (_exports, _authenticated) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend({
    beforeModel() {
      this._super(...arguments);

      this.replaceWith('editor.new', 'post');
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/editor/new", ["exports", "ghost-admin/routes/authenticated"], function (_exports, _authenticated) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend({
    model(params, transition) {
      let {
        type: modelName
      } = params;

      if (!['post', 'page'].includes(modelName)) {
        let path = transition.intent.url.replace(/^\//, '');
        return this.replaceWith('error404', {
          path,
          status: 404
        });
      }

      return this.get('session.user').then(user => this.store.createRecord(modelName, {
        authors: [user]
      }));
    },

    // there's no specific controller for this route, instead all editor
    // handling is done on the editor route/controler
    setupController(controller, newPost) {
      let editor = this.controllerFor('editor');
      editor.setPost(newPost);
    },

    buildRouteInfoMetadata() {
      return {
        mainClasses: ['editor-new']
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/error404", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Route.extend({
    controllerName: 'error',
    templateName: 'error',

    model() {
      return {
        status: 404
      };
    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Error',
        mainClasses: ['gh-main-white']
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/home", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Route.extend({
    beforeModel() {
      this.transitionTo('site');
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/member", ["exports", "ghost-admin/routes/authenticated", "ghost-admin/mixins/current-user-settings"], function (_exports, _authenticated, _currentUserSettings) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend(_currentUserSettings.default, {
    router: Ember.inject.service(),
    _requiresBackgroundRefresh: true,

    init() {
      this._super(...arguments);

      this.router.on('routeWillChange', transition => {
        this.showUnsavedChangesModal(transition);
      });
    },

    beforeModel() {
      this._super(...arguments);

      return this.get('session.user').then(this.transitionAuthor());
    },

    model(params) {
      this._requiresBackgroundRefresh = false;

      if (params.member_id) {
        return this.store.findRecord('member', params.member_id, {
          reload: true
        });
      } else {
        return this.store.createRecord('member');
      }
    },

    setupController(controller, member) {
      this._super(...arguments);

      if (this._requiresBackgroundRefresh) {
        controller.fetchMember.perform(member.get('id'));
      }
    },

    deactivate() {
      this._super(...arguments); // clean up newly created records and revert unsaved changes to existing


      this.controller.member.rollbackAttributes();
      this._requiresBackgroundRefresh = true;
    },

    actions: {
      save() {
        this.controller.send('save');
      }

    },

    titleToken() {
      return this.controller.get('member.name');
    },

    showUnsavedChangesModal(transition) {
      if (transition.from && transition.from.name === this.routeName && transition.targetName) {
        let {
          controller
        } = this; // member.changedAttributes is always true for new members but number of changed attrs is reliable

        let isChanged = Object.keys(controller.member.changedAttributes()).length > 0;

        if (!controller.member.isDeleted && isChanged) {
          transition.abort();
          controller.send('toggleUnsavedChangesModal', transition);
          return;
        }
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/member/new", ["exports", "ghost-admin/routes/member"], function (_exports, _member) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _member.default.extend({
    controllerName: 'member',
    templateName: 'member'
  });

  _exports.default = _default;
});
;define("ghost-admin/routes/members", ["exports", "ghost-admin/routes/authenticated"], function (_exports, _authenticated) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend({
    config: Ember.inject.service(),
    queryParams: {
      label: {
        refreshModel: true
      }
    },

    // redirect to posts screen if:
    // - TODO: members is disabled?
    // - logged in user isn't owner/admin
    beforeModel() {
      this._super(...arguments);

      return this.session.user.then(user => {
        if (!user.isOwnerOrAdmin) {
          return this.transitionTo('home');
        }
      });
    },

    // trigger a background load of labels for filter dropdown
    setupController(controller) {
      this._super(...arguments);

      controller.fetchMembers.perform();

      if (!controller._hasLoadedLabels) {
        this.store.query('label', {
          limit: 'all'
        }).then(() => {
          controller._hasLoadedLabels = true;
        });
      }
    },

    deactivate() {
      this._super(...arguments);

      this.controller.modalLabel && this.controller.modalLabel.rollbackAttributes();
    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Members'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/members/import", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Route.extend({});

  _exports.default = _default;
});
;define("ghost-admin/routes/pages", ["exports", "ghost-admin/routes/posts"], function (_exports, _posts) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _posts.default.extend({
    modelName: 'page',

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Pages'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/posts", ["exports", "ghost-admin/routes/authenticated"], function (_exports, _authenticated) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend({
    infinity: Ember.inject.service(),
    router: Ember.inject.service(),
    queryParams: {
      type: {
        refreshModel: true
      },
      author: {
        refreshModel: true
      },
      tag: {
        refreshModel: true
      },
      order: {
        refreshModel: true
      }
    },
    modelName: 'post',
    perPage: 30,

    init() {
      this._super(...arguments); // if we're already on this route and we're transiting _to_ this route
      // then the filters are being changed and we shouldn't create a new
      // browser history entry
      // see https://github.com/TryGhost/Ghost/issues/11057


      this.router.on('routeWillChange', transition => {
        if (transition.to && (this.routeName === 'posts' || this.routeName === 'pages')) {
          let toThisRoute = transition.to.find(route => route.name === this.routeName);

          if (transition.from && transition.from.name === this.routeName && toThisRoute) {
            transition.method('replace');
          }
        }
      });
    },

    model(params) {
      return this.session.user.then(user => {
        let queryParams = {};
        let filterParams = {
          tag: params.tag
        };
        let paginationParams = {
          perPageParam: 'limit',
          totalPagesParam: 'meta.pagination.pages'
        };
        Ember.assign(filterParams, this._getTypeFilters(params.type));

        if (params.type === 'featured') {
          filterParams.featured = true;
        }

        if (user.isAuthor) {
          // authors can only view their own posts
          filterParams.authors = user.slug;
        } else if (user.isContributor) {
          // Contributors can only view their own draft posts
          filterParams.authors = user.slug;
          filterParams.status = 'draft';
        } else if (params.author) {
          filterParams.authors = params.author;
        }

        let filter = this._filterString(filterParams);

        if (!Ember.isBlank(filter)) {
          queryParams.filter = filter;
        }

        if (!Ember.isBlank(params.order)) {
          queryParams.order = params.order;
        }

        let perPage = this.perPage;
        let paginationSettings = Ember.assign({
          perPage,
          startingPage: 1
        }, paginationParams, queryParams);
        return this.infinity.model(this.modelName, paginationSettings);
      });
    },

    // trigger a background load of all tags and authors for use in the filter dropdowns
    setupController(controller) {
      this._super(...arguments);

      if (!controller._hasLoadedTags) {
        this.store.query('tag', {
          limit: 'all'
        }).then(() => {
          controller._hasLoadedTags = true;
        });
      }

      this.session.user.then(user => {
        if (!user.isAuthorOrContributor && !controller._hasLoadedAuthors) {
          this.store.query('user', {
            limit: 'all'
          }).then(() => {
            controller._hasLoadedAuthors = true;
          });
        }
      });
    },

    actions: {
      queryParamsDidChange() {
        // scroll back to the top
        let contentList = document.querySelector('.content-list');

        if (contentList) {
          contentList.scrollTop = 0;
        }

        this._super(...arguments);
      }

    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Posts'
      };
    },

    _getTypeFilters(type) {
      let status = '[draft,scheduled,published]';

      switch (type) {
        case 'draft':
          status = 'draft';
          break;

        case 'published':
          status = 'published';
          break;

        case 'scheduled':
          status = 'scheduled';
          break;
      }

      return {
        status
      };
    },

    _filterString(filter) {
      return Object.keys(filter).map(key => {
        let value = filter[key];

        if (!Ember.isBlank(value)) {
          return `${key}:${filter[key]}`;
        }
      }).compact().join('+');
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/reset", ["exports", "ghost-admin/mixins/unauthenticated-route-mixin"], function (_exports, _unauthenticatedRouteMixin) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Route.extend(_unauthenticatedRouteMixin.default, {
    notifications: Ember.inject.service(),
    session: Ember.inject.service(),

    beforeModel() {
      if (this.get('session.isAuthenticated')) {
        this.notifications.showAlert('You can\'t reset your password while you\'re signed in.', {
          type: 'warn',
          delayed: true,
          key: 'password.reset.signed-in'
        });
      }

      this._super(...arguments);
    },

    setupController(controller, params) {
      controller.token = params.token;
    },

    // Clear out any sensitive information
    deactivate() {
      this._super(...arguments);

      this.controller.clearData();
    },

    buildRouteInfoMetadata() {
      return {
        bodyClasses: ['unauthenticated-route']
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/settings/code-injection", ["exports", "ghost-admin/routes/authenticated", "ghost-admin/mixins/current-user-settings"], function (_exports, _authenticated, _currentUserSettings) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend(_currentUserSettings.default, {
    settings: Ember.inject.service(),

    beforeModel() {
      this._super(...arguments);

      return this.get('session.user').then(this.transitionAuthor()).then(this.transitionEditor());
    },

    model() {
      return this.settings.reload();
    },

    deactivate() {
      this._super(...arguments);

      this.controller.set('leaveSettingsTransition', null);
      this.controller.set('showLeaveSettingsModal', false);
    },

    actions: {
      save() {
        this.controller.send('save');
      },

      willTransition(transition) {
        let controller = this.controller;
        let settings = this.settings;
        let modelIsDirty = settings.get('hasDirtyAttributes');

        if (modelIsDirty) {
          transition.abort();
          controller.send('toggleLeaveSettingsModal', transition);
          return;
        }
      }

    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Settings - Code injection'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/settings/design", ["exports", "jquery", "ghost-admin/routes/authenticated", "ghost-admin/mixins/current-user-settings"], function (_exports, _jquery, _authenticated, _currentUserSettings) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend(_currentUserSettings.default, {
    settings: Ember.inject.service(),

    beforeModel() {
      this._super(...arguments);

      return this.get('session.user').then(this.transitionAuthor());
    },

    model() {
      return Ember.RSVP.hash({
        settings: this.settings.reload(),
        themes: this.store.findAll('theme')
      });
    },

    setupController(controller) {
      controller.set('themes', this.store.peekAll('theme'));
      this.controller.send('reset');
    },

    deactivate() {
      this._super(...arguments);

      this.controller.set('leaveSettingsTransition', null);
      this.controller.set('showLeaveSettingsModal', false);
    },

    actions: {
      save() {
        // since shortcuts are run on the route, we have to signal to the components
        // on the page that we're about to save.
        (0, _jquery.default)('.page-actions .gh-btn-blue').focus();
        this.controller.send('save');
      },

      willTransition(transition) {
        let controller = this.controller;
        let modelIsDirty = controller.dirtyAttributes;

        if (modelIsDirty) {
          transition.abort();
          controller.send('toggleLeaveSettingsModal', transition);
          return;
        }
      },

      activateTheme(theme) {
        return this.controller.send('activateTheme', theme);
      }

    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Settings - Design'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/settings/design/uploadtheme", ["exports", "ghost-admin/routes/authenticated"], function (_exports, _authenticated) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend({
    model() {
      return this.store.findAll('theme');
    },

    setupController(controller, model) {
      controller.set('themes', model);
    },

    actions: {
      cancel() {
        this.transitionTo('settings.design');
      }

    }
  });

  _exports.default = _default;
});
;define("ghost-admin/routes/settings/general", ["exports", "ghost-admin/routes/authenticated", "ghost-admin/mixins/current-user-settings"], function (_exports, _authenticated, _currentUserSettings) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend(_currentUserSettings.default, {
    config: Ember.inject.service(),
    settings: Ember.inject.service(),

    beforeModel() {
      this._super(...arguments);

      return this.get('session.user').then(this.transitionAuthor()).then(this.transitionEditor());
    },

    model() {
      return Ember.RSVP.hash({
        settings: this.settings.reload(),
        availableTimezones: this.get('config.availableTimezones')
      });
    },

    setupController(controller, models) {
      // reset the leave setting transition
      controller.set('showLeaveSettingsModal', false);
      controller.set('leaveSettingsTransition', null);
      controller.set('availableTimezones', models.availableTimezones);
    },

    actions: {
      save() {
        return this.controller.send('save');
      },

      reloadSettings() {
        return this.settings.reload();
      },

      willTransition(transition) {
        let controller = this.controller;
        let settings = this.settings;
        let settingsIsDirty = settings.get('hasDirtyAttributes');

        if (settingsIsDirty) {
          transition.abort();
          controller.send('toggleLeaveSettingsModal', transition);
          return;
        }
      }

    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Settings - General'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/settings/integration", ["exports", "ghost-admin/routes/authenticated", "ghost-admin/mixins/current-user-settings"], function (_exports, _authenticated, _currentUserSettings) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend(_currentUserSettings.default, {
    router: Ember.inject.service(),

    init() {
      this._super(...arguments);

      this.router.on('routeWillChange', transition => {
        this.showUnsavedChangesModal(transition);

        if (this.controller) {
          this.controller.set('selectedApiKey', null);
          this.controller.set('isApiKeyRegenerated', false);
        }
      });
    },

    beforeModel() {
      this._super(...arguments);

      return this.get('session.user').then(this.transitionAuthor()).then(this.transitionEditor());
    },

    model(params, transition) {
      // use the integrations controller to fetch all integrations and pick
      // out the one we want. Allows navigation back to integrations screen
      // without a loading state
      return this.controllerFor('settings.integrations').integrationModelHook('id', params.integration_id, this, transition);
    },

    deactivate() {
      this._super(...arguments);

      this.controller.set('leaveScreenTransition', null);
      this.controller.set('showUnsavedChangesModal', false);
    },

    actions: {
      save() {
        this.controller.send('save');
      }

    },

    showUnsavedChangesModal(transition) {
      if (transition.from && transition.from.name.match(/^settings\.integration\./) && transition.targetName) {
        let {
          controller
        } = this; // check to see if we're navigating away from the custom integration
        // route - we want to allow editing webhooks without showing the
        // "unsaved changes" confirmation modal

        let isExternalRoute = // allow sub-routes of settings.integration
        !(transition.targetName || '').match(/^settings\.integration\./) // do not allow changes in integration
        // .to will be the index, so use .to.parent to get the route with the params
        || transition.to.parent.params.integration_id !== controller.integration.id;

        if (isExternalRoute && !controller.integration.isDeleted && controller.integration.hasDirtyAttributes) {
          transition.abort();
          controller.send('toggleUnsavedChangesModal', transition);
          return;
        }
      }
    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Settings - Integrations'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/settings/integration/webhooks/edit", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Route.extend({
    model(params) {
      let integration = this.modelFor('settings.integration');
      let webhook = integration.webhooks.findBy('id', params.webhook_id);
      return webhook;
    },

    deactivate() {
      this._super(...arguments);

      this.controller.reset();
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/settings/integration/webhooks/new", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Route.extend({
    model() {
      let integration = this.modelFor('settings.integration');
      return this.store.createRecord('webhook', {
        integration
      });
    },

    deactivate() {
      this._super(...arguments);

      this.controller.webhook.rollbackAttributes();
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/settings/integrations", ["exports", "ghost-admin/routes/authenticated", "ghost-admin/mixins/current-user-settings"], function (_exports, _authenticated, _currentUserSettings) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend(_currentUserSettings.default, {
    settings: Ember.inject.service(),

    beforeModel() {
      this._super(...arguments);

      return this.get('session.user').then(this.transitionAuthor()).then(this.transitionEditor());
    },

    setupController(controller) {
      // kick off the background fetch of integrations so that we can
      // show the screen immediately
      controller.fetchIntegrations.perform();
    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Settings - Integrations'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/settings/integrations/amp", ["exports", "ghost-admin/routes/authenticated", "ghost-admin/mixins/current-user-settings"], function (_exports, _authenticated, _currentUserSettings) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend(_currentUserSettings.default, {
    settings: Ember.inject.service(),

    beforeModel() {
      this._super(...arguments);

      return this.get('session.user').then(this.transitionAuthor()).then(this.transitionEditor()).then(this.settings.reload());
    },

    actions: {
      save() {
        this.controller.send('save');
      },

      willTransition(transition) {
        let controller = this.controller;
        let modelIsDirty = this.settings.get('hasDirtyAttributes');

        if (modelIsDirty) {
          transition.abort();
          controller.send('toggleLeaveSettingsModal', transition);
          return;
        }
      }

    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'AMP'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/settings/integrations/new", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Route.extend({
    model() {
      return this.store.createRecord('integration');
    },

    deactivate() {
      this._super(...arguments);

      this.controller.integration.rollbackAttributes();
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/settings/integrations/slack", ["exports", "ghost-admin/routes/authenticated", "ghost-admin/mixins/current-user-settings"], function (_exports, _authenticated, _currentUserSettings) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend(_currentUserSettings.default, {
    settings: Ember.inject.service(),

    beforeModel() {
      this._super(...arguments);

      return this.get('session.user').then(this.transitionAuthor()).then(this.transitionEditor()).then(this.settings.reload());
    },

    actions: {
      save() {
        this.controller.send('save');
      },

      willTransition(transition) {
        let controller = this.controller;
        let settings = this.settings;
        let modelIsDirty = settings.get('hasDirtyAttributes');

        if (modelIsDirty) {
          transition.abort();
          controller.send('toggleLeaveSettingsModal', transition);
          return;
        }
      }

    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Slack'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/settings/integrations/unsplash", ["exports", "ghost-admin/routes/authenticated", "ghost-admin/mixins/current-user-settings", "ghost-admin/models/unsplash-integration"], function (_exports, _authenticated, _currentUserSettings, _unsplashIntegration) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend(_currentUserSettings.default, {
    config: Ember.inject.service(),
    settings: Ember.inject.service(),

    // reload settings to ensure we have latest values and pre-configure
    // Unsplash to be active if the server doesn't have any unsplash setting
    beforeModel() {
      this._super(...arguments);

      let {
        settings
      } = this;
      return this.get('session.user').then(this.transitionAuthor()).then(this.transitionEditor()).then(this.settings.reload()).then(() => {
        if (settings.get('unsplash')) {
          return;
        } // server doesn't have any unsplash settings by default but it can provide
        // overrides via config:
        // - isActive: use as default but allow settings override
        // - applicationId: total override, no field is shown if present


        let unsplash = _unsplashIntegration.default.create({
          isActive: true
        });

        settings.set('unsplash', unsplash);
      });
    },

    actions: {
      save() {
        this.controller.send('save');
      },

      willTransition(transition) {
        let controller = this.controller;
        let modelIsDirty = controller.dirtyAttributes;

        if (modelIsDirty) {
          transition.abort();
          controller.send('toggleLeaveSettingsModal', transition);
          return;
        }
      }

    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Unsplash'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/settings/integrations/zapier", ["exports", "ghost-admin/routes/authenticated", "ghost-admin/mixins/current-user-settings"], function (_exports, _authenticated, _currentUserSettings) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend(_currentUserSettings.default, {
    router: Ember.inject.service(),

    init() {
      this._super(...arguments);

      this.router.on('routeWillChange', () => {
        if (this.controller) {
          this.controller.set('selectedApiKey', null);
          this.controller.set('isApiKeyRegenerated', false);
        }
      });
    },

    beforeModel() {
      this._super(...arguments);

      return this.get('session.user').then(this.transitionAuthor()).then(this.transitionEditor());
    },

    model(params, transition) {
      // use the integrations controller to fetch all integrations and pick
      // out the one we want. Allows navigation back to integrations screen
      // without a loading state
      return this.controllerFor('settings.integrations').integrationModelHook('slug', 'zapier', this, transition);
    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Zapier'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/settings/labs", ["exports", "ghost-admin/routes/authenticated", "ghost-admin/mixins/current-user-settings"], function (_exports, _authenticated, _currentUserSettings) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend(_currentUserSettings.default, {
    settings: Ember.inject.service(),

    beforeModel() {
      this._super(...arguments);

      return this.get('session.user').then(this.transitionAuthor()).then(this.transitionEditor());
    },

    model() {
      return this.settings.reload();
    },

    resetController(controller, isExiting) {
      if (isExiting) {
        controller.reset();
      }
    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Settings - Labs'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/setup", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Route.extend({
    ghostPaths: Ember.inject.service(),
    session: Ember.inject.service(),
    ajax: Ember.inject.service(),
    config: Ember.inject.service(),

    // use the beforeModel hook to check to see whether or not setup has been
    // previously completed.  If it has, stop the transition into the setup page.
    beforeModel() {
      this._super(...arguments);

      if (this.get('session.isAuthenticated')) {
        return this.transitionTo('home');
      }

      let authUrl = this.get('ghostPaths.url').api('authentication', 'setup'); // check the state of the setup process via the API

      return this.ajax.request(authUrl).then(result => {
        let [setup] = result.setup;

        if (setup.status) {
          return this.transitionTo('signin');
        } else {
          let controller = this.controllerFor('setup/two');

          if (setup.title) {
            controller.set('blogTitle', setup.title.replace(/&apos;/gim, '\''));
          }

          if (setup.name) {
            controller.set('name', setup.name.replace(/&apos;/gim, '\''));
          }

          if (setup.email) {
            controller.set('email', setup.email);
          }
        }
      });
    },

    deactivate() {
      this._super(...arguments);

      this.controllerFor('setup/two').set('password', '');
    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Setup',
        bodyClasses: ['unauthenticated-route'],
        mainClasses: ['gh-main-white']
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/setup/index", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Route.extend({
    beforeModel() {
      this._super(...arguments);

      this.transitionTo('setup.one');
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/setup/three", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Route.extend({
    beforeModel() {
      this._super(...arguments);

      if (!this.controllerFor('setup.two').get('blogCreated')) {
        this.transitionTo('setup.two');
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/signin", ["exports", "ember-data", "ghost-admin/mixins/unauthenticated-route-mixin"], function (_exports, _emberData, _unauthenticatedRouteMixin) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  // TODO: remove usage of Ember Data's private `Errors` class when refactoring validations
  // eslint-disable-next-line
  const {
    Errors
  } = _emberData.default;

  const defaultModel = function defaultModel() {
    return Ember.Object.create({
      identification: '',
      password: '',
      errors: Errors.create()
    });
  };

  var _default = Ember.Route.extend(_unauthenticatedRouteMixin.default, {
    model() {
      return defaultModel();
    },

    // the deactivate hook is called after a route has been exited.
    deactivate() {
      let controller = this.controllerFor('signin');

      this._super(...arguments); // clear the properties that hold the credentials when we're no longer on the signin screen


      controller.set('signin', defaultModel());
    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Sign In',
        bodyClasses: ['unauthenticated-route']
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/signout", ["exports", "ghost-admin/routes/authenticated"], function (_exports, _authenticated) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend({
    notifications: Ember.inject.service(),

    afterModel()
    /*model, transition*/
    {
      this.notifications.clearAll();
      this.session.invalidate();
    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Sign Out'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/signup", ["exports", "ember-data", "ghost-admin/mixins/unauthenticated-route-mixin", "ghost-admin/mixins/validation-engine"], function (_exports, _emberData, _unauthenticatedRouteMixin, _validationEngine) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  // TODO: remove usage of Ember Data's private `Errors` class when refactoring validations
  // eslint-disable-next-line
  const {
    Promise
  } = Ember.RSVP;
  const {
    Errors
  } = _emberData.default;

  var _default = Ember.Route.extend(_unauthenticatedRouteMixin.default, {
    ghostPaths: Ember.inject.service(),
    notifications: Ember.inject.service(),
    session: Ember.inject.service(),
    ajax: Ember.inject.service(),
    config: Ember.inject.service(),

    beforeModel() {
      if (this.get('session.isAuthenticated')) {
        this.notifications.showAlert('You need to sign out to register as a new user.', {
          type: 'warn',
          delayed: true,
          key: 'signup.create.already-authenticated'
        });
      }

      this._super(...arguments);
    },

    model(params) {
      let SignupDetails = Ember.Object.extend(_validationEngine.default, {
        validationType: 'signup'
      });
      let signupDetails = SignupDetails.create();
      let re = /^(?:[A-Za-z0-9_-]{4})*(?:[A-Za-z0-9_-]{2}|[A-Za-z0-9_-]{3})?$/;
      let email, tokenText;
      return new Promise(resolve => {
        if (!re.test(params.token)) {
          this.notifications.showAlert('Invalid token.', {
            type: 'error',
            delayed: true,
            key: 'signup.create.invalid-token'
          });
          return resolve(this.transitionTo('signin'));
        }

        tokenText = atob(params.token);
        email = tokenText.split('|')[1]; // leave e-mail blank even though we get it from the token because
        // we need the user to type it in for Chrome to remember the
        // email/password combo properly

        signupDetails.set('email', '');
        signupDetails.set('token', params.token);
        signupDetails.set('errors', Errors.create());
        let authUrl = this.get('ghostPaths.url').api('authentication', 'invitation');
        return this.ajax.request(authUrl, {
          dataType: 'json',
          data: {
            email
          }
        }).then(response => {
          if (response && response.invitation && response.invitation[0].valid === false) {
            this.notifications.showAlert('The invitation does not exist or is no longer valid.', {
              type: 'warn',
              delayed: true,
              key: 'signup.create.invalid-invitation'
            });
            return resolve(this.transitionTo('signin'));
          } // set blogTitle, so password validation has access to it


          signupDetails.set('blogTitle', this.get('config.blogTitle'));
          resolve(signupDetails);
        }).catch(() => {
          resolve(signupDetails);
        });
      });
    },

    deactivate() {
      this._super(...arguments); // clear the properties that hold the sensitive data from the controller


      this.controllerFor('signup').get('signupDetails').setProperties({
        email: '',
        password: '',
        token: ''
      });
    },

    buildRouteInfoMetadata() {
      return {
        bodyClasses: ['unauthenticated-route']
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/site", ["exports", "ghost-admin/routes/authenticated", "fetch"], function (_exports, _authenticated, _fetch) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend({
    config: Ember.inject.service(),
    settings: Ember.inject.service(),
    ui: Ember.inject.service(),
    _hasLoggedIn: false,

    model() {
      return new Date().valueOf();
    },

    afterModel() {
      if (this.settings.get('isPrivate') && !this._hasLoggedIn) {
        let privateLoginUrl = `${this.config.get('blogUrl')}/private/?r=%2F`;
        return (0, _fetch.default)(privateLoginUrl, {
          method: 'POST',
          mode: 'cors',
          redirect: 'manual',
          credentials: 'include',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded'
          },
          body: `password=${this.settings.get('password')}`
        }).then(() => {
          this._hasLoggedIn = true;
        });
      }
    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Site'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/staff/index", ["exports", "ghost-admin/routes/authenticated", "ghost-admin/mixins/current-user-settings"], function (_exports, _authenticated, _currentUserSettings) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend(_currentUserSettings.default, {
    infinity: Ember.inject.service(),
    session: Ember.inject.service(),

    model() {
      return this.session.user;
    },

    setupController(controller) {
      this._super(...arguments);

      controller.backgroundUpdate.perform();
    },

    actions: {
      reload() {
        this.controller.backgroundUpdate.perform();
      }

    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Staff'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/staff/user", ["exports", "ghost-admin/routes/authenticated", "ghost-admin/mixins/current-user-settings"], function (_exports, _authenticated, _currentUserSettings) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable camelcase */
  var _default = _authenticated.default.extend(_currentUserSettings.default, {
    model(params) {
      return this.store.queryRecord('user', {
        slug: params.user_slug,
        include: 'count.posts'
      });
    },

    afterModel(user) {
      this._super(...arguments);

      return this.get('session.user').then(currentUser => {
        let isOwnProfile = user.get('id') === currentUser.get('id');
        let isAuthorOrContributor = currentUser.get('isAuthorOrContributor');
        let isEditor = currentUser.get('isEditor');

        if (isAuthorOrContributor && !isOwnProfile) {
          this.transitionTo('staff.user', currentUser);
        } else if (isEditor && !isOwnProfile && !user.get('isAuthorOrContributor')) {
          this.transitionTo('staff');
        }
      });
    },

    serialize(model) {
      return {
        user_slug: model.get('slug')
      };
    },

    actions: {
      didTransition() {
        this.modelFor('staff.user').get('errors').clear();
      },

      save() {
        this.get('controller.save').perform();
      },

      willTransition(transition) {
        let controller = this.controller;
        let user = controller.user;
        let dirtyAttributes = controller.dirtyAttributes;
        let modelIsDirty = user.get('hasDirtyAttributes'); // always reset the password properties on the user model when leaving

        if (user) {
          user.set('password', '');
          user.set('newPassword', '');
          user.set('ne2Password', '');
        }

        if (modelIsDirty || dirtyAttributes) {
          transition.abort();
          controller.send('toggleLeaveSettingsModal', transition);
          return;
        }
      }

    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Staff - User'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/tag", ["exports", "ghost-admin/routes/authenticated", "ghost-admin/mixins/current-user-settings"], function (_exports, _authenticated, _currentUserSettings) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable camelcase */
  var _default = _authenticated.default.extend(_currentUserSettings.default, {
    router: Ember.inject.service(),
    _requiresBackgroundRefresh: true,

    init() {
      this._super(...arguments);

      this.router.on('routeWillChange', transition => {
        this.showUnsavedChangesModal(transition);
      });
    },

    beforeModel() {
      this._super(...arguments);

      return this.get('session.user').then(this.transitionAuthor());
    },

    model(params) {
      this._requiresBackgroundRefresh = false;

      if (params.tag_slug) {
        return this.store.queryRecord('tag', {
          slug: params.tag_slug
        });
      } else {
        return this.store.createRecord('tag');
      }
    },

    serialize(tag) {
      return {
        tag_slug: tag.get('slug')
      };
    },

    setupController(controller, tag) {
      this._super(...arguments);

      if (this._requiresBackgroundRefresh) {
        controller.fetchTag.perform(tag.get('slug'));
      }
    },

    deactivate() {
      this._super(...arguments); // clean up newly created records and revert unsaved changes to existing


      this.controller.tag.rollbackAttributes();
      this._requiresBackgroundRefresh = true;
    },

    actions: {
      save() {
        this.controller.send('save');
      }

    },

    showUnsavedChangesModal(transition) {
      if (transition.from && transition.from.name === this.routeName && transition.targetName) {
        let {
          controller
        } = this; // tag.changedAttributes is always true for new tags but number of changed attrs is reliable

        let isChanged = Object.keys(controller.tag.changedAttributes()).length > 0;

        if (!controller.tag.isDeleted && isChanged) {
          transition.abort();
          controller.send('toggleUnsavedChangesModal', transition);
          return;
        }
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/routes/tag/new", ["exports", "ghost-admin/routes/tag"], function (_exports, _tag) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _tag.default.extend({
    controllerName: 'tag',
    templateName: 'tag'
  });

  _exports.default = _default;
});
;define("ghost-admin/routes/tags", ["exports", "ghost-admin/routes/authenticated", "ghost-admin/mixins/current-user-settings", "ghost-admin/mixins/shortcuts-route"], function (_exports, _authenticated, _currentUserSettings, _shortcutsRoute) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _authenticated.default.extend(_currentUserSettings.default, _shortcutsRoute.default, {
    queryParams: {
      type: {
        refreshModel: true,
        replace: true
      }
    },
    shortcuts: null,

    init() {
      this._super(...arguments);

      this.shortcuts = {
        c: 'newTag'
      };
    },

    // authors aren't allowed to manage tags
    beforeModel() {
      this._super(...arguments);

      return this.get('session.user').then(this.transitionAuthor());
    },

    // set model to a live array so all tags are shown and created/deleted tags
    // are automatically added/removed. Also load all tags in the background,
    // pausing to show the loading spinner if no tags have been loaded yet
    model() {
      let promise = this.store.query('tag', {
        limit: 'all',
        include: 'count.posts'
      });
      let tags = this.store.peekAll('tag');

      if (this.store.peekAll('tag').get('length') === 0) {
        return promise.then(() => tags);
      } else {
        return tags;
      }
    },

    actions: {
      newTag() {
        this.transitionTo('tag.new');
      }

    },

    buildRouteInfoMetadata() {
      return {
        titleToken: 'Tags'
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/-default", ["exports", "@ember-data/serializer/json"], function (_exports, _json) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _json.default;
    }
  });
});
;define("ghost-admin/serializers/-json-api", ["exports", "@ember-data/serializer/json-api"], function (_exports, _jsonApi) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _jsonApi.default;
    }
  });
});
;define("ghost-admin/serializers/-rest", ["exports", "@ember-data/serializer/rest"], function (_exports, _rest) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _rest.default;
    }
  });
});
;define("ghost-admin/serializers/action", ["exports", "ghost-admin/serializers/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable camelcase */
  var _default = _application.default.extend({
    attrs: {
      createdAtUTC: {
        key: 'created_at'
      }
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/api-key", ["exports", "ghost-admin/serializers/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    attrs: {
      lastSeenAtUTC: {
        key: 'last_seen_at'
      },
      createdAtUTC: {
        key: 'created_at'
      },
      updatedAtUTC: {
        key: 'updated_at'
      }
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/application", ["exports", "@ember-data/serializer/rest", "ember-inflector"], function (_exports, _rest, _emberInflector) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _rest.default.extend({
    // hacky method for getting access to meta data for single-resource responses
    // https://github.com/emberjs/data/pull/4077#issuecomment-200780097
    // TODO: review once the record links and meta RFC lands
    // https://github.com/emberjs/rfcs/blob/master/text/0332-ember-data-record-links-and-meta.md
    extractMeta(store, typeClass) {
      let meta = this._super(...arguments);

      typeClass.___meta = meta;
      return meta;
    },

    serialize()
    /*snapshot, options*/
    {
      let json = this._super(...arguments); // don't send attributes that are updated automatically on the server


      delete json.created_by;
      delete json.updated_by;
      return json;
    },

    serializeIntoHash(hash, type, record, options) {
      // Our API expects an id on the posted object
      options = options || {};
      options.includeId = true; // We have a plural root in the API

      let root = (0, _emberInflector.pluralize)(type.modelName);
      let data = this.serialize(record, options);
      hash[root] = [data];
    },

    keyForAttribute(attr) {
      return Ember.String.decamelize(attr);
    },

    keyForRelationship(key, typeClass, method) {
      let transform = method === 'serialize' ? Ember.String.underscore : Ember.String.camelize;

      if (typeClass === 'belongsTo' && !key.match(/(Id|By)$/)) {
        let transformed = `${transform(key)}_id`;
        return transformed;
      }

      return transform(key);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/email", ["exports", "ghost-admin/serializers/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable camelcase */
  var _default = _application.default.extend({
    attrs: {
      createdAtUTC: {
        key: 'created_at'
      },
      updatedAtUTC: {
        key: 'updated_at'
      },
      submittedAtUTC: {
        key: 'submitted_at'
      }
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/integration", ["exports", "ghost-admin/serializers/application", "@ember-data/serializer/rest"], function (_exports, _application, _rest) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend(_rest.EmbeddedRecordsMixin, {
    attrs: {
      apiKeys: {
        embedded: 'always'
      },
      webhooks: {
        embedded: 'always'
      },
      createdAtUTC: {
        key: 'created_at'
      },
      updatedAtUTC: {
        key: 'updated_at'
      }
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/invite", ["exports", "ghost-admin/serializers/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    attrs: {
      createdAtUTC: {
        key: 'created_at'
      },
      updatedAtUTC: {
        key: 'updated_at'
      }
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/label", ["exports", "ghost-admin/serializers/application", "ember-inflector"], function (_exports, _application, _emberInflector) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable camelcase */
  var _default = _application.default.extend({
    attrs: {
      createdAtUTC: {
        key: 'created_at'
      },
      updatedAtUTC: {
        key: 'updated_at'
      }
    },

    serialize()
    /*snapshot, options*/
    {
      let json = this._super(...arguments); // Properties that exist on the model but we don't want sent in the payload


      delete json.count;
      return json;
    },

    // if we use `queryRecord` ensure we grab the first record to avoid
    // DS.SERIALIZER.REST.QUERYRECORD-ARRAY-RESPONSE deprecations
    normalizeResponse(store, primaryModelClass, payload, id, requestType) {
      if (requestType === 'queryRecord') {
        let singular = primaryModelClass.modelName;
        let plural = (0, _emberInflector.pluralize)(singular);

        if (payload[plural]) {
          payload[singular] = payload[plural][0];
          delete payload[plural];
        }
      }

      return this._super(...arguments);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/member", ["exports", "ghost-admin/serializers/application", "@ember-data/serializer/rest"], function (_exports, _application, _rest) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable camelcase */
  var _default = _application.default.extend(_rest.EmbeddedRecordsMixin, {
    attrs: {
      createdAtUTC: {
        key: 'created_at'
      },
      labels: {
        embedded: 'always'
      }
    },

    serialize()
    /*snapshot, options*/
    {
      let json = this._super(...arguments); // Properties that exist on the model but we don't want sent in the payload


      delete json.stripe;
      delete json.geolocation; // Normalize properties

      json.name = json.name || '';
      json.note = json.note || '';
      return json;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/notification", ["exports", "ghost-admin/serializers/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    attrs: {
      key: {
        key: 'location'
      }
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/page", ["exports", "ghost-admin/serializers/post"], function (_exports, _post) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _post.default.extend({
    serialize()
    /*snapshot, options*/
    {
      let json = this._super(...arguments); // Properties that exist on the model but we don't want sent in the payload


      delete json.email_subject;
      delete json.send_email_when_published;
      delete json.email_id;
      delete json.email;
      return json;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/post", ["exports", "ghost-admin/serializers/application", "@ember-data/serializer/rest", "ember-inflector"], function (_exports, _application, _rest, _emberInflector) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable camelcase */
  var _default = _application.default.extend(_rest.EmbeddedRecordsMixin, {
    // settings for the EmbeddedRecordsMixin.
    attrs: {
      authors: {
        embedded: 'always'
      },
      tags: {
        embedded: 'always'
      },
      publishedAtUTC: {
        key: 'published_at'
      },
      createdAtUTC: {
        key: 'created_at'
      },
      updatedAtUTC: {
        key: 'updated_at'
      },
      email: {
        embedded: 'always'
      }
    },

    normalizeSingleResponse(store, primaryModelClass, payload) {
      let root = this.keyForAttribute(primaryModelClass.modelName);
      let pluralizedRoot = (0, _emberInflector.pluralize)(primaryModelClass.modelName);

      if (payload[pluralizedRoot]) {
        payload[root] = payload[pluralizedRoot][0];
        delete payload[pluralizedRoot];
      }

      return this._super(...arguments);
    },

    normalizeArrayResponse() {
      return this._super(...arguments);
    },

    serialize()
    /*snapshot, options*/
    {
      let json = this._super(...arguments); // Inserted locally as a convenience.


      delete json.author_id; // Read-only virtual properties

      delete json.uuid;
      delete json.url;
      delete json.send_email_when_published; // Deprecated property (replaced with data.authors)

      delete json.author;

      if (json.visibility === null) {
        delete json.visibility;
      }

      return json;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/role", ["exports", "ghost-admin/serializers/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    attrs: {
      createdAtUTC: {
        key: 'created_at'
      },
      updatedAtUTC: {
        key: 'updated_at'
      }
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/setting", ["exports", "ghost-admin/serializers/application", "ember-inflector"], function (_exports, _application, _emberInflector) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    serializeIntoHash(hash, type, record, options) {
      // Settings API does not want ids
      options = options || {};
      options.includeId = false;
      let root = (0, _emberInflector.pluralize)(type.modelName);
      let data = this.serialize(record, options);
      let payload = [];
      delete data.id;
      Object.keys(data).forEach(k => {
        payload.push({
          key: k,
          value: data[k]
        });
      });
      hash[root] = payload;
    },

    normalizeArrayResponse(store, primaryModelClass, _payload, id, requestType) {
      let payload = {
        settings: [this._extractObjectFromArrayPayload(_payload)]
      };
      return this._super(store, primaryModelClass, payload, id, requestType);
    },

    normalizeSingleResponse(store, primaryModelClass, _payload, id, requestType) {
      let payload = {
        setting: this._extractObjectFromArrayPayload(_payload)
      };
      return this._super(store, primaryModelClass, payload, id, requestType);
    },

    _extractObjectFromArrayPayload(_payload) {
      let payload = {
        id: '0'
      };

      _payload.settings.forEach(setting => {
        payload[setting.key] = setting.value;
      });

      return payload;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/tag", ["exports", "ghost-admin/serializers/application", "ember-inflector"], function (_exports, _application, _emberInflector) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable camelcase */
  var _default = _application.default.extend({
    attrs: {
      createdAtUTC: {
        key: 'created_at'
      },
      updatedAtUTC: {
        key: 'updated_at'
      }
    },

    serialize()
    /*snapshot, options*/
    {
      let json = this._super(...arguments); // Properties that exist on the model but we don't want sent in the payload


      delete json.count;
      return json;
    },

    // if we use `queryRecord` ensure we grab the first record to avoid
    // DS.SERIALIZER.REST.QUERYRECORD-ARRAY-RESPONSE deprecations
    normalizeResponse(store, primaryModelClass, payload, id, requestType) {
      if (requestType === 'queryRecord') {
        let singular = primaryModelClass.modelName;
        let plural = (0, _emberInflector.pluralize)(singular);

        if (payload[plural]) {
          payload[singular] = payload[plural][0];
          delete payload[plural];
        }
      }

      return this._super(...arguments);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/theme", ["exports", "ghost-admin/serializers/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    primaryKey: 'name'
  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/user", ["exports", "ghost-admin/serializers/application", "@ember-data/serializer/rest", "ember-inflector"], function (_exports, _application, _rest, _emberInflector) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend(_rest.EmbeddedRecordsMixin, {
    attrs: {
      roles: {
        embedded: 'always'
      },
      lastLoginUTC: {
        key: 'last_seen'
      },
      createdAtUTC: {
        key: 'created_at'
      },
      updatedAtUTC: {
        key: 'updated_at'
      }
    },

    extractSingle(store, primaryType, payload) {
      let root = this.keyForAttribute(primaryType.modelName);
      let pluralizedRoot = (0, _emberInflector.pluralize)(primaryType.modelName);
      payload[root] = payload[pluralizedRoot][0];
      delete payload[pluralizedRoot];
      return this._super(...arguments);
    },

    normalizeSingleResponse(store, primaryModelClass, payload) {
      let root = this.keyForAttribute(primaryModelClass.modelName);
      let pluralizedRoot = (0, _emberInflector.pluralize)(primaryModelClass.modelName);

      if (payload[pluralizedRoot]) {
        payload[root] = payload[pluralizedRoot][0];
        delete payload[pluralizedRoot];
      }

      return this._super(...arguments);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/serializers/webhook", ["exports", "ghost-admin/serializers/application"], function (_exports, _application) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _application.default.extend({
    attrs: {
      lastTriggeredAtUTC: {
        key: 'last_triggered_at'
      },
      createdAtUTC: {
        key: 'created_at'
      },
      updatedAtUTC: {
        key: 'updated_at'
      }
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/services/ajax", ["exports", "ember-ajax/services/ajax", "ghost-admin/config/environment", "ember-ajax/errors"], function (_exports, _ajax, _environment, _errors) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.isVersionMismatchError = isVersionMismatchError;
  _exports.isServerUnreachableError = isServerUnreachableError;
  _exports.isRequestEntityTooLargeError = isRequestEntityTooLargeError;
  _exports.isUnsupportedMediaTypeError = isUnsupportedMediaTypeError;
  _exports.isMaintenanceError = isMaintenanceError;
  _exports.isThemeValidationError = isThemeValidationError;
  _exports.isHostLimitError = isHostLimitError;
  _exports.default = _exports.HostLimitError = _exports.ThemeValidationError = _exports.MaintenanceError = _exports.UnsupportedMediaTypeError = _exports.RequestEntityTooLargeError = _exports.ServerUnreachableError = _exports.VersionMismatchError = void 0;
  const JSON_CONTENT_TYPE = 'application/json';
  const GHOST_REQUEST = /\/ghost\/api\//;

  function isJSONContentType(header) {
    if (!header || Ember.isNone(header)) {
      return false;
    }

    return header.indexOf(JSON_CONTENT_TYPE) === 0;
  }
  /* Version mismatch error */


  class VersionMismatchError extends _errors.AjaxError {
    constructor(payload) {
      super(payload, 'API server is running a newer version of Ghost, please upgrade.');
    }

  }

  _exports.VersionMismatchError = VersionMismatchError;

  function isVersionMismatchError(errorOrStatus, payload) {
    if ((0, _errors.isAjaxError)(errorOrStatus)) {
      return errorOrStatus instanceof VersionMismatchError;
    } else {
      return Ember.get(payload || {}, 'errors.firstObject.type') === 'VersionMismatchError';
    }
  }
  /* Server unreachable error */


  class ServerUnreachableError extends _errors.AjaxError {
    constructor(payload) {
      super(payload, 'Server was unreachable');
    }

  }

  _exports.ServerUnreachableError = ServerUnreachableError;

  function isServerUnreachableError(error) {
    if ((0, _errors.isAjaxError)(error)) {
      return error instanceof ServerUnreachableError;
    } else {
      return error === 0 || error === '0';
    }
  }
  /* Request entity too large error */


  class RequestEntityTooLargeError extends _errors.AjaxError {
    constructor(payload) {
      super(payload, 'Request is larger than the maximum file size the server allows');
    }

  }

  _exports.RequestEntityTooLargeError = RequestEntityTooLargeError;

  function isRequestEntityTooLargeError(errorOrStatus) {
    if ((0, _errors.isAjaxError)(errorOrStatus)) {
      return errorOrStatus instanceof RequestEntityTooLargeError;
    } else {
      return errorOrStatus === 413;
    }
  }
  /* Unsupported media type error */


  class UnsupportedMediaTypeError extends _errors.AjaxError {
    constructor(payload) {
      super(payload, 'Request contains an unknown or unsupported file type.');
    }

  }

  _exports.UnsupportedMediaTypeError = UnsupportedMediaTypeError;

  function isUnsupportedMediaTypeError(errorOrStatus) {
    if ((0, _errors.isAjaxError)(errorOrStatus)) {
      return errorOrStatus instanceof UnsupportedMediaTypeError;
    } else {
      return errorOrStatus === 415;
    }
  }
  /* Maintenance error */


  class MaintenanceError extends _errors.AjaxError {
    constructor(payload) {
      super(payload, 'Ghost is currently undergoing maintenance, please wait a moment then retry.');
    }

  }

  _exports.MaintenanceError = MaintenanceError;

  function isMaintenanceError(errorOrStatus) {
    if ((0, _errors.isAjaxError)(errorOrStatus)) {
      return errorOrStatus instanceof MaintenanceError;
    } else {
      return errorOrStatus === 503;
    }
  }
  /* Theme validation error */


  class ThemeValidationError extends _errors.AjaxError {
    constructor(payload) {
      super(payload, 'Theme is not compatible or contains errors.');
    }

  }

  _exports.ThemeValidationError = ThemeValidationError;

  function isThemeValidationError(errorOrStatus, payload) {
    if ((0, _errors.isAjaxError)(errorOrStatus)) {
      return errorOrStatus instanceof ThemeValidationError;
    } else {
      return Ember.get(payload || {}, 'errors.firstObject.type') === 'ThemeValidationError';
    }
  }
  /* Host limit reached/exceeded error */


  class HostLimitError extends _errors.AjaxError {
    constructor(payload) {
      super(payload, 'A hosting plan limit was reached or exceeded.');
    }

  }

  _exports.HostLimitError = HostLimitError;

  function isHostLimitError(errorOrStatus, payload) {
    if ((0, _errors.isAjaxError)(errorOrStatus)) {
      return errorOrStatus instanceof HostLimitError;
    } else {
      return Ember.get(payload || {}, 'errors.firstObject.type') === 'HostLimitError';
    }
  }
  /* end: custom error types */


  let ajaxService = _ajax.default.extend({
    session: Ember.inject.service(),
    // flag to tell our ESA authenticator not to try an invalidate DELETE request
    // because it's been triggered by this service's 401 handling which means the
    // DELETE would fail and get stuck in an infinite loop
    // TODO: find a more elegant way to handle this
    skipSessionDeletion: false,

    get headers() {
      return {
        'X-Ghost-Version': _environment.default.APP.version,
        'App-Pragma': 'no-cache'
      };
    },

    init() {
      this._super(...arguments);

      if (this.isTesting === undefined) {
        this.isTesting = _environment.default.environment === 'test';
      }
    },

    // ember-ajax recognises `application/vnd.api+json` as a JSON-API request
    // and formats appropriately, we want to handle `application/json` the same
    _makeRequest(hash) {
      if (isJSONContentType(hash.contentType) && hash.type !== 'GET') {
        if (typeof hash.data === 'object') {
          hash.data = JSON.stringify(hash.data);
        }
      }

      hash.withCredentials = true;
      return this._super(hash);
    },

    handleResponse(status, headers, payload, request) {
      if (this.isVersionMismatchError(status, headers, payload)) {
        return new VersionMismatchError(payload);
      } else if (this.isServerUnreachableError(status, headers, payload)) {
        return new ServerUnreachableError(payload);
      } else if (this.isRequestEntityTooLargeError(status, headers, payload)) {
        return new RequestEntityTooLargeError(payload);
      } else if (this.isUnsupportedMediaTypeError(status, headers, payload)) {
        return new UnsupportedMediaTypeError(payload);
      } else if (this.isMaintenanceError(status, headers, payload)) {
        return new MaintenanceError(payload);
      } else if (this.isThemeValidationError(status, headers, payload)) {
        return new ThemeValidationError(payload);
      } else if (this.isHostLimitError(status, headers, payload)) {
        return new HostLimitError(payload);
      }

      let isGhostRequest = GHOST_REQUEST.test(request.url);
      let isAuthenticated = this.get('session.isAuthenticated');
      let isUnauthorized = this.isUnauthorizedError(status, headers, payload);

      if (isAuthenticated && isGhostRequest && isUnauthorized) {
        this.skipSessionDeletion = true;
        this.session.invalidate();
      }

      return this._super(...arguments);
    },

    normalizeErrorResponse(status, headers, payload) {
      if (payload && typeof payload === 'object') {
        let errors = payload.error || payload.errors || payload.message || undefined;

        if (errors) {
          if (!Ember.isArray(errors)) {
            errors = [errors];
          }

          payload.errors = errors.map(function (error) {
            if (typeof error === 'string') {
              return {
                message: error
              };
            } else {
              return error;
            }
          });
        }
      }

      return this._super(status, headers, payload);
    },

    isVersionMismatchError(status, headers, payload) {
      return isVersionMismatchError(status, payload);
    },

    isServerUnreachableError(status) {
      return isServerUnreachableError(status);
    },

    isRequestEntityTooLargeError(status) {
      return isRequestEntityTooLargeError(status);
    },

    isUnsupportedMediaTypeError(status) {
      return isUnsupportedMediaTypeError(status);
    },

    isMaintenanceError(status, headers, payload) {
      return isMaintenanceError(status, payload);
    },

    isThemeValidationError(status, headers, payload) {
      return isThemeValidationError(status, payload);
    },

    isHostLimitError(status, headers, payload) {
      return isHostLimitError(status, payload);
    }

  }); // we need to reopen so that internal methods use the correct contentType


  ajaxService.reopen({
    contentType: 'application/json; charset=UTF-8'
  });
  var _default = ajaxService;
  _exports.default = _default;
});
;define("ghost-admin/services/billing", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Service.extend({
    config: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    billingWindowOpen: false,
    upgrade: false,
    action: null,

    closeBillingWindow() {
      this.set('billingWindowOpen', false);
      this.set('action', null);
    },

    endpoint: Ember.computed('config.billingUrl', 'billingWindowOpen', 'action', function () {
      let url = this.config.get('billingUrl');

      if (this.get('upgrade')) {
        url = this.ghostPaths.url.join(url, 'plans');
      }

      if (this.get('action')) {
        url += `?action=${this.get('action')}`;
      }

      return url;
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/services/clock", ["exports", "ghost-admin/config/environment", "moment"], function (_exports, _environment, _moment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  const ONE_SECOND = 1000; // Creates a clock service to run intervals.

  var _default = Ember.Service.extend({
    second: null,
    minute: null,
    hour: null,

    init() {
      this._super(...arguments);

      this.tick();
    },

    tick() {
      let now = (0, _moment.default)().utc();
      this.setProperties({
        second: now.seconds(),
        minute: now.minutes(),
        hour: now.hours()
      });

      if (_environment.default.environment !== 'test') {
        Ember.run.later(() => {
          this.tick();
        }, ONE_SECOND);
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/services/config", ["exports", "@tryghost/timezone-data"], function (_exports, _timezoneData) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  // ember-cli-shims doesn't export _ProxyMixin
  const {
    _ProxyMixin
  } = Ember;

  var _default = Ember.Service.extend(_ProxyMixin, {
    ajax: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    session: Ember.inject.service(),
    content: null,

    init() {
      this._super(...arguments);

      this.content = {};
    },

    fetch() {
      let promises = [];
      promises.push(this.fetchUnauthenticated());

      if (this.session.isAuthenticated) {
        promises.push(this.fetchAuthenticated());
      }

      return Ember.RSVP.all(promises);
    },

    fetchUnauthenticated() {
      let siteUrl = this.ghostPaths.url.api('site');
      return this.ajax.request(siteUrl).then(({
        site
      }) => {
        // normalize url to non-trailing-slash
        site.blogUrl = site.url.replace(/\/$/, '');
        site.blogTitle = site.title;
        delete site.url;
        delete site.title;
        Object.assign(this.content, site);
      }).then(() => {
        this.notifyPropertyChange('content');
      });
    },

    fetchAuthenticated() {
      let configUrl = this.ghostPaths.url.api('config');
      return this.ajax.request(configUrl).then(({
        config
      }) => {
        Object.assign(this.content, config);
      }).then(() => {
        this.notifyPropertyChange('content');
      });
    },

    availableTimezones: Ember.computed(function () {
      return Ember.RSVP.resolve(_timezoneData.default);
    }),
    blogDomain: Ember.computed('blogUrl', function () {
      let blogUrl = this.get('blogUrl');
      let blogDomain = blogUrl.replace(/^https?:\/\//, '').replace(/\/?$/, '');
      return blogDomain;
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/services/cookies", ["exports", "ember-cookies/services/cookies"], function (_exports, _cookies) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = _cookies.default;
  _exports.default = _default;
});
;define("ghost-admin/services/custom-views", ["exports", "ghost-admin/mixins/validation-engine", "@ember-decorators/object", "ember-concurrency-decorators"], function (_exports, _validationEngine, _object, _emberConcurrencyDecorators) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _dec, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _temp;

  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }

  const VIEW_COLORS = ['midgrey', 'blue', 'green', 'red', 'teal', 'purple', 'yellow', 'orange', 'pink'];
  const CustomView = Ember.Object.extend(_validationEngine.default, {
    validationType: 'customView',
    name: '',
    route: '',
    color: '',
    filter: null,
    isNew: false,
    isDefault: false,

    init() {
      this._super(...arguments);

      if (!this.filter) {
        this.filter = {};
      }

      if (!this.color) {
        this.color = VIEW_COLORS[Math.floor(Math.random() * VIEW_COLORS.length)];
      }
    },

    // convert to POJO so we don't store any client-specific objects in any
    // stringified JSON settings fields
    toJSON() {
      return {
        name: this.name,
        route: this.route,
        color: this.color,
        filter: this.filter
      };
    }

  });
  const DEFAULT_VIEWS = [{
    route: 'posts',
    name: 'Drafts',
    color: 'midgrey',
    icon: 'pencil',
    filter: {
      type: 'draft'
    }
  }, {
    route: 'posts',
    name: 'Scheduled',
    color: 'midgrey',
    icon: 'clockface',
    filter: {
      type: 'scheduled'
    }
  }, {
    route: 'posts',
    name: 'Published',
    color: 'midgray',
    icon: 'published-post',
    filter: {
      type: 'published'
    }
  }].map(view => {
    return CustomView.create(Object.assign({}, view, {
      isDefault: true
    }));
  });

  let isFilterEqual = function (filterA, filterB) {
    let aProps = Object.getOwnPropertyNames(filterA);
    let bProps = Object.getOwnPropertyNames(filterB);

    if (aProps.length !== bProps.length) {
      return false;
    }

    for (let i = 0; i < aProps.length; i++) {
      let key = aProps[i];

      if (filterA[key] !== filterB[key]) {
        return false;
      }
    }

    return true;
  };

  let isViewEqual = function (viewA, viewB) {
    return viewA.route === viewB.route && isFilterEqual(viewA.filter, viewB.filter);
  };

  let CustomViewsService = (_dec = (0, _object.observes)('session.isAuthenticated', 'session.user.accessibility'), (_class = (_temp = class CustomViewsService extends Ember.Service {
    constructor() {
      super(...arguments);

      _initializerDefineProperty(this, "router", _descriptor, this);

      _initializerDefineProperty(this, "session", _descriptor2, this);

      _initializerDefineProperty(this, "viewList", _descriptor3, this);

      _initializerDefineProperty(this, "showFormModal", _descriptor4, this);

      this.updateViewList();
    } // eslint-disable-next-line ghost/ember/no-observers


    async updateViewList() {
      // avoid fetching user before authenticated otherwise the 403 can fire
      // during authentication and cause errors during setup/signin
      if (!this.session.isAuthenticated) {
        return;
      }

      let user = await this.session.user;
      let views = JSON.parse(user.get('accessibility') || '{}').views;
      views = Ember.isArray(views) ? views : [];
      let viewList = []; // contributors can only see their own draft posts so it doesn't make
      // sense to show them default views which change the status/type filter

      if (!user.isContributor) {
        viewList.push(...DEFAULT_VIEWS);
      }

      viewList.push(...views.map(view => {
        return CustomView.create(view);
      }));
      this.viewList = viewList;
    }

    toggleFormModal() {
      this.showFormModal = !this.showFormModal;
    }

    *saveViewTask(view) {
      yield view.validate(); // perform some ad-hoc validation of duplicate names because ValidationEngine doesn't support it

      let duplicateView = this.viewList.find(existingView => {
        return existingView.route === view.route && existingView.name.trim().toLowerCase() === view.name.trim().toLowerCase() && !isFilterEqual(existingView.filter, view.filter);
      });

      if (duplicateView) {
        view.errors.add('name', 'Has already been used');
        view.hasValidated.pushObject('name');
        view.invalidate();
        return false;
      } // remove an older version of the view from our views list
      // - we don't allow editing the filter and route+filter combos are unique
      // - we create a new instance of a view from an existing one when editing to act as a "scratch" view


      let matchingView = this.viewList.find(existingView => isViewEqual(existingView, view));

      if (matchingView) {
        this.viewList.replace(this.viewList.indexOf(matchingView), 1, [view]);
      } else {
        this.viewList.push(view);
      } // rebuild the "views" array in our user settings json string


      yield this._saveViewSettings();
      view.set('isNew', false);
      return view;
    }

    *deleteViewTask(view) {
      let matchingView = this.viewList.find(existingView => isViewEqual(existingView, view));

      if (matchingView && !matchingView.isDefault) {
        this.viewList.removeObject(matchingView);
        yield this._saveViewSettings();
        return true;
      }
    }

    get availableColors() {
      return VIEW_COLORS;
    }

    get forPosts() {
      return this.viewList.filter(view => view.route === 'posts');
    }

    get forPages() {
      return this.viewList.filter(view => view.route === 'pages');
    }

    get activeView() {
      if (!this.router.currentRoute) {
        return undefined;
      }

      return this.findView(this.router.currentRouteName, this.router.currentRoute.queryParams);
    }

    findView(routeName, queryParams) {
      let _routeName = routeName.replace(/_loading$/, '');

      return this.viewList.find(view => {
        return view.route === _routeName && isFilterEqual(view.filter, queryParams);
      });
    }

    newView() {
      return CustomView.create({
        isNew: true,
        route: this.router.currentRouteName,
        filter: this.router.currentRoute.queryParams
      });
    }

    editView() {
      return CustomView.create(this.activeView || this.newView());
    }

    async _saveViewSettings() {
      let user = await this.session.user;
      let userSettings = JSON.parse(user.get('accessibility')) || {};
      userSettings.views = this.viewList.reject(view => view.isDefault).map(view => view.toJSON());
      user.set('accessibility', JSON.stringify(userSettings));
      return user.save();
    }

  }, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, "router", [Ember.inject.service], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, "session", [Ember.inject.service], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, "viewList", [Ember._tracked], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function () {
      return [];
    }
  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, "showFormModal", [Ember._tracked], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function () {
      return false;
    }
  }), _applyDecoratedDescriptor(_class.prototype, "updateViewList", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, "updateViewList"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, "toggleFormModal", [Ember._action], Object.getOwnPropertyDescriptor(_class.prototype, "toggleFormModal"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, "saveViewTask", [_emberConcurrencyDecorators.task], Object.getOwnPropertyDescriptor(_class.prototype, "saveViewTask"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, "deleteViewTask", [_emberConcurrencyDecorators.task], Object.getOwnPropertyDescriptor(_class.prototype, "deleteViewTask"), _class.prototype)), _class));
  _exports.default = CustomViewsService;
});
;define("ghost-admin/services/drag-coordinator", ["exports", "ember-drag-drop/services/drag-coordinator"], function (_exports, _dragCoordinator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = _dragCoordinator.default;
  _exports.default = _default;
});
;define("ghost-admin/services/dropdown", ["exports", "jquery", "ghost-admin/mixins/body-event-listener"], function (_exports, _jquery, _bodyEventListener) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  // This is used by the dropdown initializer to manage closing & toggling
  var _default = Ember.Service.extend(Ember.Evented, _bodyEventListener.default, {
    bodyClick(event) {
      let dropdownSelector = '.ember-basic-dropdown-trigger, .ember-basic-dropdown-content';

      if ((0, _jquery.default)(event.target).closest(dropdownSelector).length <= 0) {
        this.closeDropdowns();
      }
    },

    closeDropdowns() {
      this.trigger('close');
    },

    toggleDropdown(dropdownName, dropdownButton) {
      this.trigger('toggle', {
        target: dropdownName,
        button: dropdownButton
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/services/ember-load-config", ["exports", "ember-load/services/ember-load-config", "ghost-admin/config/environment"], function (_exports, _emberLoadConfig, _environment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  const userConfig = _environment.default['ember-load'] || {};

  var _default = _emberLoadConfig.default.extend({
    loadingIndicatorClass: userConfig.loadingIndicatorClass
  });

  _exports.default = _default;
});
;define("ghost-admin/services/event-bus", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Service.extend(Ember.Evented, {
    publish() {
      return this.trigger(...arguments);
    },

    subscribe() {
      return this.on(...arguments);
    },

    unsubscribe() {
      return this.off(...arguments);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/services/feature", ["exports", "jquery"], function (_exports, _jquery) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.feature = feature;
  _exports.default = void 0;

  function feature(name, options = {}) {
    let {
      user,
      onChange
    } = options;
    let watchedProps = user ? [`accessibility.${name}`] : [`config.${name}`, `labs.${name}`];
    return Ember.computed.apply(Ember, watchedProps.concat({
      get() {
        let enabled = false;

        if (user) {
          enabled = this.get(`accessibility.${name}`);
        } else if (this.get(`config.${name}`)) {
          enabled = this.get(`config.${name}`);
        } else {
          enabled = this.get(`labs.${name}`) || false;
        }

        if (options.developer) {
          enabled = enabled && this.get('config.enableDeveloperExperiments');
        }

        return enabled;
      },

      set(key, value) {
        this.update(key, value, options);

        if (onChange) {
          // value must be passed here because the value isn't set until
          // the setter function returns
          this.get(onChange).bind(this)(value);
        }

        return value;
      }

    }));
  }

  var _default = Ember.Service.extend({
    store: Ember.inject.service(),
    config: Ember.inject.service(),
    session: Ember.inject.service(),
    settings: Ember.inject.service(),
    notifications: Ember.inject.service(),
    lazyLoader: Ember.inject.service(),
    members: feature('members'),
    nightShift: feature('nightShift', {
      user: true,
      onChange: '_setAdminTheme'
    }),
    _user: null,
    labs: Ember.computed('settings.labs', function () {
      let labs = this.get('settings.labs');

      try {
        return JSON.parse(labs) || {};
      } catch (e) {
        return {};
      }
    }),
    accessibility: Ember.computed('_user.accessibility', function () {
      let accessibility = this.get('_user.accessibility');

      try {
        return JSON.parse(accessibility) || {};
      } catch (e) {
        return {};
      }
    }),

    fetch() {
      return Ember.RSVP.hash({
        settings: this.settings.fetch(),
        user: this.get('session.user')
      }).then(({
        user
      }) => {
        this.set('_user', user);
        return this._setAdminTheme().then(() => true);
      });
    },

    update(key, value, options = {}) {
      let serviceProperty = options.user ? 'accessibility' : 'labs';
      let model = this.get(options.user ? '_user' : 'settings');
      let featureObject = this.get(serviceProperty); // set the new key value for either the labs property or the accessibility property

      Ember.set(featureObject, key, value); // update the 'labs' or 'accessibility' key of the model

      model.set(serviceProperty, JSON.stringify(featureObject));
      return model.save().then(() => {
        // return the labs key value that we get from the server
        this.notifyPropertyChange(serviceProperty);
        return this.get(`${serviceProperty}.${key}`);
      }).catch(error => {
        model.rollbackAttributes();
        this.notifyPropertyChange(serviceProperty); // we'll always have an errors object unless we hit a
        // validation error

        if (!error) {
          throw new Ember.Error(`Validation of the feature service ${options.user ? 'user' : 'settings'} model failed when updating ${serviceProperty}.`);
        }

        this.notifications.showAPIError(error);
        return this.get(`${serviceProperty}.${key}`);
      });
    },

    _setAdminTheme(enabled) {
      let nightShift = enabled;

      if (typeof nightShift === 'undefined') {
        nightShift = enabled || this.nightShift;
      }

      return this.lazyLoader.loadStyle('dark', 'assets/ghost-dark.css', true).then(() => {
        (0, _jquery.default)('link[title=dark]').prop('disabled', !nightShift);
        (0, _jquery.default)('link[title=light]').prop('disabled', nightShift);
      }).catch(() => {
        //TODO: Also disable toggle from settings and Labs hover
        (0, _jquery.default)('link[title=dark]').prop('disabled', true);
        (0, _jquery.default)('link[title=light]').prop('disabled', false);
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/services/ghost-paths", ["exports", "ghost-admin/utils/ghost-paths"], function (_exports, _ghostPaths) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Service.extend((0, _ghostPaths.default)());

  _exports.default = _default;
});
;define("ghost-admin/services/in-viewport", ["exports", "ember-in-viewport/services/in-viewport"], function (_exports, _inViewport) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _inViewport.default;
    }
  });
});
;define("ghost-admin/services/infinity", ["exports", "ember-infinity/services/infinity"], function (_exports, _infinity) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _infinity.default;
    }
  });
});
;define("ghost-admin/services/koenig-drag-drop-handler", ["exports", "koenig-editor/services/koenig-drag-drop-handler"], function (_exports, _koenigDragDropHandler) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigDragDropHandler.default;
    }
  });
});
;define("ghost-admin/services/koenig-ui", ["exports", "koenig-editor/services/koenig-ui"], function (_exports, _koenigUi) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _koenigUi.default;
    }
  });
});
;define("ghost-admin/services/lazy-loader", ["exports", "ghost-admin/config/environment"], function (_exports, _environment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Service.extend({
    ajax: Ember.inject.service(),
    ghostPaths: Ember.inject.service(),
    // This is needed so we can disable it in unit tests
    testing: undefined,
    scriptPromises: null,

    init() {
      this._super(...arguments);

      this.scriptPromises = {};

      if (this.testing === undefined) {
        this.testing = _environment.default.environment === 'test';
      }
    },

    loadScript(key, url) {
      if (this.testing) {
        return Ember.RSVP.resolve();
      }

      if (this.scriptPromises[key]) {
        return this.scriptPromises[key];
      }

      let scriptPromise = new Ember.RSVP.Promise((resolve, reject) => {
        let {
          adminRoot
        } = this.ghostPaths;
        let script = document.createElement('script');
        script.type = 'text/javascript';
        script.async = true;
        script.src = `${adminRoot}${url}`;
        let el = document.getElementsByTagName('script')[0];
        el.parentNode.insertBefore(script, el);
        script.addEventListener('load', () => {
          resolve();
        });
        script.addEventListener('error', () => {
          reject(new Error(`${url} failed to load`));
        });
      });
      this.scriptPromises[key] = scriptPromise;
      return scriptPromise;
    },

    loadStyle(key, url, alternate = false) {
      if (this.testing || document.querySelector(`#${key}-styles`)) {
        return Ember.RSVP.resolve();
      }

      return new Ember.RSVP.Promise((resolve, reject) => {
        let link = document.createElement('link');
        link.id = `${key}-styles`;
        link.rel = alternate ? 'alternate stylesheet' : 'stylesheet';
        link.href = `${this.ghostPaths.adminRoot}${url}`;

        link.onload = () => {
          link.onload = null;

          if (alternate) {
            // If stylesheet is alternate and we disable the stylesheet before injecting into the DOM,
            // the onload handler never gets called. Thus, we should disable the link after it has finished loading
            link.disabled = true;
          }

          resolve();
        };

        link.onerror = reject;

        if (alternate) {
          link.title = key;
        }

        document.querySelector('head').appendChild(link);
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/services/liquid-fire-transitions", ["exports", "liquid-wormhole/services/liquid-fire-transitions"], function (_exports, _liquidFireTransitions) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidFireTransitions.default;
    }
  });
});
;define("ghost-admin/services/liquid-wormhole", ["exports", "liquid-wormhole/services/liquid-wormhole"], function (_exports, _liquidWormhole) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _liquidWormhole.default;
    }
  });
});
;define("ghost-admin/services/media-queries", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  const MEDIA_QUERIES = {
    maxWidth600: '(max-width: 600px)',
    isMobile: '(max-width: 800px)',
    maxWidth900: '(max-width: 900px)',
    maxWidth1000: '(max-width: 1000px)'
  };

  var _default = Ember.Service.extend(Ember.Evented, {
    init() {
      this._super(...arguments);

      this._handlers = [];
      this.loadQueries(MEDIA_QUERIES);
    },

    loadQueries(queries) {
      Object.keys(queries).forEach(key => {
        this.loadQuery(key, queries[key]);
      });
    },

    loadQuery(key, queryString) {
      let query = window.matchMedia(queryString);
      this.set(key, query.matches);
      let handler = Ember.run.bind(this, () => {
        let lastValue = this.get(key);
        let newValue = query.matches;

        if (lastValue !== newValue) {
          this.set(key, newValue);
          this.trigger('change', key, newValue);
        }
      });
      query.addListener(handler);

      this._handlers.push([query, handler]);
    },

    willDestroy() {
      this._handlers.forEach(([query, handler]) => {
        query.removeListener(handler);
      });

      this._super(...arguments);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/services/media", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  // dummy service to account for not having the ember-responsive dependency
  // available for ember-light-table (we don't use it so no need for the dep)
  // see https://github.com/offirgolan/ember-light-table/issues/576
  var _default = Ember.Service.extend({});

  _exports.default = _default;
});
;define("ghost-admin/services/moment", ["exports", "ember-moment/services/moment", "ghost-admin/config/environment"], function (_exports, _moment, _environment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  const {
    get
  } = Ember;

  var _default = _moment.default.extend({
    defaultFormat: get(_environment.default, 'moment.outputFormat')
  });

  _exports.default = _default;
});
;define("ghost-admin/services/navigation", ["exports", "@ember-decorators/object"], function (_exports, _object) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _dec, _class, _descriptor, _descriptor2, _temp;

  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }

  const DEFAULT_SETTINGS = {
    expanded: {
      posts: true
    }
  };
  let NavigationService = (_dec = (0, _object.observes)('session.isAuthenticated', 'session.user.accessibility'), (_class = (_temp = class NavigationService extends Ember.Service {
    constructor() {
      super(...arguments);

      _initializerDefineProperty(this, "session", _descriptor, this);

      _initializerDefineProperty(this, "settings", _descriptor2, this);

      this.settings = Object.assign({}, DEFAULT_SETTINGS);
      this.updateSettings();
    } // eslint-disable-next-line ghost/ember/no-observers


    async updateSettings() {
      // avoid fetching user before authenticated otherwise the 403 can fire
      // during authentication and cause errors during setup/signin
      if (!this.session.isAuthenticated) {
        return;
      }

      let user = await this.session.user;
      let userSettings = JSON.parse(user.get('accessibility')) || {};
      this.settings = userSettings.navigation || Object.assign({}, DEFAULT_SETTINGS);
    }

    async toggleExpansion(key) {
      if (!this.settings.expanded) {
        this.settings.expanded = {};
      } // set is still needed here because we're not tracking deep keys
      // and Ember picks up that our templates are dependent on them and
      // complains. TODO: can we avoid set?


      Ember.set(this.settings.expanded, key, !this.settings.expanded[key]);
      return await this._saveNavigationSettings();
    }

    async _saveNavigationSettings() {
      let user = await this.session.user;
      let userSettings = JSON.parse(user.get('accessibility')) || {};
      userSettings.navigation = this.settings;
      user.set('accessibility', JSON.stringify(userSettings));
      return user.save();
    }

  }, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, "session", [Ember.inject.service], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, "settings", [Ember._tracked], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: null
  }), _applyDecoratedDescriptor(_class.prototype, "updateSettings", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, "updateSettings"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, "toggleExpansion", [Ember._action], Object.getOwnPropertyDescriptor(_class.prototype, "toggleExpansion"), _class.prototype)), _class));
  _exports.default = NavigationService;
});
;define("ghost-admin/services/notifications", ["exports", "ghost-admin/services/ajax"], function (_exports, _ajax) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  // Notification keys take the form of "noun.verb.message", eg:
  //
  // "invite.resend.api-error"
  // "user.invite.already-invited"
  //
  // The "noun.verb" part will be used as the "key base" in duplicate checks
  // to avoid stacking of multiple error messages whilst leaving enough
  // specificity to re-use keys for i18n lookups
  var _default = Ember.Service.extend({
    delayedNotifications: null,
    content: null,

    init() {
      this._super(...arguments);

      this.delayedNotifications = Ember.A();
      this.content = Ember.A();
    },

    upgradeStatus: Ember.inject.service(),
    alerts: Ember.computed.filter('content', function (notification) {
      let status = Ember.get(notification, 'status');
      return status === 'alert';
    }),
    notifications: Ember.computed.filter('content', function (notification) {
      let status = Ember.get(notification, 'status');
      return status === 'notification';
    }),

    handleNotification(message, delayed) {
      // If this is an alert message from the server, treat it as html safe
      if (message.constructor.modelName === 'notification' && message.get('status') === 'alert') {
        message.set('message', Ember.String.htmlSafe(message.get('message')));
      }

      if (!Ember.get(message, 'status')) {
        Ember.set(message, 'status', 'notification');
      } // close existing duplicate alerts/notifications to avoid stacking


      if (Ember.get(message, 'key')) {
        this._removeItems(Ember.get(message, 'status'), Ember.get(message, 'key'));
      } // close existing alerts/notifications which have the same text to avoid stacking


      let newText = Ember.get(message, 'message').string || Ember.get(message, 'message');
      this.set('content', this.content.reject(notification => {
        let existingText = Ember.get(notification, 'message').string || Ember.get(notification, 'message');
        return existingText === newText;
      }));

      if (!delayed) {
        this.content.pushObject(message);
      } else {
        this.delayedNotifications.pushObject(message);
      }
    },

    showAlert(message, options) {
      options = options || {};
      this.handleNotification({
        message,
        status: 'alert',
        description: options.description,
        icon: options.icon,
        type: options.type,
        key: options.key,
        actions: options.actions
      }, options.delayed);
    },

    showNotification(message, options) {
      options = options || {};
      this.handleNotification({
        message,
        status: 'notification',
        description: options.description,
        icon: options.icon,
        type: options.type,
        key: options.key,
        actions: options.actions
      }, options.delayed);
    },

    showAPIError(resp, options) {
      // handle "global" errors
      if ((0, _ajax.isVersionMismatchError)(resp)) {
        return this.upgradeStatus.requireUpgrade();
      } else if ((0, _ajax.isMaintenanceError)(resp)) {
        return this.upgradeStatus.maintenanceAlert();
      } // loop over ember-ajax errors object


      if (resp && resp.payload && Ember.isArray(resp.payload.errors)) {
        return resp.payload.errors.forEach(error => {
          this._showAPIError(error, options);
        });
      }

      this._showAPIError(resp, options);
    },

    _showAPIError(resp, options) {
      options = options || {};
      options.type = options.type || 'error'; // if possible use the title to get a unique key
      // - we only show one alert for each key so if we get multiple errors
      //   only the last one will be shown

      if (!options.key && !Ember.isBlank(Ember.get(resp, 'title'))) {
        options.key = Ember.String.dasherize(Ember.get(resp, 'title'));
      }

      options.key = ['api-error', options.key].compact().join('.');
      let msg = options.defaultErrorText || 'There was a problem on the server, please try again.';

      if (resp instanceof String) {
        msg = resp;
      } else if (!Ember.isBlank(Ember.get(resp, 'detail'))) {
        msg = resp.detail;
      } else if (!Ember.isBlank(Ember.get(resp, 'message'))) {
        msg = resp.message;
      }

      if (!Ember.isBlank(Ember.get(resp, 'context'))) {
        msg = `${msg} ${Ember.get(resp, 'context')}`;
      }

      this.showAlert(msg, options);
    },

    displayDelayed() {
      this.delayedNotifications.forEach(message => {
        this.content.pushObject(message);
      });
      this.set('delayedNotifications', []);
    },

    closeNotification(notification) {
      let content = this.content;

      if (notification.constructor.modelName === 'notification') {
        notification.deleteRecord();
        notification.save().finally(() => {
          content.removeObject(notification);
        });
      } else {
        content.removeObject(notification);
      }
    },

    closeNotifications(key) {
      this._removeItems('notification', key);
    },

    closeAlerts(key) {
      this._removeItems('alert', key);
    },

    clearAll() {
      this.content.clear();
    },

    _removeItems(status, key) {
      if (key) {
        let keyBase = this._getKeyBase(key); // TODO: keys should only have . special char but we should
        // probably use a better regexp escaping function/polyfill


        let escapedKeyBase = keyBase.replace('.', '\\.');
        let keyRegex = new RegExp(`^${escapedKeyBase}`);
        this.set('content', this.content.reject(item => {
          let itemKey = Ember.get(item, 'key');
          let itemStatus = Ember.get(item, 'status');
          return itemStatus === status && itemKey && itemKey.match(keyRegex);
        }));
      } else {
        this.set('content', this.content.rejectBy('status', status));
      }
    },

    // take a key and return the first two elements, eg:
    // "invite.revoke.failed" => "invite.revoke"
    _getKeyBase(key) {
      return key.split('.').slice(0, 2).join('.');
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/services/power-calendar", ["exports", "ember-power-calendar/services/power-calendar"], function (_exports, _powerCalendar) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _powerCalendar.default;
    }
  });
});
;define("ghost-admin/services/resize-detector", ["exports", "element-resize-detector"], function (_exports, _elementResizeDetector) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Service.extend({
    init() {
      this._super(...arguments);

      this.detector = (0, _elementResizeDetector.default)({
        strategy: 'scroll'
      });
    },

    setup(selector, callback) {
      let element = document.querySelector(selector);

      if (!element) {
        // eslint-disable-next-line
        console.error(`service:resize-detector - could not find element matching ${selector}`);
      }

      this.detector.listenTo(element, callback);
    },

    teardown(selector, callback) {
      let element = document.querySelector(selector);

      if (element) {
        this.detector.removeListener(element, callback);
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/services/session", ["exports", "ember-simple-auth/services/session"], function (_exports, _session) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _session.default.extend({
    dataStore: Ember.inject.service('store'),
    // SessionService.store already exists
    user: Ember.computed(function () {
      return this.dataStore.queryRecord('user', {
        id: 'me'
      });
    }),

    authenticate() {
      // ensure any cached this.user value is removed and re-fetched
      this.notifyPropertyChange('user');
      return this._super(...arguments);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/services/settings", ["exports", "ghost-admin/mixins/validation-engine"], function (_exports, _validationEngine) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  // ember-cli-shims doesn't export _ProxyMixin
  const {
    _ProxyMixin
  } = Ember;

  var _default = Ember.Service.extend(_ProxyMixin, _validationEngine.default, {
    store: Ember.inject.service(),
    // will be set to the single Settings model, it's a reference so any later
    // changes to the settings object in the store will be reflected
    content: null,
    validationType: 'setting',
    _loadingPromise: null,
    // this is an odd case where we only want to react to changes that we get
    // back from the API rather than local updates
    settledIcon: '',

    // the settings API endpoint is a little weird as it's singular and we have
    // to pass in all types - if we ever fetch settings without all types then
    // save we have problems with the missing settings being removed or reset
    _loadSettings() {
      if (!this._loadingPromise) {
        this._loadingPromise = this.store.queryRecord('setting', {
          type: 'blog,theme,private,members,bulk_email'
        }).then(settings => {
          this._loadingPromise = null;
          return settings;
        });
      }

      return this._loadingPromise;
    },

    fetch() {
      if (!this.content) {
        return this.reload();
      } else {
        return Ember.RSVP.resolve(this);
      }
    },

    reload() {
      return this._loadSettings().then(settings => {
        this.set('content', settings);
        this.set('settledIcon', Ember.get(settings, 'icon'));
        return this;
      });
    },

    save() {
      let settings = this.content;

      if (!settings) {
        return false;
      }

      return settings.save().then(settings => {
        this.set('settledIcon', Ember.get(settings, 'icon'));
        return settings;
      });
    },

    rollbackAttributes() {
      return this.content.rollbackAttributes();
    },

    changedAttributes() {
      return this.content.changedAttributes();
    },

    parseSubscriptionSettings(settingsString) {
      try {
        return JSON.parse(settingsString);
      } catch (e) {
        return {
          allowSelfSignup: true,
          fromAddress: 'noreply',
          paymentProcessors: [{
            adapter: 'stripe',
            config: {
              secret_token: '',
              public_token: '',
              product: {
                name: this.settings.get('title')
              },
              plans: [{
                name: 'Monthly',
                currency: 'usd',
                interval: 'month',
                amount: ''
              }, {
                name: 'Yearly',
                currency: 'usd',
                interval: 'year',
                amount: ''
              }]
            }
          }]
        };
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/services/slug-generator", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  const {
    resolve
  } = Ember.RSVP;

  var _default = Ember.Service.extend({
    ghostPaths: Ember.inject.service(),
    ajax: Ember.inject.service(),

    generateSlug(slugType, textToSlugify) {
      let url;

      if (!textToSlugify) {
        return resolve('');
      }

      url = this.get('ghostPaths.url').api('slugs', slugType, encodeURIComponent(textToSlugify));
      return this.ajax.request(url).then(response => {
        let [firstSlug] = response.slugs;
        let {
          slug
        } = firstSlug;
        return slug;
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/services/store", ["exports", "ember-data/store"], function (_exports, _store) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _store.default;
    }
  });
});
;define("ghost-admin/services/text-measurer", ["exports", "ember-text-measurer/services/text-measurer"], function (_exports, _textMeasurer) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _textMeasurer.default;
    }
  });
});
;define("ghost-admin/services/tour", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Service.extend(Ember.Evented, {
    ghostPaths: Ember.inject.service(),
    session: Ember.inject.service(),
    // this service is responsible for managing tour item visibility and syncing
    // the viewed state with the server
    //
    // tour items need to be centrally defined here so that we have a single
    // source of truth for marking all tour items as viewed
    //
    // a <GhTourItem @trobberId="unique-id"/> component can be inserted in any template,
    // this will use the tour service to grab content and determine visibility
    // with the component in control of rendering the throbber/controlling the
    // modal - this allows the component lifecycle hooks to perform automatic
    // display/cleanup when the relevant UI is visible.
    viewed: null,
    // IDs should **NOT** be changed if they have been part of a release unless
    // the re-display of the throbber should be forced. In that case it may be
    // useful to add a version number eg. `my-feature` -> `my-feature-v2`.
    // Format is as follows:
    //
    // {
    //     id: 'test',
    //     title: 'This is a test',
    //     message: 'This is a test of our <strong>feature tour</strong> feature'
    // }
    //
    // TODO: it may be better to keep this configuration elsewhere to keep the
    // service clean. Eventually we'll want apps to be able to register their
    // own throbbers and tour content
    throbbers: null,

    init() {
      this._super(...arguments);

      let adminUrl = `${window.location.origin}${this.get('ghostPaths.url').admin()}`;
      let adminDisplayUrl = adminUrl.replace(`${window.location.protocol}//`, '');
      this.viewed = [];
      this.throbbers = [{
        id: 'getting-started',
        title: 'Getting started with Ghost',
        message: `Welcome to Ghost Admin! From here you can browse your site, manage your content, and edit your settings.<br><br>You can always login to Ghost Admin by visiting <a href="${adminUrl}" target="_blank">${adminDisplayUrl}</a>`
      }, {
        id: 'using-the-editor',
        title: 'Using the Ghost editor',
        message: 'Ghost uses Markdown to allow you to write and format content quickly and easily. This toolbar also helps! Hit the <strong>?</strong> icon for more editor shortcuts.'
      }, {
        id: 'featured-post',
        title: 'Setting a featured post',
        message: 'Depending on your theme, featured posts receive special styling to make them stand out as a particularly important or emphasised story.'
      }, {
        id: 'upload-a-theme',
        title: 'Customising your publication',
        message: 'Using custom themes you can completely control the look and feel of your site to suit your brand. Here\'s a full guide to help: <strong><a href="https://ghost.org/docs/api/handlebars-themes/" target="_blank">https://ghost.org/docs/api/handlebars-themes/</a></strong>'
      }];
    },

    _activeThrobbers: Ember.computed('viewed.[]', 'throbbers.[]', function () {
      // return throbbers that haven't been viewed
      let viewed = this.viewed;
      let throbbers = this.throbbers;
      return throbbers.reject(throbber => viewed.includes(throbber.id));
    }),

    // retrieve the IDs of the viewed throbbers from the server, always returns
    // a promise
    fetchViewed() {
      return this.get('session.user').then(user => {
        let viewed = user.get('tour') || [];
        this.set('viewed', viewed);
        return viewed;
      });
    },

    // save the list of viewed throbbers to the server overwriting the
    // entire list
    syncViewed() {
      let viewed = this.viewed;
      return this.get('session.user').then(user => {
        user.set('tour', viewed);
        return user.save();
      });
    },

    // returns throbber content for a given ID only if that throbber hasn't been
    // viewed. Used by the <GhTourItem /> component to determine visibility
    activeThrobber(id) {
      let activeThrobbers = this._activeThrobbers;
      return activeThrobbers.findBy('id', id);
    },

    // when a throbber is opened the component will call this method to mark
    // it as viewed and sync with the server. Always returns a promise
    markThrobberAsViewed(id) {
      let viewed = this.viewed;

      if (!viewed.includes(id)) {
        viewed.pushObject(id);
        this.trigger('viewed', id);
        return this.syncViewed();
      } else {
        return Ember.RSVP.resolve(true);
      }
    },

    // opting-out will use the list of IDs defined in this file making it the
    // single-source-of-truth and allowing future client updates to control when
    // new UI should be surfaced through tour items
    optOut() {
      let allThrobberIds = this.throbbers.mapBy('id');
      this.set('viewed', allThrobberIds);
      this.trigger('optOut');
      return this.syncViewed();
    },

    // this is not used anywhere at the moment but it's useful to use via ember
    // inspector as a reset mechanism
    reEnable() {
      this.set('viewed', []);
      return this.syncViewed();
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/services/ui", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  function collectMetadataClasses(transition, prop) {
    let oldClasses = [];
    let newClasses = [];
    let {
      from,
      to
    } = transition;

    while (from) {
      oldClasses = oldClasses.concat(Ember.get(from, `metadata.${prop}`) || []);
      from = from.parent;
    }

    while (to) {
      newClasses = newClasses.concat(Ember.get(to, `metadata.${prop}`) || []);
      to = to.parent;
    }

    return {
      oldClasses,
      newClasses
    };
  }

  function updateBodyClasses(transition) {
    let {
      body
    } = document;
    let {
      oldClasses,
      newClasses
    } = collectMetadataClasses(transition, 'bodyClasses');
    oldClasses.forEach(oldClass => {
      body.classList.remove(oldClass);
    });
    newClasses.forEach(newClass => {
      body.classList.add(newClass);
    });
  }

  var _default = Ember.Service.extend({
    config: Ember.inject.service(),
    dropdown: Ember.inject.service(),
    mediaQueries: Ember.inject.service(),
    router: Ember.inject.service(),
    isFullScreen: false,
    showMobileMenu: false,
    showSettingsMenu: false,
    mainClass: '',
    hasSideNav: Ember.computed.not('isSideNavHidden'),
    isMobile: Ember.computed.reads('mediaQueries.isMobile'),
    isSideNavHidden: Ember.computed.or('isFullScreen', 'isMobile'),

    init() {
      this._super(...arguments);

      this.router.on('routeDidChange', transition => {
        updateBodyClasses(transition);
        this.updateDocumentTitle();
        let {
          newClasses: mainClasses
        } = collectMetadataClasses(transition, 'mainClasses');
        this.set('mainClass', mainClasses.join(' '));
      });
    },

    closeMenus() {
      this.dropdown.closeDropdowns();
      this.setProperties({
        showSettingsMenu: false,
        showMobileMenu: false
      });
    },

    closeMobileMenu() {
      this.set('showMobileMenu', false);
    },

    openMobileMenu() {
      this.set('showMobileMenu', true);
    },

    openSettingsMenu() {
      this.set('showSettingsMenu', true);
    },

    updateDocumentTitle() {
      let {
        currentRoute
      } = this.router;
      let tokens = [];

      while (currentRoute) {
        let titleToken = Ember.get(currentRoute, 'metadata.titleToken');

        if (typeof titleToken === 'function') {
          titleToken = titleToken();
        }

        if (titleToken) {
          tokens.unshift(titleToken);
        }

        currentRoute = currentRoute.parent;
      }

      let blogTitle = this.config.get('blogTitle');

      if (!Ember.isEmpty(tokens)) {
        window.document.title = `${tokens.join(' - ')} - ${blogTitle}`;
      } else {
        window.document.title = blogTitle;
      }
    },

    actions: {
      closeMenus() {
        this.closeMenus();
      },

      closeMobileMenu() {
        this.closeMobileMenu();
      },

      openMobileMenu() {
        this.openMobileMenu();
      },

      openSettingsMenu() {
        this.openSettingsMenu();
      },

      setMainClass(cls) {
        this.set('mainClass', cls);
      }

    }
  });

  _exports.default = _default;
});
;define("ghost-admin/services/unsplash", ["exports", "fetch", "ember-concurrency"], function (_exports, _fetch, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  const API_URL = 'https://api.unsplash.com';
  const API_VERSION = 'v1';
  const DEBOUNCE_MS = 600;

  var _default = Ember.Service.extend({
    config: Ember.inject.service(),
    settings: Ember.inject.service(),
    columnCount: 3,
    columns: null,
    error: '',
    photos: null,
    searchTerm: '',
    _columnHeights: null,
    _pagination: null,
    applicationId: '8672af113b0a8573edae3aa3713886265d9bb741d707f6c01a486cde8c278980',
    isLoading: Ember.computed.or('_search.isRunning', '_loadingTasks.isRunning'),

    init() {
      this._super(...arguments);

      this._reset();

      this.loadNew();
    },

    loadNew() {
      this._reset();

      return this._loadNew.perform();
    },

    loadNextPage() {
      // protect against scroll trigger firing when the photos are reset
      if (this.get('_search.isRunning')) {
        return;
      }

      if (Ember.isEmpty(this.photos)) {
        return this._loadNew.perform();
      }

      if (this._pagination.next) {
        return this._loadNextPage.perform();
      } // TODO: return error?


      return Ember.RSVP.reject();
    },

    updateSearch(term) {
      if (term === this.searchTerm) {
        return;
      }

      this.set('searchTerm', term);

      this._reset();

      if (term) {
        return this._search.perform(term);
      } else {
        return this._loadNew.perform();
      }
    },

    retryLastRequest() {
      return this._retryLastRequest.perform();
    },

    changeColumnCount(newColumnCount) {
      if (newColumnCount !== this.columnCount) {
        this.set('columnCount', newColumnCount);

        this._resetColumns();
      }
    },

    // let Unsplash know that the photo was inserted
    // https://medium.com/unsplash/unsplash-api-guidelines-triggering-a-download-c39b24e99e02
    triggerDownload(photo) {
      if (photo.links.download_location) {
        this._makeRequest(photo.links.download_location, {
          ignoreErrors: true
        });
      }
    },

    actions: {
      updateSearch(term) {
        return this.updateSearch(term);
      }

    },
    _loadingTasks: (0, _emberConcurrency.taskGroup)().drop(),
    _loadNew: (0, _emberConcurrency.task)(function* () {
      let url = `${API_URL}/photos?per_page=30`;
      yield this._makeRequest(url);
    }).group('_loadingTasks'),
    _loadNextPage: (0, _emberConcurrency.task)(function* () {
      yield this._makeRequest(this._pagination.next);
    }).group('_loadingTasks'),
    _retryLastRequest: (0, _emberConcurrency.task)(function* () {
      yield this._makeRequest(this._lastRequestUrl);
    }).group('_loadingTasks'),
    _search: (0, _emberConcurrency.task)(function* (term) {
      yield (0, _emberConcurrency.timeout)(DEBOUNCE_MS);
      let url = `${API_URL}/search/photos?query=${term}&per_page=30`;
      yield this._makeRequest(url);
    }).restartable(),

    _addPhotosFromResponse(response) {
      let photos = response.results || response;
      photos.forEach(photo => this._addPhoto(photo));
    },

    _addPhoto(photo) {
      // pre-calculate ratio for later use
      photo.ratio = photo.height / photo.width; // add to general photo list

      this.photos.pushObject(photo); // add to least populated column

      this._addPhotoToColumns(photo);
    },

    _addPhotoToColumns(photo) {
      let min = Math.min(...this._columnHeights);

      let columnIndex = this._columnHeights.indexOf(min); // use a fixed width when calculating height to compensate for different
      // overall image sizes


      this._columnHeights[columnIndex] += 300 * photo.ratio;
      this.columns[columnIndex].pushObject(photo);
    },

    _reset() {
      this.set('photos', []);
      this._pagination = {};

      this._resetColumns();
    },

    _resetColumns() {
      let columns = [];
      let columnHeights = []; // pre-fill column arrays based on columnCount

      for (let i = 0; i < this.columnCount; i += 1) {
        columns[i] = [];
        columnHeights[i] = 0;
      }

      this.set('columns', columns);
      this._columnHeights = columnHeights;

      if (!Ember.isEmpty(this.photos)) {
        this.photos.forEach(photo => {
          this._addPhotoToColumns(photo);
        });
      }
    },

    _makeRequest(url, _options = {}) {
      let defaultOptions = {
        ignoreErrors: false
      };
      let headers = {};
      let options = {};
      Ember.assign(options, defaultOptions, _options); // clear any previous error

      this.set('error', ''); // store the url so it can be retried if needed

      this._lastRequestUrl = url;
      headers.Authorization = `Client-ID ${this.applicationId}`;
      headers['Accept-Version'] = API_VERSION;
      headers['App-Pragma'] = 'no-cache';
      headers['X-Unsplash-Cache'] = true;
      return (0, _fetch.default)(url, {
        headers
      }).then(response => this._checkStatus(response)).then(response => this._extractPagination(response)).then(response => response.json()).then(response => this._addPhotosFromResponse(response)).catch(() => {
        // if the error text isn't already set then we've get a connection error from `fetch`
        if (!options.ignoreErrors && !this.error) {
          this.set('error', 'Uh-oh! Trouble reaching the Unsplash API, please check your connection');
        }
      });
    },

    _checkStatus(response) {
      // successful request
      if (response.status >= 200 && response.status < 300) {
        return Ember.RSVP.resolve(response);
      }

      let errorText = '';
      let responseTextPromise = Ember.RSVP.resolve();

      if (response.headers.map['content-type'] === 'application/json') {
        responseTextPromise = response.json().then(json => json.errors[0]);
      } else if (response.headers.map['content-type'] === 'text/xml') {
        responseTextPromise = response.text();
      }

      return responseTextPromise.then(responseText => {
        if (response.status === 403 && response.headers.map['x-ratelimit-remaining'] === '0') {
          // we've hit the ratelimit on the API
          errorText = 'Unsplash API rate limit reached, please try again later.';
        }

        errorText = errorText || responseText || `Error ${response.status}: Uh-oh! Trouble reaching the Unsplash API`; // set error text for display in UI

        this.set('error', errorText); // throw error to prevent further processing

        let error = new Error(errorText);
        error.response = response;
        throw error;
      });
    },

    _extractPagination(response) {
      let pagination = {};
      let linkRegex = new RegExp('<(.*)>; rel="(.*)"');
      let {
        link
      } = response.headers.map;

      if (link) {
        link.split(',').forEach(link => {
          let [, url, rel] = linkRegex.exec(link);
          pagination[rel] = url;
        });
      }

      this._pagination = pagination;
      return response;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/services/upgrade-status", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Service.extend({
    notifications: Ember.inject.service(),
    isRequired: false,
    message: '',

    // called when notifications are fetched during app boot for notifications
    // where the `location` is not 'top' and `custom` is false
    handleUpgradeNotification(notification) {
      let message = Ember.get(notification, 'message');
      Ember.set(this, 'message', Ember.String.htmlSafe(message));
    },

    // called when a MaintenanceError is encountered
    maintenanceAlert() {
      this.notifications.showAlert('Sorry, Ghost is currently undergoing maintenance, please wait a moment then try again.', {
        type: 'error',
        key: 'api-error.under-maintenance'
      });
    },

    // called when a VersionMismatchError is encountered
    requireUpgrade() {
      Ember.set(this, 'isRequired', true);
      this.notifications.showAlert('Ghost has been upgraded, please copy any unsaved data and refresh the page to continue.', {
        type: 'error',
        key: 'api-error.upgrade-required'
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/services/user-agent", ["exports", "ember-useragent/services/user-agent"], function (_exports, _userAgent) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _userAgent.default;
    }
  });
});
;define("ghost-admin/services/whats-new", ["exports", "fetch", "moment", "ember-concurrency"], function (_exports, _fetch, _moment, _emberConcurrency) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Service.extend({
    session: Ember.inject.service(),
    entries: null,
    changelogUrl: 'https://ghost.org/blog/',
    isShowingModal: false,
    _user: null,

    init() {
      this._super(...arguments);

      this.entries = [];
    },

    whatsNewSettings: Ember.computed('_user.accessibility', function () {
      let settingsJson = this.get('_user.accessibility') || '{}';
      let settings = JSON.parse(settingsJson);
      return settings.whatsNew;
    }),
    hasNew: Ember.computed('whatsNewSettings.lastSeenDate', 'entries.[]', function () {
      if (Ember.isEmpty(this.entries)) {
        return false;
      }

      let [latestEntry] = this.entries;
      let lastSeenDate = this.get('whatsNewSettings.lastSeenDate') || '2019-01-01 00:00:00';
      let lastSeenMoment = (0, _moment.default)(lastSeenDate);
      let latestDate = latestEntry.published_at;
      let latestMoment = (0, _moment.default)(latestDate || lastSeenDate);
      return latestMoment.isAfter(lastSeenMoment);
    }),
    showModal: Ember._action(function () {
      this.set('isShowingModal', true);
    }),
    closeModal: Ember._action(function () {
      this.set('isShowingModal', false);
      this.updateLastSeen.perform();
    }),
    fetchLatest: (0, _emberConcurrency.task)(function* () {
      try {
        // we should already be logged in at this point so lets grab the user
        // record and store it locally so that we don't have to deal with
        // session.user being a promise and causing issues with CPs
        let user = yield this.session.user;
        this.set('_user', user);
        let response = yield (0, _fetch.default)('https://ghost.org/changelog.json');

        if (!response.ok) {
          // eslint-disable-next-line
          return console.error('Failed to fetch changelog', {
            response
          });
        }

        let result = yield response.json();
        this.set('entries', result.posts || []);
        this.set('changelogUrl', result.changelogUrl);
      } catch (e) {
        console.error(e); // eslint-disable-line
      }
    }),
    updateLastSeen: (0, _emberConcurrency.task)(function* () {
      let settingsJson = this._user.accessibility || '{}';
      let settings = JSON.parse(settingsJson);
      let [latestEntry] = this.entries;

      if (!latestEntry) {
        return;
      }

      if (!settings.whatsNew) {
        settings.whatsNew = {};
      }

      settings.whatsNew.lastSeenDate = latestEntry.published_at;

      this._user.set('accessibility', JSON.stringify(settings));

      yield this._user.save();
    })
  });

  _exports.default = _default;
});
;define("ghost-admin/session-stores/application", ["exports", "ember-simple-auth/session-stores/ephemeral"], function (_exports, _ephemeral) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  // Ghost already uses a cookie to store it's session so we don't need to keep
  // track of any other peristent login state separately in Ember Simple Auth
  var _default = _ephemeral.default.extend({
    session: Ember.inject.service(),

    // when loading the app we want ESA to try fetching the currently logged
    // in user. This will succeed/fail depending on whether we have a valid
    // session cookie or not so we can use that as an indication of the session
    // being authenticated
    restore() {
      return this.session.user.then(() => {
        // provide the necessary data for internal-session to mark the
        // session as authenticated
        let data = {
          authenticated: {
            authenticator: 'authenticator:cookie'
          }
        };
        this.persist(data);
        return data;
      }).catch(() => {
        // ensure the session.user doesn't return the same rejected promise
        // after a succussful login
        this.session.notifyPropertyChange('user');
        return Ember.RSVP.reject();
      });
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/templates/-contributors", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "koRo0+Gr",
    "block": "{\"symbols\":[],\"statements\":[[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/JohnONolan\"],[14,\"title\",\"JohnONolan\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/JohnONolan.jpeg\"],[14,\"alt\",\"JohnONolan\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/ErisDS\"],[14,\"title\",\"ErisDS\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/ErisDS.jpeg\"],[14,\"alt\",\"ErisDS\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/sebgie\"],[14,\"title\",\"sebgie\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/sebgie.png\"],[14,\"alt\",\"sebgie\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/frantzypants\"],[14,\"title\",\"frantzypants\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/frantzypants.jpeg\"],[14,\"alt\",\"frantzypants\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/cobbspur\"],[14,\"title\",\"cobbspur\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/cobbspur.jpeg\"],[14,\"alt\",\"cobbspur\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/kevinansfield\"],[14,\"title\",\"kevinansfield\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/kevinansfield.jpeg\"],[14,\"alt\",\"kevinansfield\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/GeorginaLusby\"],[14,\"title\",\"GeorginaLusby\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/GeorginaLusby.jpeg\"],[14,\"alt\",\"GeorginaLusby\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/AileenCGN\"],[14,\"title\",\"AileenCGN\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/AileenCGN.jpeg\"],[14,\"alt\",\"AileenCGN\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/kirrg001\"],[14,\"title\",\"kirrg001\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/kirrg001.jpeg\"],[14,\"alt\",\"kirrg001\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/disordinary\"],[14,\"title\",\"disordinary\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/disordinary.jpeg\"],[14,\"alt\",\"disordinary\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/acburdine\"],[14,\"title\",\"acburdine\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/acburdine.jpeg\"],[14,\"alt\",\"acburdine\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/dbalders\"],[14,\"title\",\"dbalders\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/dbalders.jpeg\"],[14,\"alt\",\"dbalders\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/felixrieseberg\"],[14,\"title\",\"felixrieseberg\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/felixrieseberg.jpeg\"],[14,\"alt\",\"felixrieseberg\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/jaswilli\"],[14,\"title\",\"jaswilli\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/jaswilli.jpeg\"],[14,\"alt\",\"jaswilli\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/halfdan\"],[14,\"title\",\"halfdan\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/halfdan.jpeg\"],[14,\"alt\",\"halfdan\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/kevinkucharczyk\"],[14,\"title\",\"kevinkucharczyk\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/kevinkucharczyk.jpeg\"],[14,\"alt\",\"kevinkucharczyk\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/mixonic\"],[14,\"title\",\"mixonic\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/mixonic.png\"],[14,\"alt\",\"mixonic\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/rwjblue\"],[14,\"title\",\"rwjblue\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/rwjblue.jpeg\"],[14,\"alt\",\"rwjblue\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/tgriesser\"],[14,\"title\",\"tgriesser\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/tgriesser.png\"],[14,\"alt\",\"tgriesser\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[10,\"article\"],[12],[2,\"\\n    \"],[10,\"a\"],[14,6,\"https://github.com/bnookala\"],[14,\"title\",\"bnookala\"],[12],[2,\"\\n        \"],[10,\"img\"],[14,\"src\",\"assets/img/contributors/bnookala.jpeg\"],[14,\"alt\",\"bnookala\"],[12],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[]}",
    "meta": {
      "moduleName": "ghost-admin/templates/-contributors.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/about", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "gXeX9jMI",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas js-settings-content\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[1,[30,[36,0],[\"ghost-logo\"],[[\"class\",\"alt\"],[\"gh-logo\",\"Ghost\"]]]],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n    \"],[10,\"section\"],[14,0,\"view-container\"],[12],[2,\"\\n        \"],[10,\"section\"],[14,0,\"gh-env-details\"],[12],[2,\"\\n            \"],[10,\"ul\"],[14,0,\"gh-env-list\"],[12],[2,\"\\n                \"],[10,\"li\"],[14,0,\"gh-env-list-version\"],[12],[10,\"strong\"],[12],[2,\"Version\"],[13],[2,\" \"],[1,[32,0,[\"config\",\"version\"]]],[13],[2,\"\\n                \"],[10,\"li\"],[12],[10,\"strong\"],[12],[2,\"Environment\"],[13],[2,\" \"],[1,[32,0,[\"config\",\"environment\"]]],[13],[2,\"\\n                \"],[10,\"li\"],[14,0,\"gh-env-list-database-type\"],[12],[10,\"strong\"],[12],[2,\"Database\"],[13],[2,\" \"],[1,[32,0,[\"config\",\"database\"]]],[13],[2,\"\\n                \"],[10,\"li\"],[12],[10,\"strong\"],[12],[2,\"Mail\"],[13],[2,\" \"],[6,[37,1],[[32,0,[\"config\",\"mail\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[1,[32,0,[\"config\",\"mail\"]]]],\"parameters\":[]},{\"statements\":[[2,\"Native\"]],\"parameters\":[]}]]],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-env-help\"],[12],[2,\"\\n                \"],[10,\"a\"],[14,0,\"gh-btn\"],[14,6,\"https://ghost.org/docs/\"],[14,\"target\",\"_blank\"],[12],[10,\"span\"],[12],[2,\"User Documentation\"],[13],[13],[2,\"\\n                \"],[10,\"a\"],[14,0,\"gh-btn\"],[14,6,\"https://forum.ghost.org/\"],[14,\"target\",\"_blank\"],[12],[10,\"span\"],[12],[2,\"Get Help With Ghost\"],[13],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n\"],[6,[37,1],[[32,0,[\"upgradeStatus\",\"message\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"section\"],[14,0,\"gh-upgrade-notification\"],[12],[2,\"\\n                \"],[10,\"p\"],[12],[2,\"\\n                    \"],[10,\"strong\"],[12],[2,\"Update available!\"],[13],[2,\" \"],[1,[32,0,[\"upgradeStatus\",\"message\"]]],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n        \"],[10,\"section\"],[14,0,\"gh-credits\"],[12],[2,\"\\n            \"],[10,\"h2\"],[12],[2,\"The People Who Made it Possible\"],[13],[2,\"\\n\\n            \"],[10,\"section\"],[14,0,\"gh-contributors\"],[12],[2,\"\\n                \"],[19,\"contributors\",[]],[2,\"\\n            \"],[13],[2,\"\\n\\n            \"],[10,\"p\"],[12],[2,\"Ghost is built by an incredible group of contributors from all over the world. Here are just a few of the people who helped create the version you’re using right now.\"],[13],[2,\"\\n\\n            \"],[10,\"a\"],[14,0,\"gh-btn gh-btn-blue\"],[14,6,\"https://ghost.org/docs/concepts/contributing/\"],[14,\"target\",\"_blank\"],[12],[10,\"span\"],[12],[2,\"Find out how you can get involved\"],[13],[13],[2,\"\\n\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"footer\"],[14,0,\"gh-copyright-info\"],[12],[2,\"\\n            Copyright © 2013 – \"],[1,[32,0,[\"copyrightYear\"]]],[2,\" Ghost Foundation, released under the \"],[10,\"a\"],[14,6,\"https://github.com/TryGhost/Ghost/blob/master/LICENSE\"],[14,\"target\",\"_blank\"],[12],[2,\"MIT license\"],[13],[2,\".\\n            \"],[10,\"br\"],[12],[13],[2,\"\\n            \"],[10,\"a\"],[14,6,\"https://ghost.org/\"],[14,\"target\",\"_blank\"],[12],[2,\"Ghost\"],[13],[2,\" is a registered trademark of \"],[10,\"a\"],[14,6,\"https://ghost.org/trademark/\"],[14,\"target\",\"_blank\"],[12],[2,\"Ghost Foundation Ltd\"],[13],[2,\".\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":true,\"upvars\":[\"svg-jar\",\"if\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/about.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/application-error", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "BwieU0Zl",
    "block": "{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"gh-view\"],[12],[2,\"\\n    \"],[10,\"section\"],[14,0,\"error-content error-404 js-error-container\"],[12],[2,\"\\n        \"],[10,\"section\"],[14,0,\"error-details\"],[12],[2,\"\\n            \"],[10,\"img\"],[14,0,\"error-ghost\"],[14,\"src\",\"assets/img/404-ghost@2x.png\"],[14,\"srcset\",\"assets/img/404-ghost.png 1x, assets/img/404-ghost@2x.png 2x\"],[12],[13],[2,\"\\n            \"],[10,\"section\"],[14,0,\"error-message\"],[12],[2,\"\\n                \"],[10,\"h1\"],[14,0,\"error-code\"],[12],[1,[32,0,[\"model\",\"code\"]]],[13],[2,\"\\n                \"],[10,\"h2\"],[14,0,\"error-description\"],[12],[2,\"\\n                    \"],[1,[30,[36,0],[[32,0,[\"model\",\"payload\",\"errors\",\"firstObject\",\"message\"]],[32,0,[\"model\",\"message\"]]],null]],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[8,\"ember-load-remover\",[],[[],[]],null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"or\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/application-error.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/application", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "DII+AFi/",
    "block": "{\"symbols\":[],\"statements\":[[8,\"gh-app\",[],[[\"@showSettingsMenu\"],[[32,0,[\"ui\",\"showSettingsMenu\"]]]],[[\"default\"],[{\"statements\":[[2,\"\\n    \"],[8,\"gh-skip-link\",[],[[\"@anchor\"],[\".gh-main\"]],[[\"default\"],[{\"statements\":[[2,\"Skip to main content\"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[8,\"gh-alerts\",[],[[],[]],null],[2,\"\\n\\n    \"],[10,\"div\"],[15,0,[31,[\"gh-viewport \",[30,[36,0],[[32,0,[\"ui\",\"showSettingsMenu\"]],\"settings-menu-expanded\"],null],\" \",[30,[36,0],[[32,0,[\"ui\",\"showMobileMenu\"]],\"mobile-menu-expanded\"],null]]]],[12],[2,\"\\n\"],[6,[37,0],[[32,0,[\"showNavMenu\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[8,\"gh-nav-menu\",[],[[\"@icon\"],[[32,0,[\"settings\",\"settledIcon\"]]]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n        \"],[10,\"main\"],[15,0,[31,[\"gh-main \",[32,0,[\"ui\",\"mainClass\"]]]]],[14,\"role\",\"main\"],[12],[2,\"\\n            \"],[1,[30,[36,2],[[30,[36,1],null,null]],null]],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[8,\"gh-notifications\",[],[[],[]],null],[2,\"\\n\\n        \"],[8,\"gh-content-cover\",[],[[],[]],null],[2,\"\\n\\n        \"],[8,\"gh-mobile-nav-bar\",[],[[],[]],null],[2,\"\\n\\n        \"],[8,\"gh-whats-new\",[],[[],[]],null],[2,\"\\n    \"],[13],[2,\"\\n\\n\"],[6,[37,0],[[32,0,[\"customViews\",\"showFormModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@close\",\"@modifier\"],[\"custom-view-form\",[32,0,[\"customViews\",\"toggleFormModal\"]],\"action narrow\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[8,\"ember-load-remover\",[],[[],[]],null]],\"hasEval\":false,\"upvars\":[\"if\",\"-outlet\",\"component\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/application.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/components/basic-dropdown-content", ["exports", "ember-basic-dropdown/templates/components/basic-dropdown-content"], function (_exports, _basicDropdownContent) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _basicDropdownContent.default;
    }
  });
});
;define("ghost-admin/templates/components/basic-dropdown-trigger", ["exports", "ember-basic-dropdown/templates/components/basic-dropdown-trigger"], function (_exports, _basicDropdownTrigger) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _basicDropdownTrigger.default;
    }
  });
});
;define("ghost-admin/templates/components/basic-dropdown", ["exports", "ember-basic-dropdown/templates/components/basic-dropdown"], function (_exports, _basicDropdown) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _basicDropdown.default;
    }
  });
});
;define("ghost-admin/templates/components/draggable-object-target", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "zPdNTUXQ",
    "block": "{\"symbols\":[\"&default\"],\"statements\":[[6,[37,2],[[35,1]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"  \"],[11,\"a\"],[24,6,\"#\"],[4,[38,0],[[32,0],\"acceptForDrop\"],null],[12],[2,\"\\n    \"],[18,1,null],[2,\"\\n  \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"  \"],[18,1,null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"action\",\"enableClicking\",\"if\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/components/draggable-object-target.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/components/draggable-object", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "6219B1io",
    "block": "{\"symbols\":[\"&default\"],\"statements\":[[6,[37,2],[[35,1]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"  \"],[11,\"a\"],[24,6,\"#\"],[4,[38,0],[[32,0],\"selectForDrag\"],null],[12],[2,\"\\n    \"],[18,1,null],[2,\"\\n  \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"  \"],[18,1,null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"action\",\"enableClicking\",\"if\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/components/draggable-object.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/components/object-bin", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "JPskRAJO",
    "block": "{\"symbols\":[\"obj\",\"&default\"],\"statements\":[[6,[37,5],null,[[\"action\"],[\"handleObjectDropped\"]],[[\"default\"],[{\"statements\":[[2,\"  \"],[10,\"div\"],[14,0,\"object-bin-title\"],[12],[1,[34,1]],[13],[2,\"\\n  \"],[10,\"br\"],[12],[13],[2,\"\\n\"],[6,[37,4],[[30,[36,3],[[30,[36,3],[[35,2]],null]],null]],null,[[\"default\"],[{\"statements\":[[6,[37,0],null,[[\"action\",\"content\"],[\"handleObjectDragged\",[32,1]]],[[\"default\"],[{\"statements\":[[2,\"      \"],[18,2,[[32,1]]],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[1]}]]]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"draggable-object\",\"name\",\"model\",\"-track-array\",\"each\",\"draggable-object-target\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/components/object-bin.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/components/power-select-multiple", ["exports", "ember-power-select/templates/components/power-select-multiple"], function (_exports, _powerSelectMultiple) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _powerSelectMultiple.default;
    }
  });
});
;define("ghost-admin/templates/components/power-select-multiple/trigger", ["exports", "ember-power-select/templates/components/power-select-multiple/trigger"], function (_exports, _trigger) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _trigger.default;
    }
  });
});
;define("ghost-admin/templates/components/power-select", ["exports", "ember-power-select/templates/components/power-select"], function (_exports, _powerSelect) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _powerSelect.default;
    }
  });
});
;define("ghost-admin/templates/components/power-select/before-options", ["exports", "ember-power-select/templates/components/power-select/before-options"], function (_exports, _beforeOptions) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _beforeOptions.default;
    }
  });
});
;define("ghost-admin/templates/components/power-select/options", ["exports", "ember-power-select/templates/components/power-select/options"], function (_exports, _options) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _options.default;
    }
  });
});
;define("ghost-admin/templates/components/power-select/placeholder", ["exports", "ember-power-select/templates/components/power-select/placeholder"], function (_exports, _placeholder) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _placeholder.default;
    }
  });
});
;define("ghost-admin/templates/components/power-select/power-select-group", ["exports", "ember-power-select/templates/components/power-select/power-select-group"], function (_exports, _powerSelectGroup) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _powerSelectGroup.default;
    }
  });
});
;define("ghost-admin/templates/components/power-select/search-message", ["exports", "ember-power-select/templates/components/power-select/search-message"], function (_exports, _searchMessage) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _searchMessage.default;
    }
  });
});
;define("ghost-admin/templates/components/power-select/trigger", ["exports", "ember-power-select/templates/components/power-select/trigger"], function (_exports, _trigger) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _trigger.default;
    }
  });
});
;define("ghost-admin/templates/components/sortable-objects", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "JPMjKs2T",
    "block": "{\"symbols\":[\"&default\"],\"statements\":[[18,1,null]],\"hasEval\":false,\"upvars\":[]}",
    "meta": {
      "moduleName": "ghost-admin/templates/components/sortable-objects.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/editor", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "Avk8BpzD",
    "block": "{\"symbols\":[\"editor\"],\"statements\":[[6,[37,4],[[32,0,[\"post\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-editor\",[],[[\"@tagName\",\"@class\"],[\"section\",\"gh-editor gh-view\"]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"header\"],[15,0,[31,[\"gh-editor-header br2 pe-none \",[32,1,[\"headerClass\"]],\" \",[30,[36,4],[[32,0,[\"infoMessage\"]],\"bg-white\"],null]]]],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"flex items-center pe-auto\"],[12],[2,\"\\n\"],[6,[37,4],[[32,0,[\"ui\",\"isFullScreen\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"div\"],[15,0,[31,[[30,[36,9],[\"ts\"],null],\" h9 br b--lightgrey pl3 pr4 flex items-center br2 br--left \",[30,[36,8],[[32,0,[\"infoMessage\"]],\"bg-white\"],null]]]],[12],[2,\"\\n                        \"],[8,\"link-to\",[[16,\"data-test-link\",[30,[36,10],[[32,0,[\"post\",\"displayName\"]]],null]]],[[\"@route\",\"@classNames\"],[[30,[36,10],[[32,0,[\"post\",\"displayName\"]]],null],\"blue link fw4 flex items-center\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[1,[30,[36,6],[\"arrow-left\"],[[\"class\"],[\"w3 fill-blue mr1 nudge-right--2\"]]]],[2,\"\\n                            \"],[1,[30,[36,11],[[30,[36,10],[[32,0,[\"post\",\"displayName\"]]],null]],null]],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[10,\"div\"],[15,0,[31,[\"flex items-center pl4 pr4 f8 nudge-left--1 h9 br2 br--right \",[30,[36,8],[[32,0,[\"infoMessage\"]],\"bg-white\"],null]]]],[12],[2,\"\\n                    \"],[10,\"span\"],[14,0,\"fw4 midgrey-l2\"],[12],[2,\"\\n                        \"],[8,\"gh-editor-post-status\",[],[[\"@post\",\"@isSaving\"],[[32,0,[\"post\"]],[30,[36,12],[[32,0,[\"autosave\",\"isRunning\"]],[32,0,[\"saveTasks\",\"isRunning\"]]],null]]],null],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n\\n\"],[6,[37,4],[[32,0,[\"infoMessage\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"div\"],[14,0,\"gh-koenig-info miw88 flex flex-auto justify-center\"],[14,5,\"pointer-events: auto\"],[12],[2,\"\\n                \"],[10,\"div\"],[15,0,[31,[\"midgrey inline-flex tracked-1 center pa1 pl4 pr4 br3 justify-center items-start \",[30,[36,4],[[30,[36,5],[[32,1,[\"headerClass\"]],\"gh-editor-header-small\"],null],\"bg-white\"],null]]]],[12],[2,\"\\n                    \"],[1,[30,[36,6],[\"idea\"],[[\"class\"],[\"w7 h7 fill-blue\"]]]],[2,\"\\n                    \"],[10,\"p\"],[14,0,\"ma0 pa0 ml1 nudge-top--2\"],[12],[2,\"\\n                        \"],[1,[32,0,[\"infoMessage\"]]],[2,\"\\n                        \"],[11,\"button\"],[24,0,\"blue fw5\"],[24,4,\"button\"],[4,[38,2],[[32,0],[30,[36,7],[[32,0,[\"infoMessage\"]],\"\"],null]],null],[12],[2,\"Got it\"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n            \"],[10,\"section\"],[15,0,[31,[\"view-actions br2 \",[30,[36,8],[[32,0,[\"infoMessage\"]],\"bg-white\"],null]]]],[14,5,\"pointer-events: auto\"],[12],[2,\"\\n\"],[6,[37,8],[[32,0,[\"post\",\"isNew\"]]],null,[[\"default\"],[{\"statements\":[[6,[37,4],[[32,0,[\"session\",\"user\",\"isContributor\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[8,\"gh-task-button\",[[24,\"data-test-contributor-save\",\"true\"]],[[\"@buttonText\",\"@task\",\"@runningText\",\"@class\"],[\"Save\",[32,0,[\"save\"]],\"Saving\",\"gh-btn gh-btn-blue gh-btn-icon contributor-save-button\"]],null],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        \"],[8,\"gh-publishmenu\",[],[[\"@post\",\"@postStatus\",\"@saveTask\",\"@setSaveType\",\"@onOpen\",\"@backgroundTask\",\"@memberCount\"],[[32,0,[\"post\"]],[32,0,[\"post\",\"status\"]],[32,0,[\"save\"]],[30,[36,2],[[32,0],\"setSaveType\"],null],[30,[36,2],[[32,0],\"cancelAutosave\"],null],[32,0,[\"backgroundLoader\"]],[32,0,[\"memberCount\"]]]],null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"\\n                \"],[11,\"button\"],[24,0,\"post-settings\"],[24,\"title\",\"Settings\"],[24,\"data-test-psm-trigger\",\"\"],[24,4,\"button\"],[4,[38,2],[[32,0],\"openSettingsMenu\"],[[\"target\"],[[32,0,[\"ui\"]]]]],[12],[2,\"\\n                    \"],[1,[30,[36,6],[\"settings\"],null]],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n\"],[2,\"        \"],[8,\"gh-koenig-editor\",[],[[\"@title\",\"@titlePlaceholder\",\"@onTitleChange\",\"@onTitleBlur\",\"@body\",\"@bodyPlaceholder\",\"@bodyAutofocus\",\"@onBodyChange\",\"@headerOffset\",\"@scrollContainerSelector\",\"@scrollOffsetTopSelector\",\"@scrollOffsetBottomSelector\",\"@onEditorCreated\",\"@onWordCountChange\"],[[30,[36,13],[[32,0,[\"post\",\"titleScratch\"]]],null],[30,[36,14],[[30,[36,11],[[32,0,[\"post\",\"displayName\"]]],null],\" Title\"],null],[30,[36,2],[[32,0],\"updateTitleScratch\"],null],[30,[36,2],[[32,0],[30,[36,15],[[32,0,[\"saveTitle\"]]],null]],null],[30,[36,13],[[32,0,[\"post\",\"scratch\"]]],null],[30,[36,14],[\"Begin writing your \",[32,0,[\"post\",\"displayName\"]],\"...\"],null],[32,0,[\"shouldFocusEditor\"]],[30,[36,2],[[32,0],\"updateScratch\"],null],[32,1,[\"headerHeight\"]],\".gh-koenig-editor\",\".gh-editor-header-small\",\".gh-mobile-nav-bar\",[30,[36,2],[[32,0],\"setKoenigEditor\"],null],[30,[36,2],[[32,0],\"updateWordCount\"],null]]],null],[2,\"\\n\\n        \"],[10,\"div\"],[15,0,[31,[\"absolute flex items-center br3 bg-white \",[30,[36,4],[[32,1,[\"headerClass\"]],\"right-4 bottom-4\",\"right-6 bottom-6\"],null]]]],[12],[2,\"\\n            \"],[10,\"div\"],[15,0,[31,[\"midgrey-l2 \",[30,[36,4],[[32,1,[\"headerClass\"]],\"f-supersmall pl2 pr2\",\"f8 pl4 pr3\"],null],\" fw4\"]]],[12],[2,\"\\n                \"],[1,[30,[36,10],[[32,0,[\"wordCount\",\"wordCount\"]],\"word\"],null]],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"a\"],[14,6,\"https://ghost.org/faq/using-the-editor/\"],[15,0,[31,[\"flex \",[30,[36,4],[[32,1,[\"headerClass\"]],\"pa2\",\"pa3\"],null]]]],[14,\"target\",\"_blank\"],[12],[1,[30,[36,6],[\"help\"],[[\"class\"],[\"w4 h4 stroke-midgrey-l2\"]]]],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n    \"]],\"parameters\":[1]}]]],[2,\"\\n\\n\"],[6,[37,4],[[32,0,[\"showDeletePostModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@close\",\"@modifier\"],[\"delete-post\",[30,[36,1],null,[[\"post\",\"onSuccess\"],[[32,0,[\"post\"]],[30,[36,3],[\"redirectToContentScreen\",[32,0,[\"post\",\"displayName\"]]],null]]]],[30,[36,2],[[32,0],\"toggleDeletePostModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,4],[[32,0,[\"showLeaveEditorModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@confirm\",\"@close\",\"@modifier\"],[\"leave-editor\",[30,[36,2],[[32,0],\"leaveEditor\"],null],[30,[36,2],[[32,0],\"toggleLeaveEditorModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,4],[[32,0,[\"showReAuthenticateModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@close\",\"@modifier\"],[\"re-authenticate\",[30,[36,2],[[32,0],\"toggleReAuthenticateModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,4],[[32,0,[\"showEmailPreviewModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@close\",\"@modifier\"],[\"post-email-preview\",[32,0,[\"post\"]],[30,[36,2],[[32,0],\"toggleEmailPreviewModal\"],null],\"full-overlay email-preview\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,4],[[32,0,[\"showUpgradeModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@close\",\"@modifier\"],[\"upgrade-host-limit\",[30,[36,1],null,[[\"message\",\"details\",\"upgradeLink\"],[[35,0,[\"context\"]],[35,0,[\"details\"]],[35,0,[\"help\"]]]]],[30,[36,2],[[32,0],\"closeUpgradeModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n    \"],[8,\"liquid-wormhole\",[],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[8,\"gh-post-settings-menu\",[],[[\"@post\",\"@showSettingsMenu\",\"@toggleEmailPreviewModal\",\"@deletePost\",\"@updateSlug\",\"@savePost\"],[[32,0,[\"post\"]],[32,0,[\"ui\",\"showSettingsMenu\"]],[30,[36,2],[[32,0],\"toggleEmailPreviewModal\"],null],[30,[36,2],[[32,0],\"toggleDeletePostModal\"],null],[32,0,[\"updateSlug\"]],[32,0,[\"savePost\"]]]],null],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[1,[30,[36,17],[[30,[36,16],null,null]],null]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"hostLimitError\",\"hash\",\"action\",\"route-action\",\"if\",\"eq\",\"svg-jar\",\"mut\",\"unless\",\"ui-text\",\"pluralize\",\"capitalize\",\"or\",\"readonly\",\"concat\",\"perform\",\"-outlet\",\"component\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/editor.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/editor/edit-loading", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "okhM6Y2v",
    "block": "{\"symbols\":[],\"statements\":[[11,\"div\"],[24,0,\"gh-view\"],[4,[38,1],[[30,[36,0],[[32,0],\"setMainClass\",\"gh-main-white\"],[[\"target\"],[[32,0,[\"ui\"]]]]]],null],[12],[2,\"\\n    \"],[10,\"div\"],[14,0,\"gh-content\"],[12],[2,\"\\n        \"],[8,\"gh-loading-spinner\",[],[[],[]],null],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"did-insert\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/editor/edit-loading.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/error", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "KF1QCszX",
    "block": "{\"symbols\":[\"item\"],\"statements\":[[10,\"div\"],[14,0,\"gh-view\"],[12],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"flex flex-column items-center flex-grow justify-center h-100 nt10\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"absolute error-background nudge-right--5\"],[12],[2,\"\\n            \"],[1,[30,[36,3],[\"desert\"],[[\"class\"],[\"error-background absolute\"]]]],[2,\"\\n            \"],[10,\"div\"],[14,0,\"traveler-1\"],[12],[1,[30,[36,3],[\"tumbleweed\"],[[\"class\"],[\"w6 h6 absolute bouncer-1\"]]]],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"traveler-2\"],[12],[1,[30,[36,3],[\"tumbleweed\"],[[\"class\"],[\"w11 h11 absolute bouncer-2\"]]]],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"absolute mt50 tc\"],[12],[2,\"\\n            \"],[10,\"h1\"],[14,0,\"midlightgrey error-code-size fw6\"],[12],[1,[32,0,[\"code\"]]],[13],[2,\"\\n            \"],[10,\"h2\"],[14,0,\"midlightgrey f4 fw3\"],[12],[1,[32,0,[\"message\"]]],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n\"],[6,[37,0],[[32,0,[\"stack\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"section\"],[14,0,\"error-stack\"],[12],[2,\"\\n            \"],[10,\"h3\"],[12],[2,\"Stack Trace\"],[13],[2,\"\\n            \"],[10,\"p\"],[12],[10,\"strong\"],[12],[1,[32,0,[\"message\"]]],[13],[13],[2,\"\\n            \"],[10,\"ul\"],[14,0,\"error-stack-list\"],[12],[2,\"\\n\"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,[\"stack\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"li\"],[12],[2,\"\\n                        at\\n                        \"],[6,[37,0],[[32,1,[\"function\"]]],null,[[\"default\"],[{\"statements\":[[10,\"em\"],[14,0,\"error-stack-function\"],[12],[1,[32,1,[\"function\"]]],[13]],\"parameters\":[]}]]],[2,\"\\n                        \"],[10,\"span\"],[14,0,\"error-stack-file\"],[12],[2,\"(\"],[1,[32,1,[\"at\"]]],[2,\")\"],[13],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[1]}]]],[2,\"            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"if\",\"-track-array\",\"each\",\"svg-jar\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/error.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/member", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "O7o6bZxw",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            \"],[8,\"link-to\",[[24,\"data-test-link\",\"members-back\"]],[[\"@route\"],[\"members\"]],[[\"default\"],[{\"statements\":[[2,\"Members\"]],\"parameters\":[]}]]],[2,\"\\n            \"],[10,\"span\"],[12],[1,[30,[36,6],[\"arrow-right\"],null]],[13],[2,\"\\n\"],[6,[37,3],[[32,0,[\"member\",\"isNew\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                New member\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                \"],[1,[30,[36,5],[[32,0,[\"member\",\"name\"]],[32,0,[\"member\",\"email\"]]],null]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n\"],[6,[37,3],[[32,0,[\"session\",\"user\",\"isOwner\"]]],null,[[\"default\"],[{\"statements\":[[6,[37,4],[[32,0,[\"member\",\"isNew\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-white gh-btn-icon mr2\"],[4,[38,1],[\"click\",[30,[36,0],[[32,0],\"toggleImpersonateMemberModal\"],null]],null],[12],[2,\"\\n                        \"],[10,\"span\"],[12],[2,\"Impersonate\"],[13],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"\\n            \"],[8,\"gh-task-button\",[],[[\"@class\",\"@type\",\"@task\",\"@autoReset\",\"@data-test-button\"],[\"gh-btn gh-btn-blue gh-btn-icon\",\"button\",[32,0,[\"save\"]],true,\"save\"]],null],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[10,\"form\"],[14,0,\"mb10 member-basic-info-form\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex items-center mb10 bt b--lightgrey-d1 pt8\"],[12],[2,\"\\n\"],[6,[37,3],[[30,[36,5],[[32,0,[\"member\",\"name\"]],[32,0,[\"member\",\"email\"]]],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[8,\"gh-member-avatar\",[],[[\"@member\",\"@sizeClass\",\"@containerClass\"],[[32,0,[\"member\"]],[30,[36,3],[[32,0,[\"member\",\"name\"]],\"f-subheadline fw4 lh-zero tracked-1\",\"f-headline fw4 lh-zero tracked-1\"],null],\"w20 h20 mr4 gh-member-detail-avatar\"]],null],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                \"],[10,\"div\"],[14,0,\"flex items-center justify-center br-100 w18 h18 mr4 gh-new-member-avatar\"],[12],[2,\"\\n                    \"],[10,\"span\"],[14,0,\"gh-member-avatar-label f-subheadline fw4 lh-zero tracked-1\"],[12],[2,\"N\"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"],[10,\"div\"],[12],[2,\"\\n                \"],[10,\"h3\"],[14,0,\"f2 fw6 ma0 pa0\"],[12],[2,\"\\n                    \"],[1,[30,[36,5],[[32,0,[\"member\",\"name\"]],[32,0,[\"member\",\"email\"]]],null]],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"p\"],[14,0,\"f7 pa0 ma0 midlightgrey-d1\"],[12],[2,\"\\n\"],[6,[37,3],[[30,[36,7],[[32,0,[\"member\",\"name\"]],[32,0,[\"member\",\"email\"]]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"span\"],[14,0,\"darkgrey fw5\"],[12],[1,[32,0,[\"member\",\"email\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n\"],[6,[37,4],[[32,0,[\"member\",\"isNew\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"p\"],[15,0,[31,[\"f7 pa0 ma0 midgrey-d1 \",[30,[36,3],[[32,0,[\"member\",\"name\"]],\"nudge-bottom--2\"],null]]]],[12],[2,\"\\n\"],[6,[37,3],[[32,0,[\"member\",\"geolocation\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[6,[37,3],[[30,[36,2],[[32,0,[\"member\",\"geolocation\",\"country_code\"]],\"US\"],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                            \"],[1,[32,0,[\"member\",\"geolocation\",\"region\"]]],[2,\", US\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                            \"],[1,[32,0,[\"member\",\"geolocation\",\"country\"]]],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]},{\"statements\":[[2,\"                        Unknown location\\n\"]],\"parameters\":[]}]]],[2,\"                    – Created on \"],[1,[32,0,[\"subscribedAt\"]]],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[8,\"gh-member-settings-form\",[],[[\"@member\",\"@scratchMember\",\"@setProperty\",\"@isLoading\"],[[32,0,[\"member\"]],[32,0,[\"scratchMember\"]],[30,[36,0],[[32,0],\"setProperty\"],null],[32,0,[\"isLoading\"]]]],null],[2,\"\\n    \"],[13],[2,\"\\n\\n\"],[6,[37,4],[[32,0,[\"member\",\"isNew\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-red gh-btn-icon mt3\"],[24,\"data-test-button\",\"delete-member\"],[24,4,\"button\"],[4,[38,1],[\"click\",[30,[36,0],[[32,0],\"toggleDeleteMemberModal\"],null]],null],[12],[2,\"\\n            \"],[10,\"span\"],[12],[2,\"Delete member\"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[13],[2,\"\\n\\n\"],[6,[37,3],[[32,0,[\"showUnsavedChangesModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@confirm\",\"@close\",\"@modifier\"],[\"leave-settings\",[30,[36,0],[[32,0],\"leaveScreen\"],null],[30,[36,0],[[32,0],\"toggleUnsavedChangesModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,3],[[32,0,[\"showDeleteMemberModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@confirm\",\"@close\",\"@modifier\"],[\"delete-member\",[32,0,[\"member\"]],[30,[36,0],[[32,0],\"deleteMember\"],null],[30,[36,0],[[32,0],\"toggleDeleteMemberModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,3],[[32,0,[\"showImpersonateMemberModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@close\",\"@modifier\"],[\"impersonate-member\",[32,0,[\"member\"]],[30,[36,0],[[32,0],\"toggleImpersonateMemberModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"action\",\"on\",\"eq\",\"if\",\"unless\",\"or\",\"svg-jar\",\"and\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/member.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/members", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "atDyUhZU",
    "block": "{\"symbols\":[\"member\"],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header members-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"Members\"],[13],[2,\"\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[8,\"gh-members-contentfilter\",[],[[\"@selectedLabel\",\"@availableLabels\",\"@onLabelChange\",\"@onLabelAdd\",\"@onLabelEdit\"],[[32,0,[\"selectedLabel\"]],[32,0,[\"availableLabels\"]],[30,[36,0],[[32,0],\"changeLabel\"],null],[30,[36,0],[[32,0],\"addLabel\"],null],[30,[36,0],[[32,0],\"editLabel\"],null]]],null],[2,\"\\n            \"],[10,\"div\"],[14,0,\"relative gh-members-header-search\"],[12],[2,\"\\n                \"],[1,[30,[36,1],[\"search\"],[[\"class\"],[\"gh-input-search-icon\"]]]],[2,\"\\n                \"],[8,\"gh-text-input\",[[24,\"placeholder\",\"Search members...\"],[16,0,[31,[\"gh-members-list-searchfield \",[30,[36,2],[[32,0,[\"searchText\"]],\"active\"],null]]]]],[[\"@value\",\"@input\"],[[32,0,[\"searchText\"]],[30,[36,0],[[32,0],[30,[36,6],[[32,0,[\"searchText\"]]],null]],[[\"value\"],[\"target.value\"]]]]],null],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"span\"],[14,0,\"dropdown\"],[12],[2,\"\\n                \"],[8,\"gh-dropdown-button\",[],[[\"@dropdownName\",\"@classNames\",\"@title\",\"@data-test-user-actions\"],[\"members-actions-menu\",\"gh-btn gh-btn-white gh-btn-icon only-has-icon gh-actions-cog\",\"Members Actions\",\"true\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[10,\"span\"],[12],[2,\"\\n                        \"],[1,[30,[36,1],[\"settings\"],null]],[2,\"\\n                        \"],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"Actions\"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n                \"],[8,\"gh-dropdown\",[],[[\"@name\",\"@tagName\",\"@classNames\"],[\"members-actions-menu\",\"ul\",\"gh-member-actions-menu dropdown-menu dropdown-triangle-top-right\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[10,\"li\"],[12],[2,\"\\n                        \"],[8,\"link-to\",[[24,0,\"mr2\"],[24,\"data-test-link\",\"import-csv\"]],[[\"@route\"],[\"members.import\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"Import members\"],[13],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"li\"],[12],[2,\"\\n                        \"],[11,\"a\"],[24,6,\"#\"],[24,0,\"mr2\"],[4,[38,0],[[32,0],\"exportData\"],null],[12],[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"Export all members\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n            \"],[13],[2,\"\\n            \"],[8,\"link-to\",[[24,0,\"gh-btn gh-btn-green\"],[24,\"data-test-new-member-button\",\"true\"]],[[\"@route\"],[\"member.new\"]],[[\"default\"],[{\"statements\":[[10,\"span\"],[12],[2,\"New member\"],[13]],\"parameters\":[]}]]],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,2],[[32,0,[\"showLoader\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,0,\"gh-content\"],[12],[2,\"\\n            \"],[8,\"gh-loading-spinner\",[],[[],[]],null],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"        \"],[10,\"section\"],[14,0,\"view-container\"],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"filteredMembers\"]]],null,[[\"default\"],[{\"statements\":[[6,[37,2],[[32,0,[\"showingAll\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"section\"],[12],[2,\"\\n                        \"],[8,\"gh-members-chart\",[],[[\"@members\"],[[34,4]]],null],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"            \"],[10,\"section\"],[14,0,\"content-list\"],[12],[2,\"\\n                \"],[10,\"ol\"],[15,0,[31,[\"members-list gh-list \",[30,[36,5],[[32,0,[\"filteredMembers\"]],\"no-posts\"],null]]]],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"filteredMembers\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[10,\"li\"],[14,0,\"gh-list-row header\"],[12],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"gh-list-header\"],[12],[1,[34,3]],[13],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"gh-list-header gh-list-cellwidth-20 nowrap\"],[12],[2,\"Location\"],[13],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"gh-list-header gh-list-cellwidth-20 nowrap\"],[12],[2,\"Created\"],[13],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"gh-list-header gh-list-cellwidth-chevron\"],[12],[13],[2,\"\\n                        \"],[13],[2,\"\\n                        \"],[8,\"vertical-collection\",[],[[\"@items\",\"@key\",\"@containerSelector\",\"@estimateHeight\",\"@staticHeight\",\"@bufferSize\"],[[32,0,[\"filteredMembers\"]],\"id\",\".gh-main\",69,true,20]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[8,\"gh-members-list-item\",[],[[\"@member\",\"@data-test-member-id\"],[[32,1],[32,1,[\"id\"]]]],null],[2,\"\\n                        \"]],\"parameters\":[1]}]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        \"],[10,\"li\"],[14,0,\"no-posts-box\"],[12],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"no-posts\"],[12],[2,\"\\n                                \"],[1,[30,[36,1],[\"members-placeholder\"],[[\"class\"],[\"gh-members-placeholder\"]]]],[2,\"\\n\"],[6,[37,2],[[32,0,[\"showingAll\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                    \"],[10,\"h3\"],[12],[2,\"No members yet\"],[13],[2,\"\\n                                    \"],[8,\"gh-members-no-members\",[],[[],[]],null],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                    \"],[10,\"h3\"],[12],[2,\"No members match the current filter\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[13],[2,\"\\n\\n\"],[1,[30,[36,8],[[30,[36,7],null,null]],null]],[2,\"\\n\\n\"],[6,[37,2],[[32,0,[\"showLabelModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@close\",\"@modifier\"],[\"members-label-form\",[32,0,[\"labelModalData\"]],[30,[36,0],[[32,0],\"toggleLabelModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\",\"if\",\"listHeader\",\"members\",\"unless\",\"mut\",\"-outlet\",\"component\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/members.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/members/import", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "PMMoqU+X",
    "block": "{\"symbols\":[],\"statements\":[[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@close\",\"@confirm\",\"@modifier\"],[\"import-members\",[30,[36,0],[[32,0],\"close\"],null],[30,[36,0],[[32,0],\"fetchNewMembers\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/members/import.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/pages-loading", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "1OwqUFb5",
    "block": "{\"symbols\":[],\"statements\":[[11,\"section\"],[24,0,\"gh-canvas\"],[4,[38,1],[[30,[36,0],[[32,0],\"setMainClass\",\"gh-main-primarybg\"],[[\"target\"],[[32,0,[\"ui\"]]]]]],null],[12],[2,\"\\n    \"],[10,\"header\"],[14,0,\"gh-canvas-header post-header\"],[12],[2,\"\\n        \"],[8,\"gh-custom-view-title\",[],[[\"@title\",\"@query\"],[\"Pages\",[30,[36,2],[\"posts\"],null]]],null],[2,\"\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[8,\"gh-contentfilter\",[],[[\"@selectedType\",\"@availableTypes\",\"@onTypeChange\",\"@selectedAuthor\",\"@availableAuthors\",\"@onAuthorChange\",\"@selectedTag\",\"@availableTags\",\"@onTagChange\",\"@selectedOrder\",\"@availableOrders\",\"@onOrderChange\"],[[32,0,[\"selectedType\"]],[32,0,[\"availableTypes\"]],[30,[36,0],[[32,0],[30,[36,4],[[35,3]],null]],null],[32,0,[\"selectedAuthor\"]],[32,0,[\"availableAuthors\"]],[30,[36,0],[[32,0],[30,[36,4],[[35,3]],null]],null],[32,0,[\"selectedTag\"]],[32,0,[\"availableTags\"]],[30,[36,0],[[32,0],[30,[36,4],[[35,3]],null]],null],[32,0,[\"selectedOrder\"]],[32,0,[\"availableOrders\"]],[30,[36,0],[[32,0],[30,[36,4],[[35,3]],null]],null]]],null],[2,\"\\n\\n            \"],[8,\"link-to\",[[24,0,\"gh-btn gh-btn-green\"],[16,\"data-test-new-page-button\",true]],[[\"@route\",\"@model\"],[\"editor.new\",\"page\"]],[[\"default\"],[{\"statements\":[[10,\"span\"],[12],[2,\"New page\"],[13]],\"parameters\":[]}]]],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"gh-content\"],[12],[2,\"\\n        \"],[8,\"gh-loading-list\",[],[[],[]],null],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"did-insert\",\"reset-query-params\",\"k\",\"mut\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/pages-loading.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/pages", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "SXfP5Sdd",
    "block": "{\"symbols\":[\"page\"],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header post-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[8,\"gh-custom-view-title\",[],[[\"@title\",\"@query\"],[\"Pages\",[30,[36,3],[\"posts\"],null]]],null],[2,\"\\n\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[8,\"gh-contentfilter\",[],[[\"@selectedType\",\"@availableTypes\",\"@onTypeChange\",\"@selectedAuthor\",\"@availableAuthors\",\"@onAuthorChange\",\"@selectedTag\",\"@availableTags\",\"@onTagChange\",\"@selectedOrder\",\"@availableOrders\",\"@onOrderChange\"],[[32,0,[\"selectedType\"]],[32,0,[\"availableTypes\"]],[30,[36,4],[[32,0],\"changeType\"],null],[32,0,[\"selectedAuthor\"]],[32,0,[\"availableAuthors\"]],[30,[36,4],[[32,0],\"changeAuthor\"],null],[32,0,[\"selectedTag\"]],[32,0,[\"availableTags\"]],[30,[36,4],[[32,0],\"changeTag\"],null],[32,0,[\"selectedOrder\"]],[32,0,[\"availableOrders\"]],[30,[36,4],[[32,0],\"changeOrder\"],null]]],null],[2,\"\\n\\n            \"],[8,\"link-to\",[[24,0,\"gh-btn gh-btn-green\"],[16,\"data-test-new-page-button\",true]],[[\"@route\",\"@model\"],[\"editor.new\",\"page\"]],[[\"default\"],[{\"statements\":[[10,\"span\"],[12],[2,\"New page\"],[13]],\"parameters\":[]}]]],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"content-list\"],[12],[2,\"\\n        \"],[10,\"ol\"],[15,0,[31,[\"gh-list \",[30,[36,5],[[32,0,[\"postsInfinityModel\"]],\"no-posts\"],null]]]],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"postsInfinityModel\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"li\"],[14,0,\"gh-list-row header\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-list-header no-padding\"],[12],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-list-header gh-posts-title-header\"],[12],[2,\"Title\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-list-header gh-posts-status-header\"],[12],[2,\"Status\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-list-header gh-posts-lastupdate-header\"],[12],[2,\"Last update\"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,[\"postsInfinityModel\"]]],null]],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[8,\"gh-posts-list-item\",[[16,\"data-test-page-id\",[32,1,[\"id\"]]]],[[\"@post\"],[[32,1]]],null],[2,\"\\n\"]],\"parameters\":[1]},{\"statements\":[[2,\"                \"],[10,\"li\"],[14,0,\"no-posts-box\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"no-posts\"],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"showingAll\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                            \"],[1,[30,[36,1],[\"pages-placeholder\"],[[\"class\"],[\"gh-pages-placeholder\"]]]],[2,\"\\n                            \"],[10,\"h3\"],[12],[2,\"You haven't created any pages yet!\"],[13],[2,\"\\n                            \"],[8,\"link-to\",[[24,0,\"gh-btn gh-btn-green gh-btn-lg\"]],[[\"@route\",\"@model\"],[\"editor.new\",\"page\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                \"],[10,\"span\"],[12],[2,\"Create a new page\"],[13],[2,\"\\n                            \"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                            \"],[10,\"h3\"],[12],[2,\"No pages match the current filter\"],[13],[2,\"\\n                            \"],[8,\"link-to\",[[24,0,\"gh-btn gh-btn-lg\"]],[[\"@route\",\"@query\"],[\"pages\",[30,[36,0],null,[[\"type\",\"author\",\"tag\"],[null,null,null]]]]],[[\"default\"],[{\"statements\":[[2,\"\\n                                \"],[10,\"span\"],[12],[2,\"Show all pages\"],[13],[2,\"\\n                            \"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n\\n        \"],[8,\"gh-infinity-loader\",[],[[\"@infinityModel\",\"@scrollable\",\"@triggerOffset\"],[[32,0,[\"postsInfinityModel\"]],\".gh-main\",1000]],null],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[1,[30,[36,9],[[30,[36,8],null,null]],null]],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"hash\",\"svg-jar\",\"if\",\"reset-query-params\",\"action\",\"unless\",\"-track-array\",\"each\",\"-outlet\",\"component\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/pages.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/posts-loading", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "yhBH2zy1",
    "block": "{\"symbols\":[],\"statements\":[[11,\"section\"],[24,0,\"gh-canvas\"],[4,[38,1],[[30,[36,0],[[32,0],\"setMainClass\",\"gh-main-primarybg\"],[[\"target\"],[[32,0,[\"ui\"]]]]]],null],[12],[2,\"\\n    \"],[10,\"header\"],[14,0,\"gh-canvas-header post-header\"],[12],[2,\"\\n        \"],[8,\"gh-custom-view-title\",[],[[\"@title\",\"@query\"],[\"Posts\",[30,[36,2],[\"posts\"],null]]],null],[2,\"\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[8,\"gh-contentfilter\",[],[[\"@selectedType\",\"@availableTypes\",\"@onTypeChange\",\"@selectedAuthor\",\"@availableAuthors\",\"@onAuthorChange\",\"@selectedTag\",\"@availableTags\",\"@onTagChange\",\"@selectedOrder\",\"@availableOrders\",\"@onOrderChange\"],[[32,0,[\"selectedType\"]],[32,0,[\"availableTypes\"]],[30,[36,0],[[32,0],[30,[36,4],[[35,3]],null]],null],[32,0,[\"selectedAuthor\"]],[32,0,[\"availableAuthors\"]],[30,[36,0],[[32,0],[30,[36,4],[[35,3]],null]],null],[32,0,[\"selectedTag\"]],[32,0,[\"availableTags\"]],[30,[36,0],[[32,0],[30,[36,4],[[35,3]],null]],null],[32,0,[\"selectedOrder\"]],[32,0,[\"availableOrders\"]],[30,[36,0],[[32,0],[30,[36,4],[[35,3]],null]],null]]],null],[2,\"\\n\\n            \"],[8,\"link-to\",[[24,0,\"gh-btn gh-btn-green\"],[16,\"data-test-new-post-button\",true]],[[\"@route\",\"@model\"],[\"editor.new\",\"post\"]],[[\"default\"],[{\"statements\":[[10,\"span\"],[12],[2,\"New post\"],[13]],\"parameters\":[]}]]],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"gh-content\"],[12],[2,\"\\n        \"],[8,\"gh-loading-list\",[],[[],[]],null],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"did-insert\",\"reset-query-params\",\"k\",\"mut\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/posts-loading.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/posts", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "Lt5JgjzQ",
    "block": "{\"symbols\":[\"post\"],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header post-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[8,\"gh-custom-view-title\",[],[[\"@title\",\"@query\"],[\"Posts\",[30,[36,3],[\"posts\"],null]]],null],[2,\"\\n\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[8,\"gh-contentfilter\",[],[[\"@selectedType\",\"@availableTypes\",\"@onTypeChange\",\"@selectedAuthor\",\"@availableAuthors\",\"@onAuthorChange\",\"@selectedTag\",\"@availableTags\",\"@onTagChange\",\"@selectedOrder\",\"@availableOrders\",\"@onOrderChange\"],[[32,0,[\"selectedType\"]],[32,0,[\"availableTypes\"]],[30,[36,4],[[32,0],\"changeType\"],null],[32,0,[\"selectedAuthor\"]],[32,0,[\"availableAuthors\"]],[30,[36,4],[[32,0],\"changeAuthor\"],null],[32,0,[\"selectedTag\"]],[32,0,[\"availableTags\"]],[30,[36,4],[[32,0],\"changeTag\"],null],[32,0,[\"selectedOrder\"]],[32,0,[\"availableOrders\"]],[30,[36,4],[[32,0],\"changeOrder\"],null]]],null],[2,\"\\n\\n            \"],[8,\"link-to\",[[24,0,\"gh-btn gh-btn-green\"],[16,\"data-test-new-post-button\",true]],[[\"@route\",\"@model\"],[\"editor.new\",\"post\"]],[[\"default\"],[{\"statements\":[[10,\"span\"],[12],[2,\"New post\"],[13]],\"parameters\":[]}]]],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"content-list\"],[12],[2,\"\\n        \"],[10,\"ol\"],[15,0,[31,[\"posts-list gh-list \",[30,[36,5],[[32,0,[\"postsInfinityModel\"]],\"no-posts\"],null]]]],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"postsInfinityModel\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"li\"],[14,0,\"gh-list-row header\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-list-header no-padding\"],[12],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-list-header gh-posts-title-header\"],[12],[2,\"Title\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-list-header gh-posts-status-header\"],[12],[2,\"Status\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-list-header gh-posts-lastupdate-header\"],[12],[2,\"Last update\"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,[\"postsInfinityModel\"]]],null]],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[8,\"gh-posts-list-item\",[[16,\"data-test-post-id\",[32,1,[\"id\"]]]],[[\"@post\"],[[32,1]]],null],[2,\"\\n\"]],\"parameters\":[1]},{\"statements\":[[2,\"            \"],[10,\"li\"],[14,0,\"no-posts-box\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"no-posts\"],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"showingAll\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[1,[30,[36,1],[\"posts-placeholder\"],[[\"class\"],[\"gh-posts-placeholder\"]]]],[2,\"\\n                        \"],[10,\"h3\"],[12],[2,\"You haven't written any posts yet!\"],[13],[2,\"\\n                        \"],[8,\"link-to\",[[24,0,\"gh-btn gh-btn-green gh-btn-lg\"]],[[\"@route\",\"@model\"],[\"editor.new\",\"post\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"Write a new post\"],[13],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        \"],[10,\"h3\"],[12],[2,\"No posts match the current filter\"],[13],[2,\"\\n                        \"],[8,\"link-to\",[[24,0,\"gh-btn gh-btn-lg\"]],[[\"@route\",\"@query\"],[\"posts\",[30,[36,0],null,[[\"type\",\"author\",\"tag\"],[null,null,null]]]]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"Show all posts\"],[13],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n\\n        \"],[8,\"gh-infinity-loader\",[],[[\"@infinityModel\",\"@scrollable\",\"@triggerOffset\"],[[32,0,[\"postsInfinityModel\"]],\".gh-main\",1000]],null],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[1,[30,[36,9],[[30,[36,8],null,null]],null]],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"hash\",\"svg-jar\",\"if\",\"reset-query-params\",\"action\",\"unless\",\"-track-array\",\"each\",\"-outlet\",\"component\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/posts.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/reset", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "V0ft6bRW",
    "block": "{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"gh-flow\"],[12],[2,\"\\n    \"],[10,\"div\"],[14,0,\"gh-flow-content-wrap\"],[12],[2,\"\\n        \"],[10,\"section\"],[14,0,\"gh-flow-content fade-in\"],[12],[2,\"\\n            \"],[11,\"form\"],[24,1,\"reset\"],[24,0,\"gh-signin\"],[24,\"method\",\"post\"],[24,\"novalidate\",\"novalidate\"],[4,[38,0],[[32,0],\"submit\"],[[\"on\"],[\"submit\"]]],[12],[2,\"\\n                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"errors\"]],[32,0,[\"hasValidated\"]],\"newPassword\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[10,\"span\"],[14,0,\"gh-input-icon gh-icon-lock\"],[12],[2,\"\\n                        \"],[1,[30,[36,1],[\"lock\"],null]],[2,\"\\n                        \"],[8,\"gh-text-input\",[],[[\"@type\",\"@name\",\"@placeholder\",\"@class\",\"@autocorrect\",\"@shouldFocus\",\"@value\",\"@input\"],[\"password\",\"newpassword\",\"New password\",\"password\",\"off\",true,[30,[36,2],[[32,0,[\"newPassword\"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,[\"newPassword\"]]],null]],[[\"value\"],[\"target.value\"]]]]],null],[2,\"\\n                    \"],[13],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"errors\"]],[32,0,[\"hasValidated\"]],\"ne2Password\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[10,\"span\"],[14,0,\"gh-input-icon gh-icon-lock\"],[12],[2,\"\\n                        \"],[1,[30,[36,1],[\"lock\"],null]],[2,\"\\n                        \"],[8,\"gh-text-input\",[],[[\"@type\",\"@name\",\"@placeholder\",\"@class\",\"@autocorrect\",\"@value\",\"@input\"],[\"password\",\"ne2password\",\"Confirm new password\",\"password\",\"off\",[30,[36,2],[[32,0,[\"ne2Password\"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,[\"ne2Password\"]]],null]],[[\"value\"],[\"target.value\"]]]]],null],[2,\"\\n                    \"],[13],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n\\n                \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@task\",\"@class\",\"@type\",\"@autoWidth\"],[\"Save new password\",[32,0,[\"resetPassword\"]],\"gh-btn gh-btn-blue gh-btn-block gh-btn-icon\",\"submit\",\"false\"]],null],[2,\"\\n            \"],[13],[2,\"\\n\\n            \"],[10,\"p\"],[14,0,\"main-error\"],[12],[1,[32,0,[\"flowErrors\"]]],[2,\" \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\",\"readonly\",\"mut\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/reset.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/code-injection-loading", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "okY7RB0D",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[10,\"header\"],[14,0,\"gh-canvas-header\"],[12],[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            Code injection\\n        \"],[13],[2,\"\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[8,\"gh-task-button\",[[16,\"data-test-save-button\",true]],[[\"@task\",\"@class\",\"@disabled\"],[[34,0],\"gh-btn gh-btn-blue gh-btn-icon\",true]],null],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"gh-content\"],[12],[2,\"\\n        \"],[8,\"gh-loading-spinner\",[],[[],[]],null],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"save\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/code-injection-loading.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/code-injection", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "3521bblS",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            Code injection\\n        \"],[13],[2,\"\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[8,\"gh-task-button\",[[16,\"data-test-save-button\",true]],[[\"@task\",\"@autoReset\",\"@class\"],[[32,0,[\"saveTask\"]],true,\"gh-btn gh-btn-blue gh-btn-icon\"]],null],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[6,[37,1],[[32,0,[\"showLeaveSettingsModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@confirm\",\"@close\",\"@modifier\"],[\"leave-settings\",[30,[36,0],[[32,0],\"leaveSettings\"],null],[30,[36,0],[[32,0],\"toggleLeaveSettingsModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n    \"],[10,\"section\"],[14,0,\"view-container\"],[12],[2,\"\\n        \"],[10,\"form\"],[14,1,\"settings-code\"],[14,\"novalidate\",\"novalidate\"],[12],[2,\"\\n            \"],[10,\"fieldset\"],[12],[2,\"\\n                \"],[10,\"p\"],[14,0,\"gh-box gh-box-info\"],[12],[2,\"\\n                    \"],[1,[30,[36,2],[\"idea\"],null]],[2,\"\\n                    Ghost allows you to inject code into the top and bottom of your theme files without editing them. This allows for quick modifications to insert useful things like tracking codes and meta tags.\\n                \"],[13],[2,\"\\n\\n                \"],[10,\"div\"],[14,0,\"br3 shadow-1 bg-grouped-table pa5 pt3 pb1\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"form-group settings-code\"],[12],[2,\"\\n                        \"],[10,\"label\"],[14,\"for\",\"ghost-head\"],[12],[2,\"Site Header\"],[13],[2,\"\\n                        \"],[10,\"p\"],[12],[2,\"Code here will be injected into the \"],[10,\"code\"],[12],[2,\"{{ghost_head}}\"],[13],[2,\" tag on every page of the site\"],[13],[2,\"\\n                        \"],[8,\"gh-cm-editor\",[],[[\"@value\",\"@id\",\"@class\",\"@name\",\"@type\",\"@update\"],[[32,0,[\"settings\",\"codeinjectionHead\"]],\"ghost-head\",\"gh-input settings-code-editor\",\"codeInjection[ghost_head]\",\"text\",[30,[36,0],[[32,0],[30,[36,3],[[32,0,[\"settings\",\"codeinjectionHead\"]]],null]],null]]],null],[2,\"\\n                    \"],[13],[2,\"\\n\\n                    \"],[10,\"div\"],[14,0,\"form-group settings-code\"],[12],[2,\"\\n                        \"],[10,\"label\"],[14,\"for\",\"ghost-foot\"],[12],[2,\"Site Footer\"],[13],[2,\"\\n                        \"],[10,\"p\"],[12],[2,\"Code here will be injected into the \"],[10,\"code\"],[12],[2,\"{{ghost_foot}}\"],[13],[2,\" tag on every page of the site\"],[13],[2,\"\\n                        \"],[8,\"gh-cm-editor\",[],[[\"@value\",\"@id\",\"@class\",\"@name\",\"@type\",\"@update\"],[[32,0,[\"settings\",\"codeinjectionFoot\"]],\"ghost-foot\",\"gh-input settings-code-editor\",\"codeInjection[ghost_foot]\",\"text\",[30,[36,0],[[32,0],[30,[36,3],[[32,0,[\"settings\",\"codeinjectionFoot\"]]],null]],null]]],null],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"if\",\"svg-jar\",\"mut\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/code-injection.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/design-loading", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "oXqoeiJT",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[10,\"header\"],[14,0,\"gh-canvas-header\"],[12],[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            Design\\n        \"],[13],[2,\"\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[8,\"gh-task-button\",[],[[\"@task\",\"@class\",\"@disabled\"],[[34,0],\"gh-btn gh-btn-blue gh-btn-icon\",true]],null],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"gh-content\"],[12],[2,\"\\n        \"],[8,\"gh-loading-spinner\",[],[[],[]],null],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"save\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/design-loading.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/design", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "F0ZHgCL5",
    "block": "{\"symbols\":[\"navItem\",\"index\",\"navItem\",\"index\"],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            Design\\n        \"],[13],[2,\"\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[8,\"gh-task-button\",[[16,\"data-test-save-button\",true]],[[\"@task\",\"@autoReset\",\"@class\"],[[32,0,[\"save\"]],true,\"gh-btn gh-btn-blue gh-btn-icon\"]],null],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[6,[37,2],[[32,0,[\"showLeaveSettingsModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@confirm\",\"@close\",\"@modifier\"],[\"leave-settings\",[30,[36,1],[[32,0],\"leaveSettings\"],null],[30,[36,1],[[32,0],\"toggleLeaveSettingsModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n    \"],[10,\"section\"],[14,0,\"view-container\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-setting-header gh-first-header\"],[12],[2,\"Navigation\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-blognav-container pa5 pt6 bg-grouped-table shadow-1 br3\"],[12],[2,\"\\n            \"],[10,\"form\"],[14,1,\"settings-navigation\"],[14,0,\"gh-blognav\"],[14,\"novalidate\",\"novalidate\"],[12],[2,\"\\n                \"],[8,\"sortable-objects\",[],[[\"@sortableObjectList\",\"@useSwap\"],[[32,0,[\"settings\",\"navigation\"]],false]],[[\"default\"],[{\"statements\":[[2,\"\\n\"],[6,[37,4],[[30,[36,3],[[30,[36,3],[[32,0,[\"settings\",\"navigation\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[8,\"draggable-object\",[],[[\"@content\",\"@dragHandle\",\"@isSortable\"],[[32,3],\".gh-blognav-grab\",true]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[8,\"gh-navitem\",[[16,\"data-test-navitem\",[32,4]]],[[\"@navItem\",\"@baseUrl\",\"@addItem\",\"@deleteItem\",\"@updateUrl\",\"@updateLabel\"],[[32,3],[32,0,[\"blogUrl\"]],[30,[36,1],[[32,0],\"addNavItem\"],null],[30,[36,1],[[32,0],\"deleteNavItem\"],null],[30,[36,1],[[32,0],\"updateUrl\"],null],[30,[36,1],[[32,0],\"updateLabel\"],null]]],null],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[3,4]}]]],[2,\"                \"]],\"parameters\":[]}]]],[2,\"\\n                \"],[8,\"gh-navitem\",[[24,\"data-test-navitem\",\"new\"]],[[\"@navItem\",\"@baseUrl\",\"@addItem\",\"@updateUrl\"],[[32,0,[\"newNavItem\"]],[32,0,[\"blogUrl\"]],[30,[36,1],[[32,0],\"addNavItem\"],null],[30,[36,1],[[32,0],\"updateUrl\"],null]]],null],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"div\"],[14,0,\"gh-setting-header\"],[12],[2,\"Secondary Navigation\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-blognav-container pa5 pt6 bg-grouped-table shadow-1 br3\"],[12],[2,\"\\n            \"],[10,\"form\"],[14,1,\"secondary-navigation\"],[14,0,\"gh-blognav\"],[14,\"novalidate\",\"novalidate\"],[12],[2,\"\\n                \"],[8,\"sortable-objects\",[],[[\"@sortableObjectList\",\"@useSwap\"],[[32,0,[\"settings\",\"secondaryNavigation\"]],false]],[[\"default\"],[{\"statements\":[[2,\"\\n\"],[6,[37,4],[[30,[36,3],[[30,[36,3],[[32,0,[\"settings\",\"secondaryNavigation\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[8,\"draggable-object\",[],[[\"@content\",\"@dragHandle\",\"@isSortable\"],[[32,1],\".gh-blognav-grab\",true]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[8,\"gh-navitem\",[[16,\"data-test-navitem\",[32,2]]],[[\"@navItem\",\"@baseUrl\",\"@addItem\",\"@deleteItem\",\"@updateUrl\",\"@updateLabel\"],[[32,1],[32,0,[\"blogUrl\"]],[30,[36,1],[[32,0],\"addNavItem\"],null],[30,[36,1],[[32,0],\"deleteNavItem\"],null],[30,[36,1],[[32,0],\"updateUrl\"],null],[30,[36,1],[[32,0],\"updateLabel\"],null]]],null],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[1,2]}]]],[2,\"                \"]],\"parameters\":[]}]]],[2,\"\\n                \"],[8,\"gh-navitem\",[[24,\"data-test-navitem\",\"new\"]],[[\"@navItem\",\"@baseUrl\",\"@addItem\",\"@updateUrl\"],[[32,0,[\"newSecondaryNavItem\"]],[32,0,[\"blogUrl\"]],[30,[36,1],[[32,0],\"addNavItem\"],null],[30,[36,1],[[32,0],\"updateUrl\"],null]]],null],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"div\"],[14,0,\"gh-setting-header\"],[12],[2,\"Theme Directory\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-theme-directory-container\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"theme-directory\"],[12],[2,\"\\n                \"],[10,\"a\"],[14,0,\"td-item\"],[14,6,\"https://github.com/TryGhost/Massively\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-item-screenshot\"],[12],[2,\"\\n                        \"],[10,\"img\"],[14,5,\"object-fit:contain;\"],[14,\"src\",\"assets/img/themes/massively.jpg\"],[14,\"alt\",\"Massively Theme\"],[12],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-item-desc\"],[12],[2,\"\\n                        \"],[10,\"div\"],[12],[2,\"Massively \"],[10,\"span\"],[12],[2,\"— Free\"],[13],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"a\"],[14,0,\"td-item\"],[14,6,\"https://themeforest.net/item/nurui-multipurpose-ghost-blog-theme/22243886\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-item-screenshot\"],[12],[2,\"\\n                        \"],[10,\"img\"],[14,5,\"object-fit:contain;\"],[14,\"src\",\"assets/img/themes/nurui.jpg\"],[14,\"alt\",\"Nurui Theme\"],[12],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-item-desc\"],[12],[2,\"\\n                        \"],[10,\"div\"],[12],[2,\"Nurui \"],[10,\"span\"],[12],[2,\"— Premium\"],[13],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"a\"],[14,0,\"td-item\"],[14,6,\"https://themeforest.net/item/pacific-big-bold-photographydriven-theme/19774541\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-item-screenshot\"],[12],[2,\"\\n                        \"],[10,\"img\"],[14,5,\"object-fit:contain;\"],[14,\"src\",\"assets/img/themes/pacific.jpg\"],[14,\"alt\",\"Pacific Theme\"],[12],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-item-desc\"],[12],[2,\"\\n                        \"],[10,\"div\"],[12],[2,\"Pacific \"],[10,\"span\"],[12],[2,\"— Premium\"],[13],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"a\"],[14,0,\"td-item\"],[14,6,\"https://www.hauntedthemes.com/\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-item-screenshot\"],[12],[2,\"\\n                        \"],[10,\"img\"],[14,5,\"object-fit:contain;\"],[14,\"src\",\"assets/img/themes/farafra.jpg\"],[14,\"alt\",\"Farafra Theme\"],[12],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-item-desc\"],[12],[2,\"\\n                        \"],[10,\"div\"],[12],[2,\"Farafra \"],[10,\"span\"],[12],[2,\"— Premium\"],[13],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"a\"],[14,0,\"td-item\"],[14,6,\"https://themeforest.net/item/valkyrie-a-highly-visual-ghost-blog/22576630\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-item-screenshot\"],[12],[2,\"\\n                        \"],[10,\"img\"],[14,5,\"object-fit:contain;\"],[14,\"src\",\"assets/img/themes/valkyrie.jpg\"],[14,\"alt\",\"Valkyrie Theme\"],[12],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-item-desc\"],[12],[2,\"\\n                        \"],[10,\"div\"],[12],[2,\"Valkyrie \"],[10,\"span\"],[12],[2,\"— Premium\"],[13],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"a\"],[14,0,\"td-item\"],[14,6,\"https://themeforest.net/item/sente-magazine-ghost-blog-theme/21019644\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-item-screenshot\"],[12],[2,\"\\n                        \"],[10,\"img\"],[14,5,\"object-fit:contain;\"],[14,\"src\",\"assets/img/themes/sente.jpg\"],[14,\"alt\",\"Sente Theme\"],[12],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-item-desc\"],[12],[2,\"\\n                        \"],[10,\"div\"],[12],[2,\"Sente \"],[10,\"span\"],[12],[2,\"— Premium\"],[13],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n\\n            \"],[10,\"div\"],[14,0,\"td-cta\"],[12],[2,\"\\n                \"],[10,\"a\"],[14,0,\"td-cta-box td-cta-marketplace\"],[14,6,\"https://ghost.org/marketplace/\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-cta-icon\"],[12],[1,[30,[36,5],[\"store\"],null]],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-cta-content-wrapper\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"td-cta-content\"],[12],[2,\"\\n                            \"],[10,\"h4\"],[14,0,\"fw6 f6\"],[12],[2,\"Theme Marketplace\"],[13],[2,\"\\n                            \"],[10,\"p\"],[12],[2,\"Explore a huge range of free and premium themes for Ghost with a range of design and layout options\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"td-cta-arrow\"],[12],[2,\"\\n                            \"],[1,[30,[36,5],[\"arrow-right\"],null]],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"a\"],[14,0,\"td-cta-box td-cta-docs\"],[14,6,\"https://ghost.org/docs/api/handlebars-themes/\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-cta-icon\"],[12],[1,[30,[36,5],[\"book-open\"],null]],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"td-cta-content-wrapper\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"td-cta-content\"],[12],[2,\"\\n                            \"],[10,\"h4\"],[14,0,\"fw6 f6\"],[12],[2,\"Developer Docs\"],[13],[2,\"\\n                            \"],[10,\"p\"],[12],[2,\"Build your own custom Ghost theme from scratch using our comprehensive Handlebars.js SDK\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"td-cta-arrow\"],[12],[2,\"\\n                            \"],[1,[30,[36,5],[\"arrow-right\"],null]],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"div\"],[14,0,\"gh-setting-header\"],[12],[2,\"Installed Themes\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gh-themes-container\"],[12],[2,\"\\n\\n            \"],[8,\"gh-theme-table\",[],[[\"@themes\",\"@activateTheme\",\"@downloadTheme\",\"@deleteTheme\"],[[32,0,[\"themes\"]],[30,[36,1],[[32,0],\"activateTheme\"],null],[30,[36,1],[[32,0],\"downloadTheme\"],null],[30,[36,1],[[32,0],\"deleteTheme\"],null]]],null],[2,\"\\n\\n            \"],[8,\"link-to\",[[24,0,\"gh-btn gh-btn-green gh-themes-uploadbtn\"],[16,\"data-test-upload-theme-button\",true]],[[\"@route\"],[\"settings.design.uploadtheme\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"span\"],[12],[2,\"Upload a theme\"],[13],[2,\"\\n            \"]],\"parameters\":[]}]]],[2,\"\\n\\n\\n\"],[6,[37,2],[[32,0,[\"showDeleteThemeModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@close\",\"@confirm\",\"@modifier\"],[\"delete-theme\",[30,[36,0],null,[[\"theme\",\"download\"],[[32,0,[\"themeToDelete\"]],[30,[36,1],[[32,0],\"downloadTheme\",[32,0,[\"themeToDelete\"]]],null]]]],[30,[36,1],[[32,0],\"hideDeleteThemeModal\"],null],[30,[36,1],[[32,0],\"deleteTheme\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,2],[[32,0,[\"showThemeWarningsModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@close\",\"@modifier\"],[\"theme-warnings\",[30,[36,0],null,[[\"title\",\"warnings\",\"errors\",\"canActivate\"],[\"Activation successful\",[32,0,[\"themeWarnings\"]],[32,0,[\"themeErrors\"]],true]]],[30,[36,1],[[32,0],\"hideThemeWarningsModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,2],[[32,0,[\"showThemeErrorsModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@close\",\"@modifier\"],[\"theme-warnings\",[30,[36,0],null,[[\"title\",\"errors\",\"fatalErrors\",\"canActivate\"],[\"Activation failed\",[32,0,[\"themeErrors\"]],[32,0,[\"themeFatalErrors\"]],false]]],[30,[36,1],[[32,0],\"hideThemeWarningsModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[1,[30,[36,7],[[30,[36,6],null,null]],null]],[2,\"\\n\\n\"],[8,\"gh-tour-item\",[],[[\"@throbberId\",\"@target\",\"@throbberAttachment\",\"@popoverTriangleClass\"],[\"upload-a-theme\",\".gh-themes-uploadbtn\",\"top middle\",\"bottom\"]],null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"hash\",\"action\",\"if\",\"-track-array\",\"each\",\"svg-jar\",\"-outlet\",\"component\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/design.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/design/uploadtheme", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "M74j8865",
    "block": "{\"symbols\":[],\"statements\":[[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@close\",\"@modifier\"],[\"upload-theme\",[30,[36,2],null,[[\"themes\",\"activate\"],[[35,1],[30,[36,0],[\"activateTheme\"],null]]]],[30,[36,0],[\"cancel\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"route-action\",\"themes\",\"hash\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/design/uploadtheme.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/general-loading", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "Cv0bIt8E",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[10,\"header\"],[14,0,\"gh-canvas-header\"],[12],[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            General settings\\n        \"],[13],[2,\"\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[8,\"gh-task-button\",[[24,\"data-test-save-button\",\"true\"]],[[\"@buttonText\",\"@task\",\"@class\",\"@disabled\"],[\"Save settings\",[32,0,[\"save\"]],\"gh-btn gh-btn-blue gh-btn-icon\",true]],null],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"gh-content\"],[12],[2,\"\\n        \"],[8,\"gh-loading-spinner\",[],[[],[]],null],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/general-loading.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/general", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "JTd5+07i",
    "block": "{\"symbols\":[\"uploader\",\"error\",\"uploader\",\"error\",\"uploader\",\"error\"],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[10,\"div\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            General settings\\n        \"],[13],[2,\"\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[8,\"gh-task-button\",[[24,\"data-test-save-button\",\"true\"]],[[\"@buttonText\",\"@task\",\"@autoReset\",\"@class\"],[\"Save settings\",[32,0,[\"save\"]],true,\"gh-btn gh-btn-blue gh-btn-icon\"]],null],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[6,[37,5],[[32,0,[\"showLeaveSettingsModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@confirm\",\"@close\",\"@modifier\"],[\"leave-settings\",[30,[36,1],[[32,0],\"leaveSettings\"],null],[30,[36,1],[[32,0],\"toggleLeaveSettingsModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n    \"],[10,\"section\"],[14,0,\"view-container\"],[12],[2,\"\\n\\n        \"],[10,\"div\"],[14,0,\"gh-setting-header gh-first-header\"],[12],[2,\"Publication info\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex flex-column br3 shadow-1 bg-grouped-table pa5 mt2\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-first\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Title & description\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"The details used to identify your publication around the web\"],[13],[2,\"\\n\"],[6,[37,10],[[32,0,[\"pubInfoOpen\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"div\"],[14,0,\"gh-setting-content-extended\"],[12],[2,\"\\n                        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],[32,0,[\"settings\",\"hasValidated\"]],\"title\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[8,\"gh-text-input\",[[16,\"data-test-title-input\",true]],[[\"@value\",\"@input\",\"@focus-out\"],[[30,[36,0],[[32,0,[\"settings\",\"title\"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"settings\",\"title\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"validate\",\"title\"],[[\"target\"],[[32,0,[\"settings\"]]]]]]],null],[2,\"\\n                            \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],\"title\"]],null],[2,\"\\n                            \"],[10,\"p\"],[12],[2,\"The name of your site\"],[13],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n\\n                        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\",\"@class\"],[[32,0,[\"settings\",\"errors\"]],[32,0,[\"settings\",\"hasValidated\"]],\"description\",\"description-container\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[8,\"gh-text-input\",[[16,\"data-test-description-input\",true]],[[\"@value\",\"@input\",\"@focus-out\"],[[30,[36,0],[[32,0,[\"settings\",\"description\"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"settings\",\"description\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"validate\",\"description\"],[[\"target\"],[[32,0,[\"settings\"]]]]]]],null],[2,\"\\n                            \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],\"description\"]],null],[2,\"\\n                            \"],[10,\"p\"],[12],[2,\"Used in your theme, meta data and search results\"],[13],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                    \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-toggle-pub-info\",\"\"],[24,4,\"button\"],[4,[38,1],[[32,0],[30,[36,11],[\"pubInfoOpen\",[32,0]],null]],null],[12],[10,\"span\"],[12],[1,[30,[36,5],[[32,0,[\"pubInfoOpen\"]],\"Close\",\"Expand\"],null]],[13],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n\\n            \"],[10,\"div\"],[14,0,\"gh-setting\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Site timezone\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Set the time and date of your publication, used for all published posts\"],[13],[2,\"\\n\"],[6,[37,10],[[32,0,[\"timezoneOpen\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"div\"],[14,0,\"gh-setting-content-extended\"],[12],[2,\"\\n                        \"],[8,\"gh-timezone-select\",[],[[\"@activeTimezone\",\"@availableTimezones\",\"@update\"],[[32,0,[\"settings\",\"activeTimezone\"]],[32,0,[\"availableTimezones\"]],[30,[36,1],[[32,0],\"setTimezone\"],null]]],null],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                    \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-toggle-timezone\",\"\"],[24,4,\"button\"],[4,[38,1],[[32,0],[30,[36,11],[\"timezoneOpen\",[32,0]],null]],null],[12],[10,\"span\"],[12],[1,[30,[36,5],[[32,0,[\"timezoneOpen\"]],\"Close\",\"Expand\"],null]],[13],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-last\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Publication Language\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Set the language/locale which is used on your site\"],[13],[2,\"\\n\"],[6,[37,10],[[32,0,[\"defaultLocaleOpen\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"div\"],[14,0,\"gh-setting-content-extended\"],[12],[2,\"\\n                        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],[32,0,[\"settings\",\"hasValidated\"]],\"defaultLocale\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[8,\"gh-text-input\",[[16,\"data-test-default-locale-input\",true]],[[\"@value\",\"@input\",\"@focus-out\"],[[30,[36,0],[[32,0,[\"settings\",\"defaultLocale\"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"settings\",\"defaultLocale\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"validate\",\"defaultLocale\"],[[\"target\"],[[32,0,[\"settings\"]]]]]]],null],[2,\"\\n                            \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],\"defaultLocale\"]],null],[2,\"\\n                            \"],[10,\"p\"],[12],[2,\"Default: English (\"],[10,\"strong\"],[12],[2,\"en\"],[13],[2,\"); you can add translation files to your theme for \"],[10,\"a\"],[14,6,\"https://ghost.org/docs/api/handlebars-themes/helpers/translate/\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener\"],[12],[2,\"any language\"],[13],[13],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                    \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-toggle-default-locale\",\"\"],[24,4,\"button\"],[4,[38,1],[[32,0],[30,[36,11],[\"defaultLocaleOpen\",[32,0]],null]],null],[12],[10,\"span\"],[12],[1,[30,[36,5],[[32,0,[\"defaultLocaleOpen\"]],\"Close\",\"Expand\"],null]],[13],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"div\"],[14,0,\"gh-setting-header\"],[12],[2,\"Publication identity\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex flex-column br3 shadow-1 bg-grouped-table pa5\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-first\"],[14,\"data-test-setting\",\"icon\"],[12],[2,\"\\n                \"],[8,\"gh-uploader\",[],[[\"@extensions\",\"@paramsHash\",\"@onComplete\"],[[32,0,[\"iconExtensions\"]],[30,[36,12],null,[[\"purpose\"],[\"icon\"]]],[30,[36,1],[[32,0],\"imageUploaded\",\"icon\"],null]]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Publication icon\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"A square, social icon used in the UI of your publication, at least 60x60px\"],[13],[2,\"\\n\"],[6,[37,14],[[30,[36,13],[[30,[36,13],[[32,5,[\"errors\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"gh-setting-error\"],[14,\"data-test-error\",\"icon\"],[12],[1,[30,[36,6],[[32,6,[\"context\"]],[32,6,[\"message\"]]],null]],[13],[2,\"\\n\"]],\"parameters\":[6]}]]],[2,\"                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action gh-setting-action-smallimg\"],[12],[2,\"\\n\"],[6,[37,5],[[32,5,[\"isUploading\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[1,[32,5,[\"progressBar\"]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,5],[[32,0,[\"settings\",\"icon\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[10,\"img\"],[14,0,\"blog-icon\"],[15,\"src\",[31,[[32,0,[\"settings\",\"icon\"]]]]],[15,\"onclick\",[30,[36,1],[[32,0],\"triggerFileDialog\"],null]],[14,\"alt\",\"icon\"],[14,\"data-test-icon-img\",\"\"],[12],[13],[2,\"\\n                        \"],[11,\"button\"],[24,0,\"gh-setting-action-smallimg-delete\"],[24,\"data-test-delete-image\",\"icon\"],[24,4,\"button\"],[4,[38,1],[[32,0],\"removeImage\",\"icon\"],null],[12],[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"delete\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        \"],[10,\"button\"],[14,0,\"gh-btn\"],[15,\"onclick\",[30,[36,1],[[32,0],\"triggerFileDialog\"],null]],[14,\"data-test-image-upload-btn\",\"icon\"],[14,4,\"button\"],[12],[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"Upload Image\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"                    \"],[10,\"div\"],[14,5,\"display:none\"],[12],[2,\"\\n                        \"],[8,\"gh-file-input\",[[24,\"data-test-file-input\",\"icon\"]],[[\"@multiple\",\"@action\",\"@accept\"],[false,[32,5,[\"setFiles\"]],[32,0,[\"iconMimeTypes\"]]]],null],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"]],\"parameters\":[5]}]]],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting\"],[14,\"data-test-setting\",\"logo\"],[12],[2,\"\\n                \"],[8,\"gh-uploader\",[],[[\"@extensions\",\"@onComplete\"],[[32,0,[\"imageExtensions\"]],[30,[36,1],[[32,0],\"imageUploaded\",\"logo\"],null]]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Publication logo\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"The primary logo for your brand displayed across your theme, should be transparent and at least 600px x 72px\"],[13],[2,\"\\n\"],[6,[37,14],[[30,[36,13],[[30,[36,13],[[32,3,[\"errors\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"gh-setting-error\"],[14,\"data-test-error\",\"logo\"],[12],[1,[30,[36,6],[[32,4,[\"context\"]],[32,4,[\"message\"]]],null]],[13],[2,\"\\n\"]],\"parameters\":[4]}]]],[2,\"                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action gh-setting-action-smallimg\"],[12],[2,\"\\n\"],[6,[37,5],[[32,3,[\"isUploading\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[1,[32,3,[\"progressBar\"]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,5],[[32,0,[\"settings\",\"logo\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[10,\"img\"],[14,0,\"blog-logo\"],[15,\"src\",[31,[[32,0,[\"settings\",\"logo\"]]]]],[15,\"onclick\",[30,[36,1],[[32,0],\"triggerFileDialog\"],null]],[14,\"alt\",\"logo\"],[14,\"data-test-logo-img\",\"\"],[12],[13],[2,\"\\n                        \"],[11,\"button\"],[24,0,\"gh-setting-action-smallimg-delete\"],[24,\"data-test-delete-image\",\"logo\"],[24,4,\"button\"],[4,[38,1],[[32,0],\"removeImage\",\"logo\"],null],[12],[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"delete\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        \"],[10,\"button\"],[14,0,\"gh-btn\"],[15,\"onclick\",[30,[36,1],[[32,0],\"triggerFileDialog\"],null]],[14,\"data-test-image-upload-btn\",\"logo\"],[14,4,\"button\"],[12],[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"Upload Image\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"                    \"],[10,\"div\"],[14,5,\"display:none\"],[12],[2,\"\\n                        \"],[8,\"gh-file-input\",[[24,\"data-test-file-input\",\"logo\"]],[[\"@multiple\",\"@action\",\"@accept\"],[false,[32,3,[\"setFiles\"]],[32,0,[\"imageMimeTypes\"]]]],null],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"]],\"parameters\":[3]}]]],[2,\"\\n            \"],[13],[2,\"\\n\"],[6,[37,5],[[32,0,[\"config\",\"enableDeveloperExperiments\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"div\"],[14,0,\"gh-setting\"],[14,\"data-test-setting\",\"brand-color\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Accent Color\"],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Primary color used in your publication theme\"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\",\"@class\"],[[34,8,[\"errors\"]],[34,8,[\"hasValidated\"]],\"brandColor\",\"input-color-form-group\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[10,\"div\"],[14,0,\"input-color\"],[12],[2,\"\\n                                \"],[8,\"gh-text-input\",[[16,\"data-test-brand-color-input\",true]],[[\"@name\",\"@placeholder\",\"@autocorrect\",\"@maxlength\",\"@focus-out\",\"@value\"],[\"brand-color\",\"abcdef\",\"off\",\"6\",[30,[36,1],[[32,0],\"validateBrandColor\"],null],[34,9]]],null],[2,\"\\n                                \"],[10,\"div\"],[14,0,\"color-box\"],[15,5,[32,0,[\"backgroundStyle\"]]],[12],[13],[2,\"\\n                            \"],[13],[2,\"\\n                            \"],[8,\"gh-error-message\",[[16,\"data-test-brandColor-error\",true]],[[\"@errors\",\"@property\"],[[34,8,[\"errors\"]],\"brandColor\"]],null],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"],[10,\"div\"],[14,0,\"gh-setting-last\"],[14,\"data-test-setting\",\"coverImage\"],[12],[2,\"\\n                \"],[8,\"gh-uploader\",[],[[\"@extensions\",\"@onComplete\"],[[32,0,[\"imageExtensions\"]],[30,[36,1],[[32,0],\"imageUploaded\",\"coverImage\"],null]]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Publication cover\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"An optional large background image for your site\"],[13],[2,\"\\n\"],[6,[37,14],[[30,[36,13],[[30,[36,13],[[32,1,[\"errors\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"gh-setting-error\"],[14,\"data-test-error\",\"coverImage\"],[12],[1,[30,[36,6],[[32,2,[\"context\"]],[32,2,[\"message\"]]],null]],[13],[2,\"\\n\"]],\"parameters\":[2]}]]],[2,\"                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action gh-setting-action-largeimg\"],[12],[2,\"\\n\"],[6,[37,5],[[32,1,[\"isUploading\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[1,[32,1,[\"progressBar\"]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,5],[[32,0,[\"settings\",\"coverImage\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[10,\"img\"],[14,0,\"blog-cover\"],[15,\"src\",[31,[[32,0,[\"settings\",\"coverImage\"]]]]],[15,\"onclick\",[30,[36,1],[[32,0],\"triggerFileDialog\"],null]],[14,\"alt\",\"cover photo\"],[14,\"data-test-cover-img\",\"\"],[12],[13],[2,\"\\n                        \"],[11,\"button\"],[24,0,\"gh-setting-action-largeimg-delete\"],[24,\"data-test-delete-image\",\"coverImage\"],[24,4,\"button\"],[4,[38,1],[[32,0],\"removeImage\",\"coverImage\"],null],[12],[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"delete\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        \"],[10,\"button\"],[14,0,\"gh-btn\"],[15,\"onclick\",[30,[36,1],[[32,0],\"triggerFileDialog\"],null]],[14,\"data-test-image-upload-btn\",\"coverImage\"],[14,4,\"button\"],[12],[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"Upload Image\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"                    \"],[10,\"div\"],[14,5,\"display:none\"],[12],[2,\"\\n                        \"],[8,\"gh-file-input\",[[24,\"data-test-file-input\",\"coverImage\"]],[[\"@multiple\",\"@action\",\"@accept\"],[false,[32,1,[\"setFiles\"]],[32,0,[\"imageMimeTypes\"]]]],null],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"]],\"parameters\":[1]}]]],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"div\"],[14,0,\"gh-setting-header\"],[12],[2,\"Site meta settings\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex flex-column br3 shadow-1 bg-grouped-table pa5\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-first flex-column\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"flex flex-row justify-between w-100\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Meta data\"],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Extra content for search engines\"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                        \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-toggle-meta\",\"\"],[24,4,\"button\"],[4,[38,1],[[32,0],[30,[36,11],[\"metaDataOpen\",[32,0]],null]],null],[12],[10,\"span\"],[12],[1,[30,[36,5],[[32,0,[\"metaDataOpen\"]],\"Close\",\"Expand\"],null]],[13],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"],[6,[37,10],[[32,0,[\"metaDataOpen\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"div\"],[14,0,\"gh-setting-content-extended\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"flex flex-column flex-row-ns\"],[12],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"flex-basis-1-2-m flex-basis-2-3-l mr5\"],[12],[2,\"\\n                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],[32,0,[\"settings\",\"hasValidated\"]],\"metaTitle\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"metaTitle\"],[12],[2,\"Meta title\"],[13],[2,\"\\n                                    \"],[8,\"gh-text-input\",[[24,\"data-test-input\",\"metaTitle\"]],[[\"@id\",\"@type\",\"@placeholder\",\"@value\",\"@input\"],[\"metaTitle\",\"text\",[30,[36,4],[[32,0,[\"settings\",\"title\"]],70],null],[30,[36,0],[[32,0,[\"settings\",\"metaTitle\"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"settings\",\"metaTitle\"]]],null]],[[\"value\"],[\"target.value\"]]]]],null],[2,\"\\n                                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"metaTitle\"]],[[\"@errors\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],\"metaTitle\"]],null],[2,\"\\n                                    \"],[10,\"p\"],[12],[2,\"Recommended: \"],[10,\"b\"],[12],[2,\"70\"],[13],[2,\" characters. You’ve used \"],[10,\"b\"],[12],[1,[30,[36,7],[[32,0,[\"settings\",\"metaTitle\"]],70],null]],[13],[13],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],[32,0,[\"settings\",\"hasValidated\"]],\"metaDescription\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"metaDescription\"],[12],[2,\"Meta description\"],[13],[2,\"\\n                                    \"],[8,\"gh-textarea\",[[24,\"data-test-input\",\"metaDescription\"]],[[\"@id\",\"@type\",\"@placeholder\",\"@value\",\"@input\"],[\"metaDescription\",\"text\",[30,[36,4],[[32,0,[\"settings\",\"description\"]],300],null],[30,[36,0],[[32,0,[\"settings\",\"metaDescription\"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"settings\",\"metaDescription\"]]],null]],[[\"value\"],[\"target.value\"]]]]],null],[2,\"\\n                                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"metaDescription\"]],[[\"@errors\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],\"metaDescription\"]],null],[2,\"\\n                                    \"],[10,\"p\"],[12],[2,\"Recommended: \"],[10,\"b\"],[12],[2,\"156\"],[13],[2,\" characters. You’ve used \"],[10,\"b\"],[12],[1,[30,[36,7],[[32,0,[\"settings\",\"metaDescription\"]],156],null]],[13],[13],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n                            \"],[13],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"flex-basis-1-2-m flex-basis-1-3-l\"],[12],[2,\"\\n                                \"],[10,\"label\"],[12],[2,\"Search engine result preview\"],[13],[2,\"\\n                                \"],[10,\"div\"],[14,0,\"seo-preview\"],[12],[2,\"\\n                                    \"],[10,\"div\"],[14,0,\"seo-preview-title\"],[12],[1,[30,[36,4],[[30,[36,6],[[32,0,[\"settings\",\"metaTitle\"]],[32,0,[\"settings\",\"title\"]]],null],70],null]],[13],[2,\"\\n                                    \"],[10,\"div\"],[14,0,\"seo-preview-link\"],[12],[1,[30,[36,4],[[32,0,[\"config\",\"blogUrl\"]],70],null]],[13],[2,\"\\n                                    \"],[10,\"div\"],[14,0,\"seo-preview-description\"],[12],[1,[30,[36,4],[[30,[36,6],[[32,0,[\"settings\",\"metaDescription\"]],[32,0,[\"settings\",\"description\"]]],null],300],null]],[13],[2,\"\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting flex-column\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"flex flex-row justify-between w-100\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Twitter card\"],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Customise structured data of your site for Twitter\"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                        \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-toggle-twitter\",\"\"],[24,4,\"button\"],[4,[38,1],[[32,0],[30,[36,11],[\"twitterCardOpen\",[32,0]],null]],null],[12],[10,\"span\"],[12],[1,[30,[36,5],[[32,0,[\"twitterCardOpen\"]],\"Close\",\"Expand\"],null]],[13],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"],[6,[37,10],[[32,0,[\"twitterCardOpen\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"div\"],[14,0,\"gh-setting-content-extended\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"flex flex-column flex-row-ns\"],[12],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"flex-basis-1-2-m flex-basis-2-3-l mr5 nudge-top--7\"],[12],[2,\"\\n                                \"],[8,\"gh-form-group\",[],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[8,\"gh-image-uploader-with-preview\",[],[[\"@image\",\"@text\",\"@allowUnsplash\",\"@update\",\"@remove\"],[[32,0,[\"settings\",\"twitterImage\"]],\"Add Twitter image\",true,[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"settings\",\"twitterImage\"]]],null]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"settings\",\"twitterImage\"]],\"\"],null]],null]]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],[32,0,[\"settings\",\"hasValidated\"]],\"twitterTitle\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"twitterTitle\"],[12],[2,\"Twitter title\"],[13],[2,\"\\n                                    \"],[8,\"gh-text-input\",[[24,\"data-test-input\",\"twitterTitle\"]],[[\"@id\",\"@type\",\"@placeholder\",\"@value\",\"@input\"],[\"twitterTitle\",\"text\",[30,[36,4],[[32,0,[\"settings\",\"title\"]],70],null],[30,[36,0],[[32,0,[\"settings\",\"twitterTitle\"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"settings\",\"twitterTitle\"]]],null]],[[\"value\"],[\"target.value\"]]]]],null],[2,\"\\n                                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"twitterTitle\"]],[[\"@errors\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],\"twitterTitle\"]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],[32,0,[\"settings\",\"hasValidated\"]],\"twitterDescription\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"twitterDescription\"],[12],[2,\"Twitter description\"],[13],[2,\"\\n                                    \"],[8,\"gh-textarea\",[[24,\"data-test-input\",\"twitterDescription\"]],[[\"@id\",\"@placeholder\",\"@value\",\"@input\"],[\"twitterDescription\",[30,[36,4],[[32,0,[\"settings\",\"description\"]],300],null],[30,[36,0],[[32,0,[\"settings\",\"twitterDescription\"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"settings\",\"twitterDescription\"]]],null]],[[\"value\"],[\"target.value\"]]]]],null],[2,\"\\n                                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"twitterDescription\"]],[[\"@errors\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],\"twitterDescription\"]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n                            \"],[13],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"flex-basis-1-2-m flex-basis-1-3-l nt4-ns\"],[12],[2,\"\\n                                \"],[10,\"label\"],[12],[2,\"Preview\"],[13],[2,\"\\n                                \"],[10,\"div\"],[14,0,\"gh-twitter-preview\"],[12],[2,\"\\n\"],[6,[37,5],[[32,0,[\"settings\",\"twitterImage\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                                    \"],[10,\"div\"],[14,0,\"gh-twitter-preview-image\"],[15,5,[30,[36,3],[[32,0,[\"settings\",\"twitterImage\"]]],null]],[12],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                                    \"],[10,\"div\"],[14,0,\"gh-twitter-preview-content\"],[12],[2,\"\\n                                        \"],[10,\"div\"],[14,0,\"gh-twitter-preview-title\"],[12],[1,[30,[36,6],[[32,0,[\"settings\",\"twitterTitle\"]],[32,0,[\"settings\",\"title\"]]],null]],[13],[2,\"\\n                                        \"],[10,\"div\"],[14,0,\"gh-twitter-preview-description\"],[12],[1,[30,[36,4],[[30,[36,6],[[32,0,[\"settings\",\"twitterDescription\"]],[32,0,[\"settings\",\"description\"]]],null],155],null]],[13],[2,\"\\n                                        \"],[10,\"div\"],[14,0,\"gh-twitter-preview-footer\"],[12],[2,\"\\n                                            \"],[10,\"div\"],[14,0,\"gh-twitter-preview-footer-left\"],[12],[2,\"\\n                                                \"],[1,[32,0,[\"config\",\"blogDomain\"]]],[2,\"\\n                                            \"],[13],[2,\"\\n                                            \"],[10,\"div\"],[14,0,\"gh-twitter-preview-footer-right\"],[12],[2,\"\\n                                            \"],[13],[2,\"\\n                                        \"],[13],[2,\"\\n                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-last flex-column\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"flex flex-row justify-between w-100\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Facebook card\"],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Customise structured data of your site\"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                        \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-toggle-facebook\",\"\"],[24,4,\"button\"],[4,[38,1],[[32,0],[30,[36,11],[\"facebookCardOpen\",[32,0]],null]],null],[12],[10,\"span\"],[12],[1,[30,[36,5],[[32,0,[\"facebookCardOpen\"]],\"Close\",\"Expand\"],null]],[13],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"],[6,[37,10],[[32,0,[\"facebookCardOpen\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"div\"],[14,0,\"gh-setting-content-extended\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"flex flex-column flex-row-ns\"],[12],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"flex-basis-1-2-m flex-basis-2-3-l mr5 nudge-top--7\"],[12],[2,\"\\n                                \"],[8,\"gh-form-group\",[],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[8,\"gh-image-uploader-with-preview\",[],[[\"@image\",\"@text\",\"@allowUnsplash\",\"@update\",\"@remove\"],[[32,0,[\"settings\",\"ogImage\"]],\"Add Facebook image\",true,[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"settings\",\"ogImage\"]]],null]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"settings\",\"ogImage\"]],\"\"],null]],null]]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],[32,0,[\"settings\",\"hasValidated\"]],\"ogTitle\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"ogTitle\"],[12],[2,\"Facebook title\"],[13],[2,\"\\n                                    \"],[8,\"gh-text-input\",[[24,\"data-test-input\",\"ogTitle\"]],[[\"@id\",\"@type\",\"@placeholder\",\"@value\",\"@input\"],[\"ogTitle\",\"text\",[30,[36,4],[[32,0,[\"settings\",\"title\"]],70],null],[30,[36,0],[[32,0,[\"settings\",\"ogTitle\"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"settings\",\"ogTitle\"]]],null]],[[\"value\"],[\"target.value\"]]]]],null],[2,\"\\n                                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"ogTitle\"]],[[\"@errors\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],\"ogTitle\"]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],[32,0,[\"settings\",\"hasValidated\"]],\"ogDescription\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"ogDescription\"],[12],[2,\"Facebook description\"],[13],[2,\"\\n                                    \"],[8,\"gh-textarea\",[[24,\"data-test-input\",\"ogDescription\"]],[[\"@id\",\"@placeholder\",\"@value\",\"@input\"],[\"ogDescription\",[30,[36,4],[[32,0,[\"settings\",\"description\"]],300],null],[30,[36,0],[[32,0,[\"settings\",\"ogDescription\"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"settings\",\"ogDescription\"]]],null]],[[\"value\"],[\"target.value\"]]]]],null],[2,\"\\n                                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"ogDescription\"]],[[\"@errors\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],\"ogDescription\"]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n                            \"],[13],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"flex-basis-1-2-m flex-basis-1-3-l nt4-ns\"],[12],[2,\"\\n                                \"],[10,\"label\"],[12],[2,\"Preview\"],[13],[2,\"\\n                                \"],[10,\"div\"],[14,0,\"gh-og-preview\"],[12],[2,\"\\n\"],[6,[37,5],[[32,0,[\"settings\",\"ogImage\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                                    \"],[10,\"div\"],[14,0,\"gh-og-preview-image\"],[15,5,[30,[36,3],[[32,0,[\"settings\",\"ogImage\"]]],null]],[12],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                                    \"],[10,\"div\"],[14,0,\"gh-og-preview-content\"],[12],[2,\"\\n                                        \"],[10,\"div\"],[14,0,\"gh-og-preview-title\"],[12],[1,[30,[36,4],[[30,[36,6],[[32,0,[\"settings\",\"ogTitle\"]],[32,0,[\"settings\",\"title\"]]],null],88],null]],[13],[2,\"\\n                                        \"],[10,\"div\"],[14,0,\"gh-og-preview-description\"],[12],[1,[30,[36,4],[[30,[36,6],[[32,0,[\"settings\",\"ogDescription\"]],[32,0,[\"settings\",\"description\"]]],null],300],null]],[13],[2,\"\\n                                        \"],[10,\"div\"],[14,0,\"gh-og-preview-footer\"],[12],[2,\"\\n                                            \"],[10,\"div\"],[14,0,\"gh-og-preview-footer-left\"],[12],[2,\"\\n                                                \"],[1,[32,0,[\"config\",\"blogDomain\"]]],[2,\"\\n                                            \"],[13],[2,\"\\n                                            \"],[10,\"div\"],[14,0,\"gh-og-preview-footer-right\"],[12],[13],[2,\"\\n                                        \"],[13],[2,\"\\n                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"div\"],[14,0,\"gh-setting-header\"],[12],[2,\"Social accounts\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex flex-column br3 shadow-1 bg-grouped-table pa5\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-first gh-setting-last\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Social accounts\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Link your social accounts for full structured data and rich card support\"],[13],[2,\"\\n\"],[6,[37,10],[[32,0,[\"socialOpen\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[10,\"div\"],[14,0,\"gh-setting-content-extended\"],[12],[2,\"\\n                        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],[32,0,[\"settings\",\"hasValidated\"]],\"facebook\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[8,\"gh-text-input\",[[16,\"data-test-facebook-input\",true]],[[\"@type\",\"@placeholder\",\"@autocorrect\",\"@value\",\"@input\",\"@focus-out\"],[\"url\",\"https://www.facebook.com/ghost\",\"off\",[30,[36,0],[[32,0,[\"settings\",\"facebook\"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"_scratchFacebook\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"validateFacebookUrl\"],null]]],null],[2,\"\\n                            \"],[8,\"gh-error-message\",[[24,\"data-test-facebook-error\",\"true\"]],[[\"@errors\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],\"facebook\"]],null],[2,\"\\n                            \"],[10,\"p\"],[12],[2,\"URL of your publication's Facebook Page\"],[13],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n                        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],[32,0,[\"settings\",\"hasValidated\"]],\"twitter\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[8,\"gh-text-input\",[[16,\"data-test-twitter-input\",true]],[[\"@type\",\"@placeholder\",\"@autocorrect\",\"@value\",\"@input\",\"@focus-out\"],[\"url\",\"https://twitter.com/ghost\",\"off\",[30,[36,0],[[32,0,[\"settings\",\"twitter\"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"_scratchTwitter\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"validateTwitterUrl\"],null]]],null],[2,\"\\n                            \"],[8,\"gh-error-message\",[[24,\"data-test-twitter-error\",\"true\"]],[[\"@errors\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],\"twitter\"]],null],[2,\"\\n                            \"],[10,\"p\"],[12],[2,\"URL of your publication's Twitter profile\"],[13],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                    \"],[11,\"button\"],[24,0,\"gh-btn\"],[24,\"data-test-toggle-social\",\"\"],[24,4,\"button\"],[4,[38,1],[[32,0],[30,[36,11],[\"socialOpen\",[32,0]],null]],null],[12],[10,\"span\"],[12],[1,[30,[36,5],[[32,0,[\"socialOpen\"]],\"Close\",\"Expand\"],null]],[13],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"div\"],[14,0,\"gh-setting-header\"],[12],[2,\"Advanced settings\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex flex-column br3 shadow-1 bg-grouped-table pa5\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-first gh-setting-last\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Make this site private\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"\\n                        Enable protection with simple shared password. All search engine optimization and social features will be disabled.\\n\\n\"],[6,[37,5],[[32,0,[\"settings\",\"isPrivate\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                            \"],[10,\"span\"],[14,0,\"avoid-break-out\"],[12],[2,\"\\n                                \"],[10,\"br\"],[12],[13],[10,\"br\"],[12],[13],[2,\"\\n                                A private RSS feed is available at\\n                                \"],[10,\"a\"],[15,6,[31,[[32,0,[\"privateRSSUrl\"]]]]],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener\"],[12],[1,[32,0,[\"privateRSSUrl\"]]],[13],[2,\"\\n                            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                    \"],[13],[2,\"\\n\\n\"],[6,[37,5],[[32,0,[\"settings\",\"isPrivate\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"gh-setting-content-extended\"],[12],[2,\"\\n                            \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],[32,0,[\"settings\",\"hasValidated\"]],\"password\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                \"],[8,\"gh-text-input\",[[16,\"data-test-password-input\",true]],[[\"@value\",\"@name\",\"@focus-out\",\"@input\"],[[30,[36,0],[[32,0,[\"settings\",\"password\"]]],null],\"general[password]\",[30,[36,1],[[32,0],\"validate\",\"password\"],[[\"target\"],[[32,0,[\"settings\"]]]]],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"settings\",\"password\"]]],null]],[[\"value\"],[\"target.value\"]]]]],null],[2,\"\\n                                \"],[8,\"gh-error-message\",[[24,\"data-test-password-error\",\"true\"]],[[\"@errors\",\"@property\"],[[32,0,[\"settings\",\"errors\"]],\"password\"]],null],[2,\"\\n                                \"],[10,\"p\"],[12],[2,\"Set the password for this site\"],[13],[2,\"\\n                            \"]],\"parameters\":[]}]]],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"for-switch\"],[12],[2,\"\\n                        \"],[10,\"label\"],[14,0,\"switch\"],[14,\"for\",\"settings-private\"],[12],[2,\"\\n                            \"],[10,\"input\"],[15,\"checked\",[32,0,[\"settings\",\"isPrivate\"]]],[14,1,\"settings-private\"],[15,\"onclick\",[30,[36,1],[[32,0],\"toggleIsPrivate\"],[[\"value\"],[\"target.checked\"]]]],[14,\"data-test-private-checkbox\",\"\"],[14,4,\"checkbox\"],[12],[13],[2,\"\\n                            \"],[10,\"span\"],[14,0,\"input-toggle-component\"],[12],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n    \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"],[1,[30,[36,16],[[30,[36,15],null,null]],null]]],\"hasEval\":false,\"upvars\":[\"readonly\",\"action\",\"mut\",\"background-image-style\",\"truncate\",\"if\",\"or\",\"gh-count-down-characters\",\"settings\",\"brandColor\",\"liquid-if\",\"toggle\",\"hash\",\"-track-array\",\"each\",\"-outlet\",\"component\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/general.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/integration-loading", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "QQ9CAWww",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[10,\"header\"],[14,0,\"gh-canvas-header\"],[12],[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            Integrations\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"gh-content\"],[12],[2,\"\\n        \"],[8,\"gh-loading-spinner\",[],[[],[]],null],[2,\"\\n    \"],[13],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/integration-loading.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/integration", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "d3AmuU+n",
    "block": "{\"symbols\":[\"webhook\",\"uploader\"],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[11,\"form\"],[24,0,\"mb15\"],[4,[38,0],[[32,0],[30,[36,6],[\"save\"],null]],[[\"on\"],[\"submit\"]]],[12],[2,\"\\n        \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n                \"],[8,\"link-to\",[[24,\"data-test-link\",\"integrations-back\"]],[[\"@route\"],[\"settings.integrations\"]],[[\"default\"],[{\"statements\":[[2,\"Integrations\"]],\"parameters\":[]}]]],[2,\"\\n                \"],[10,\"span\"],[12],[1,[30,[36,2],[\"arrow-right\"],null]],[13],[2,\"\\n                \"],[1,[32,0,[\"integration\",\"name\"]]],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n                \"],[8,\"gh-task-button\",[[24,\"data-test-button\",\"save\"]],[[\"@task\",\"@class\",\"@autoReset\"],[[32,0,[\"save\"]],\"gh-btn gh-btn-blue gh-btn-icon\",true]],null],[2,\"\\n            \"],[13],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n\\n        \"],[10,\"h4\"],[14,0,\"midlightgrey f-small fw5 ttu\"],[12],[2,\"Configuration\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"pa5 pt3 pb3 br4 shadow-1 bg-grouped-table mt2\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"flex\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"flex flex-column items-start\"],[12],[2,\"\\n                    \"],[10,\"label\"],[14,0,\"mb1\"],[12],[2,\"Icon\"],[13],[2,\"\\n                    \"],[10,\"figure\"],[14,0,\"relative flex items-center h-100 ma0 br4 hide-child ba b--whitegrey-d2 pa8 bg-white\"],[15,5,[32,0,[\"iconImageStyle\"]]],[12],[2,\"\\n                        \"],[8,\"aspect-ratio-box\",[],[[\"@class\",\"@ratio\",\"@base\"],[\"flex items-center h-100 justify-center\",\"1/1\",\"height\"]],[[\"default\"],[{\"statements\":[[2,\"\\n\"],[6,[37,7],[[32,0,[\"integration\",\"iconImage\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                                \"],[1,[30,[36,2],[\"integration\"],[[\"class\"],[\"w11 h11\"]]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                        \"]],\"parameters\":[]}]]],[2,\"\\n\\n                        \"],[8,\"gh-uploader\",[],[[\"@extensions\",\"@onComplete\"],[[32,0,[\"imageExtensions\"]],[30,[36,0],[[32,0],\"setIconImage\"],null]]],[[\"default\"],[{\"statements\":[[2,\"\\n\"],[6,[37,8],[[32,2,[\"isUploading\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                \"],[10,\"div\"],[14,0,\"absolute top-0 left-0 w-100 h-100 br4 bg-black-70 flex items-center\"],[12],[2,\"\\n                                    \"],[1,[32,2,[\"progressBar\"]]],[2,\"\\n                                    \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                \"],[11,\"button\"],[24,0,\"child absolute top-0 left-0 w-100 h-100 br4 b white text-center bg-black-70 f8\"],[24,4,\"button\"],[4,[38,0],[[32,0],\"triggerIconFileDialog\"],null],[12],[2,\"\\n                                    Upload\\n                                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                            \"],[10,\"div\"],[14,5,\"display:none\"],[12],[2,\"\\n                                \"],[8,\"gh-file-input\",[[24,\"data-test-file-input\",\"icon\"]],[[\"@name\",\"@multiple\",\"@action\",\"@accept\"],[\"iconImage\",false,[32,2,[\"setFiles\"]],[32,0,[\"imageMimeTypes\"]]]],null],[2,\"\\n                            \"],[13],[2,\"\\n                        \"]],\"parameters\":[2]}]]],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"flex-auto ml6\"],[12],[2,\"\\n                    \"],[8,\"gh-validation-status-container\",[],[[\"@class\",\"@errors\",\"@hasValidated\",\"@property\"],[\"flex flex-column w-100 mr3\",[32,0,[\"integration\",\"errors\"]],[32,0,[\"integration\",\"hasValidated\"]],\"name\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                        \"],[10,\"label\"],[14,\"for\",\"integration_name\"],[12],[2,\"Name\"],[13],[2,\"\\n                        \"],[8,\"gh-text-input\",[[24,\"data-test-input\",\"name\"]],[[\"@id\",\"@class\",\"@type\",\"@value\",\"@input\",\"@focus-out\"],[\"integration_name\",\"gh-input mt1 mb1\",\"text\",[30,[36,9],[[32,0,[\"integration\",\"name\"]]],null],[30,[36,0],[[32,0],[30,[36,10],[[32,0,[\"integration\",\"name\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,0],[[32,0],\"validate\",\"name\"],[[\"target\"],[[32,0,[\"integration\"]]]]]]],null],[2,\"\\n                        \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"name\"],[24,0,\"ma0\"]],[[\"@errors\",\"@property\"],[[32,0,[\"integration\",\"errors\"]],\"name\"]],null],[2,\"\\n                    \"]],\"parameters\":[]}]]],[2,\"\\n\\n                    \"],[8,\"gh-validation-status-container\",[],[[\"@class\",\"@errors\",\"@hasValidated\",\"@property\"],[\"flex flex-column w-100 mr3\",[32,0,[\"integration\",\"errors\"]],[32,0,[\"integration\",\"hasValidated\"]],\"decription\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                        \"],[10,\"label\"],[14,\"for\",\"integration_description\"],[14,0,\"mt3\"],[12],[2,\"Description\"],[13],[2,\"\\n                        \"],[8,\"gh-text-input\",[[24,\"data-test-input\",\"description\"]],[[\"@id\",\"@class\",\"@type\",\"@value\",\"@input\",\"@focus-out\"],[\"integration_description\",\"gh-input mt1\",\"text\",[30,[36,9],[[32,0,[\"integration\",\"description\"]]],null],[30,[36,0],[[32,0],[30,[36,10],[[32,0,[\"integration\",\"description\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,0],[[32,0],\"validate\",\"description\"],[[\"target\"],[[32,0,[\"integration\"]]]]]]],null],[2,\"\\n                        \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"description\"],[24,0,\"ma0\"]],[[\"@errors\",\"@property\"],[[32,0,[\"integration\",\"errors\"]],\"description\"]],null],[2,\"\\n                    \"]],\"parameters\":[]}]]],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"table\"],[14,0,\"ma0 mt5\"],[14,5,\"table-layout: fixed\"],[12],[2,\"\\n                \"],[10,\"tbody\"],[12],[2,\"\\n                    \"],[10,\"tr\"],[12],[2,\"\\n                        \"],[10,\"td\"],[14,0,\"pa3 pl0 fw7 f8 w35 v-top\"],[12],[2,\"Content API Key\"],[13],[2,\"\\n                        \"],[10,\"td\"],[14,0,\"pa0 bb b--lightgrey\"],[12],[2,\"\\n                            \"],[10,\"div\"],[15,0,[31,[\"pt3 pb3 relative flex items-center \",[30,[36,7],[[32,0,[\"copyContentKey\",\"isRunning\"]],\"hide-child-instant\"],null]]]],[12],[2,\"\\n                                \"],[10,\"span\"],[14,0,\"midlightgrey truncate\"],[14,\"data-test-text\",\"content-key\"],[12],[2,\"\\n                                    \"],[1,[32,0,[\"integration\",\"contentKey\",\"secret\"]]],[2,\"\\n                                \"],[13],[2,\"\\n                                \"],[10,\"div\"],[14,0,\"absolute top-2 right-0 flex items-stretch child\"],[12],[2,\"\\n                                    \"],[11,\"button\"],[24,0,\"bg-white ba b--lightgrey-d1 br3 pa1 pl2 pr2 flex items-center mr2\"],[24,\"data-tooltip\",\"Regenerate\"],[24,4,\"button\"],[4,[38,0],[[32,0],\"confirmRegenerateKeyModal\",[32,0,[\"integration\",\"contentKey\"]]],null],[12],[2,\"\\n                                        \"],[1,[30,[36,2],[\"reload\"],[[\"class\"],[\"w4 h4 stroke-midgrey\"]]]],[2,\"\\n                                    \"],[13],[2,\"\\n                                    \"],[11,\"button\"],[24,0,\"bg-black-70 f8 pa1 pr3 pl3 br3 white fw4 flex items-center\"],[24,4,\"button\"],[4,[38,0],[[32,0],[30,[36,6],[[32,0,[\"copyContentKey\"]]],null]],null],[12],[2,\"\\n\"],[6,[37,8],[[32,0,[\"copyContentKey\",\"isRunning\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                        \"],[1,[30,[36,2],[\"check-circle\"],[[\"class\"],[\"w3 v-mid mr2 stroke-white\"]]]],[2,\" Copied\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                        Copy\\n\"]],\"parameters\":[]}]]],[2,\"                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n\"],[6,[37,8],[[30,[36,11],[[32,0,[\"regeneratedKeyType\"]],[32,0,[\"integration\",\"contentKey\",\"type\"]]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                                \"],[10,\"div\"],[14,0,\"green nt3 mb2\"],[12],[2,\" Content API Key was successfully regenerated \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"tr\"],[12],[2,\"\\n                        \"],[10,\"td\"],[14,0,\"pa3 pl0 w50 fw7 f8 w35 v-top\"],[12],[2,\"Admin API Key\"],[13],[2,\"\\n                        \"],[10,\"td\"],[14,0,\"pa0 bb b--lightgrey\"],[12],[2,\"\\n                            \"],[10,\"div\"],[15,0,[31,[\"pt3 pb3 relative flex items-center \",[30,[36,7],[[32,0,[\"copyAdminKey\",\"isRunning\"]],\"hide-child-instant\"],null]]]],[12],[2,\"\\n                                \"],[10,\"span\"],[14,0,\"midlightgrey truncate\"],[14,\"data-test-text\",\"admin-key\"],[12],[2,\"\\n                                    \"],[1,[32,0,[\"integration\",\"adminKey\",\"secret\"]]],[2,\"\\n                                \"],[13],[2,\"\\n                                \"],[10,\"div\"],[14,0,\"absolute top-2 right-0 flex items-stretch child\"],[12],[2,\"\\n                                    \"],[11,\"button\"],[24,0,\"bg-white ba b--lightgrey-d1 br3 pa1 pl2 pr2 flex items-center mr2\"],[24,\"data-tooltip\",\"Regenerate\"],[24,4,\"button\"],[4,[38,0],[[32,0],\"confirmRegenerateKeyModal\",[32,0,[\"integration\",\"adminKey\"]]],null],[12],[2,\"\\n                                        \"],[1,[30,[36,2],[\"reload\"],[[\"class\"],[\"w4 h4 stroke-midgrey\"]]]],[2,\"\\n                                    \"],[13],[2,\"\\n                                    \"],[11,\"button\"],[24,0,\"bg-black-70 f8 pa1 pr3 pl3 br3 white fw4 flex items-center\"],[24,4,\"button\"],[4,[38,0],[[32,0],[30,[36,6],[[32,0,[\"copyAdminKey\"]]],null]],null],[12],[2,\"\\n\"],[6,[37,8],[[32,0,[\"copyAdminKey\",\"isRunning\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                        \"],[1,[30,[36,2],[\"check-circle\"],[[\"class\"],[\"w3 v-mid mr2 stroke-white\"]]]],[2,\" Copied\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                        Copy\\n\"]],\"parameters\":[]}]]],[2,\"                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n\"],[6,[37,8],[[30,[36,11],[[32,0,[\"regeneratedKeyType\"]],[32,0,[\"integration\",\"adminKey\",\"type\"]]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                                \"],[10,\"div\"],[14,0,\"green nt3 mb2\"],[12],[2,\" Admin API Key was successfully regenerated \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"tr\"],[12],[2,\"\\n                        \"],[10,\"td\"],[14,0,\"pa3 pl0 w50 fw7 f8 w35\"],[12],[2,\"API URL\"],[13],[2,\"\\n                        \"],[10,\"td\"],[14,0,\"pa0 truncate\"],[12],[2,\"\\n                            \"],[10,\"div\"],[15,0,[31,[\"pt3 pb3 relative truncate \",[30,[36,7],[[32,0,[\"copyApiUrl\",\"isRunning\"]],\"hide-child-instant\"],null]]]],[12],[2,\"\\n                                \"],[10,\"span\"],[14,0,\"midlightgrey\"],[14,\"data-test-text\",\"api-url\"],[12],[2,\"\\n                                    \"],[1,[32,0,[\"apiUrl\"]]],[2,\"\\n                                \"],[13],[2,\"\\n                                \"],[10,\"div\"],[14,0,\"absolute top-1 right-0\"],[12],[2,\"\\n                                    \"],[10,\"div\"],[14,0,\"pt1 pr3 pb1 pl3 bg-black-70 child br3 f8 nudge-top--4 nudge-right--1\"],[12],[2,\"\\n                                        \"],[11,\"button\"],[24,0,\"white fw4 flex items-center\"],[24,4,\"button\"],[4,[38,0],[[32,0],[30,[36,6],[[32,0,[\"copyApiUrl\"]]],null]],null],[12],[2,\"\\n\"],[6,[37,8],[[32,0,[\"copyApiUrl\",\"isRunning\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                            \"],[1,[30,[36,2],[\"check-circle\"],[[\"class\"],[\"w3 v-mid mr2 stroke-white\"]]]],[2,\" Copied\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                            Copy\\n\"]],\"parameters\":[]}]]],[2,\"                                        \"],[13],[2,\"\\n                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"h4\"],[14,0,\"mt15 midlightgrey f-small fw5 ttu\"],[12],[2,\"Webhooks\"],[13],[2,\"\\n    \"],[10,\"div\"],[14,0,\"mt2\"],[12],[2,\"\\n        \"],[10,\"table\"],[14,0,\"ma0 w-100 bg-grouped-table shadow-1 br3\"],[12],[2,\"\\n            \"],[10,\"thead\"],[12],[2,\"\\n                \"],[10,\"tr\"],[12],[2,\"\\n                    \"],[10,\"th\"],[14,0,\"pa2 pl3 midlightgrey ttu fw4 f-small br3 br--top br--left fw5\"],[12],[2,\"Name\"],[13],[2,\"\\n                    \"],[10,\"th\"],[14,0,\"pa2 pl3 midlightgrey ttu fw4 f-small br3 fw5\"],[12],[2,\"Event\"],[13],[2,\"\\n                    \"],[10,\"th\"],[14,0,\"pa2 pl3 midlightgrey ttu fw4 f-small br3 fw5\"],[12],[2,\"URL\"],[13],[2,\"\\n                    \"],[10,\"th\"],[14,0,\"pa2 pl3 midlightgrey ttu fw4 f-small br3 fw5\"],[12],[2,\"Last triggered\"],[13],[2,\"\\n                    \"],[10,\"th\"],[14,0,\"pa2 pl3 ttu br3 br--top br--right\"],[12],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"tbody\"],[12],[2,\"\\n\"],[6,[37,13],[[30,[36,12],[[30,[36,12],[[32,0,[\"filteredWebhooks\"]]],null]],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                    \"],[10,\"tr\"],[14,0,\"hide-child bt b--whitegrey f7\"],[15,\"data-test-webhook-row\",[31,[[32,1,[\"id\"]]]]],[12],[2,\"\\n                        \"],[10,\"td\"],[14,0,\"pa2 pl3\"],[14,\"data-test-text\",\"name\"],[12],[1,[32,1,[\"name\"]]],[13],[2,\"\\n                        \"],[10,\"td\"],[14,0,\"pa2 pl3\"],[14,\"data-test-text\",\"event\"],[12],[1,[30,[36,3],[[32,1,[\"event\"]]],null]],[13],[2,\"\\n                        \"],[10,\"td\"],[14,0,\"pa2 pl3\"],[14,\"data-test-text\",\"targetUrl\"],[12],[1,[32,1,[\"targetUrl\"]]],[13],[2,\"\\n                        \"],[10,\"td\"],[14,0,\"pa2 pl3\"],[14,\"data-test-text\",\"last-triggered\"],[12],[1,[30,[36,4],[[32,1,[\"lastTriggeredAtUTC\"]],\"Not triggered\"],null]],[13],[2,\"\\n                        \"],[10,\"td\"],[14,0,\"w1 pa2 pl3 nowrap\"],[12],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"child flex items-center\"],[12],[2,\"\\n                                \"],[8,\"link-to\",[[24,\"data-test-link\",\"edit-webhook\"]],[[\"@route\",\"@models\"],[\"settings.integration.webhooks.edit\",[30,[36,5],[[32,0,[\"integration\"]],[32,1]],null]]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[1,[30,[36,2],[\"pen\"],[[\"class\"],[\"w6 h6 fill-midgrey pa1 mr1\"]]]],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n                                \"],[11,\"button\"],[24,\"data-test-button\",\"delete-webhook\"],[4,[38,0],[[32,0],\"confirmWebhookDeletion\",[32,1]],null],[12],[2,\"\\n                                    \"],[1,[30,[36,2],[\"trash\"],[[\"class\"],[\"w6 fill-red pa1\"]]]],[2,\"\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[1]},{\"statements\":[[2,\"                \"],[10,\"tr\"],[14,0,\"bt b--whitegrey\"],[14,\"data-test-webhooks-blank-slate\",\"\"],[12],[2,\"\\n                    \"],[10,\"td\"],[14,\"colspan\",\"5\"],[14,0,\"pa5 pt15 pb15 tc midgrey f7\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"flex flex-column items-center\"],[12],[2,\"\\n                            \"],[10,\"p\"],[14,0,\"ma0 pa0 tc midgrey lh-title mt2\"],[12],[2,\"\\n                                No webhooks configured\\n                            \"],[13],[2,\"\\n                            \"],[8,\"link-to\",[[24,\"data-test-link\",\"add-webhook\"]],[[\"@route\",\"@model\",\"@classNames\"],[\"settings.integration.webhooks.new\",[32,0,[\"integration\"]],\"flex items-center\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[10,\"div\"],[14,0,\"flex items-center pa2 pt1\"],[12],[2,\"\\n                                \"],[1,[30,[36,2],[\"add\"],[[\"class\"],[\"w3 h3 fill-blue-d1\"]]]],[2,\"\\n                                \"],[10,\"span\"],[14,0,\"ml1 blue\"],[12],[2,\"Add webhook\"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                            \"]],\"parameters\":[]}]]],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"],[13],[2,\"\\n\"],[6,[37,8],[[32,0,[\"filteredWebhooks\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"tfoot\"],[14,0,\"bt b--lightgrey\"],[12],[2,\"\\n                \"],[10,\"tr\"],[14,0,\"new-webhook-cell\"],[12],[2,\"\\n                    \"],[10,\"td\"],[14,\"colspan\",\"5\"],[12],[2,\"\\n                        \"],[8,\"link-to\",[[24,\"data-test-link\",\"add-webhook\"]],[[\"@route\",\"@model\",\"@classNames\"],[\"settings.integration.webhooks.new\",[32,0,[\"integration\"]],\"flex items-center\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                        \"],[10,\"div\"],[14,0,\"pa3 f7\"],[12],[2,\"\\n                            \"],[1,[30,[36,2],[\"add\"],[[\"class\"],[\"w3 h3 fill-blue-d1\"]]]],[2,\"\\n                            \"],[10,\"span\"],[14,0,\"ml1 blue\"],[12],[2,\"Add webhook\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-red gh-btn-icon mb15 mt15\"],[4,[38,0],[[32,0],\"confirmIntegrationDeletion\"],null],[12],[2,\"\\n        \"],[10,\"span\"],[12],[2,\" Delete Integration \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[6,[37,8],[[32,0,[\"showUnsavedChangesModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@confirm\",\"@close\",\"@modifier\"],[\"leave-settings\",[30,[36,0],[[32,0],\"leaveScreen\"],null],[30,[36,0],[[32,0],\"toggleUnsavedChangesModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,8],[[32,0,[\"showRegenerateKeyModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@confirm\",\"@close\",\"@modifier\"],[\"regenerate-key\",[30,[36,1],null,[[\"apiKey\",\"integration\"],[[32,0,[\"selectedApiKey\"]],[32,0,[\"integration\"]]]]],[30,[36,0],[[32,0],\"regenerateKey\"],null],[30,[36,0],[[32,0],\"cancelRegenerateKeyModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,8],[[32,0,[\"showDeleteIntegrationModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@confirm\",\"@close\",\"@modifier\"],[\"delete-integration\",[30,[36,0],[[32,0],\"deleteIntegration\"],null],[30,[36,0],[[32,0],\"cancelIntegrationDeletion\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,8],[[32,0,[\"webhookToDelete\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@confirm\",\"@close\",\"@modifier\"],[\"delete-webhook\",[30,[36,0],[[32,0],\"deleteWebhook\"],null],[30,[36,0],[[32,0],\"cancelWebhookDeletion\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[1,[30,[36,15],[[30,[36,14],null,null]],null]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"hash\",\"svg-jar\",\"event-name\",\"or\",\"array\",\"perform\",\"unless\",\"if\",\"readonly\",\"mut\",\"eq\",\"-track-array\",\"each\",\"-outlet\",\"component\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/integration.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/integration/webhooks/edit", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "IVlpTo75",
    "block": "{\"symbols\":[],\"statements\":[[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@confirm\",\"@close\",\"@modifier\"],[\"webhook-form\",[32,0,[\"webhook\"]],[30,[36,0],[[32,0],\"save\"],null],[30,[36,0],[[32,0],\"cancel\"],null],\"action wide\"]],null]],\"hasEval\":false,\"upvars\":[\"action\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/integration/webhooks/edit.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/integration/webhooks/new", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "NcCd3+3w",
    "block": "{\"symbols\":[],\"statements\":[[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@confirm\",\"@close\",\"@modifier\"],[\"webhook-form\",[32,0,[\"webhook\"]],[30,[36,0],[[32,0],\"save\"],null],[30,[36,0],[[32,0],\"cancel\"],null],\"action wide\"]],null]],\"hasEval\":false,\"upvars\":[\"action\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/integration/webhooks/new.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/integrations", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "kMfNXOV0",
    "block": "{\"symbols\":[\"integration\"],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            Integrations\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"integrations-directory\"],[12],[2,\"\\n        \"],[10,\"a\"],[14,0,\"id-item\"],[14,6,\"https://ghost.org/integrations/disqus/\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"id-item-logo id-disqus\"],[12],[2,\"\\n                \"],[10,\"img\"],[14,0,\"w-100 h-100\"],[14,5,\"object-fit:contain;\"],[14,\"src\",\"assets/img/disqus.svg\"],[14,\"alt\",\"Disqus Icon\"],[12],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"f8 mt1\"],[12],[2,\"Disqus\"],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"a\"],[14,0,\"id-item\"],[14,6,\"https://ghost.org/integrations/google/\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"id-item-logo id-analytics\"],[12],[2,\"\\n                \"],[10,\"img\"],[14,0,\"w-100 h-100\"],[14,5,\"object-fit:contain;padding:1px 0;\"],[14,\"src\",\"assets/img/google-analytics.png\"],[14,\"alt\",\"Google Analytics Icon\"],[12],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"f8 mt1\"],[12],[2,\"Analytics\"],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"a\"],[14,0,\"id-item\"],[14,6,\"https://ghost.org/integrations/mailchimp/\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"id-item-logo id-mailchimp\"],[12],[2,\"\\n                \"],[10,\"img\"],[14,0,\"w-100 h-100\"],[14,5,\"object-fit:contain;\"],[14,\"src\",\"assets/img/mailchimp.svg\"],[14,\"alt\",\"Mailchimp Icon\"],[12],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"f8 mt1\"],[12],[2,\"Mailchimp\"],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"a\"],[14,0,\"id-item\"],[14,6,\"https://ghost.org/integrations/typeform/\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"id-item-logo id-typeform\"],[12],[2,\"\\n                \"],[10,\"img\"],[14,0,\"w-100 h-100\"],[14,5,\"object-fit:contain;\"],[14,\"src\",\"assets/img/typeform.svg\"],[14,\"alt\",\"Typeform Icon\"],[12],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"f8 mt1\"],[12],[2,\"Typeform\"],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"a\"],[14,0,\"id-item\"],[14,6,\"https://ghost.org/integrations/youtube/\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"id-item-logo id-youtube\"],[12],[2,\"\\n                \"],[10,\"img\"],[14,0,\"w-100 h-100\"],[14,5,\"object-fit:contain;\"],[14,\"src\",\"assets/img/youtube.png\"],[14,\"alt\",\"YouTube Icon\"],[12],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"f8 mt1\"],[12],[2,\"YouTube\"],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"a\"],[14,0,\"id-item\"],[14,6,\"https://ghost.org/integrations/buffer/\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"id-item-logo id-buffer\"],[12],[2,\"\\n                \"],[10,\"img\"],[14,0,\"w-100 h-100\"],[14,5,\"object-fit:contain;padding:1px 0;\"],[14,\"src\",\"assets/img/buffer.png\"],[14,\"alt\",\"Buffer Icon\"],[12],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"f8 mt1\"],[12],[2,\"Buffer\"],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"a\"],[14,0,\"id-item\"],[14,6,\"https://ghost.org/integrations/revue/\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"id-item-logo id-revue\"],[12],[2,\"\\n                \"],[10,\"img\"],[14,0,\"w-100 h-100\"],[14,5,\"object-fit:contain;padding:1px 0;\"],[14,\"src\",\"assets/img/revue.svg\"],[14,\"alt\",\"Revue Icon\"],[12],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"f8 mt1\"],[12],[2,\"Revue\"],[13],[2,\"\\n        \"],[13],[2,\"\\n        \"],[10,\"a\"],[14,0,\"id-item\"],[14,6,\"https://ghost.org/integrations/\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener noreferrer\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"id-item-logo id-more\"],[12],[2,\"\\n\"],[2,\"                \"],[1,[30,[36,0],[\"circle-ellipsis\"],[[\"class\"],[\"w5\"]]]],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"f8 mt1\"],[12],[2,\"More\"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"apps-grid-container\"],[12],[2,\"\\n\\n\"],[2,\"        \"],[10,\"span\"],[14,0,\"apps-grid-title pb1\"],[12],[2,\"Built-in integrations\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"apps-grid\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"apps-grid-cell\"],[14,\"data-test-app\",\"zapier\"],[12],[2,\"\\n                \"],[8,\"link-to\",[[24,\"data-test-link\",\"zapier\"]],[[\"@route\"],[\"settings.integrations.zapier\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"article\"],[14,0,\"apps-card-app\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"apps-card-left\"],[12],[2,\"\\n                        \"],[10,\"figure\"],[14,0,\"apps-card-app-icon\"],[14,5,\"background-image:url(assets/img/zapier.svg);background-size:36px;\"],[12],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"apps-card-meta\"],[12],[2,\"\\n                            \"],[10,\"h3\"],[14,0,\"apps-card-app-title\"],[12],[2,\"Zapier\"],[13],[2,\"\\n                            \"],[10,\"p\"],[14,0,\"apps-card-app-desc\"],[12],[2,\"Automation for your favourite apps\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-card-right\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"apps-configured\"],[12],[2,\"\\n                            \"],[10,\"span\"],[14,\"data-test-app-status\",\"\"],[12],[2,\"Configure\"],[13],[2,\"\\n                            \"],[1,[30,[36,0],[\"arrow-right\"],null]],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n            \"],[13],[2,\"\\n\\n            \"],[10,\"div\"],[14,0,\"apps-grid-cell\"],[14,\"data-test-app\",\"slack\"],[12],[2,\"\\n                \"],[8,\"link-to\",[[24,\"data-test-link\",\"slack\"]],[[\"@route\"],[\"settings.integrations.slack\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"article\"],[14,0,\"apps-card-app\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"apps-card-left\"],[12],[2,\"\\n                        \"],[10,\"figure\"],[14,0,\"apps-card-app-icon\"],[14,5,\"background-image:url(assets/img/slackicon.png); background-size: 36px;\"],[12],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"apps-card-meta\"],[12],[2,\"\\n                            \"],[10,\"h3\"],[14,0,\"apps-card-app-title\"],[12],[2,\"Slack\"],[13],[2,\"\\n                            \"],[10,\"p\"],[14,0,\"apps-card-app-desc\"],[12],[2,\"A messaging app for teams\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-card-right\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"apps-configured\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"settings\",\"slack\",\"isActive\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                \"],[10,\"span\"],[14,0,\"gh-badge\"],[14,\"data-test-app-status\",\"\"],[12],[2,\"Active\"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                \"],[10,\"span\"],[14,\"data-test-app-status\",\"\"],[12],[2,\"Configure\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                            \"],[1,[30,[36,0],[\"arrow-right\"],null]],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n            \"],[13],[2,\"\\n\\n            \"],[10,\"div\"],[14,0,\"apps-grid-cell\"],[14,\"data-test-app\",\"amp\"],[12],[2,\"\\n                \"],[8,\"link-to\",[[24,\"data-test-link\",\"amp\"]],[[\"@route\"],[\"settings.integrations.amp\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"article\"],[14,0,\"apps-card-app\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"apps-card-left\"],[12],[2,\"\\n                        \"],[10,\"figure\"],[14,0,\"apps-card-app-icon\"],[14,5,\"background-image:url(assets/img/amp.svg); background-size: 36px;\"],[12],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"apps-card-meta\"],[12],[2,\"\\n                            \"],[10,\"h3\"],[14,0,\"apps-card-app-title\"],[12],[2,\"AMP\"],[13],[2,\"\\n                            \"],[10,\"p\"],[14,0,\"apps-card-app-desc\"],[12],[2,\"Google Accelerated Mobile Pages\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-card-right\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"apps-configured\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"settings\",\"amp\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                \"],[10,\"span\"],[14,0,\"gh-badge\"],[14,\"data-test-app-status\",\"\"],[12],[2,\"Active\"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                \"],[10,\"span\"],[14,\"data-test-app-status\",\"\"],[12],[2,\"Configure\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                            \"],[1,[30,[36,0],[\"arrow-right\"],null]],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n            \"],[13],[2,\"\\n\\n            \"],[10,\"div\"],[14,0,\"apps-grid-cell\"],[14,\"data-test-app\",\"unsplash\"],[12],[2,\"\\n                \"],[8,\"link-to\",[[24,\"data-test-link\",\"unsplash\"]],[[\"@route\"],[\"settings.integrations.unsplash\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"article\"],[14,0,\"apps-card-app\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"apps-card-left\"],[12],[2,\"\\n                        \"],[10,\"figure\"],[14,0,\"apps-card-app-icon id-unsplash\"],[14,5,\"background-image:url(assets/icons/unsplash.svg); background-size:30px;\"],[12],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"apps-card-meta\"],[12],[2,\"\\n                            \"],[10,\"h3\"],[14,0,\"apps-card-app-title\"],[12],[2,\"Unsplash\"],[13],[2,\"\\n                            \"],[10,\"p\"],[14,0,\"apps-card-app-desc\"],[12],[2,\"Beautiful, free photos\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-card-right\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"apps-configured\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"settings\",\"unsplash\",\"isActive\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                \"],[10,\"span\"],[14,0,\"gh-badge\"],[14,\"data-test-app-status\",\"\"],[12],[2,\"Active\"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                \"],[10,\"span\"],[14,\"data-test-app-status\",\"\"],[12],[2,\"Configure\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                            \"],[1,[30,[36,0],[\"arrow-right\"],null]],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n            \"],[13],[2,\"\\n\\n\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"apps-grid-container\"],[12],[2,\"\\n\\n        \"],[10,\"span\"],[14,0,\"apps-grid-title pb1\"],[12],[2,\"Custom integrations\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"apps-grid\"],[12],[2,\"\\n\"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,[\"integrations\"]]],null]],null]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[10,\"div\"],[14,0,\"apps-grid-cell\"],[14,\"data-test-custom-integration\",\"\"],[12],[2,\"\\n                    \"],[8,\"link-to\",[[16,\"data-test-integration\",[32,1,[\"id\"]]]],[[\"@route\",\"@model\"],[\"settings.integration\",[32,1]]],[[\"default\"],[{\"statements\":[[2,\"\\n                        \"],[10,\"article\"],[14,0,\"apps-card-app\"],[12],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"apps-card-left\"],[12],[2,\"\\n                                \"],[10,\"figure\"],[14,0,\"apps-card-app-icon flex items-center\"],[15,5,[30,[36,2],[[32,1]],null]],[12],[2,\"\\n\"],[6,[37,3],[[32,1,[\"iconImage\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                                        \"],[1,[30,[36,0],[\"integration\"],[[\"class\"],[\"nudge-left--6 w9 stroke-darkgrey\"]]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                                \"],[13],[2,\"\\n                                \"],[10,\"div\"],[14,0,\"apps-card-meta\"],[12],[2,\"\\n                                    \"],[10,\"h3\"],[14,0,\"apps-card-app-title\"],[14,\"data-test-text\",\"name\"],[12],[2,\"\\n                                        \"],[1,[32,1,[\"name\"]]],[2,\"\\n                                    \"],[13],[2,\"\\n                                    \"],[10,\"p\"],[14,0,\"apps-card-app-desc\"],[14,\"data-test-text\",\"description\"],[12],[2,\"\\n                                        \"],[1,[32,1,[\"description\"]]],[2,\"\\n                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"gh-card-right\"],[12],[2,\"\\n                                \"],[10,\"div\"],[14,0,\"apps-configured\"],[12],[2,\"\\n                                    \"],[10,\"span\"],[12],[2,\"Configure\"],[13],[2,\"\\n                                    \"],[1,[30,[36,0],[\"arrow-right\"],null]],[2,\"\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"]],\"parameters\":[]}]]],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[1]},{\"statements\":[[2,\"                \"],[10,\"div\"],[14,0,\"flex flex-column justify-center items-center mih30 miw-100\"],[14,\"data-test-blank\",\"custom-integrations\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"fetchIntegrations\",\"isRunning\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"gh-loading-spinner\"],[12],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"flex flex-column items-center pa5 pt15 pb15\"],[12],[2,\"\\n                            \"],[10,\"p\"],[14,0,\"ma0 pa0 tc midgrey lh-title mt2\"],[12],[2,\"\\n                                Create your own custom Ghost integrations with dedicated API keys & webhooks\\n                            \"],[13],[2,\"\\n                            \"],[8,\"link-to\",[[24,0,\"\"],[24,\"data-test-button\",\"new-integration\"]],[[\"@route\"],[\"settings.integrations.new\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                \"],[10,\"div\"],[14,0,\"flex items-center pa2 pt1\"],[12],[2,\"\\n                                    \"],[1,[30,[36,0],[\"add\"],[[\"class\"],[\"w3 h3 fill-blue-d1\"]]]],[2,\"\\n                                    \"],[10,\"span\"],[14,0,\"db ml1 blue nudge-bottom--1\"],[12],[2,\"Add custom integration\"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                            \"]],\"parameters\":[]}]]],[2,\"\\n                        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,1],[[32,0,[\"integrations\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"div\"],[14,0,\"apps-grid-cell new-integration-cell\"],[12],[2,\"\\n                \"],[8,\"link-to\",[[24,0,\"\"],[24,\"data-test-button\",\"new-integration\"]],[[\"@route\"],[\"settings.integrations.new\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"article\"],[14,0,\"apps-card-app\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"flex items-center\"],[12],[2,\"\\n                        \"],[1,[30,[36,0],[\"add\"],[[\"class\"],[\"w3 h3 fill-blue-d1\"]]]],[2,\"\\n                        \"],[10,\"span\"],[14,0,\"db ml1 blue nudge-bottom--1 fw4\"],[12],[2,\"Add custom integration\"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[1,[30,[36,7],[[30,[36,6],null,null]],null]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"if\",\"integration-icon-style\",\"unless\",\"-track-array\",\"each\",\"-outlet\",\"component\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/integrations.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/integrations/amp-loading", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "XsCoPNzE",
    "block": "{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[10,\"header\"],[14,0,\"gh-canvas-header\"],[12],[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            \"],[8,\"link-to\",[],[[\"@route\"],[\"settings.integrations\"]],[[\"default\"],[{\"statements\":[[2,\"Integrations\"]],\"parameters\":[]}]]],[2,\"\\n            \"],[10,\"span\"],[12],[1,[30,[36,0],[\"arrow-right\"],null]],[13],[2,\"\\n            AMP\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"gh-content\"],[12],[2,\"\\n        \"],[8,\"gh-loading-spinner\",[],[[],[]],null],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"svg-jar\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/integrations/amp-loading.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/integrations/amp", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "tIA9qqFe",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            \"],[8,\"link-to\",[[24,\"data-test-link\",\"integrations-back\"]],[[\"@route\"],[\"settings.integrations\"]],[[\"default\"],[{\"statements\":[[2,\"Integrations\"]],\"parameters\":[]}]]],[2,\"\\n            \"],[10,\"span\"],[12],[1,[30,[36,1],[\"arrow-right\"],null]],[13],[2,\"\\n            AMP\\n        \"],[13],[2,\"\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[8,\"gh-task-button\",[[16,\"data-test-save-button\",true]],[[\"@task\",\"@class\",\"@autoReset\"],[[32,0,[\"save\"]],\"gh-btn gh-btn-blue gh-btn-icon\",true]],null],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[6,[37,2],[[32,0,[\"showLeaveSettingsModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@confirm\",\"@close\",\"@modifier\"],[\"leave-settings\",[30,[36,0],[[32,0],\"leaveSettings\"],null],[30,[36,0],[[32,0],\"toggleLeaveSettingsModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n    \"],[10,\"section\"],[14,0,\"view-container bt b--lightgrey-d1 pt5\"],[12],[2,\"\\n        \"],[10,\"section\"],[14,0,\"app-grid\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"app-cell\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"bg-white mr3 display flex items-center justify-center br-pill shadow-1 pa3 dark-no-shadow\"],[12],[2,\"\\n                    \"],[10,\"img\"],[14,0,\"app-icon\"],[14,\"src\",\"assets/img/amp.svg\"],[12],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"app-cell\"],[12],[2,\"\\n                \"],[10,\"h3\"],[12],[2,\"AMP\"],[13],[2,\"\\n                \"],[10,\"p\"],[12],[2,\"Accelerated Mobile Pages\"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"div\"],[14,0,\"gh-setting-header gh-first-header\"],[12],[2,\"AMP configuration\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex flex-column br4 shadow-1 bg-grouped-table pa8 mt2\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-first gh-setting-last\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Enable AMP\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Enable \"],[10,\"a\"],[14,6,\"https://ampproject.org\"],[14,\"target\",\"_blank\"],[12],[2,\"Google Accelerated Mobile Pages\"],[13],[2,\" for your posts\"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"for-checkbox\"],[12],[2,\"\\n                        \"],[10,\"label\"],[14,\"for\",\"amp\"],[14,0,\"checkbox\"],[12],[2,\"\\n                            \"],[10,\"input\"],[15,\"checked\",[32,0,[\"ampSettings\"]]],[14,1,\"amp\"],[14,3,\"amp\"],[15,\"onclick\",[30,[36,0],[[32,0],\"update\"],[[\"value\"],[\"target.checked\"]]]],[14,\"data-test-amp-checkbox\",\"\"],[14,4,\"checkbox\"],[12],[13],[2,\"\\n                            \"],[10,\"span\"],[14,0,\"input-toggle-component\"],[12],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\",\"if\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/integrations/amp.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/integrations/new", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "lRVZJ8JD",
    "block": "{\"symbols\":[],\"statements\":[[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@confirm\",\"@close\",\"@modifier\"],[\"new-integration\",[32,0,[\"integration\"]],[30,[36,0],[[32,0],\"save\"],null],[30,[36,0],[[32,0],\"cancel\"],null],\"action wide\"]],null]],\"hasEval\":false,\"upvars\":[\"action\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/integrations/new.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/integrations/slack-loading", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "VbU2VmpE",
    "block": "{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[10,\"header\"],[14,0,\"gh-canvas-header\"],[12],[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            \"],[8,\"link-to\",[],[[\"@route\"],[\"settings.integrations\"]],[[\"default\"],[{\"statements\":[[2,\"Integrations\"]],\"parameters\":[]}]]],[2,\"\\n            \"],[10,\"span\"],[12],[1,[30,[36,0],[\"arrow-right\"],null]],[13],[2,\"\\n            Slack\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"gh-content\"],[12],[2,\"\\n        \"],[8,\"gh-loading-spinner\",[],[[],[]],null],[2,\"\\n    \"],[13],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"svg-jar\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/integrations/slack-loading.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/integrations/slack", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "3wNqJksW",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            \"],[8,\"link-to\",[[24,\"data-test-link\",\"integrations-back\"]],[[\"@route\"],[\"settings.integrations\"]],[[\"default\"],[{\"statements\":[[2,\"Integrations\"]],\"parameters\":[]}]]],[2,\"\\n            \"],[10,\"span\"],[12],[1,[30,[36,1],[\"arrow-right\"],null]],[13],[2,\"\\n            Slack\\n        \"],[13],[2,\"\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[8,\"gh-task-button\",[[16,\"data-test-save-button\",true]],[[\"@task\",\"@autoReset\",\"@class\"],[[32,0,[\"save\"]],true,\"gh-btn gh-btn-blue gh-btn-icon\"]],null],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[6,[37,2],[[32,0,[\"showLeaveSettingsModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@confirm\",\"@close\",\"@modifier\"],[\"leave-settings\",[30,[36,0],[[32,0],\"leaveSettings\"],null],[30,[36,0],[[32,0],\"toggleLeaveSettingsModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n    \"],[10,\"section\"],[14,0,\"view-container bt b--lightgrey-d1 pt5\"],[12],[2,\"\\n        \"],[10,\"section\"],[14,0,\"app-grid\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"app-cell\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"bg-white mr3 display flex items-center justify-center br-pill shadow-1 pa3 dark-no-shadow\"],[12],[2,\"\\n                    \"],[10,\"img\"],[14,0,\"app-icon\"],[14,\"src\",\"assets/img/slackicon.png\"],[12],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"app-cell\"],[12],[2,\"\\n                \"],[10,\"h3\"],[12],[2,\"Slack\"],[13],[2,\"\\n                \"],[10,\"p\"],[12],[2,\"A messaging app for teams\"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[11,\"form\"],[24,0,\"app-config-form\"],[24,1,\"slack-settings\"],[24,\"novalidate\",\"novalidate\"],[4,[38,0],[[32,0],\"save\"],[[\"on\"],[\"submit\"]]],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-header gh-first-header\"],[12],[2,\"Slack configuration\"],[13],[2,\"\\n\\n                \"],[10,\"div\"],[14,0,\"flex flex-column br4 shadow-1 bg-grouped-table pa8 mt2\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-first\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-content gh-setting-content--no-action\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Webhook URL\"],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Automatically send newly published posts to a channel in Slack or any Slack-compatible service like Discord or Mattermost.\"],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-setting-content-extended\"],[12],[2,\"\\n                            \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"slackSettings\",\"errors\"]],[32,0,[\"slackSettings\",\"hasValidated\"]],\"url\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                \"],[8,\"gh-text-input\",[[16,\"data-test-slack-url-input\",true]],[[\"@placeholder\",\"@name\",\"@value\",\"@input\",\"@keyEvents\",\"@focus-out\"],[\"https://hooks.slack.com/services/...\",\"slack[url]\",[30,[36,3],[[32,0,[\"slackSettings\",\"url\"]]],null],[30,[36,0],[[32,0],\"updateURL\"],[[\"value\"],[\"target.value\"]]],[30,[36,4],null,[[\"Enter\"],[[30,[36,0],[[32,0],\"save\"],null]]]],[30,[36,0],[[32,0],\"triggerDirtyState\"],null]]],null],[2,\"\\n\"],[6,[37,5],[[32,0,[\"slackSettings\",\"errors\",\"url\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                    \"],[10,\"p\"],[12],[2,\"Set up a new incoming webhook \"],[10,\"a\"],[14,6,\"https://my.slack.com/apps/new/A0F7XDUAZ-incoming-webhooks\"],[14,\"target\",\"_blank\"],[12],[2,\"here\"],[13],[2,\", and grab the URL.\"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"slack-url\"]],[[\"@errors\",\"@property\"],[[32,0,[\"slackSettings\",\"errors\"]],\"url\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                            \"]],\"parameters\":[]}]]],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-content gh-setting-content--no-action\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Username\"],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"The username to display messages from\"],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-setting-content-extended\"],[12],[2,\"\\n                            \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"slackSettings\",\"errors\"]],[32,0,[\"slackSettings\",\"hasValidated\"]],\"username\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                \"],[8,\"gh-text-input\",[[16,\"data-test-slack-username-input\",true]],[[\"@placeholder\",\"@name\",\"@value\",\"@input\",\"@keyEvents\",\"@focus-out\"],[\"Ghost\",\"slack[username]\",[30,[36,3],[[32,0,[\"slackSettings\",\"username\"]]],null],[30,[36,0],[[32,0],\"updateUsername\"],[[\"value\"],[\"target.value\"]]],[30,[36,4],null,[[\"Enter\"],[[30,[36,0],[[32,0],\"save\"],null]]]],[30,[36,0],[[32,0],\"triggerDirtyState\"],null]]],null],[2,\"\\n\"],[6,[37,2],[[32,0,[\"slackSettings\",\"errors\",\"username\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                                    \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"slackSettings\",\"errors\"]],\"username\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                            \"]],\"parameters\":[]}]]],[2,\"\\n                        \"],[13],[2,\"\\n                        \"],[8,\"gh-task-button\",[[24,\"data-test-send-notification-button\",\"true\"]],[[\"@buttonText\",\"@task\",\"@successText\",\"@class\",\"@disabled\"],[\"Send test notification\",[32,0,[\"sendTestNotification\"]],\"Sent\",\"gh-btn gh-btn-green gh-btn-icon\",[32,0,[\"testNotificationDisabled\"]]]],null],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\",\"if\",\"readonly\",\"hash\",\"unless\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/integrations/slack.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/integrations/unsplash-loading", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "2Y7Xld/u",
    "block": "{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[10,\"header\"],[14,0,\"gh-canvas-header\"],[12],[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            \"],[8,\"link-to\",[],[[\"@route\"],[\"settings.integrations\"]],[[\"default\"],[{\"statements\":[[2,\"Integrations\"]],\"parameters\":[]}]]],[2,\"\\n            \"],[10,\"span\"],[12],[1,[30,[36,0],[\"arrow-right\"],null]],[13],[2,\"\\n            Unsplash\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"gh-content\"],[12],[2,\"\\n        \"],[8,\"gh-loading-spinner\",[],[[],[]],null],[2,\"\\n    \"],[13],[2,\"\\n\"],[13]],\"hasEval\":false,\"upvars\":[\"svg-jar\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/integrations/unsplash-loading.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/integrations/unsplash", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "LEsXwwXz",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            \"],[8,\"link-to\",[[24,\"data-test-link\",\"integrations-back\"]],[[\"@route\"],[\"settings.integrations\"]],[[\"default\"],[{\"statements\":[[2,\"Integrations\"]],\"parameters\":[]}]]],[2,\"\\n            \"],[10,\"span\"],[12],[1,[30,[36,1],[\"arrow-right\"],null]],[13],[2,\"\\n            Unsplash\\n        \"],[13],[2,\"\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[8,\"gh-task-button\",[[16,\"data-test-save-button\",true]],[[\"@task\",\"@autoReset\",\"@class\"],[[32,0,[\"save\"]],true,\"gh-btn gh-btn-blue gh-btn-icon\"]],null],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[6,[37,2],[[32,0,[\"showLeaveSettingsModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@confirm\",\"@close\",\"@modifier\"],[\"leave-settings\",[30,[36,0],[[32,0],\"leaveSettings\"],null],[30,[36,0],[[32,0],\"toggleLeaveSettingsModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n    \"],[10,\"section\"],[14,0,\"view-container bt b--lightgrey-d1 pt5\"],[12],[2,\"\\n        \"],[10,\"section\"],[14,0,\"app-grid\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"app-cell\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"bg-white mr3 display flex items-center justify-center br-pill shadow-1 pa3 dark-no-shadow\"],[12],[2,\"\\n                    \"],[10,\"img\"],[14,0,\"app-icon pa2 id-unsplash\"],[14,\"src\",\"assets/icons/unsplash.svg\"],[12],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"app-cell\"],[12],[2,\"\\n                \"],[10,\"h3\"],[12],[2,\"Unsplash\"],[13],[2,\"\\n                \"],[10,\"p\"],[12],[2,\"Beautiful, free photos\"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"div\"],[14,0,\"gh-setting-header gh-first-header\"],[12],[2,\"Unsplash configuration\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex flex-column br4 shadow-1 bg-grouped-table pa8 pb4 mt2\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-first gh-setting-last\"],[14,1,\"unsplash-toggle\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Enable Unsplash\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Enable \"],[10,\"a\"],[14,6,\"https://unsplash.com\"],[14,\"target\",\"_blank\"],[12],[2,\"Unsplash\"],[13],[2,\" image integration for your posts\"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"form-group right\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"for-checkbox\"],[12],[2,\"\\n                            \"],[10,\"label\"],[14,\"for\",\"isActive\"],[14,0,\"checkbox\"],[12],[2,\"\\n                                    \"],[10,\"input\"],[15,\"checked\",[32,0,[\"unsplashSettings\",\"isActive\"]]],[14,1,\"isActive\"],[14,3,\"isActive\"],[15,\"onclick\",[30,[36,0],[[32,0],\"update\"],[[\"value\"],[\"target.checked\"]]]],[14,\"data-test-checkbox\",\"unsplash\"],[14,4,\"checkbox\"],[12],[13],[2,\"\\n                                    \"],[10,\"span\"],[14,0,\"input-toggle-component\"],[12],[13],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\",\"if\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/integrations/unsplash.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/integrations/zapier", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "3xQnlCT2",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            \"],[8,\"link-to\",[[24,\"data-test-link\",\"integrations-back\"]],[[\"@route\"],[\"settings.integrations\"]],[[\"default\"],[{\"statements\":[[2,\"Integrations\"]],\"parameters\":[]}]]],[2,\"\\n            \"],[10,\"span\"],[12],[1,[30,[36,2],[\"arrow-right\"],null]],[13],[2,\"\\n            Zapier\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"view-container bt b--lightgrey-d1 pt5\"],[12],[2,\"\\n        \"],[10,\"section\"],[14,0,\"app-grid\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"app-cell\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"bg-white mr3 display flex items-center justify-center br-pill shadow-1 pa3 dark-no-shadow\"],[12],[2,\"\\n                    \"],[10,\"img\"],[14,0,\"app-icon\"],[14,\"src\",\"assets/img/zapier.svg\"],[12],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"app-cell\"],[12],[2,\"\\n                \"],[10,\"h3\"],[12],[2,\"Zapier\"],[13],[2,\"\\n                \"],[10,\"p\"],[12],[2,\"Automation for your favourite apps\"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"div\"],[14,0,\"m15 mt4\"],[12],[2,\"\\n            \"],[10,\"table\"],[14,0,\"ma0 shadow-1 bg-grouped-table br3\"],[14,5,\"table-layout: fixed\"],[12],[2,\"\\n                \"],[10,\"tbody\"],[12],[2,\"\\n                    \"],[10,\"tr\"],[14,0,\"bb b--lightgrey\"],[12],[2,\"\\n                        \"],[10,\"td\"],[14,0,\"pa3 w50 fw7 v-top\"],[12],[2,\"Admin API Key\"],[13],[2,\"\\n                        \"],[10,\"td\"],[14,0,\"pa0\"],[12],[2,\"\\n                            \"],[10,\"div\"],[15,0,[31,[\"pa3 relative flex items-center \",[30,[36,3],[[32,0,[\"copyAdminKey\",\"isRunning\"]],\"hide-child-instant\"],null]]]],[12],[2,\"\\n                                \"],[10,\"span\"],[14,0,\"midgrey truncate\"],[14,\"data-test-text\",\"admin-key\"],[12],[2,\"\\n                                    \"],[1,[32,0,[\"integration\",\"adminKey\",\"secret\"]]],[2,\"\\n                                \"],[13],[2,\"\\n                                \"],[10,\"div\"],[14,0,\"absolute top-2 right-2 flex items-stretch child\"],[12],[2,\"\\n                                    \"],[11,\"button\"],[24,0,\"ba b--lightgrey-d1 br3 pa1 pl2 pr2 flex items-center mr2 bg-white\"],[24,\"data-tooltip\",\"Regenerate\"],[24,4,\"button\"],[4,[38,1],[[32,0],\"confirmRegenerateKeyModal\",[32,0,[\"integration\",\"adminKey\"]]],null],[12],[2,\"\\n                                        \"],[1,[30,[36,2],[\"reload\"],[[\"class\"],[\"w4 h4 stroke-midgrey\"]]]],[2,\"\\n                                    \"],[13],[2,\"\\n                                    \"],[11,\"button\"],[24,0,\"bg-black-70 f8 pa1 pr3 pl3 br3 white fw4 flex items-center\"],[24,4,\"button\"],[4,[38,1],[[32,0],[30,[36,4],[[32,0,[\"copyAdminKey\"]]],null]],null],[12],[2,\"\\n\"],[6,[37,5],[[32,0,[\"copyAdminKey\",\"isRunning\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                        \"],[1,[30,[36,2],[\"check-circle\"],[[\"class\"],[\"w3 v-mid mr2 stroke-white\"]]]],[2,\" Copied\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                        Copy\\n\"]],\"parameters\":[]}]]],[2,\"                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n\"],[6,[37,5],[[30,[36,6],[[32,0,[\"regeneratedKeyType\"]],[32,0,[\"integration\",\"adminKey\",\"type\"]]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                                \"],[10,\"div\"],[14,0,\"green nt3 mb2 pl3\"],[12],[2,\" Admin API Key was successfully regenerated \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"tr\"],[12],[2,\"\\n                        \"],[10,\"td\"],[14,0,\"pa3 w50 fw7\"],[12],[2,\"API URL\"],[13],[2,\"\\n                        \"],[10,\"td\"],[14,0,\"pa0 truncate\"],[12],[2,\"\\n                            \"],[10,\"div\"],[15,0,[31,[\"pa3 relative truncate \",[30,[36,3],[[32,0,[\"copyApiUrl\",\"isRunning\"]],\"hide-child-instant\"],null]]]],[12],[2,\"\\n                                \"],[10,\"span\"],[14,0,\"midgrey\"],[14,\"data-test-text\",\"api-url\"],[12],[2,\"\\n                                    \"],[1,[32,0,[\"apiUrl\"]]],[2,\"\\n                                \"],[13],[2,\"\\n                                \"],[10,\"div\"],[14,0,\"absolute top-1 right-2\"],[12],[2,\"\\n                                    \"],[10,\"div\"],[14,0,\"pt1 pr3 pb1 pl3 bg-black-70 child br3 f8 nudge-top--4 nudge-right--1\"],[12],[2,\"\\n                                        \"],[11,\"button\"],[24,0,\"white fw4 flex items-center\"],[24,4,\"button\"],[4,[38,1],[[32,0],[30,[36,4],[[32,0,[\"copyApiUrl\"]]],null]],null],[12],[2,\"\\n\"],[6,[37,5],[[32,0,[\"copyApiUrl\",\"isRunning\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                                \"],[1,[30,[36,2],[\"check-circle\"],[[\"class\"],[\"w3 v-mid mr2\"]]]],[2,\" Copied\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                                Copy\\n\"]],\"parameters\":[]}]]],[2,\"                                        \"],[13],[2,\"\\n                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"div\"],[14,0,\"mt12\"],[14,1,\"zapier-toggle\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-content gh-setting-content--no-action\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Zapier Templates\"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-desc mt1\"],[12],[2,\"Explore pre-built templates for common automation tasks\"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content-extended\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,1,\"zapier-templates\"],[12],[2,\"\\n\"],[6,[37,3],[[32,0,[\"isTesting\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                            \"],[10,\"script\"],[14,\"src\",\"https://zapier.com/apps/embed/widget.js?services=ghost&container=true&limit=10&html_id=zapier-templates\"],[12],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[6,[37,5],[[32,0,[\"showRegenerateKeyModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@confirm\",\"@close\",\"@modifier\"],[\"regenerate-key\",[30,[36,0],null,[[\"apiKey\",\"integration\",\"internalIntegration\"],[[32,0,[\"selectedApiKey\"]],[32,0,[\"integration\"]],\"zapier\"]]],[30,[36,1],[[32,0],\"regenerateKey\"],null],[30,[36,1],[[32,0],\"cancelRegenerateKeyModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"hash\",\"action\",\"svg-jar\",\"unless\",\"perform\",\"if\",\"eq\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/integrations/zapier.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/labs-loading", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "M44RTjjf",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[10,\"header\"],[14,0,\"gh-canvas-header\"],[12],[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            Labs\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"gh-content\"],[12],[2,\"\\n        \"],[8,\"gh-loading-spinner\",[],[[],[]],null],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/labs-loading.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/settings/labs", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "nJAObdxA",
    "block": "{\"symbols\":[\"uploader\",\"error\",\"uploader\",\"error\",\"error\"],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            Labs\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"view-container settings-debug\"],[12],[2,\"\\n        \"],[10,\"p\"],[14,0,\"gh-box gh-box-info\"],[12],[1,[30,[36,1],[\"idea\"],null]],[2,\"This is a testing ground for new or experimental features. They may change, break or inexplicably disappear at any time.\"],[13],[2,\"\\n\\n\"],[6,[37,2],[[32,0,[\"session\",\"user\",\"isOwner\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"div\"],[14,0,\"gh-setting-header\"],[12],[2,\"Members (BETA) \"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex flex-column br3 shadow-1 bg-grouped-table mt2\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-first gh-setting-last\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-members-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"flex\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"flex flex-column flex-grow-1\"],[12],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"gh-setting-title pl5 pt5\"],[12],[2,\"Enable members\"],[13],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"gh-setting-desc pl5 pb5\"],[12],[2,\"Create registered members and take subscription payments — \"],[10,\"a\"],[14,6,\"https://ghost.org/docs/members/\"],[14,\"target\",\"_blank\"],[14,\"rel\",\"noopener\"],[12],[2,\"Find out more\"],[13],[13],[2,\"\\n                        \"],[13],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"for-switch pa5\"],[12],[8,\"gh-feature-flag\",[],[[\"@flag\"],[\"members\"]],null],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n\"],[6,[37,6],[[32,0,[\"feature\",\"labs\",\"members\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[8,\"gh-members-lab-setting\",[],[[\"@settings\",\"@setDefaultContentVisibility\",\"@setMembersSubscriptionSettings\",\"@setBulkEmailSettings\"],[[32,0,[\"settings\"]],[30,[36,0],[[32,0],\"setDefaultContentVisibility\"],null],[30,[36,0],[[32,0],\"setMembersSubscriptionSettings\"],null],[30,[36,0],[[32,0],\"setBulkEmailSettings\"],null]]],null],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"mt5 pl5 pr5 pb5\"],[12],[2,\"\\n                        \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@task\",\"@successText\",\"@runningText\",\"@autoReset\",\"@class\"],[\"Save members settings\",[32,0,[\"saveSettings\"]],\"Saved\",\"Saving\",true,\"gh-btn gh-btn-blue gh-btn-icon\"]],null],[2,\"\\n                    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[10,\"div\"],[14,0,\"gh-setting-header\"],[12],[2,\"Migration options\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex flex-column br3 shadow-1 bg-grouped-table pa5 mt2\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-first\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Import content\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Import posts from another Ghost installation\"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                    \"],[10,\"form\"],[14,1,\"settings-import\"],[14,\"enctype\",\"multipart/form-data\"],[12],[2,\"\\n                        \"],[8,\"gh-file-upload\",[[24,\"data-test-file-input\",\"import\"]],[[\"@id\",\"@classNames\",\"@uploadButtonText\",\"@onUpload\",\"@acceptEncoding\"],[\"importfile\",\"flex\",[32,0,[\"uploadButtonText\"]],[30,[36,0],[[32,0],\"onUpload\"],null],[32,0,[\"importMimeType\"]]]],null],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n\\n\"],[6,[37,2],[[32,0,[\"importErrors\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"div\"],[15,0,[31,[\"gh-import-errors \",[30,[36,2],[[32,0,[\"importSuccessful\"]],\"gh-import-errors-warning\"],null]]]],[14,\"data-test-import-errors\",\"\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-import-errors-title\"],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"importSuccessful\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                            Import successful with warnings\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                            Import failed\\n\"]],\"parameters\":[]}]]],[2,\"                    \"],[13],[2,\"\\n\\n\"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,[\"importErrors\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"gh-import-error\"],[14,\"data-test-import-error\",\"\"],[12],[2,\"\\n                            \"],[10,\"p\"],[14,0,\"gh-import-error-message\"],[14,\"data-test-import-error-message\",\"\"],[12],[2,\"\\n                                \"],[6,[37,2],[[32,5,[\"help\"]]],null,[[\"default\"],[{\"statements\":[[1,[32,5,[\"help\"]]],[2,\": \"]],\"parameters\":[]}]]],[1,[32,5,[\"message\"]]],[2,\"\\n                            \"],[13],[2,\"\\n\\n\"],[6,[37,2],[[32,5,[\"context\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                                \"],[10,\"div\"],[14,0,\"gh-import-error-entry\"],[14,\"data-test-import-error-context\",\"\"],[12],[2,\"\\n                                    \"],[10,\"pre\"],[12],[1,[32,5,[\"context\"]]],[13],[2,\"\\n                                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                        \"],[13],[2,\"\\n\"]],\"parameters\":[5]}]]],[2,\"                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Export your content\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Download all of your posts and settings in a single, glorious JSON file\"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                    \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-hover-blue\"],[24,4,\"button\"],[4,[38,0],[[32,0],\"downloadFile\",\"db\"],null],[12],[10,\"span\"],[12],[2,\"Export\"],[13],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-last\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Delete all content\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Permanently delete all posts and tags from the database, a hard reset\"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                    \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-hover-red js-delete\"],[24,4,\"button\"],[4,[38,0],[[32,0],\"toggleDeleteAllModal\"],null],[12],[10,\"span\"],[12],[2,\"Delete\"],[13],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"div\"],[14,0,\"gh-setting-header\"],[12],[2,\"Beta features\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex flex-column br3 shadow-1 bg-grouped-table pa5 mt2\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-first\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Night shift\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Swap Ghost admin's colours to a dark background which is easy on the eyes\"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"for-switch\"],[12],[8,\"gh-feature-flag\",[],[[\"@flag\"],[\"nightShift\"]],null],[13],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting\"],[12],[2,\"\\n                \"],[8,\"gh-uploader\",[],[[\"@extensions\",\"@uploadUrl\",\"@paramName\",\"@onUploadSuccess\",\"@onUploadFailure\"],[[32,0,[\"jsonExtension\"]],\"/redirects/json/\",\"redirects\",[30,[36,7],[[32,0,[\"redirectUploadResult\"]],true],null],[30,[36,7],[[32,0,[\"redirectUploadResult\"]],false],null]]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Redirects\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Configure redirects for old or moved content, more info in \"],[10,\"a\"],[14,6,\"https://ghost.org/tutorials/implementing-redirects/\"],[12],[2,\"the docs\"],[13],[13],[2,\"\\n\"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,3,[\"errors\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"gh-setting-error\"],[14,\"data-test-error\",\"redirects\"],[12],[1,[30,[36,3],[[32,4,[\"context\"]],[32,4,[\"message\"]]],null]],[13],[2,\"\\n\"]],\"parameters\":[4]}]]],[2,\"                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[14,5,\"display: flex; flex-direction: column\"],[12],[2,\"\\n\"],[6,[37,2],[[32,3,[\"isUploading\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[1,[32,3,[\"progressBar\"]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        \"],[10,\"button\"],[15,0,[31,[\"gh-btn gh-btn-icon \",[30,[36,2],[[32,0,[\"redirectSuccess\"]],\"gh-btn-green\"],null],\" \",[30,[36,2],[[32,0,[\"redirectFailure\"]],\"gh-btn-red\"],null]]]],[15,\"onclick\",[30,[36,0],[[32,0],\"triggerFileDialog\"],null]],[14,\"data-test-button\",\"upload-redirects\"],[14,4,\"button\"],[12],[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"redirectSuccess\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                    \"],[1,[30,[36,1],[\"check-circle\"],null]],[2,\" Uploaded\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,2],[[32,0,[\"redirectFailure\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                    \"],[1,[30,[36,1],[\"retry\"],null]],[2,\" Upload Failed\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                    Upload redirects JSON\\n                                \"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                        \"],[10,\"span\"],[12],[11,\"a\"],[24,6,\"#\"],[24,\"data-test-link\",\"download-redirects\"],[4,[38,0],[[32,0],\"downloadFile\",\"redirects/json\"],null],[12],[2,\"Download current redirects\"],[13],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[10,\"div\"],[14,5,\"display:none\"],[12],[2,\"\\n                        \"],[8,\"gh-file-input\",[[24,\"data-test-file-input\",\"redirects\"]],[[\"@multiple\",\"@action\",\"@accept\"],[false,[32,3,[\"setFiles\"]],[32,0,[\"jsonMimeType\"]]]],null],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"]],\"parameters\":[3]}]]],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-last\"],[12],[2,\"\\n                \"],[8,\"gh-uploader\",[],[[\"@extensions\",\"@uploadUrl\",\"@paramName\",\"@onUploadSuccess\",\"@onUploadFailure\"],[[32,0,[\"yamlExtension\"]],\"/settings/routes/yaml/\",\"routes\",[30,[36,7],[[32,0,[\"routesUploadResult\"]],true],null],[30,[36,7],[[32,0,[\"routesUploadResult\"]],false],null]]],[[\"default\"],[{\"statements\":[[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Routes\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Configure dynamic routing by modifying the routes.yaml file\"],[13],[2,\"\\n\"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,1,[\"errors\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[10,\"div\"],[14,0,\"gh-setting-error\"],[14,\"data-test-error\",\"routes\"],[12],[1,[30,[36,3],[[32,2,[\"context\"]],[32,2,[\"message\"]]],null]],[13],[2,\"\\n\"]],\"parameters\":[2]}]]],[2,\"                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[14,5,\"display: flex; flex-direction: column\"],[12],[2,\"\\n\"],[6,[37,2],[[32,1,[\"isUploading\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                        \"],[1,[32,1,[\"progressBar\"]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                        \"],[10,\"button\"],[15,0,[31,[\"gh-btn gh-btn-icon \",[30,[36,2],[[32,0,[\"routesSuccess\"]],\"gh-btn-green\"],null],\" \",[30,[36,2],[[32,0,[\"routesFailure\"]],\"gh-btn-red\"],null]]]],[15,\"onclick\",[30,[36,0],[[32,0],\"triggerFileDialog\"],null]],[14,\"data-test-button\",\"upload-routes\"],[14,4,\"button\"],[12],[2,\"\\n                            \"],[10,\"span\"],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"routesSuccess\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                    \"],[1,[30,[36,1],[\"check-circle\"],null]],[2,\" Uploaded\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,2],[[32,0,[\"routesFailure\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                    \"],[1,[30,[36,1],[\"retry\"],null]],[2,\" Upload Failed\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                    Upload routes YAML\\n                                \"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                        \"],[10,\"span\"],[12],[11,\"a\"],[24,6,\"#\"],[24,\"data-test-link\",\"download-routes\"],[4,[38,0],[[32,0],\"downloadFile\",\"settings/routes/yaml\"],null],[12],[2,\"Download current routes.yaml\"],[13],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[10,\"div\"],[14,5,\"display:none\"],[12],[2,\"\\n                        \"],[8,\"gh-file-input\",[[24,\"data-test-file-input\",\"routes\"]],[[\"@multiple\",\"@action\",\"@accept\"],[false,[32,1,[\"setFiles\"]],[32,0,[\"yamlAccept\"]]]],null],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"]],\"parameters\":[1]}]]],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"div\"],[14,0,\"gh-setting-header\"],[12],[2,\"Testing tools\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"flex flex-column br3 shadow-1 bg-grouped-table pa5 mt2\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-setting-first gh-setting-last\"],[12],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-content\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-title\"],[12],[2,\"Test email configuration\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-setting-desc\"],[12],[2,\"Send yourself a test email to make sure everything is working\"],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[10,\"div\"],[14,0,\"gh-setting-action\"],[12],[2,\"\\n                    \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@successText\",\"@task\",\"@class\"],[\"Send\",\"Sent\",[32,0,[\"sendTestEmail\"]],\"gh-btn gh-btn-hover-blue gh-btn-icon\"]],null],[2,\"\\n                \"],[13],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[6,[37,2],[[32,0,[\"showDeleteAllModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@close\",\"@modifier\"],[\"delete-all\",[30,[36,0],[[32,0],\"toggleDeleteAllModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\",\"if\",\"or\",\"-track-array\",\"each\",\"liquid-if\",\"perform\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/settings/labs.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/setup", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "+9lxOX+F",
    "block": "{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"gh-flow\"],[12],[2,\"\\n    \"],[10,\"header\"],[14,0,\"gh-flow-head\"],[12],[2,\"\\n        \"],[10,\"nav\"],[14,0,\"gh-flow-nav\"],[12],[2,\"\\n\"],[6,[37,1],[[32,0,[\"showBackLink\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[8,\"link-to\",[],[[\"@route\",\"@classNames\"],[[32,0,[\"backRoute\"]],\"gh-flow-back\"]],[[\"default\"],[{\"statements\":[[1,[30,[36,0],[\"arrow-left-small\"],null]],[2,\" Back\"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"            \"],[10,\"ol\"],[12],[2,\"\\n                \"],[8,\"gh-activating-list-item\",[],[[\"@route\",\"@linkClasses\"],[\"setup.one\",\"step\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[1,[30,[36,0],[\"check-circle\"],null]],[10,\"span\"],[14,0,\"num\"],[12],[2,\"1\"],[13],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n                \"],[10,\"li\"],[14,0,\"divider\"],[12],[13],[2,\"\\n                \"],[8,\"gh-activating-list-item\",[],[[\"@route\",\"@linkClasses\"],[\"setup.two\",\"step\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[1,[30,[36,0],[\"check-circle\"],null]],[10,\"span\"],[14,0,\"num\"],[12],[2,\"2\"],[13],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n                \"],[10,\"li\"],[14,0,\"divider\"],[12],[13],[2,\"\\n                \"],[8,\"gh-activating-list-item\",[],[[\"@route\",\"@linkClasses\"],[\"setup.three\",\"step\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[1,[30,[36,0],[\"check-circle\"],null]],[10,\"span\"],[14,0,\"num\"],[12],[2,\"3\"],[13],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[10,\"div\"],[14,0,\"gh-flow-content-wrap\"],[12],[2,\"\\n        \"],[10,\"section\"],[14,0,\"gh-flow-content\"],[12],[2,\"\\n            \"],[1,[30,[36,3],[[30,[36,2],null,null]],null]],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"if\",\"-outlet\",\"component\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/setup.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/setup/one", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "v+VE+nfd",
    "block": "{\"symbols\":[],\"statements\":[[10,\"header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Welcome to \"],[10,\"strong\"],[12],[2,\"Ghost\"],[13],[2,\"!\"],[13],[2,\"\\n    \"],[10,\"p\"],[12],[2,\"All over the world, people have started \"],[10,\"em\"],[12],[2,\"2,000,000+\"],[13],[2,\" incredible sites with Ghost. Today, we’re starting yours.\"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"figure\"],[14,0,\"gh-flow-screenshot\"],[12],[2,\"\\n    \"],[10,\"img\"],[14,\"src\",\"assets/img/install-welcome.png\"],[14,\"alt\",\"Ghost screenshot\"],[12],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[8,\"link-to\",[],[[\"@route\",\"@classNames\"],[\"setup.two\",\"gh-btn gh-btn-green gh-btn-lg gh-btn-icon gh-btn-icon-right\"]],[[\"default\"],[{\"statements\":[[2,\"\\n    \"],[10,\"span\"],[12],[2,\"Create your account \"],[1,[30,[36,0],[\"arrow-right-small\"],null]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"svg-jar\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/setup/one.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/setup/three", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "JoQbV4QA",
    "block": "{\"symbols\":[\"task\"],\"statements\":[[10,\"header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Invite staff users\"],[13],[2,\"\\n    \"],[10,\"p\"],[12],[2,\"Ghost works best when shared with others. Collaborate, get feedback on your posts & work together on ideas.\"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"div\"],[12],[10,\"img\"],[14,0,\"gh-flow-faces\"],[14,\"src\",\"assets/img/users.png\"],[14,\"alt\",\"\"],[12],[13],[13],[2,\"\\n\\n\"],[11,\"form\"],[24,0,\"gh-flow-invite\"],[4,[38,1],[[32,0],\"invite\"],[[\"on\"],[\"submit\"]]],[12],[2,\"\\n    \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"errors\"]],[32,0,[\"hasValidated\"]],\"users\"]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"label\"],[14,\"for\",\"users\"],[12],[2,\"Enter one email address per line, we’ll handle the rest! \"],[1,[30,[36,0],[\"email\"],null]],[13],[2,\"\\n        \"],[8,\"gh-textarea\",[],[[\"@name\",\"@required\",\"@value\",\"@input\",\"@focus-out\"],[\"users\",\"required\",[30,[36,2],[[32,0,[\"users\"]]],null],[30,[36,1],[[32,0],[30,[36,3],[[32,0,[\"users\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"validate\"],null]]],null],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[8,\"gh-task-button\",[],[[\"@task\",\"@type\",\"@class\",\"@successClass\",\"@failureClass\"],[[32,0,[\"invite\"]],\"submit\",[31,[\"gh-btn gh-btn-default gh-btn-lg gh-btn-block \",[32,0,[\"buttonClass\"]]]],\"\",\"\"]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"span\"],[12],[2,\"\\n\"],[6,[37,4],[[32,1,[\"isRunning\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[1,[30,[36,0],[\"spinner\"],[[\"class\"],[\"no-margin\"]]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                \"],[1,[32,0,[\"buttonText\"]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n    \"]],\"parameters\":[1]}]]],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[11,\"button\"],[24,0,\"gh-flow-skip\"],[4,[38,1],[[32,0],\"skipInvite\"],null],[12],[2,\"\\n    I'll do this later, take me to my site!\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"action\",\"readonly\",\"mut\",\"if\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/setup/three.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/setup/two", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "Rdz+TxCD",
    "block": "{\"symbols\":[\"task\"],\"statements\":[[10,\"header\"],[12],[2,\"\\n    \"],[10,\"h1\"],[12],[2,\"Create your account\"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"form\"],[14,1,\"setup\"],[14,0,\"gh-flow-create\"],[12],[2,\"\\n    \"],[8,\"gh-profile-image\",[],[[\"@email\",\"@setImage\"],[[32,0,[\"email\"]],[30,[36,1],[[32,0],\"setImage\"],null]]],null],[2,\"\\n\\n    \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"errors\"]],[32,0,[\"hasValidated\"]],\"blogTitle\"]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"label\"],[14,\"for\",\"blog-title\"],[12],[2,\"Site title\"],[13],[2,\"\\n        \"],[10,\"span\"],[14,0,\"gh-input-icon gh-icon-content\"],[12],[2,\"\\n            \"],[1,[30,[36,0],[\"content\"],null]],[2,\"\\n            \"],[8,\"gh-trim-focus-input\",[[16,\"data-test-blog-title-input\",true]],[[\"@tabindex\",\"@type\",\"@id\",\"@name\",\"@placeholder\",\"@autocorrect\",\"@value\",\"@input\",\"@focus-out\"],[\"1\",\"text\",\"blog-title\",\"blog-title\",\"Eg. The Daily Awesome\",\"off\",[30,[36,2],[[32,0,[\"blogTitle\"]]],null],[30,[36,1],[[32,0],[30,[36,3],[[32,0,[\"blogTitle\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"preValidate\",\"blogTitle\"],null]]],null],[2,\"\\n        \"],[13],[2,\"\\n        \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"errors\"]],\"blogTitle\"]],null],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"errors\"]],[32,0,[\"hasValidated\"]],\"name\"]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"label\"],[14,\"for\",\"name\"],[12],[2,\"Full name\"],[13],[2,\"\\n        \"],[10,\"span\"],[14,0,\"gh-input-icon gh-icon-user\"],[12],[2,\"\\n            \"],[1,[30,[36,0],[\"user-circle\"],null]],[2,\"\\n            \"],[8,\"gh-text-input\",[[16,\"data-test-name-input\",true]],[[\"@tabindex\",\"@id\",\"@name\",\"@placeholder\",\"@autocorrect\",\"@autocomplete\",\"@value\",\"@input\",\"@focus-out\"],[\"2\",\"name\",\"name\",\"Eg. John H. Watson\",\"off\",\"name\",[30,[36,2],[[32,0,[\"name\"]]],null],[30,[36,1],[[32,0],[30,[36,3],[[32,0,[\"name\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"preValidate\",\"name\"],null]]],null],[2,\"\\n        \"],[13],[2,\"\\n        \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"errors\"]],\"name\"]],null],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"errors\"]],[32,0,[\"hasValidated\"]],\"email\"]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"label\"],[14,\"for\",\"email\"],[12],[2,\"Email address\"],[13],[2,\"\\n        \"],[10,\"span\"],[14,0,\"gh-input-icon gh-icon-mail\"],[12],[2,\"\\n            \"],[1,[30,[36,0],[\"email\"],null]],[2,\"\\n            \"],[8,\"gh-text-input\",[[16,\"data-test-email-input\",true]],[[\"@tabindex\",\"@type\",\"@id\",\"@name\",\"@placeholder\",\"@autocorrect\",\"@autocomplete\",\"@value\",\"@input\",\"@focus-out\"],[\"3\",\"email\",\"email\",\"email\",\"Eg. john@example.com\",\"off\",\"username email\",[30,[36,2],[[32,0,[\"email\"]]],null],[30,[36,1],[[32,0],[30,[36,3],[[32,0,[\"email\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"preValidate\",\"email\"],null]]],null],[2,\"\\n        \"],[13],[2,\"\\n        \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"errors\"]],\"email\"]],null],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"errors\"]],[32,0,[\"hasValidated\"]],\"password\"]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"label\"],[14,\"for\",\"password\"],[12],[2,\"Password\"],[13],[2,\"\\n        \"],[10,\"span\"],[14,0,\"gh-input-icon gh-icon-lock\"],[12],[2,\"\\n            \"],[1,[30,[36,0],[\"lock\"],null]],[2,\"\\n            \"],[8,\"gh-text-input\",[[16,\"data-test-password-input\",true]],[[\"@tabindex\",\"@type\",\"@id\",\"@name\",\"@placeholder\",\"@autocorrect\",\"@autocomplete\",\"@value\",\"@input\",\"@focus-out\"],[\"4\",\"password\",\"password\",\"password\",\"At least 10 characters\",\"off\",\"new-password\",[30,[36,2],[[32,0,[\"password\"]]],null],[30,[36,1],[[32,0],[30,[36,3],[[32,0,[\"password\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"preValidate\",\"password\"],null]]],null],[2,\"\\n        \"],[13],[2,\"\\n        \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"errors\"]],\"password\"]],null],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[8,\"gh-task-button\",[],[[\"@task\",\"@type\",\"@tabindex\",\"@class\"],[[32,0,[\"setup\"]],\"submit\",\"5\",\"gh-btn gh-btn-green gh-btn-lg gh-btn-block gh-btn-icon\"]],[[\"default\"],[{\"statements\":[[2,\"\\n\"],[6,[37,4],[[32,1,[\"isRunning\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"            \"],[10,\"span\"],[12],[1,[30,[36,0],[\"spinner\"],[[\"class\"],[\"gh-icon-spinner gh-btn-icon-no-margin\"]]]],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"            \"],[10,\"span\"],[12],[2,\"Last step: Invite staff users \"],[1,[30,[36,0],[\"arrow-right-small\"],[[\"class\"],[\"gh-btn-icon-right\"]]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    \"]],\"parameters\":[1]}]]],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[10,\"p\"],[14,0,\"main-error\"],[12],[1,[32,0,[\"flowErrors\"]]],[2,\" \"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"action\",\"readonly\",\"mut\",\"if\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/setup/two.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/signin", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "6xr2ILpE",
    "block": "{\"symbols\":[\"task\"],\"statements\":[[10,\"div\"],[14,0,\"gh-flow\"],[12],[2,\"\\n    \"],[10,\"div\"],[14,0,\"gh-flow-content-wrap\"],[12],[2,\"\\n        \"],[10,\"section\"],[14,0,\"gh-flow-content\"],[12],[2,\"\\n\"],[6,[37,4],[[32,0,[\"passwordResetEmailSent\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[10,\"div\"],[14,0,\"gh-auth-email\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-auth-animation-container\"],[12],[2,\"\\n                        \"],[10,\"div\"],[14,0,\"gh-auth-email-animation\"],[12],[2,\"\\n                            \"],[1,[30,[36,0],[\"locked-email-back\"],[[\"class\"],[\"gh-auth-envelope-back\"]]]],[2,\"\\n                            \"],[1,[30,[36,0],[\"locked-email-front\"],[[\"class\"],[\"gh-auth-envelope-front\"]]]],[2,\"\\n                            \"],[10,\"div\"],[14,0,\"gh-auth-paper\"],[12],[2,\"\\n                                \"],[1,[30,[36,0],[\"locked-email-lock\"],[[\"class\"],[\"gh-auth-lock\"]]]],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-auth-lock-body\"],[12],[2,\"\\n                        \"],[10,\"p\"],[12],[2,\"\\n                            For security, you need to create a new password. An email has been sent to you with instructions!\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"            \"],[11,\"form\"],[24,1,\"login\"],[24,\"method\",\"post\"],[24,0,\"gh-signin\"],[24,\"novalidate\",\"novalidate\"],[4,[38,1],[[32,0],\"authenticate\"],[[\"on\"],[\"submit\"]]],[12],[2,\"\\n                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"signin\",\"errors\"]],[32,0,[\"hasValidated\"]],\"identification\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[10,\"span\"],[14,0,\"gh-input-icon gh-icon-mail\"],[12],[2,\"\\n                        \"],[1,[30,[36,0],[\"email\"],null]],[2,\"\\n                        \"],[8,\"gh-trim-focus-input\",[],[[\"@class\",\"@type\",\"@placeholder\",\"@name\",\"@autocapitalize\",\"@autocorrect\",\"@autocomplete\",\"@tabindex\",\"@value\",\"@input\",\"@focus-out\"],[\"email\",\"email\",\"Email Address\",\"identification\",\"off\",\"off\",\"username\",\"1\",[30,[36,2],[[32,0,[\"signin\",\"identification\"]]],null],[30,[36,1],[[32,0],[30,[36,3],[[32,0,[\"signin\",\"identification\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"validate\",\"identification\"],null]]],null],[2,\"\\n                    \"],[13],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"signin\",\"errors\"]],[32,0,[\"hasValidated\"]],\"password\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[10,\"span\"],[14,0,\"gh-input-icon gh-icon-lock forgotten-wrap\"],[12],[2,\"\\n                        \"],[1,[30,[36,0],[\"lock\"],null]],[2,\"\\n                        \"],[8,\"gh-text-input\",[],[[\"@class\",\"@type\",\"@placeholder\",\"@name\",\"@tabindex\",\"@autocomplete\",\"@autocorrect\",\"@value\",\"@input\"],[\"password\",\"password\",\"Password\",\"password\",\"2\",\"current-password\",\"off\",[30,[36,2],[[32,0,[\"signin\",\"password\"]]],null],[30,[36,1],[[32,0],[30,[36,3],[[32,0,[\"signin\",\"password\"]]],null]],[[\"value\"],[\"target.value\"]]]]],null],[2,\"\\n\\n                        \"],[8,\"gh-task-button\",[],[[\"@task\",\"@class\",\"@tabindex\",\"@type\",\"@successClass\",\"@failureClass\"],[[32,0,[\"forgotten\"]],\"forgotten-link gh-btn gh-btn-link gh-btn-icon\",\"4\",\"button\",\"\",\"\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[10,\"span\"],[12],[6,[37,4],[[32,1,[\"isRunning\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[1,[30,[36,0],[\"spinner\"],[[\"class\"],[\"gh-spinner\"]]]]],\"parameters\":[]},{\"statements\":[[2,\"Forgot?\"]],\"parameters\":[]}]]],[13],[2,\"\\n                        \"]],\"parameters\":[1]}]]],[2,\"\\n                    \"],[13],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n\\n                \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@task\",\"@showSuccess\",\"@class\",\"@type\",\"@tabindex\"],[\"Sign in\",[32,0,[\"validateAndAuthenticate\"]],false,\"login gh-btn gh-btn-blue gh-btn-block gh-btn-icon\",\"submit\",\"3\"]],null],[2,\"\\n            \"],[13],[2,\"\\n\\n            \"],[10,\"p\"],[14,0,\"main-error\"],[12],[1,[30,[36,4],[[32,0,[\"flowErrors\"]],[32,0,[\"flowErrors\"]]],null]],[2,\" \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"action\",\"readonly\",\"mut\",\"if\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/signin.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/signup", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "/8O7i2yv",
    "block": "{\"symbols\":[],\"statements\":[[10,\"div\"],[14,0,\"gh-flow\"],[12],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"gh-flow-content-wrap\"],[12],[2,\"\\n        \"],[10,\"section\"],[14,0,\"gh-flow-content\"],[12],[2,\"\\n            \"],[10,\"header\"],[12],[2,\"\\n                \"],[10,\"h1\"],[12],[2,\"Create your account\"],[13],[2,\"\\n            \"],[13],[2,\"\\n\\n            \"],[10,\"form\"],[14,1,\"signup\"],[14,0,\"gh-flow-create\"],[14,\"method\",\"post\"],[14,\"novalidate\",\"novalidate\"],[15,\"onsubmit\",[30,[36,0],[[32,0],\"submit\"],null]],[12],[2,\"\\n                \"],[8,\"gh-profile-image\",[],[[\"@email\",\"@setImage\"],[[32,0,[\"signupDetails\",\"email\"]],[30,[36,0],[[32,0],\"setImage\"],null]]],null],[2,\"\\n\\n                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"signupDetails\",\"errors\"]],[32,0,[\"signupDetails\",\"hasValidated\"]],\"name\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[10,\"label\"],[14,\"for\",\"name\"],[12],[2,\"Full name\"],[13],[2,\"\\n                    \"],[10,\"span\"],[14,0,\"gh-input-icon gh-icon-user\"],[12],[2,\"\\n                        \"],[1,[30,[36,1],[\"user-circle\"],null]],[2,\"\\n                        \"],[8,\"gh-trim-focus-input\",[[24,\"data-test-input\",\"name\"]],[[\"@tabindex\",\"@type\",\"@id\",\"@name\",\"@placeholder\",\"@autocorrect\",\"@autocomplete\",\"@value\",\"@input\",\"@focus-out\"],[\"1\",\"text\",\"display-name\",\"display-name\",\"Eg. John H. Watson\",\"off\",\"name\",[30,[36,2],[[32,0,[\"signupDetails\",\"name\"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,[\"signupDetails\",\"name\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,0],[[32,0],\"validate\",\"name\"],null]]],null],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"signupDetails\",\"errors\"]],\"name\"]],null],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n\\n                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"signupDetails\",\"errors\"]],[32,0,[\"signupDetails\",\"hasValidated\"]],\"email\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[10,\"label\"],[14,\"for\",\"email\"],[12],[2,\"Email address\"],[13],[2,\"\\n                    \"],[10,\"span\"],[14,0,\"gh-input-icon gh-icon-mail\"],[12],[2,\"\\n                        \"],[1,[30,[36,1],[\"email\"],null]],[2,\"\\n                        \"],[8,\"gh-text-input\",[[24,\"data-test-input\",\"email\"]],[[\"@tabindex\",\"@type\",\"@id\",\"@name\",\"@placeholder\",\"@autocorrect\",\"@autocomplete\",\"@value\",\"@input\",\"@focus-out\"],[\"2\",\"text\",\"username\",\"username\",\"Eg. john@example.com\",\"off\",\"username email\",[30,[36,2],[[32,0,[\"signupDetails\",\"email\"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,[\"signupDetails\",\"email\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,0],[[32,0],\"validate\",\"email\"],null]]],null],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"signupDetails\",\"errors\"]],\"email\"]],null],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n\\n                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"signupDetails\",\"errors\"]],[32,0,[\"signupDetails\",\"hasValidated\"]],\"password\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[10,\"label\"],[14,\"for\",\"password\"],[12],[2,\"Password\"],[13],[2,\"\\n                    \"],[10,\"span\"],[14,0,\"gh-input-icon gh-icon-lock\"],[12],[2,\"\\n                        \"],[1,[30,[36,1],[\"lock\"],null]],[2,\"\\n                        \"],[8,\"gh-text-input\",[[24,\"data-test-input\",\"password\"]],[[\"@tabindex\",\"@type\",\"@id\",\"@name\",\"@placeholder\",\"@autocorrect\",\"@autocomplete\",\"@value\",\"@input\",\"@focus-out\"],[\"3\",\"password\",\"password\",\"password\",\"At least 10 characters\",\"off\",\"new-password\",[30,[36,2],[[32,0,[\"signupDetails\",\"password\"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,[\"signupDetails\",\"password\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,0],[[32,0],\"validate\",\"password\"],null]]],null],[2,\"\\n                    \"],[13],[2,\"\\n                    \"],[8,\"gh-error-message\",[],[[\"@errors\",\"@property\"],[[32,0,[\"signupDetails\",\"errors\"]],\"password\"]],null],[2,\"\\n                \"]],\"parameters\":[]}]]],[2,\"\\n\\n                \"],[8,\"gh-task-button\",[],[[\"@buttonText\",\"@type\",\"@form\",\"@defaultClick\",\"@runningText\",\"@task\",\"@class\",\"@tabindex\"],[\"Create Account\",\"submit\",\"signup\",true,\"Creating\",[32,0,[\"signup\"]],\"gh-btn-create-account gh-btn gh-btn-green gh-btn-lg gh-btn-block gh-btn-icon\",\"3\"]],null],[2,\"\\n            \"],[13],[2,\"\\n\\n            \"],[10,\"p\"],[14,0,\"main-error\"],[12],[1,[30,[36,4],[[32,0,[\"flowErrors\"]],[32,0,[\"flowErrors\"]]],null]],[2,\" \"],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"action\",\"svg-jar\",\"readonly\",\"mut\",\"if\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/signup.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/site", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "G8WJSB4l",
    "block": "{\"symbols\":[],\"statements\":[[8,\"gh-site-iframe\",[],[[\"@guid\"],[[32,0,[\"guid\"]]]],[[\"default\"],[{\"statements\":[],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[]}",
    "meta": {
      "moduleName": "ghost-admin/templates/site.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/staff/index", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "cMoyX+CF",
    "block": "{\"symbols\":[\"user\",\"component\",\"user\",\"component\",\"component\",\"invite\",\"component\"],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"Staff users\"],[13],[2,\"\\n\"],[6,[37,7],[[32,0,[\"currentUser\",\"isAuthorOrContributor\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n                \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-green\"],[4,[38,3],[[32,0],\"toggleInviteUserModal\"],null],[12],[10,\"span\"],[12],[2,\"Invite people\"],[13],[13],[2,\"\\n            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"    \"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[6,[37,4],[[32,0,[\"showInviteUserModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@close\",\"@modifier\"],[\"invite-new-user\",[30,[36,3],[[32,0],\"toggleInviteUserModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n    \"],[10,\"section\"],[14,0,\"view-container gh-team\"],[12],[2,\"\\n\"],[6,[37,7],[[32,0,[\"currentUser\",\"isAuthorOrContributor\"]]],null,[[\"default\"],[{\"statements\":[[6,[37,4],[[32,0,[\"invites\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[10,\"section\"],[14,0,\"apps-grid-container gh-invited-users apps-first-header\"],[14,\"data-test-invited-users\",\"\"],[12],[2,\"\\n            \"],[10,\"span\"],[14,0,\"apps-grid-title\"],[12],[2,\"Invited users\"],[13],[2,\"\\n            \"],[10,\"div\"],[14,0,\"apps-grid\"],[12],[2,\"\\n\\n\"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,[\"sortedInvites\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"                    \"],[8,\"gh-user-invited\",[],[[\"@invite\",\"@reload\"],[[32,6],[30,[36,5],[\"reload\"],null]]],[[\"default\"],[{\"statements\":[[2,\"\\n                        \"],[10,\"div\"],[14,0,\"apps-grid-cell\"],[15,\"data-test-invite-id\",[31,[[32,6,[\"id\"]]]]],[12],[2,\"\\n                            \"],[10,\"article\"],[14,0,\"apps-card-app\"],[12],[2,\"\\n                                \"],[10,\"div\"],[14,0,\"apps-card-left\"],[12],[2,\"\\n                                    \"],[10,\"span\"],[14,0,\"user-list-item-icon\"],[12],[1,[30,[36,6],[\"email\"],null]],[2,\"ic\"],[13],[2,\"\\n                                    \"],[10,\"div\"],[14,0,\"apps-card-meta\"],[12],[2,\"\\n                                        \"],[10,\"h3\"],[14,0,\"apps-card-app-title\"],[14,\"data-test-email\",\"\"],[12],[1,[32,6,[\"email\"]]],[13],[2,\"\\n                                        \"],[10,\"p\"],[14,0,\"apps-card-app-desc\"],[12],[2,\"\\n\"],[6,[37,4],[[32,6,[\"pending\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                                \"],[10,\"span\"],[14,0,\"description-error\"],[12],[2,\"\\n                                                    Invitation not sent - please try again\\n                                                \"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                                \"],[10,\"span\"],[14,0,\"description\"],[14,\"data-test-invite-description\",\"\"],[12],[2,\"\\n                                                    Invitation sent: \"],[1,[32,7,[\"createdAt\"]]],[2,\",\\n                                                    \"],[1,[30,[36,4],[[32,7,[\"isExpired\"]],\"expired\",\"expires\"],null]],[2,\" \"],[1,[32,7,[\"expiresAt\"]]],[2,\"\\n                                                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                                        \"],[13],[2,\"\\n                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                                \"],[10,\"div\"],[14,0,\"apps-card-right\"],[12],[2,\"\\n                                    \"],[10,\"div\"],[14,0,\"apps-configured\"],[12],[2,\"\\n\"],[6,[37,4],[[32,7,[\"isSending\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                            \"],[10,\"span\"],[12],[2,\"Sending Invite...\"],[13],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                            \"],[11,\"a\"],[24,0,\"apps-configured-action red-hover\"],[24,6,\"#revoke\"],[24,\"data-test-revoke-button\",\"\"],[4,[38,3],[[32,0],\"revoke\"],[[\"target\"],[[32,7]]]],[12],[2,\"\\n                                                Revoke\\n                                            \"],[13],[2,\"\\n                                            \"],[11,\"a\"],[24,0,\"apps-configured-action green-hover\"],[24,6,\"#resend\"],[24,\"data-test-resend-button\",\"\"],[4,[38,3],[[32,0],\"resend\"],[[\"target\"],[[32,7]]]],[12],[2,\"\\n                                                Resend\\n                                            \"],[13],[2,\"\\n\\n                                            \"],[10,\"span\"],[15,0,[31,[\"apps-configured-action gh-badge \",[32,6,[\"role\",\"lowerCaseName\"]]]]],[14,\"data-test-role-name\",\"\"],[12],[1,[32,6,[\"role\",\"name\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"]],\"parameters\":[7]}]]],[2,\"\\n\"]],\"parameters\":[6]}]]],[2,\"\\n            \"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"\\n    \"],[10,\"section\"],[15,0,[31,[\"apps-grid-container gh-active-users \",[30,[36,7],[[32,0,[\"invites\"]],\"apps-first-header\"],null]]]],[14,\"data-test-active-users\",\"\"],[12],[2,\"\\n        \"],[10,\"span\"],[14,0,\"apps-grid-title\"],[12],[2,\"Active users\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"apps-grid\"],[12],[2,\"\\n\"],[6,[37,4],[[32,0,[\"currentUser\",\"isAuthorOrContributor\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[8,\"gh-user-active\",[],[[\"@user\"],[[32,0,[\"currentUser\"]]]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[8,\"gh-user-list-item\",[],[[\"@user\",\"@component\"],[[32,0,[\"currentUser\"]],[32,5]]],null],[2,\"\\n                \"]],\"parameters\":[5]}]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[6,[37,2],[[32,0,[\"sortedActiveUsers\"]]],[[\"key\",\"containerSelector\",\"estimateHeight\"],[\"id\",\".gh-main\",75]],[[\"default\"],[{\"statements\":[[2,\"                    \"],[8,\"gh-user-active\",[],[[\"@user\"],[[32,3]]],[[\"default\"],[{\"statements\":[[2,\"\\n                        \"],[8,\"gh-user-list-item\",[],[[\"@user\",\"@component\"],[[32,3],[32,4]]],null],[2,\"\\n                    \"]],\"parameters\":[4]}]]],[2,\"\\n\"]],\"parameters\":[3]}]]]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n\"],[6,[37,4],[[30,[36,9],[[32,0,[\"suspendedUsers\"]],[30,[36,8],[[32,0,[\"currentUser\",\"isAuthorOrContributor\"]]],null]],null]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[10,\"section\"],[14,0,\"apps-grid-container gh-active-users\"],[14,\"data-test-suspended-users\",\"\"],[12],[2,\"\\n        \"],[10,\"span\"],[14,0,\"apps-grid-title\"],[12],[2,\"Suspended users\"],[13],[2,\"\\n        \"],[10,\"div\"],[14,0,\"apps-grid\"],[12],[2,\"\\n\"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,[\"sortedSuspendedUsers\"]]],null]],null]],[[\"key\"],[\"id\"]],[[\"default\"],[{\"statements\":[[2,\"                \"],[8,\"gh-user-active\",[],[[\"@user\"],[[32,1]]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[8,\"gh-user-list-item\",[],[[\"@user\",\"@component\"],[[32,1],[32,2]]],null],[2,\"\\n                \"]],\"parameters\":[2]}]]],[2,\"\\n\"]],\"parameters\":[1]}]]],[2,\"        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"-track-array\",\"each\",\"vertical-collection\",\"action\",\"if\",\"route-action\",\"svg-jar\",\"unless\",\"not\",\"and\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/staff/index.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/staff/user-loading", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "HoXKY1Nz",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[10,\"header\"],[14,0,\"gh-canvas-header\"],[12],[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            \"],[8,\"link-to\",[[16,\"data-test-staff-link\",true]],[[\"@route\"],[\"staff\"]],[[\"default\"],[{\"statements\":[[2,\"Staff\"]],\"parameters\":[]}]]],[2,\"\\n            \"],[10,\"span\"],[12],[1,[30,[36,0],[\"arrow-right\"],null]],[13],[2,\"\\n            \"],[1,[35,1,[\"name\"]]],[2,\"\\n        \"],[13],[2,\"\\n\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-btn gh-btn-blue\"],[12],[10,\"span\"],[12],[2,\"Save\"],[13],[13],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"gh-content\"],[12],[2,\"\\n        \"],[8,\"gh-loading-spinner\",[],[[],[]],null],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"user\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/staff/user-loading.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/staff/user", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "KXRMgGNj",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n            \"],[8,\"link-to\",[[16,\"data-test-staff-link\",true]],[[\"@route\"],[\"staff\"]],[[\"default\"],[{\"statements\":[[2,\"Staff\"]],\"parameters\":[]}]]],[2,\"\\n            \"],[10,\"span\"],[12],[1,[30,[36,6],[\"arrow-right\"],null]],[13],[2,\"\\n            \"],[1,[32,0,[\"user\",\"name\"]]],[2,\"\\n\\n\"],[6,[37,4],[[32,0,[\"user\",\"isSuspended\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[10,\"span\"],[14,0,\"gh-badge suspended\"],[14,\"data-test-suspended-badge\",\"\"],[12],[2,\"Suspended\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n\\n\"],[6,[37,4],[[32,0,[\"showLeaveSettingsModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"            \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@confirm\",\"@close\",\"@modifier\"],[\"leave-settings\",[30,[36,1],[[32,0],\"leaveSettings\"],null],[30,[36,1],[[32,0],\"toggleLeaveSettingsModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n\"],[6,[37,4],[[32,0,[\"userActionsAreVisible\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[10,\"span\"],[14,0,\"dropdown\"],[12],[2,\"\\n                    \"],[8,\"gh-dropdown-button\",[[16,\"data-test-user-actions\",true]],[[\"@dropdownName\",\"@classNames\",\"@title\"],[\"user-actions-menu\",\"gh-btn gh-btn-white gh-btn-icon only-has-icon user-actions-cog\",\"User Actions\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                        \"],[10,\"span\"],[12],[2,\"\\n                            \"],[1,[30,[36,6],[\"settings\"],null]],[2,\"\\n                            \"],[10,\"span\"],[14,0,\"hidden\"],[12],[2,\"User Settings\"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[8,\"gh-dropdown\",[],[[\"@name\",\"@tagName\",\"@classNames\"],[\"user-actions-menu\",\"ul\",\"user-actions-menu dropdown-menu dropdown-align-right\"]],[[\"default\"],[{\"statements\":[[2,\"\\n\"],[6,[37,4],[[32,0,[\"canMakeOwner\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                            \"],[10,\"li\"],[12],[2,\"\\n                                \"],[11,\"button\"],[4,[38,1],[[32,0],\"toggleTransferOwnerModal\"],null],[12],[2,\"\\n                                    Make Owner\\n                                \"],[13],[2,\"\\n\"],[6,[37,4],[[32,0,[\"showTransferOwnerModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                                    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@confirm\",\"@close\",\"@modifier\"],[\"transfer-owner\",[30,[36,1],[[32,0],\"transferOwnership\"],null],[30,[36,1],[[32,0],\"toggleTransferOwnerModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[6,[37,4],[[32,0,[\"deleteUserActionIsVisible\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                            \"],[10,\"li\"],[12],[2,\"\\n                                \"],[11,\"button\"],[24,0,\"delete\"],[24,\"data-test-delete-button\",\"\"],[4,[38,1],[[32,0],\"toggleDeleteUserModal\"],null],[12],[2,\"\\n                                    Delete User\\n                                \"],[13],[2,\"\\n                            \"],[13],[2,\"\\n\"],[6,[37,4],[[32,0,[\"user\",\"isActive\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                                \"],[10,\"li\"],[12],[2,\"\\n                                    \"],[11,\"button\"],[24,0,\"suspend\"],[24,\"data-test-suspend-button\",\"\"],[4,[38,1],[[32,0],\"toggleSuspendUserModal\"],null],[12],[2,\"\\n                                        Suspend User\\n                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[6,[37,4],[[32,0,[\"user\",\"isSuspended\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                                \"],[10,\"li\"],[12],[2,\"\\n                                    \"],[11,\"button\"],[24,0,\"unsuspend\"],[24,\"data-test-unsuspend-button\",\"\"],[4,[38,1],[[32,0],\"toggleUnsuspendUserModal\"],null],[12],[2,\"\\n                                        Un-suspend User\\n                                    \"],[13],[2,\"\\n                                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]]],\"parameters\":[]}]]],[2,\"                    \"]],\"parameters\":[]}]]],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n            \"],[8,\"gh-task-button\",[[16,\"data-test-save-button\",true]],[[\"@class\",\"@task\"],[\"gh-btn gh-btn-blue gh-btn-icon\",[32,0,[\"save\"]]]],null],[2,\"\\n\\n\"],[6,[37,4],[[32,0,[\"showDeleteUserModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@confirm\",\"@close\",\"@modifier\"],[\"delete-user\",[32,0,[\"user\"]],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"deleteUser\"]]],null]],null],[30,[36,1],[[32,0],\"toggleDeleteUserModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,4],[[32,0,[\"showSuspendUserModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@confirm\",\"@close\",\"@modifier\"],[\"suspend-user\",[32,0,[\"user\"]],[30,[36,1],[[32,0],\"suspendUser\"],null],[30,[36,1],[[32,0],\"toggleSuspendUserModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,4],[[32,0,[\"showUnsuspendUserModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@confirm\",\"@close\",\"@modifier\"],[\"unsuspend-user\",[32,0,[\"user\"]],[30,[36,1],[[32,0],\"unsuspendUser\"],null],[30,[36,1],[[32,0],\"toggleUnsuspendUserModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[2,\"    \"],[10,\"section\"],[14,0,\"br3 shadow-1 bg-grouped-table\"],[12],[2,\"\\n        \"],[10,\"div\"],[14,0,\"gm-main view-container settings-user\"],[12],[2,\"\\n            \"],[11,\"form\"],[24,0,\"user-profile\"],[24,\"novalidate\",\"novalidate\"],[24,\"autocomplete\",\"off\"],[4,[38,1],[[32,0],[30,[36,2],[[32,0,[\"save\"]]],null]],[[\"on\"],[\"submit\"]]],[12],[2,\"\\n\\n                \"],[10,\"figure\"],[14,0,\"user-cover\"],[15,5,[30,[36,7],[[32,0,[\"user\",\"coverImageUrl\"]]],null]],[12],[2,\"\\n                    \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-default user-cover-edit\"],[24,4,\"button\"],[4,[38,1],[[32,0],\"toggleUploadCoverModal\"],null],[12],[10,\"span\"],[12],[2,\"Change Cover\"],[13],[13],[2,\"\\n\"],[6,[37,4],[[32,0,[\"showUploadCoverModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@close\",\"@modifier\"],[\"upload-image\",[30,[36,3],null,[[\"model\",\"imageProperty\"],[[32,0,[\"user\"]],\"coverImage\"]]],[30,[36,1],[[32,0],\"toggleUploadCoverModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n\\n                \"],[10,\"figure\"],[14,0,\"user-image bg-whitegrey\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,1,\"user-image\"],[14,0,\"img\"],[15,5,[30,[36,7],[[32,0,[\"user\",\"profileImageUrl\"]]],null]],[12],[10,\"span\"],[14,0,\"hidden\"],[12],[1,[32,0,[\"user\",\"name\"]]],[2,\"\\\"s Picture\"],[13],[13],[2,\"\\n                    \"],[11,\"button\"],[24,0,\"edit-user-image\"],[24,4,\"button\"],[4,[38,1],[[32,0],\"toggleUploadImageModal\"],null],[12],[2,\"Edit Picture\"],[13],[2,\"\\n\"],[6,[37,4],[[32,0,[\"showUploadImageModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                        \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@close\",\"@modifier\"],[\"upload-image\",[30,[36,3],null,[[\"model\",\"imageProperty\",\"paramsHash\"],[[32,0,[\"user\"]],\"profileImage\",[30,[36,3],null,[[\"purpose\"],[\"profile_image\"]]]]]],[30,[36,1],[[32,0],\"toggleUploadImageModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                \"],[13],[2,\"\\n\\n                \"],[10,\"div\"],[14,0,\"pa5\"],[12],[2,\"\\n                    \"],[10,\"fieldset\"],[14,0,\"user-details-bottom\"],[12],[2,\"\\n\\n                        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\",\"@class\"],[[32,0,[\"user\",\"errors\"]],[32,0,[\"user\",\"hasValidated\"]],\"name\",\"first-form-group\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[10,\"label\"],[14,\"for\",\"user-name\"],[12],[2,\"Full Name\"],[13],[2,\"\\n                            \"],[8,\"gh-text-input\",[[16,\"data-test-name-input\",true]],[[\"@id\",\"@class\",\"@placeholder\",\"@autocorrect\",\"@value\",\"@input\",\"@focus-out\"],[\"user-name\",\"user-name\",\"Full Name\",\"off\",[30,[36,0],[[32,0,[\"user\",\"name\"]]],null],[30,[36,1],[[32,0],[30,[36,5],[[32,0,[\"user\",\"name\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"validate\",\"name\"],[[\"target\"],[[32,0,[\"user\"]]]]]]],null],[2,\"\\n\"],[6,[37,4],[[32,0,[\"user\",\"errors\",\"name\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"user-name\"]],[[\"@errors\",\"@property\"],[[32,0,[\"user\",\"errors\"]],\"name\"]],null],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                \"],[10,\"p\"],[12],[2,\"Use your real name so people can recognise you\"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                        \"]],\"parameters\":[]}]]],[2,\"\\n\\n                        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"user\",\"errors\"]],[32,0,[\"user\",\"hasValidated\"]],\"slug\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[10,\"label\"],[14,\"for\",\"user-slug\"],[12],[2,\"Slug\"],[13],[2,\"\\n                            \"],[8,\"gh-text-input\",[[16,\"data-test-slug-input\",true]],[[\"@class\",\"@id\",\"@name\",\"@placeholder\",\"@selectOnClick\",\"@autocorrect\",\"@value\",\"@input\",\"@focus-out\"],[\"user-name\",\"user-slug\",\"user\",\"Slug\",\"true\",\"off\",[30,[36,0],[[32,0,[\"slugValue\"]]],null],[30,[36,1],[[32,0],[30,[36,5],[[32,0,[\"slugValue\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"updateSlug\"]],[32,0,[\"slugValue\"]]],null]],null]]],null],[2,\"\\n                            \"],[10,\"p\"],[12],[8,\"gh-blog-url\",[],[[],[]],null],[2,\"/author/\"],[1,[32,0,[\"slugValue\"]]],[13],[2,\"\\n                            \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"user-slug\"]],[[\"@errors\",\"@property\"],[[32,0,[\"user\",\"errors\"]],\"slug\"]],null],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n\\n                        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"user\",\"errors\"]],[32,0,[\"user\",\"hasValidated\"]],\"email\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[10,\"label\"],[14,\"for\",\"user-email\"],[12],[2,\"Email\"],[13],[2,\"\\n\"],[6,[37,4],[[32,0,[\"canChangeEmail\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                                \"],[8,\"gh-text-input\",[[16,\"data-test-email-input\",true]],[[\"@type\",\"@id\",\"@name\",\"@placeholder\",\"@autocapitalize\",\"@autocorrect\",\"@autocomplete\",\"@value\",\"@input\",\"@focus-out\"],[\"email\",\"user-email\",\"email\",\"Email Address\",\"off\",\"off\",\"off\",[30,[36,0],[[32,0,[\"user\",\"email\"]]],null],[30,[36,1],[[32,0],[30,[36,5],[[32,0,[\"user\",\"email\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"validate\",\"email\"],[[\"target\"],[[32,0,[\"user\"]]]]]]],null],[2,\"\\n                                \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"user-email\"]],[[\"@errors\",\"@property\"],[[32,0,[\"user\",\"errors\"]],\"email\"]],null],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                                \"],[10,\"span\"],[12],[1,[32,0,[\"user\",\"email\"]]],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"                            \"],[10,\"p\"],[12],[2,\"Used for notifications\"],[13],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n\\n\"],[6,[37,4],[[32,0,[\"rolesDropdownIsVisible\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                            \"],[10,\"div\"],[14,0,\"form-group\"],[12],[2,\"\\n                                \"],[10,\"label\"],[14,\"for\",\"user-role\"],[12],[2,\"Role\"],[13],[2,\"\\n                                \"],[10,\"span\"],[14,0,\"gh-select\"],[14,\"tabindex\",\"0\"],[12],[2,\"\\n                                    \"],[8,\"one-way-select\",[],[[\"@id\",\"@options\",\"@optionValuePath\",\"@optionLabelPath\",\"@value\",\"@update\"],[\"new-user-role\",[32,0,[\"roles\"]],\"id\",\"name\",[32,0,[\"user\",\"role\"]],[30,[36,1],[[32,0],\"changeRole\"],null]]],null],[2,\"\\n                                \"],[13],[2,\"\\n                                \"],[10,\"p\"],[12],[2,\"What permissions should this user have?\"],[13],[2,\"\\n                            \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n                        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"user\",\"errors\"]],[32,0,[\"user\",\"hasValidated\"]],\"location\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[10,\"label\"],[14,\"for\",\"user-location\"],[12],[2,\"Location\"],[13],[2,\"\\n                            \"],[8,\"gh-text-input\",[[16,\"data-test-location-input\",true]],[[\"@id\",\"@value\",\"@input\",\"@focus-out\"],[\"user-location\",[30,[36,0],[[32,0,[\"user\",\"location\"]]],null],[30,[36,1],[[32,0],[30,[36,5],[[32,0,[\"user\",\"location\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"validate\",\"location\"],[[\"target\"],[[32,0,[\"user\"]]]]]]],null],[2,\"\\n                            \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"user-location\"]],[[\"@errors\",\"@property\"],[[32,0,[\"user\",\"errors\"]],\"location\"]],null],[2,\"\\n                            \"],[10,\"p\"],[12],[2,\"Where in the world do you live?\"],[13],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n\\n                        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"user\",\"errors\"]],[32,0,[\"user\",\"hasValidated\"]],\"website\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[10,\"label\"],[14,\"for\",\"user-website\"],[12],[2,\"Website\"],[13],[2,\"\\n                            \"],[8,\"gh-text-input\",[[16,\"data-test-website-input\",true]],[[\"@type\",\"@id\",\"@autocapitalize\",\"@autocorrect\",\"@autocomplete\",\"@value\",\"@input\",\"@focus-out\"],[\"url\",\"user-website\",\"off\",\"off\",\"off\",[30,[36,0],[[32,0,[\"user\",\"website\"]]],null],[30,[36,1],[[32,0],[30,[36,5],[[32,0,[\"user\",\"website\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"validate\",\"website\"],[[\"target\"],[[32,0,[\"user\"]]]]]]],null],[2,\"\\n                            \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"user-website\"]],[[\"@errors\",\"@property\"],[[32,0,[\"user\",\"errors\"]],\"website\"]],null],[2,\"\\n                            \"],[10,\"p\"],[12],[2,\"Have a website or blog other than this one? Link it!\"],[13],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n\\n                        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"user\",\"errors\"]],[32,0,[\"user\",\"hasValidated\"]],\"facebook\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[10,\"label\"],[14,\"for\",\"user-facebook\"],[12],[2,\"Facebook Profile\"],[13],[2,\"\\n                            \"],[8,\"gh-text-input\",[[16,\"data-test-facebook-input\",true]],[[\"@type\",\"@placeholder\",\"@autocorrect\",\"@id\",\"@name\",\"@value\",\"@input\",\"@focus-out\"],[\"url\",\"https://www.facebook.com/username\",\"off\",\"user-facebook\",\"user[facebook]\",[30,[36,0],[[32,0,[\"user\",\"facebook\"]]],null],[30,[36,1],[[32,0],[30,[36,5],[[32,0,[\"_scratchFacebook\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"validateFacebookUrl\"],null]]],null],[2,\"\\n                            \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"user-facebook\"]],[[\"@errors\",\"@property\"],[[32,0,[\"user\",\"errors\"]],\"facebook\"]],null],[2,\"\\n                            \"],[10,\"p\"],[12],[2,\"URL of your personal Facebook Profile\"],[13],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n\\n                        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"user\",\"errors\"]],[32,0,[\"user\",\"hasValidated\"]],\"twitter\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[10,\"label\"],[14,\"for\",\"user-twitter\"],[12],[2,\"Twitter Profile\"],[13],[2,\"\\n                            \"],[8,\"gh-text-input\",[[16,\"data-test-twitter-input\",true]],[[\"@type\",\"@placeholder\",\"@autocorrect\",\"@id\",\"@name\",\"@value\",\"@input\",\"@focus-out\"],[\"url\",\"https://twitter.com/username\",\"off\",\"user-twitter\",\"user[twitter]\",[30,[36,0],[[32,0,[\"user\",\"twitter\"]]],null],[30,[36,1],[[32,0],[30,[36,5],[[32,0,[\"_scratchTwitter\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"validateTwitterUrl\"],null]]],null],[2,\"\\n                            \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"user-twitter\"]],[[\"@errors\",\"@property\"],[[32,0,[\"user\",\"errors\"]],\"twitter\"]],null],[2,\"\\n                            \"],[10,\"p\"],[12],[2,\"URL of your personal Twitter profile\"],[13],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n\\n                        \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\",\"@class\"],[[32,0,[\"user\",\"errors\"]],[32,0,[\"user\",\"hasValidated\"]],\"bio\",\"bio-container\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                            \"],[10,\"label\"],[14,\"for\",\"user-bio\"],[12],[2,\"Bio\"],[13],[2,\"\\n                            \"],[8,\"gh-textarea\",[[16,\"data-test-bio-input\",true]],[[\"@id\",\"@value\",\"@input\",\"@focus-out\"],[\"user-bio\",[30,[36,0],[[32,0,[\"user\",\"bio\"]]],null],[30,[36,1],[[32,0],[30,[36,5],[[32,0,[\"user\",\"bio\"]]],null]],[[\"value\"],[\"target.value\"]]],[30,[36,1],[[32,0],\"validate\",\"bio\"],[[\"target\"],[[32,0,[\"user\"]]]]]]],null],[2,\"\\n                            \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"user-bio\"]],[[\"@errors\",\"@property\"],[[32,0,[\"user\",\"errors\"]],\"bio\"]],null],[2,\"\\n                            \"],[10,\"p\"],[12],[2,\"\\n                                Write about you, in 200 characters or less.\\n                                \"],[1,[30,[36,8],[[32,0,[\"user\",\"bio\"]]],null]],[2,\"\\n                            \"],[13],[2,\"\\n                        \"]],\"parameters\":[]}]]],[2,\"\\n\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n\\n            \"],[13],[2,\" \"],[2,\"\\n\\n\"],[6,[37,4],[[32,0,[\"canChangePassword\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                \"],[11,\"form\"],[24,1,\"password-reset\"],[24,0,\"user-profile\"],[24,\"novalidate\",\"novalidate\"],[24,\"autocomplete\",\"off\"],[4,[38,1],[[32,0],[30,[36,2],[[32,0,[\"user\",\"saveNewPassword\"]]],null]],[[\"on\"],[\"submit\"]]],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"pa5\"],[12],[2,\"\\n                        \"],[10,\"fieldset\"],[14,0,\"user-details-password\"],[12],[2,\"\\n\"],[6,[37,4],[[32,0,[\"isOwnProfile\"]]],null,[[\"default\"],[{\"statements\":[[2,\"                                \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"user\",\"errors\"]],[32,0,[\"user\",\"hasValidated\"]],\"password\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                    \"],[10,\"label\"],[14,\"for\",\"user-password-old\"],[12],[2,\"Old Password\"],[13],[2,\"\\n                                    \"],[8,\"gh-text-input\",[[16,\"data-test-old-pass-input\",true]],[[\"@type\",\"@id\",\"@autocomplete\",\"@value\",\"@input\",\"@keyEvents\"],[\"password\",\"user-password-old\",\"current-password\",[30,[36,0],[[32,0,[\"user\",\"password\"]]],null],[30,[36,1],[[32,0],\"updatePassword\"],[[\"value\"],[\"target.value\"]]],[30,[36,3],null,[[\"Enter\"],[[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"user\",\"saveNewPassword\"]]],null]],null]]]]]],null],[2,\"\\n                                    \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"user-old-pass\"]],[[\"@errors\",\"@property\"],[[32,0,[\"user\",\"errors\"]],\"password\"]],null],[2,\"\\n                                \"]],\"parameters\":[]}]]],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n                            \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"user\",\"errors\"]],[32,0,[\"user\",\"hasValidated\"]],\"newPassword\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                \"],[10,\"label\"],[14,\"for\",\"user-password-new\"],[12],[2,\"New Password\"],[13],[2,\"\\n                                \"],[8,\"gh-text-input\",[[16,\"data-test-new-pass-input\",true]],[[\"@value\",\"@type\",\"@autocomplete\",\"@id\",\"@input\",\"@keyEvents\"],[[30,[36,0],[[32,0,[\"user\",\"newPassword\"]]],null],\"password\",\"new-password\",\"user-password-new\",[30,[36,1],[[32,0],\"updateNewPassword\"],[[\"value\"],[\"target.value\"]]],[30,[36,3],null,[[\"Enter\"],[[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"user\",\"saveNewPassword\"]]],null]],null]]]]]],null],[2,\"\\n                                \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"user-new-pass\"]],[[\"@errors\",\"@property\"],[[32,0,[\"user\",\"errors\"]],\"newPassword\"]],null],[2,\"\\n                            \"]],\"parameters\":[]}]]],[2,\"\\n\\n                            \"],[8,\"gh-form-group\",[],[[\"@errors\",\"@hasValidated\",\"@property\"],[[32,0,[\"user\",\"errors\"]],[32,0,[\"user\",\"hasValidated\"]],\"ne2Password\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                \"],[10,\"label\"],[14,\"for\",\"user-new-password-verification\"],[12],[2,\"Verify Password\"],[13],[2,\"\\n                                \"],[8,\"gh-text-input\",[[16,\"data-test-ne2-pass-input\",true]],[[\"@value\",\"@type\",\"@id\",\"@input\",\"@keyEvents\"],[[30,[36,0],[[32,0,[\"user\",\"ne2Password\"]]],null],\"password\",\"user-new-password-verification\",[30,[36,1],[[32,0],\"updateNe2Password\"],[[\"value\"],[\"target.value\"]]],[30,[36,3],null,[[\"Enter\"],[[30,[36,1],[[32,0],[30,[36,2],[[32,0,[\"user\",\"saveNewPassword\"]]],null]],null]]]]]],null],[2,\"\\n                                \"],[8,\"gh-error-message\",[[24,\"data-test-error\",\"user-ne2-pass\"]],[[\"@errors\",\"@property\"],[[32,0,[\"user\",\"errors\"]],\"ne2Password\"]],null],[2,\"\\n                            \"]],\"parameters\":[]}]]],[2,\"\\n\\n                            \"],[10,\"div\"],[14,0,\"form-group\"],[12],[2,\"\\n                                \"],[8,\"gh-task-button\",[[24,\"data-test-save-pw-button\",\"true\"]],[[\"@buttonText\",\"@class\",\"@task\"],[\"Change Password\",\"gh-btn gh-btn-red gh-btn-icon button-change-password\",[32,0,[\"user\",\"saveNewPassword\"]]]],null],[2,\"\\n                            \"],[13],[2,\"\\n                        \"],[13],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\" \"],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[\"readonly\",\"action\",\"perform\",\"hash\",\"if\",\"mut\",\"svg-jar\",\"background-image-style\",\"gh-count-characters\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/staff/user.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/tag", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "NlbOl8Pw",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[10,\"form\"],[14,0,\"mb15\"],[12],[2,\"\\n        \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n            \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"\\n                \"],[8,\"link-to\",[[24,\"data-test-link\",\"tags-back\"]],[[\"@route\"],[\"tags\"]],[[\"default\"],[{\"statements\":[[2,\"Tags\"]],\"parameters\":[]}]]],[2,\"\\n                \"],[10,\"span\"],[12],[1,[30,[36,2],[\"arrow-right\"],null]],[13],[2,\"\\n                \"],[1,[30,[36,3],[[32,0,[\"tag\",\"isNew\"]],\"New tag\",[32,0,[\"tag\",\"name\"]]],null]],[2,\"\\n            \"],[13],[2,\"\\n            \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n                \"],[8,\"gh-task-button\",[],[[\"@task\",\"@type\",\"@class\",\"@autoReset\",\"@data-test-button\"],[[32,0,[\"save\"]],\"button\",\"gh-btn gh-btn-blue gh-btn-icon\",true,\"save\"]],null],[2,\"\\n            \"],[13],[2,\"\\n        \"]],\"parameters\":[]}]]],[2,\"\\n\\n        \"],[8,\"gh-tag-settings-form\",[],[[\"@tag\",\"@scratchTag\",\"@setProperty\"],[[32,0,[\"tag\"]],[32,0,[\"scratchTag\"]],[30,[36,0],[[32,0],\"setProperty\"],null]]],null],[2,\"\\n    \"],[13],[2,\"\\n\\n\"],[6,[37,4],[[32,0,[\"tag\",\"isNew\"]]],null,[[\"default\"],[{\"statements\":[[2,\"        \"],[11,\"button\"],[24,0,\"gh-btn gh-btn-red gh-btn-icon mb15\"],[24,4,\"button\"],[4,[38,1],[\"click\",[30,[36,0],[[32,0],\"toggleDeleteTagModal\"],null]],null],[12],[2,\"\\n            \"],[10,\"span\"],[12],[2,\"Delete tag\"],[13],[2,\"\\n        \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[13],[2,\"\\n\\n\"],[6,[37,3],[[32,0,[\"showUnsavedChangesModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@confirm\",\"@close\",\"@modifier\"],[\"leave-settings\",[30,[36,0],[[32,0],\"leaveScreen\"],null],[30,[36,0],[[32,0],\"toggleUnsavedChangesModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"\\n\"],[6,[37,3],[[32,0,[\"showDeleteTagModal\"]]],null,[[\"default\"],[{\"statements\":[[2,\"    \"],[8,\"gh-fullscreen-modal\",[],[[\"@modal\",\"@model\",\"@confirm\",\"@close\",\"@modifier\"],[\"delete-tag\",[32,0,[\"tag\"]],[30,[36,0],[[32,0],\"deleteTag\"],null],[30,[36,0],[[32,0],\"toggleDeleteTagModal\"],null],\"action wide\"]],null],[2,\"\\n\"]],\"parameters\":[]}]]]],\"hasEval\":false,\"upvars\":[\"action\",\"on\",\"svg-jar\",\"if\",\"unless\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/tag.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/tags-loading", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "2pMU3oX/",
    "block": "{\"symbols\":[],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas\"],[12],[2,\"\\n    \"],[10,\"header\"],[14,0,\"gh-canvas-header\"],[12],[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"Tags\"],[13],[2,\"\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[8,\"link-to\",[[24,0,\"gh-btn gh-btn-green\"]],[[\"@route\"],[\"tag.new\"]],[[\"default\"],[{\"statements\":[[10,\"span\"],[12],[2,\"New tag\"],[13]],\"parameters\":[]}]]],[2,\"\\n        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\\n    \"],[10,\"div\"],[14,0,\"gh-content\"],[12],[2,\"\\n        \"],[8,\"gh-loading-spinner\",[],[[],[]],null],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\"]],\"hasEval\":false,\"upvars\":[]}",
    "meta": {
      "moduleName": "ghost-admin/templates/tags-loading.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/templates/tags", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.HTMLBars.template({
    "id": "Fcs6xvAP",
    "block": "{\"symbols\":[\"tag\"],\"statements\":[[10,\"section\"],[14,0,\"gh-canvas tags-view\"],[12],[2,\"\\n    \"],[8,\"gh-canvas-header\",[[24,0,\"gh-canvas-header tags-header\"]],[[],[]],[[\"default\"],[{\"statements\":[[2,\"\\n        \"],[10,\"h2\"],[14,0,\"gh-canvas-title\"],[14,\"data-test-screen-title\",\"\"],[12],[2,\"Tags\"],[13],[2,\"\\n        \"],[10,\"section\"],[14,0,\"view-actions\"],[12],[2,\"\\n            \"],[10,\"div\"],[14,0,\"gh-contentfilter gh-btn-group\"],[12],[2,\"\\n                \"],[11,\"button\"],[16,0,[31,[\"gh-btn \",[30,[36,2],[[30,[36,1],[[32,0,[\"type\"]],\"public\"],null],\"gh-btn-group-selected\"],null]]]],[4,[38,3],[[32,0],\"changeType\",\"public\"],null],[12],[10,\"span\"],[12],[2,\"Public tags\"],[13],[13],[2,\"\\n                \"],[11,\"button\"],[16,0,[31,[\"gh-btn \",[30,[36,2],[[30,[36,1],[[32,0,[\"type\"]],\"internal\"],null],\"gh-btn-group-selected\"],null]]]],[4,[38,3],[[32,0],\"changeType\",\"internal\"],null],[12],[10,\"span\"],[12],[2,\"Internal tags\"],[13],[13],[2,\"\\n            \"],[13],[2,\"\\n            \"],[8,\"link-to\",[[24,0,\"gh-btn gh-btn-green\"]],[[\"@route\"],[\"tag.new\"]],[[\"default\"],[{\"statements\":[[10,\"span\"],[12],[2,\"New tag\"],[13]],\"parameters\":[]}]]],[2,\"\\n        \"],[13],[2,\"\\n    \"]],\"parameters\":[]}]]],[2,\"\\n\\n    \"],[10,\"section\"],[14,0,\"content-list\"],[12],[2,\"\\n        \"],[10,\"ol\"],[15,0,[31,[\"tags-list gh-list \",[30,[36,4],[[32,0,[\"sortedTags\"]],\"no-posts\"],null]]]],[12],[2,\"\\n\"],[6,[37,2],[[32,0,[\"sortedTags\"]]],null,[[\"default\",\"else\"],[{\"statements\":[[2,\"                \"],[10,\"li\"],[14,0,\"gh-list-row header\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-list-header gh-list-cellwidth-70\"],[12],[2,\"Tag\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-list-header gh-list-cellwidth-10\"],[12],[2,\"Slug\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-list-header gh-list-cellwidth-10\"],[12],[2,\"No. of posts\"],[13],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"gh-list-header gh-list-cellwidth-10\"],[12],[13],[2,\"\\n                \"],[13],[2,\"\\n                \"],[8,\"vertical-collection\",[],[[\"@items\",\"@key\",\"@containerSelector\",\"@estimateHeight\",\"@bufferSize\"],[[32,0,[\"sortedTags\"]],\"id\",\".gh-main\",60,20]],[[\"default\"],[{\"statements\":[[2,\"\\n                    \"],[8,\"gh-tags-list-item\",[],[[\"@tag\",\"@data-test-tag-id\"],[[32,1],[32,1,[\"id\"]]]],null],[2,\"\\n                \"]],\"parameters\":[1]}]]],[2,\"\\n\"]],\"parameters\":[]},{\"statements\":[[2,\"                \"],[10,\"li\"],[14,0,\"no-posts-box\"],[12],[2,\"\\n                    \"],[10,\"div\"],[14,0,\"no-posts\"],[12],[2,\"\\n                            \"],[1,[30,[36,0],[\"tags-placeholder\"],[[\"class\"],[\"gh-tags-placeholder\"]]]],[2,\"\\n                            \"],[10,\"h3\"],[12],[2,\"You haven't created any \"],[1,[32,0,[\"type\"]]],[2,\" tags yet!\"],[13],[2,\"\\n                            \"],[8,\"link-to\",[[24,0,\"gh-btn gh-btn-green gh-btn-lg\"]],[[\"@route\"],[\"tag.new\"]],[[\"default\"],[{\"statements\":[[2,\"\\n                                \"],[10,\"span\"],[12],[2,\"Create a new tag\"],[13],[2,\"\\n                            \"]],\"parameters\":[]}]]],[2,\"\\n                    \"],[13],[2,\"\\n                \"],[13],[2,\"\\n\"]],\"parameters\":[]}]]],[2,\"        \"],[13],[2,\"\\n    \"],[13],[2,\"\\n\"],[13],[2,\"\\n\\n\"],[1,[30,[36,6],[[30,[36,5],null,null]],null]]],\"hasEval\":false,\"upvars\":[\"svg-jar\",\"eq\",\"if\",\"action\",\"unless\",\"-outlet\",\"component\"]}",
    "meta": {
      "moduleName": "ghost-admin/templates/tags.hbs"
    }
  });

  _exports.default = _default;
});
;define("ghost-admin/tests/mirage/mirage.lint-test", [], function () {
  "use strict";

  describe('ESLint | mirage', function () {
    it('mirage/config.js', function () {// test passed
    });
    it('mirage/config/api-keys.js', function () {// test passed
    });
    it('mirage/config/authentication.js', function () {// test passed
    });
    it('mirage/config/config.js', function () {// test passed
    });
    it('mirage/config/emails.js', function () {// test passed
    });
    it('mirage/config/integrations.js', function () {// test passed
    });
    it('mirage/config/invites.js', function () {// test passed
    });
    it('mirage/config/labels.js', function () {// test passed
    });
    it('mirage/config/members.js', function () {// test passed
    });
    it('mirage/config/pages.js', function () {// test passed
    });
    it('mirage/config/posts.js', function () {// test passed
    });
    it('mirage/config/roles.js', function () {// test passed
    });
    it('mirage/config/settings.js', function () {// test passed
    });
    it('mirage/config/site.js', function () {// test passed
    });
    it('mirage/config/slugs.js', function () {// test passed
    });
    it('mirage/config/tags.js', function () {// test passed
    });
    it('mirage/config/themes.js', function () {// test passed
    });
    it('mirage/config/uploads.js', function () {// test passed
    });
    it('mirage/config/users.js', function () {// test passed
    });
    it('mirage/config/webhooks.js', function () {// test passed
    });
    it('mirage/factories/api-key.js', function () {// test passed
    });
    it('mirage/factories/email.js', function () {// test passed
    });
    it('mirage/factories/integration.js', function () {// test passed
    });
    it('mirage/factories/invite.js', function () {// test passed
    });
    it('mirage/factories/member.js', function () {// test passed
    });
    it('mirage/factories/notification.js', function () {// test passed
    });
    it('mirage/factories/post.js', function () {// test passed
    });
    it('mirage/factories/role.js', function () {// test passed
    });
    it('mirage/factories/tag.js', function () {// test passed
    });
    it('mirage/factories/user.js', function () {// test passed
    });
    it('mirage/factories/webhook.js', function () {// test passed
    });
    it('mirage/fixtures/configs.js', function () {// test passed
    });
    it('mirage/fixtures/roles.js', function () {// test passed
    });
    it('mirage/fixtures/settings.js', function () {// test passed
    });
    it('mirage/fixtures/sites.js', function () {// test passed
    });
    it('mirage/fixtures/themes.js', function () {// test passed
    });
    it('mirage/fixtures/timezones.js', function () {// test passed
    });
    it('mirage/models/api-key.js', function () {// test passed
    });
    it('mirage/models/config.js', function () {// test passed
    });
    it('mirage/models/email.js', function () {// test passed
    });
    it('mirage/models/integration.js', function () {// test passed
    });
    it('mirage/models/invite.js', function () {// test passed
    });
    it('mirage/models/member.js', function () {// test passed
    });
    it('mirage/models/notification.js', function () {// test passed
    });
    it('mirage/models/page.js', function () {// test passed
    });
    it('mirage/models/post.js', function () {// test passed
    });
    it('mirage/models/role.js', function () {// test passed
    });
    it('mirage/models/site.js', function () {// test passed
    });
    it('mirage/models/subscriber.js', function () {// test passed
    });
    it('mirage/models/tag.js', function () {// test passed
    });
    it('mirage/models/theme.js', function () {// test passed
    });
    it('mirage/models/user.js', function () {// test passed
    });
    it('mirage/models/webhook.js', function () {// test passed
    });
    it('mirage/scenarios/default.js', function () {// test passed
    });
    it('mirage/serializers/application.js', function () {// test passed
    });
    it('mirage/serializers/integration.js', function () {// test passed
    });
    it('mirage/serializers/page.js', function () {// test passed
    });
    it('mirage/serializers/post.js', function () {// test passed
    });
    it('mirage/serializers/tag.js', function () {// test passed
    });
    it('mirage/serializers/user.js', function () {// test passed
    });
    it('mirage/utils.js', function () {// test passed
    });
  });
});
;define("ghost-admin/transforms/boolean", ["exports", "@ember-data/serializer/-private"], function (_exports, _private) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _private.BooleanTransform;
    }
  });
});
;define("ghost-admin/transforms/date", ["exports", "@ember-data/serializer/-private"], function (_exports, _private) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _private.DateTransform;
    }
  });
});
;define("ghost-admin/transforms/facebook-url-user", ["exports", "@ember-data/serializer/transform"], function (_exports, _transform) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _transform.default.extend({
    deserialize(serialized) {
      if (serialized) {
        let [, user] = serialized.match(/(\S+)/);
        return `https://www.facebook.com/${user}`;
      }

      return serialized;
    },

    serialize(deserialized) {
      if (deserialized) {
        let [, user] = deserialized.match(/(?:https:\/\/)(?:www\.)(?:facebook\.com)\/(?:#!\/)?(\w+\/?\S+)/mi);
        return user;
      }

      return deserialized;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/transforms/json-string", ["exports", "@ember-data/serializer/transform"], function (_exports, _transform) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _transform.default.extend({
    deserialize(serialized) {
      let _serialized = serialized === '' ? null : serialized;

      return JSON.parse(_serialized);
    },

    serialize(deserialized) {
      return deserialized ? JSON.stringify(deserialized) : null;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/transforms/member-subscription", ["exports", "ghost-admin/models/member-subscription", "@ember-data/serializer/transform"], function (_exports, _memberSubscription, _transform) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _transform.default.extend({
    deserialize(serialized) {
      let subscriptions, subscriptionArray;
      subscriptionArray = serialized.subscriptions || [];
      subscriptions = subscriptionArray.map(itemDetails => _memberSubscription.default.create(itemDetails));
      return Ember.A(subscriptions);
    },

    serialize(deserialized) {
      let subscriptionArray;

      if (Ember.isArray(deserialized)) {
        subscriptionArray = deserialized.map(item => {
          return item;
        }).compact();
      } else {
        subscriptionArray = [];
      }

      return {
        subscriptions: subscriptionArray
      };
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/transforms/moment-date", ["exports", "@ember-data/serializer/transform", "moment"], function (_exports, _transform, _moment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _transform.default.extend({
    deserialize(serialized) {
      if (serialized) {
        return (0, _moment.default)(serialized);
      }

      return serialized;
    },

    serialize(deserialized) {
      if (deserialized) {
        return (0, _moment.default)(deserialized).toDate();
      }

      return deserialized;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/transforms/moment-utc", ["exports", "@ember-data/serializer/transform", "moment"], function (_exports, _transform, _moment) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _transform.default.extend({
    deserialize(serialized) {
      if (serialized) {
        return _moment.default.utc(serialized);
      }

      return serialized;
    },

    serialize(deserialized) {
      if (deserialized) {
        try {
          return deserialized.toJSON();
        } catch (e) {
          return deserialized;
        }
      }

      return deserialized;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/transforms/navigation-settings", ["exports", "ghost-admin/models/navigation-item", "@ember-data/serializer/transform"], function (_exports, _navigationItem, _transform) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _transform.default.extend({
    deserialize(serialized, options) {
      let navItems, settingsArray;

      try {
        settingsArray = JSON.parse(serialized) || [];
      } catch (e) {
        settingsArray = [];
      }

      navItems = settingsArray.map(itemDetails => {
        itemDetails.isSecondary = options && options.isSecondary || false;
        return _navigationItem.default.create(itemDetails);
      });
      return Ember.A(navItems);
    },

    serialize(deserialized) {
      let settingsArray;

      if (Ember.isArray(deserialized)) {
        settingsArray = deserialized.map(item => {
          let label = item.get('label').trim();
          let url = item.get('url').trim();
          return {
            label,
            url
          };
        }).compact();
      } else {
        settingsArray = [];
      }

      return JSON.stringify(settingsArray);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/transforms/number", ["exports", "@ember-data/serializer/-private"], function (_exports, _private) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _private.NumberTransform;
    }
  });
});
;define("ghost-admin/transforms/raw", ["exports", "@ember-data/serializer/transform"], function (_exports, _transform) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _transform.default.extend({
    deserialize(serialized) {
      return serialized;
    },

    serialize(deserialized) {
      return deserialized;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/transforms/slack-settings", ["exports", "ghost-admin/models/slack-integration", "@ember-data/serializer/transform"], function (_exports, _slackIntegration, _transform) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable camelcase */
  var _default = _transform.default.extend({
    deserialize(serialized) {
      let settingsArray;

      try {
        settingsArray = JSON.parse(serialized) || [];
      } catch (e) {
        settingsArray = [];
      }

      if (Ember.isEmpty(settingsArray)) {
        settingsArray.push({
          url: '',
          username: ''
        });
      }

      let slackObjs = settingsArray.map(itemDetails => _slackIntegration.default.create(itemDetails));
      return slackObjs;
    },

    serialize(deserialized) {
      let settingsArray;

      if (Ember.isArray(deserialized)) {
        settingsArray = deserialized.map(item => {
          let url = (item.get('url') || '').trim();
          let username = (item.get('username') || '').trim();

          if (url) {
            return {
              url,
              username
            };
          }
        }).compact();
      } else {
        settingsArray = [];
      }

      return JSON.stringify(settingsArray);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/transforms/string", ["exports", "@ember-data/serializer/-private"], function (_exports, _private) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _private.StringTransform;
    }
  });
});
;define("ghost-admin/transforms/twitter-url-user", ["exports", "@ember-data/serializer/transform"], function (_exports, _transform) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _transform.default.extend({
    deserialize(serialized) {
      if (serialized) {
        let [, user] = serialized.match(/@?([^/]*)/);
        return `https://twitter.com/${user}`;
      }

      return serialized;
    },

    serialize(deserialized) {
      if (deserialized) {
        let [, user] = deserialized.match(/(?:https:\/\/)(?:twitter\.com)\/(?:#!\/)?@?([^/]*)/);
        return `@${user}`;
      }

      return deserialized;
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/transforms/unsplash-settings", ["exports", "@ember-data/serializer/transform", "ghost-admin/models/unsplash-integration"], function (_exports, _transform, _unsplashIntegration) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /* eslint-disable camelcase */
  const DEFAULT_SETTINGS = {
    isActive: true
  };

  var _default = _transform.default.extend({
    deserialize(serialized) {
      if (serialized) {
        let settingsObject;

        try {
          settingsObject = JSON.parse(serialized) || DEFAULT_SETTINGS;
        } catch (e) {
          settingsObject = DEFAULT_SETTINGS;
        }

        return _unsplashIntegration.default.create(settingsObject);
      }

      return DEFAULT_SETTINGS;
    },

    serialize(deserialized) {
      return deserialized ? JSON.stringify(deserialized) : JSON.stringify(DEFAULT_SETTINGS);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/transitions", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = _default;

  function _default() {
    this.transition(this.hasClass('fullscreen-modal-container'), this.toValue(true), this.use('fade', {
      duration: 150
    }), this.reverse('fade', {
      duration: 150
    }));
    this.transition(this.hasClass('fade-transition'), this.use('crossFade', {
      duration: 100
    }));
    this.transition(this.hasClass('tour-container'), this.toValue(true), this.use('fade', {
      duration: 150
    }), this.reverse('fade', {
      duration: 150
    }));
    this.transition(this.hasClass('tour'), this.toValue(true), this.use('fade', {
      duration: 300
    }), this.reverse('fade', {
      duration: 300
    })); // TODO: Maybe animate with explode. gh-unsplash-window should ideally slide in from bottom to top of screen
    // this.transition(
    //     this.hasClass('gh-unsplash-window'),
    //     this.toValue(true),
    //     this.use('toUp', {duration: 500}),
    //     this.reverse('toDown', {duration: 500})
    // );
  }
});
;define("ghost-admin/transitions/cross-fade", ["exports", "liquid-fire/transitions/cross-fade"], function (_exports, _crossFade) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _crossFade.default;
    }
  });
});
;define("ghost-admin/transitions/default", ["exports", "liquid-fire/transitions/default"], function (_exports, _default) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _default.default;
    }
  });
});
;define("ghost-admin/transitions/explode", ["exports", "liquid-fire/transitions/explode"], function (_exports, _explode) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _explode.default;
    }
  });
});
;define("ghost-admin/transitions/fade", ["exports", "liquid-fire/transitions/fade"], function (_exports, _fade) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _fade.default;
    }
  });
});
;define("ghost-admin/transitions/flex-grow", ["exports", "liquid-fire/transitions/flex-grow"], function (_exports, _flexGrow) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _flexGrow.default;
    }
  });
});
;define("ghost-admin/transitions/fly-to", ["exports", "liquid-fire/transitions/fly-to"], function (_exports, _flyTo) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _flyTo.default;
    }
  });
});
;define("ghost-admin/transitions/move-over", ["exports", "liquid-fire/transitions/move-over"], function (_exports, _moveOver) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _moveOver.default;
    }
  });
});
;define("ghost-admin/transitions/scale", ["exports", "liquid-fire/transitions/scale"], function (_exports, _scale) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _scale.default;
    }
  });
});
;define("ghost-admin/transitions/scroll-then", ["exports", "liquid-fire/transitions/scroll-then"], function (_exports, _scrollThen) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _scrollThen.default;
    }
  });
});
;define("ghost-admin/transitions/to-down", ["exports", "liquid-fire/transitions/to-down"], function (_exports, _toDown) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _toDown.default;
    }
  });
});
;define("ghost-admin/transitions/to-left", ["exports", "liquid-fire/transitions/to-left"], function (_exports, _toLeft) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _toLeft.default;
    }
  });
});
;define("ghost-admin/transitions/to-right", ["exports", "liquid-fire/transitions/to-right"], function (_exports, _toRight) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _toRight.default;
    }
  });
});
;define("ghost-admin/transitions/to-up", ["exports", "liquid-fire/transitions/to-up"], function (_exports, _toUp) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _toUp.default;
    }
  });
});
;define("ghost-admin/transitions/wait", ["exports", "liquid-fire/transitions/wait"], function (_exports, _wait) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _wait.default;
    }
  });
});
;define("ghost-admin/transitions/wormhole", ["exports", "liquid-wormhole/transitions/wormhole"], function (_exports, _wormhole) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = _default;

  // override liquid-wormhole's default `wormhole` transition to focus the first
  // autofocus element after the transition and element swap happens
  function _default() {
    let newWormholeElement;

    if (this.newElement) {
      newWormholeElement = this.newElement.find('.liquid-wormhole-element:last-child');
    }

    return _wormhole.default.apply(this, arguments).finally(() => {
      if (this.newElement && newWormholeElement) {
        let autofocusElem = newWormholeElement[0].querySelector('[autofocus]');

        if (autofocusElem) {
          autofocusElem.focus();
        }
      }
    });
  }
});
;define("ghost-admin/utils/bound-one-way", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = _default;

  /**
   * Defines a property similarly to `Ember.computed.oneway`,
   * save that while a `oneway` loses its binding upon being set,
   * the `BoundOneWay` will continue to listen for upstream changes.
   *
   * This is an ideal tool for working with values inside of {{input}}
   * elements.
   * @param {*} upstream
   * @param {function} transform a function to transform the **upstream** value.
   */
  function _default(upstream, transform) {
    if (typeof transform !== 'function') {
      // default to the identity function
      transform = function (value) {
        return value;
      };
    }

    return Ember.computed(upstream, {
      get() {
        return transform(this.get(upstream));
      },

      set(key, value) {
        return value;
      }

    });
  }
});
;define("ghost-admin/utils/caja-sanitizers", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /**
   * google-caja uses url() and id() to verify if the values are allowed.
   */

  /**
   * Check if URL is allowed
   * URLs are allowed if they start with http://, https://, or /.
   * NOTE: # urls are not allowed as clicking them will break the editor when clicked
   */
  let url = function (url) {
    url = url.toString().replace(/['"]+/g, '');

    if (/^https?:\/\//.test(url) || /^\//.test(url)) {
      return url;
    }
  };
  /**
   * Check if ID is allowed
   * All ids are allowed at the moment.
   */


  let id = function (id) {
    return id;
  };

  var _default = {
    url,
    id
  };
  _exports.default = _default;
});
;define("ghost-admin/utils/calculate-position", ["exports", "ember-basic-dropdown/utils/calculate-position"], function (_exports, _calculatePosition) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _calculatePosition.default;
    }
  });
});
;define("ghost-admin/utils/computed-fallback-if-undefined", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = computedFallbackIfUndefined;

  function computedFallbackIfUndefined(fallback) {
    return Ember.computed({
      get() {
        return fallback;
      },

      set(_, v) {
        return v === undefined ? fallback : v;
      }

    });
  }
});
;define("ghost-admin/utils/copy-text-to-clipboard", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = copyTextToClipboard;

  function copyTextToClipboard(text) {
    let textarea = document.createElement('textarea');
    textarea.value = text;
    textarea.setAttribute('readonly', '');
    textarea.style.position = 'absolute';
    textarea.style.left = '-9999px';
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);
  }
});
;define("ghost-admin/utils/ctrl-or-cmd", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = navigator.userAgent.indexOf('Mac') !== -1 ? 'command' : 'ctrl';

  _exports.default = _default;
});
;define("ghost-admin/utils/format-markdown", ["exports", "markdown-it", "markdown-it-footnote", "markdown-it-lazy-headers", "markdown-it-mark", "koenig-editor/helpers/sanitize-html"], function (_exports, _markdownIt, _markdownItFootnote, _markdownItLazyHeaders, _markdownItMark, _sanitizeHtml) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = formatMarkdown;

  let slugify = function slugify(inputString, usedHeaders) {
    let slug = inputString.replace(/[^\w]/g, '').toLowerCase();

    if (usedHeaders[slug]) {
      usedHeaders[slug] += 1;
      slug += usedHeaders[slug];
    }

    return slug;
  }; // originally from https://github.com/leff/markdown-it-named-headers
  // moved here to avoid pulling in http://stringjs.com dependency


  let markdownitNamedHeaders = function markdownitNamedHeaders(md) {
    let originalHeadingOpen = md.renderer.rules.heading_open; // eslint-disable-next-line camelcase

    md.renderer.rules.heading_open = function (tokens, idx, options, env, self) {
      let usedHeaders = {};
      tokens[idx].attrs = tokens[idx].attrs || [];
      let title = tokens[idx + 1].children.reduce(function (acc, t) {
        return acc + t.content;
      }, '');
      let slug = slugify(title, usedHeaders);
      tokens[idx].attrs.push(['id', slug]);

      if (originalHeadingOpen) {
        return originalHeadingOpen.apply(this, arguments);
      } else {
        return self.renderToken(...arguments);
      }
    };
  };

  let md = (0, _markdownIt.default)({
    html: true,
    breaks: true,
    linkify: true
  }).use(_markdownItFootnote.default).use(_markdownItLazyHeaders.default).use(_markdownItMark.default).use(markdownitNamedHeaders); // configure linkify-it

  md.linkify.set({
    fuzzyLink: false
  });

  function formatMarkdown(_markdown, replaceJS = true) {
    let markdown = _markdown || '';
    let escapedhtml = ''; // convert markdown to HTML

    escapedhtml = md.render(markdown);
    return (0, _sanitizeHtml.sanitizeHtml)(escapedhtml, {
      replaceJS
    });
  }
});
;define("ghost-admin/utils/ghost-paths", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = _default;

  let makeRoute = function (root, args) {
    let slashAtStart = /^\//;
    let slashAtEnd = /\/$/;
    let parts = Array.prototype.slice.call(args, 0);
    let route = root.replace(slashAtEnd, '');
    parts.forEach(part => {
      if (part) {
        route = [route, part.replace(slashAtStart, '').replace(slashAtEnd, '')].join('/');
      }
    });
    return route += '/';
  };

  function _default() {
    let path = window.location.pathname;
    let subdir = path.substr(0, path.search('/ghost/'));
    let adminRoot = `${subdir}/ghost/`;
    let assetRoot = `${subdir}/ghost/assets/`;
    let apiRoot = `${subdir}/ghost/api/v3/admin`;

    function assetUrl(src) {
      return subdir + src;
    }

    return {
      adminRoot,
      assetRoot,
      apiRoot,
      subdir,
      blogRoot: `${subdir}/`,
      url: {
        admin() {
          return makeRoute(adminRoot, arguments);
        },

        api() {
          return makeRoute(apiRoot, arguments);
        },

        join() {
          if (arguments.length > 1) {
            return makeRoute(arguments[0], Array.prototype.slice.call(arguments, 1));
          } else if (arguments.length === 1) {
            let [arg] = arguments;
            return arg.slice(-1) === '/' ? arg : `${arg}/`;
          }

          return '/';
        },

        asset: assetUrl
      }
    };
  }
});
;define("ghost-admin/utils/isNumber", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = _default;
  // isNumber function from lodash
  const {
    toString
  } = Object.prototype;

  function _default(value) {
    return typeof value === 'number' || value && typeof value === 'object' && toString.call(value) === '[object Number]' || false;
  }
});
;define("ghost-admin/utils/link-component", [], function () {
  "use strict";

  Ember.LinkComponent.reopen({
    active: Ember.computed('attrs.params', '_routing.currentState', function () {
      let isActive = this._super(...arguments);

      if (typeof this.alternateActive === 'function') {
        this.alternateActive(isActive);
      }

      return isActive;
    }),
    activeClass: Ember.computed('tagName', function () {
      return this.tagName === 'button' ? '' : 'active';
    })
  });
});
;define("ghost-admin/utils/password-generator", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = generatePassword;

  /*
   * copied from https://github.com/bermi/password-generator
   * Copyright(c) 2011-2015 Bermi Ferrer <bermi@bermilabs.com>
   * MIT Licensed
   */
  // copied from the NPM module because the switch away from polyfilling `global`
  // via webpack in ember-auto-import resulted in an error finding 'crypto'
  // Module not found: Error: Can't resolve 'crypto'
  const vowel = /[aeiou]$/i;
  const consonant = /[bcdfghjklmnpqrstvwxyz]$/i;

  function rand(min, max) {
    var key,
        value,
        arr = new Uint8Array(max);
    getRandomValues(arr);

    for (key in arr) {
      if (Object.prototype.hasOwnProperty.call(arr, key)) {
        value = arr[key];

        if (value > min && value < max) {
          return value;
        }
      }
    }

    return rand(min, max);
  }

  function getRandomValues(buf) {
    window.crypto.getRandomValues(buf);
  }

  function generatePassword(length, memorable, pattern, prefix) {
    var char = '',
        n,
        i,
        validChars = [];

    if (length === null || typeof length === 'undefined') {
      length = 10;
    }

    if (memorable === null || typeof memorable === 'undefined') {
      memorable = true;
    }

    if (pattern === null || typeof pattern === 'undefined') {
      pattern = /\w/;
    }

    if (prefix === null || typeof prefix === 'undefined') {
      prefix = '';
    } // Non memorable passwords will pick characters from a pre-generated
    // list of characters


    if (!memorable) {
      for (i = 33; 126 > i; i += 1) {
        char = String.fromCharCode(i);

        if (char.match(pattern)) {
          validChars.push(char);
        }
      }

      if (!validChars.length) {
        throw new Error('Could not find characters that match the ' + 'password pattern ' + pattern + '. Patterns must match individual ' + 'characters, not the password as a whole.');
      }
    }

    while (prefix.length < length) {
      if (memorable) {
        if (prefix.match(consonant)) {
          pattern = vowel;
        } else {
          pattern = consonant;
        }

        n = rand(33, 126);
        char = String.fromCharCode(n);
      } else {
        char = validChars[rand(0, validChars.length)];
      }

      if (memorable) {
        char = char.toLowerCase();
      }

      if (char.match(pattern)) {
        prefix = '' + prefix + char;
      }
    }

    return prefix;
  }
});
;define("ghost-admin/utils/route", [], function () {
  "use strict";

  Ember.Route.reopen({
    actions: {
      willTransition(transition) {
        if (this.get('upgradeStatus.isRequired')) {
          transition.abort();
          this.upgradeStatus.requireUpgrade();
          return false;
        } else {
          return true;
        }
      }

    }
  });
});
;define("ghost-admin/utils/titleize", ["exports", "ember-cli-string-helpers/utils/titleize"], function (_exports, _titleize) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  Object.defineProperty(_exports, "default", {
    enumerable: true,
    get: function () {
      return _titleize.default;
    }
  });
});
;define("ghost-admin/utils/window-proxy", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  var _default = {
    changeLocation(url) {
      window.location = url;
    },

    replaceLocation(url) {
      window.location.replace(url);
    },

    replaceState(params, title, url) {
      window.history.replaceState(params, title, url);
    }

  };
  _exports.default = _default;
});
;define("ghost-admin/validators/base", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  /**
   * Base validator that all validators should extend
   * Handles checking of individual properties or the entire model
   */
  var _default = Ember.Object.extend({
    passed: false,

    init() {
      this._super(...arguments);

      this.properties = this.properties || [];
    },

    /**
     * When passed a model and (optionally) a property name,
     * checks it against a list of validation functions
     * @param  {Ember.Object} model Model to validate
     * @param  {string} prop  Property name to check
     * @return {boolean}      True if the model passed all (or one) validation(s),
     *                        false if not
     */
    check(model, prop) {
      this.set('passed', true);

      if (prop && this[prop]) {
        this[prop](model);
      } else {
        this.properties.forEach(property => {
          if (this[property]) {
            this[property](model);
          }
        });
      }

      return this.passed;
    },

    invalidate() {
      this.set('passed', false);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/custom-view", ["exports", "ghost-admin/validators/base"], function (_exports, _base) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _base.default.create({
    properties: ['name'],

    name(model) {
      if (Ember.isBlank(model.name)) {
        model.errors.add('name', 'Please enter a name');
        model.hasValidated.pushObject('name');
        this.invalidate();
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/integration", ["exports", "ghost-admin/validators/base", "validator"], function (_exports, _base, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _base.default.create({
    properties: ['name'],

    name(model) {
      if (Ember.isBlank(model.name)) {
        model.errors.add('name', 'Please enter a name');
        model.hasValidated.pushObject('name');
        this.invalidate();
      } else if (!_validator.default.isLength(model.name, 0, 191)) {
        model.errors.add('name', 'Name is too long, max 191 chars');
        model.hasValidated.pushObject('name');
        this.invalidate();
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/invite-user", ["exports", "ghost-admin/validators/base", "validator"], function (_exports, _base, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _base.default.create({
    properties: ['email', 'role'],

    email(model) {
      let email = model.get('email');

      if (Ember.isBlank(email)) {
        model.get('errors').add('email', 'Please enter an email.');
        this.invalidate();
      } else if (!_validator.default.isEmail(email)) {
        model.get('errors').add('email', 'Invalid Email.');
        this.invalidate();
      }
    },

    role(model) {
      let role = model.get('role');

      if (Ember.isBlank(role)) {
        model.get('errors').add('role', 'Please select a role.');
        model.get('hasValidated').pushObject('role');
        this.invalidate();
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/label", ["exports", "ghost-admin/validators/base"], function (_exports, _base) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _base.default.create({
    properties: ['name'],

    name(model) {
      if (Ember.isBlank(model.name)) {
        model.errors.add('name', 'Please enter a name');
        model.hasValidated.pushObject('name');
        this.invalidate();
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/member", ["exports", "ghost-admin/validators/base", "validator"], function (_exports, _base, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _base.default.create({
    properties: ['name', 'email', 'note'],

    name(model) {
      if (!_validator.default.isLength(model.name || '', 0, 191)) {
        model.errors.add('name', 'Name cannot be longer than 191 characters.');
        this.invalidate();
      }
    },

    email(model) {
      let email = model.get('email');

      if (Ember.isBlank(email)) {
        model.errors.add('email', 'Please enter an email.');
        this.invalidate();
      } else if (!_validator.default.isEmail(email)) {
        model.errors.add('email', 'Invalid Email.');
        this.invalidate();
      }

      if (!_validator.default.isLength(model.email || '', 0, 191)) {
        model.errors.add('email', 'Email cannot be longer than 191 characters.');
        this.invalidate();
      }

      model.get('hasValidated').addObject('email');
    },

    note(model) {
      let note = model.get('note');

      if (!_validator.default.isLength(note || '', 0, 500)) {
        model.errors.add('note', 'Note is too long.');
        this.invalidate();
      }

      model.get('hasValidated').addObject('note');
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/mixins/password", ["exports", "validator"], function (_exports, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  const BAD_PASSWORDS = ['1234567890', 'qwertyuiop', 'qwertzuiop', 'asdfghjkl;', 'abcdefghij', '0987654321', '1q2w3e4r5t', '12345asdfg'];
  const DISALLOWED_PASSWORDS = ['ghost', 'password', 'passw0rd'];

  var _default = Ember.Mixin.create({
    /**
    * Counts repeated characters if a string. When 50% or more characters are the same,
    * we return false and therefore invalidate the string.
    * @param {String} stringToTest The password string to check.
    * @return {Boolean}
    */
    _characterOccurance(stringToTest) {
      let chars = {};
      let allowedOccurancy;
      let valid = true;
      allowedOccurancy = stringToTest.length / 2; // Loop through string and accumulate character counts

      for (let i = 0; i < stringToTest.length; i += 1) {
        if (!chars[stringToTest[i]]) {
          chars[stringToTest[i]] = 1;
        } else {
          chars[stringToTest[i]] += 1;
        }
      } // check if any of the accumulated chars exceed the allowed occurancy
      // of 50% of the words' length.


      for (let charCount in chars) {
        if (chars[charCount] >= allowedOccurancy) {
          valid = false;
          return valid;
        }
      }

      return valid;
    },

    passwordValidation(model, password, errorTarget) {
      let blogUrl = model.get('config.blogUrl') || window.location.host;
      let blogTitle = model.get('blogTitle') || model.get('config.blogTitle');
      let blogUrlWithSlash; // the password that needs to be validated can differ from the password in the
      // passed model, e. g. for password changes or reset.

      password = password || model.get('password');
      errorTarget = errorTarget || 'password';
      blogUrl = blogUrl.replace(/^http(s?):\/\//, '');
      blogUrlWithSlash = blogUrl.match(/\/$/) ? blogUrl : `${blogUrl}/`;
      blogTitle = blogTitle ? blogTitle.trim().toLowerCase() : blogTitle; // password must be longer than 10 characters

      if (!_validator.default.isLength(password || '', 10)) {
        model.get('errors').add(errorTarget, 'Password must be at least 10 characters long');
        return this.invalidate();
      }

      password = password.toString(); // dissallow password from badPasswords list (e. g. '1234567890')

      BAD_PASSWORDS.map(badPassword => {
        if (badPassword === password) {
          model.get('errors').add(errorTarget, 'Sorry, you cannot use an insecure password');
          this.invalidate();
        }
      }); // password must not match with users' email

      if (password.toLowerCase() === model.get('email').toLowerCase()) {
        model.get('errors').add(errorTarget, 'Sorry, you cannot use an insecure password');
        this.invalidate();
      } // password must not contain the words 'ghost', 'password', or 'passw0rd'


      DISALLOWED_PASSWORDS.map(disallowedPassword => {
        if (password.toLowerCase().indexOf(disallowedPassword) >= 0) {
          model.get('errors').add(errorTarget, 'Sorry, you cannot use an insecure password');
          this.invalidate();
        }
      }); // password must not match with blog title

      if (password.toLowerCase() === blogTitle) {
        model.get('errors').add(errorTarget, 'Sorry, you cannot use an insecure password');
        this.invalidate();
      } // password must not match with blog URL (without protocol, with or without trailing slash)


      if (password.toLowerCase() === blogUrl || password.toLowerCase() === blogUrlWithSlash) {
        model.get('errors').add(errorTarget, 'Sorry, you cannot use an insecure password');
        this.invalidate();
      } // dissallow passwords where 50% or more of characters are the same


      if (!this._characterOccurance(password)) {
        model.get('errors').add(errorTarget, 'Sorry, you cannot use an insecure password');
        this.invalidate();
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/nav-item", ["exports", "ghost-admin/validators/base", "validator"], function (_exports, _base, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _base.default.create({
    properties: ['label', 'url'],

    label(model) {
      let label = model.get('label');
      let hasValidated = model.get('hasValidated');

      if (Ember.isBlank(label)) {
        model.get('errors').add('label', 'You must specify a label');
        this.invalidate();
      }

      hasValidated.addObject('label');
    },

    url(model) {
      let url = model.get('url');
      let hasValidated = model.get('hasValidated');
      /* eslint-disable camelcase */

      let validatorOptions = {
        require_protocol: true
      };
      /* eslint-enable camelcase */

      let urlRegex = new RegExp(/^(\/|#|[a-zA-Z0-9-]+:)/);

      if (Ember.isBlank(url)) {
        model.get('errors').add('url', 'You must specify a URL or relative path');
        this.invalidate();
      } else if (url.match(/\s/) || !_validator.default.isURL(url, validatorOptions) && !url.match(urlRegex)) {
        model.get('errors').add('url', 'You must specify a valid URL or relative path');
        this.invalidate();
      }

      hasValidated.addObject('url');
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/new-user", ["exports", "ghost-admin/validators/base", "ghost-admin/validators/mixins/password", "validator"], function (_exports, _base, _password, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _base.default.extend(_password.default, {
    init() {
      this.properties = this.properties || ['name', 'email', 'password'];

      this._super(...arguments);
    },

    name(model) {
      let name = model.get('name');

      if (!_validator.default.isLength(name || '', 1)) {
        model.get('errors').add('name', 'Please enter a name.');
        model.get('hasValidated').addObject('email');
        this.invalidate();
      }
    },

    email(model) {
      let email = model.get('email');

      if (Ember.isBlank(email)) {
        model.get('errors').add('email', 'Please enter an email.');
        this.invalidate();
      } else if (!_validator.default.isEmail(email)) {
        model.get('errors').add('email', 'Invalid Email.');
        this.invalidate();
      }

      model.get('hasValidated').addObject('email');
    },

    password(model) {
      this.passwordValidation(model);
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/post", ["exports", "ghost-admin/validators/base", "moment", "validator"], function (_exports, _base, _moment, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _base.default.create({
    properties: ['title', 'authors', 'customExcerpt', 'canonicalUrl', 'codeinjectionHead', 'codeinjectionFoot', 'metaTitle', 'metaDescription', 'ogtitle', 'ogDescription', 'twitterTitle', 'twitterDescription', 'publishedAtBlogTime', 'publishedAtBlogDate', 'emailSubject'],

    title(model) {
      if (Ember.isBlank(model.title)) {
        model.errors.add('title', 'You must specify a title for the post.');
        this.invalidate();
      }

      if (!_validator.default.isLength(model.title || '', 0, 255)) {
        model.errors.add('title', 'Title cannot be longer than 255 characters.');
        this.invalidate();
      }
    },

    authors(model) {
      if (Ember.isEmpty(model.authors)) {
        model.errors.add('authors', 'At least one author is required.');
        this.invalidate();
      }
    },

    canonicalUrl(model) {
      let validatorOptions = {
        require_protocol: true
      };
      let urlRegex = new RegExp(/^(\/|[a-zA-Z0-9-]+:)/);
      let url = model.canonicalUrl;

      if (Ember.isBlank(url)) {
        return;
      }

      if (url.match(/\s/) || !_validator.default.isURL(url, validatorOptions) && !url.match(urlRegex)) {
        model.errors.add('canonicalUrl', 'Please enter a valid URL');
        this.invalidate();
      } else if (!_validator.default.isLength(model.canonicalUrl, 0, 2000)) {
        model.errors.add('canonicalUrl', 'Canonical URL is too long, max 2000 chars');
        this.invalidate();
      }
    },

    customExcerpt(model) {
      if (!_validator.default.isLength(model.customExcerpt || '', 0, 300)) {
        model.errors.add('customExcerpt', 'Excerpt cannot be longer than 300 characters.');
        this.invalidate();
      }
    },

    codeinjectionFoot(model) {
      if (!_validator.default.isLength(model.codeinjectionFoot || '', 0, 65535)) {
        model.errors.add('codeinjectionFoot', 'Footer code cannot be longer than 65535 characters.');
        this.invalidate();
      }
    },

    codeinjectionHead(model) {
      if (!_validator.default.isLength(model.codeinjectionHead || '', 0, 65535)) {
        model.errors.add('codeinjectionHead', 'Header code cannot be longer than 65535 characters.');
        this.invalidate();
      }
    },

    metaTitle(model) {
      if (!_validator.default.isLength(model.metaTitle || '', 0, 300)) {
        model.errors.add('metaTitle', 'Meta Title cannot be longer than 300 characters.');
        this.invalidate();
      }
    },

    metaDescription(model) {
      if (!_validator.default.isLength(model.metaDescription || '', 0, 500)) {
        model.errors.add('metaDescription', 'Meta Description cannot be longer than 500 characters.');
        this.invalidate();
      }
    },

    ogTitle(model) {
      if (!_validator.default.isLength(model.ogTitle || '', 0, 300)) {
        model.errors.add('ogTitle', 'Facebook Title cannot be longer than 300 characters.');
        this.invalidate();
      }
    },

    ogDescription(model) {
      if (!_validator.default.isLength(model.ogDescription || '', 0, 500)) {
        model.errors.add('ogDescription', 'Facebook Description cannot be longer than 500 characters.');
        this.invalidate();
      }
    },

    twitterTitle(model) {
      if (!_validator.default.isLength(model.twitterTitle || '', 0, 300)) {
        model.errors.add('twitterTitle', 'Twitter Title cannot be longer than 300 characters.');
        this.invalidate();
      }
    },

    twitterDescription(model) {
      if (!_validator.default.isLength(model.twitterDescription || '', 0, 500)) {
        model.errors.add('twitterDescription', 'Twitter Description cannot be longer than 500 characters.');
        this.invalidate();
      }
    },

    emailSubject(model) {
      if (!_validator.default.isLength(model.emailSubject || '', 0, 300)) {
        model.errors.add('emailSubject', 'Email Subject cannot be longer than 300 characters.');
        this.invalidate();
      }
    },

    // for posts which haven't been published before and where the blog date/time
    // is blank we should ignore the validation
    _shouldValidatePublishedAtBlog(model) {
      return Ember.isPresent(model.publishedAtUTC) || Ember.isPresent(model.publishedAtBlogDate) || Ember.isPresent(model.publishedAtBlogTime);
    },

    // convenience method as .validate({property: 'x'}) doesn't accept multiple properties
    publishedAtBlog(model) {
      this.publishedAtBlogTime(model);
      this.publishedAtBlogDate(model);
    },

    publishedAtBlogTime(model) {
      let timeRegex = /^(([0-1]?[0-9])|([2][0-3])):([0-5][0-9])$/;

      if (!timeRegex.test(model.publishedAtBlogTime) && this._shouldValidatePublishedAtBlog(model)) {
        model.errors.add('publishedAtBlogTime', 'Must be in format: "15:00"');
        this.invalidate();
      }
    },

    publishedAtBlogDate(model) {
      let publishedAtBlogDate = model.publishedAtBlogDate;
      let publishedAtBlogTime = model.publishedAtBlogTime;

      if (!this._shouldValidatePublishedAtBlog(model)) {
        return;
      } // we have a time string but no date string


      if (Ember.isBlank(publishedAtBlogDate) && !Ember.isBlank(publishedAtBlogTime)) {
        model.errors.add('publishedAtBlogDate', 'Can\'t be blank');
        return this.invalidate();
      } // don't validate the date if the time format is incorrect


      if (Ember.isEmpty(model.errors.errorsFor('publishedAtBlogTime'))) {
        let status = model.statusScratch || model.status;
        let now = (0, _moment.default)();
        let publishedAtUTC = model.publishedAtUTC;
        let publishedAtBlogTZ = model.publishedAtBlogTZ;
        let matchesExisting = publishedAtUTC && publishedAtBlogTZ.isSame(publishedAtUTC);
        let isInFuture = publishedAtBlogTZ.isSameOrAfter(now.add(2, 'minutes')); // draft/published must be in past

        if ((status === 'draft' || status === 'published') && publishedAtBlogTZ.isSameOrAfter(now)) {
          model.errors.add('publishedAtBlogDate', 'Must be in the past');
          this.invalidate(); // scheduled must be at least 2 mins in the future
          // ignore if it matches publishedAtUTC as that is likely an update of a scheduled post
        } else if (status === 'scheduled' && !matchesExisting && !isInFuture) {
          model.errors.add('publishedAtBlogDate', 'Must be at least 2 mins in the future');
          this.invalidate();
        }
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/reset", ["exports", "ghost-admin/validators/base", "ghost-admin/validators/mixins/password", "validator"], function (_exports, _base, _password, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const resetValidator = _base.default.extend(_password.default, {
    init() {
      this.properties = this.properties || ['newPassword'];

      this._super(...arguments);
    },

    newPassword(model) {
      let p1 = model.get('newPassword');
      let p2 = model.get('ne2Password');

      if (Ember.isBlank(p1)) {
        model.get('errors').add('newPassword', 'Please enter a password.');
        this.invalidate();
      } else if (!_validator.default.equals(p1, p2 || '')) {
        model.get('errors').add('ne2Password', 'The two new passwords don\'t match.');
        this.invalidate();
      }

      this.passwordValidation(model, p1, 'newPassword');
    }

  });

  var _default = resetValidator.create();

  _exports.default = _default;
});
;define("ghost-admin/validators/setting", ["exports", "ghost-admin/validators/base", "validator"], function (_exports, _base, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _base.default.create({
    properties: ['title', 'description', 'password'],

    title(model) {
      let title = model.get('title');

      if (!_validator.default.isLength(title || '', 0, 150)) {
        model.get('errors').add('title', 'Title is too long');
        this.invalidate();
      }
    },

    description(model) {
      let desc = model.get('description');

      if (!_validator.default.isLength(desc || '', 0, 200)) {
        model.get('errors').add('description', 'Description is too long');
        this.invalidate();
      }
    },

    password(model) {
      let isPrivate = model.get('isPrivate');
      let password = model.get('password');

      if (isPrivate && password === '') {
        model.get('errors').add('password', 'Password must be supplied');
        this.invalidate();
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/setup", ["exports", "ghost-admin/validators/new-user", "validator"], function (_exports, _newUser, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _newUser.default.create({
    properties: ['name', 'email', 'password', 'blogTitle'],

    blogTitle(model) {
      let blogTitle = model.get('blogTitle');

      if (!_validator.default.isLength(blogTitle || '', 1)) {
        model.get('errors').add('blogTitle', 'Please enter a blog title.');
        this.invalidate();
      }

      if (!_validator.default.isLength(blogTitle || '', 0, 150)) {
        model.get('errors').add('blogTitle', 'Title is too long');
        this.invalidate();
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/signin", ["exports", "ghost-admin/validators/base", "validator"], function (_exports, _base, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _base.default.create({
    properties: ['identification', 'signin', 'forgotPassword'],
    invalidMessage: 'Email address is not valid',

    identification(model) {
      let id = model.get('identification');

      if (!Ember.isBlank(id) && !_validator.default.isEmail(id)) {
        model.get('errors').add('identification', this.invalidMessage);
        this.invalidate();
      }
    },

    signin(model) {
      let id = model.get('identification');
      let password = model.get('password');
      model.get('errors').clear();

      if (Ember.isBlank(id)) {
        model.get('errors').add('identification', 'Please enter an email');
        this.invalidate();
      }

      if (!Ember.isBlank(id) && !_validator.default.isEmail(id)) {
        model.get('errors').add('identification', this.invalidMessage);
        this.invalidate();
      }

      if (Ember.isBlank(password)) {
        model.get('errors').add('password', 'Please enter a password');
        this.invalidate();
      }
    },

    forgotPassword(model) {
      let id = model.get('identification');
      model.get('errors').clear();

      if (Ember.isBlank(id) || !_validator.default.isEmail(id)) {
        model.get('errors').add('identification', this.invalidMessage);
        this.invalidate();
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/signup", ["exports", "ghost-admin/validators/new-user"], function (_exports, _newUser) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _newUser.default.create();

  _exports.default = _default;
});
;define("ghost-admin/validators/slack-integration", ["exports", "ghost-admin/validators/base", "validator"], function (_exports, _base, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _base.default.create({
    properties: ['url'],

    url(model) {
      let url = model.get('url');
      let hasValidated = model.get('hasValidated'); // eslint-disable-next-line camelcase

      if (!Ember.isBlank(url) && !_validator.default.isURL(url, {
        require_protocol: true
      })) {
        model.get('errors').add('url', 'The URL must be in a format like https://hooks.slack.com/services/<your personal key>');
        this.invalidate();
      }

      hasValidated.addObject('url');
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/subscriber", ["exports", "ghost-admin/validators/base", "validator"], function (_exports, _base, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _base.default.create({
    properties: ['email'],

    email(model) {
      let email = model.get('email');

      if (Ember.isBlank(email)) {
        model.get('errors').add('email', 'Please enter an email.');
        model.get('hasValidated').pushObject('email');
        this.invalidate();
      } else if (!_validator.default.isEmail(email)) {
        model.get('errors').add('email', 'Invalid email.');
        model.get('hasValidated').pushObject('email');
        this.invalidate();
      } else if (!_validator.default.isLength(email, 0, 191)) {
        model.get('errors').add('email', 'Email is too long');
        model.get('hasValidated').pushObject('email');
        this.invalidate();
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/tag-settings", ["exports", "ghost-admin/validators/base", "validator"], function (_exports, _base, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _base.default.create({
    properties: ['name', 'slug', 'description', 'metaTitle', 'metaDescription'],

    name(model) {
      let name = model.get('name');

      if (Ember.isBlank(name)) {
        model.get('errors').add('name', 'You must specify a name for the tag.');
        this.invalidate();
      } else if (name.match(/^,/)) {
        model.get('errors').add('name', 'Tag names can\'t start with commas.');
        this.invalidate();
      } else if (!_validator.default.isLength(name, 0, 191)) {
        model.get('errors').add('name', 'Tag names cannot be longer than 191 characters.');
        this.invalidate();
      }
    },

    slug(model) {
      let slug = model.get('slug');

      if (!_validator.default.isLength(slug || '', 0, 191)) {
        model.get('errors').add('slug', 'URL cannot be longer than 191 characters.');
        this.invalidate();
      }
    },

    description(model) {
      let description = model.get('description');

      if (!_validator.default.isLength(description || '', 0, 500)) {
        model.get('errors').add('description', 'Description cannot be longer than 500 characters.');
        this.invalidate();
      }
    },

    metaTitle(model) {
      let metaTitle = model.get('metaTitle');

      if (!_validator.default.isLength(metaTitle || '', 0, 300)) {
        model.get('errors').add('metaTitle', 'Meta Title cannot be longer than 300 characters.');
        this.invalidate();
      }
    },

    metaDescription(model) {
      let metaDescription = model.get('metaDescription');

      if (!_validator.default.isLength(metaDescription || '', 0, 500)) {
        model.get('errors').add('metaDescription', 'Meta Description cannot be longer than 500 characters.');
        this.invalidate();
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/validators/user", ["exports", "ghost-admin/validators/base", "ghost-admin/validators/mixins/password", "validator"], function (_exports, _base, _password, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  const userValidator = _base.default.extend(_password.default, {
    init() {
      this.properties = this.properties || ['name', 'bio', 'email', 'location', 'website', 'roles'];

      this._super(...arguments);
    },

    isActive(model) {
      return model.get('status') === 'active';
    },

    name(model) {
      let name = model.get('name');

      if (this.isActive(model)) {
        if (Ember.isBlank(name)) {
          model.get('errors').add('name', 'Please enter a name.');
          this.invalidate();
        } else if (!_validator.default.isLength(name, 0, 191)) {
          model.get('errors').add('name', 'Name is too long');
          this.invalidate();
        }
      }
    },

    bio(model) {
      let bio = model.get('bio');

      if (this.isActive(model)) {
        if (!_validator.default.isLength(bio || '', 0, 200)) {
          model.get('errors').add('bio', 'Bio is too long');
          this.invalidate();
        }
      }
    },

    email(model) {
      let email = model.get('email');

      if (!_validator.default.isEmail(email || '')) {
        model.get('errors').add('email', 'Please supply a valid email address');
        this.invalidate();
      }

      if (!_validator.default.isLength(email || '', 0, 191)) {
        model.get('errors').add('email', 'Email is too long');
        this.invalidate();
      }
    },

    location(model) {
      let location = model.get('location');

      if (this.isActive(model)) {
        if (!_validator.default.isLength(location || '', 0, 150)) {
          model.get('errors').add('location', 'Location is too long');
          this.invalidate();
        }
      }
    },

    website(model) {
      let website = model.get('website'); // eslint-disable-next-line camelcase

      let isInvalidWebsite = !_validator.default.isURL(website || '', {
        require_protocol: false
      }) || !_validator.default.isLength(website || '', 0, 2000);

      if (this.isActive(model)) {
        if (!Ember.isBlank(website) && isInvalidWebsite) {
          model.get('errors').add('website', 'Website is not a valid url');
          this.invalidate();
        }
      }
    },

    roles(model) {
      if (!this.isActive(model)) {
        let roles = model.get('roles');

        if (roles.length < 1) {
          model.get('errors').add('role', 'Please select a role');
          this.invalidate();
        }
      }
    },

    passwordChange(model) {
      let newPassword = model.get('newPassword');
      let ne2Password = model.get('ne2Password'); // validation only marks the requested property as validated so we
      // have to add properties manually

      model.get('hasValidated').addObject('newPassword');
      model.get('hasValidated').addObject('ne2Password');

      if (Ember.isBlank(newPassword) && Ember.isBlank(ne2Password)) {
        model.get('errors').add('newPassword', 'Sorry, passwords can\'t be blank');
        this.invalidate();
      } else {
        if (!_validator.default.equals(newPassword, ne2Password || '')) {
          model.get('errors').add('ne2Password', 'Your new passwords do not match');
          this.invalidate();
        }

        this.passwordValidation(model, newPassword, 'newPassword');
      }
    },

    ownPasswordChange(model) {
      let oldPassword = model.get('password');
      this.passwordChange(model); // validation only marks the requested property as validated so we
      // have to add properties manually

      model.get('hasValidated').addObject('password');

      if (Ember.isBlank(oldPassword)) {
        model.get('errors').add('password', 'Your current password is required to set a new one');
        this.invalidate();
      }
    }

  });

  var _default = userValidator.create();

  _exports.default = _default;
});
;define("ghost-admin/validators/webhook", ["exports", "ghost-admin/validators/base", "validator"], function (_exports, _base, _validator) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = _base.default.create({
    properties: ['name', 'event', 'targetUrl'],

    name(model) {
      if (Ember.isBlank(model.name)) {
        model.errors.add('name', 'Please enter a name');
        model.hasValidated.pushObject('name');
        this.invalidate();
      } else if (!_validator.default.isLength(model.name, 0, 191)) {
        model.errors.add('name', 'Name is too long, max 191 chars');
        model.hasValidated.pushObject('name');
        this.invalidate();
      }
    },

    event(model) {
      if (Ember.isBlank(model.event)) {
        model.errors.add('event', 'Please select an event');
        model.hasValidated.pushObject('event');
        this.invalidate();
      }
    },

    targetUrl(model) {
      if (Ember.isBlank(model.targetUrl)) {
        model.errors.add('targetUrl', 'Please enter a target URL');
      } else if (!_validator.default.isURL(model.targetUrl || '', {
        require_protocol: false
      })) {
        model.errors.add('targetUrl', 'Please enter a valid URL');
      } else if (!_validator.default.isLength(model.targetUrl, 0, 2000)) {
        model.errors.add('targetUrl', 'Target URL is too long, max 2000 chars');
      }

      model.hasValidated.pushObject('targetUrl');

      if (model.errors.has('targetUrl')) {
        this.invalidate();
      }
    }

  });

  _exports.default = _default;
});
;define("ghost-admin/views/application", ["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  var _default = Ember.Component.extend({});

  _exports.default = _default;
});
;

;define('ghost-admin/config/environment', [], function() {
  var prefix = 'ghost-admin';
try {
  var metaName = prefix + '/config/environment';
  var rawConfig = document.querySelector('meta[name="' + metaName + '"]').getAttribute('content');
  var config = JSON.parse(decodeURIComponent(rawConfig));

  var exports = { 'default': config };

  Object.defineProperty(exports, '__esModule', { value: true });

  return exports;
}
catch(err) {
  throw new Error('Could not read config from meta tag with name "' + metaName + '".');
}

});

;
          if (!runningTests) {
            require("ghost-admin/app")["default"].create({"version":"3.16","LOG_ACTIVE_GENERATION":true,"LOG_TRANSITIONS":true,"LOG_TRANSITIONS_INTERNAL":true,"LOG_VIEW_LOOKUPS":true,"name":"ghost-admin"});
          }
        
//# sourceMappingURL=ghost.map
